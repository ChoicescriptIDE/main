/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.0-dev.20220110(a06afb22ce06dbd4f01d3bb5bf946e08bff55180)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var Q=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/languages","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/editor/common/config/editorOptions","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/base/browser/browser","vs/editor/common/services/language","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/base/common/objects","vs/platform/configuration/common/configuration","vs/platform/notification/common/notification","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/browser/ui/aria/aria","vs/editor/common/services/model","vs/editor/common/controller/cursorCommon","vs/base/browser/keyboardEvent","vs/base/common/map","vs/base/common/network","vs/editor/browser/view/viewPart","vs/base/common/actions","vs/platform/opener/common/opener","vs/editor/common/view/editorColorRegistry","vs/editor/common/model","vs/base/common/iterator","vs/base/common/keyCodes","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/base/browser/ui/widget","vs/editor/common/core/editOperation","vs/editor/browser/config/domFontInfo","vs/platform/instantiation/common/extensions","vs/editor/common/services/resolverService","vs/platform/accessibility/common/accessibility","vs/base/common/htmlContent","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/log/common/log","vs/platform/progress/common/progress","vs/editor/browser/core/editorState","vs/platform/theme/common/iconRegistry","vs/base/common/filters","vs/editor/common/model/tokens/lineTokens","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/editor/common/languages/modesRegistry","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/contextview/browser/contextView","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/common/stopwatch","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/model/textModelEvents","vs/editor/contrib/suggest/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/editor/standalone/common/standaloneTheme","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/core/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/cursorColumns","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/languages/languageConfiguration","vs/editor/common/languages/nullMode","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/model/pieceTreeTextBuffer/eolCounter","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/layout/browser/layoutService","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/platform/theme/common/theme","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/mime","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/common/languages/languageFeatureRegistry","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/common/controller/cursorWordOperations","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/utils","vs/editor/common/model/guidesTextModelPart","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/browser/services/bulkEditService","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/contrib/hover/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/languages/unicodeTextModelHighlighter","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/modelLineProjectionData","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/common/services/editorWorkerService","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/hover/getHover","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursor","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/find/findController","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/wordOperations/wordOperations","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/platform/workspace/common/workspace","vs/platform/workspace/common/workspaceTrust","vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/cache","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/languages/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languages/tokenizationRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/tokens/contiguousMultilineTokens","vs/editor/common/model/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/tokens/sparseMultilineTokens","vs/editor/common/services/languagesAssociations","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/colorPicker/colorPickerWidget","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/lineSelection","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/browser/historyWidgetKeybindingHint","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokens/contiguousTokensEditing","vs/editor/common/model/tokens/contiguousTokensStore","vs/editor/common/model/tokens/sparseTokensStore","vs/editor/common/viewModel/modelLineProjection","vs/editor/contrib/inlayHints/inlayHints","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/accessibility/browser/accessibilityService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/contextkey/browser/contextKeyService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/marginHover","vs/platform/configuration/common/configurationModels","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/browser/view/viewController","vs/editor/browser/view/view","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/dnd/dnd","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsHover","vs/editor/contrib/lineSelection/lineSelection","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/contentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/browser/dompurify/dompurify","vs/base/common/marked/marked","vs/editor/edcore.main"],J=function(H){for(var e=[],w=0,C=H.length;w<C;w++)e[w]=Q[H[w]];return e},oi;(function(H){var e=function(){function C(){this._pendingLoads=0}return C.prototype.attachListeners=function(N,D,S,b){var v=function(){D.removeEventListener("load",u),D.removeEventListener("error",g)},u=function(t){v(),S()},g=function(t){v(),b(t)};D.addEventListener("load",u),D.addEventListener("error",g)},C.prototype._onLoad=function(N,D){this._pendingLoads--,D()},C.prototype._onLoadError=function(N,D,S){this._pendingLoads--,D(S)},C.prototype._insertLinkNode=function(N){this._pendingLoads++;var D=document.head||document.getElementsByTagName("head")[0];D.appendChild(N)},C.prototype.createLinkTag=function(N,D,S,b){var v=this,u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("data-name",N);var g=function(){return v._onLoad(N,S)},t=function(i){return v._onLoadError(N,b,i)};return this.attachListeners(N,u,g,t),u.setAttribute("href",D),u},C.prototype._linkTagExists=function(N,D){var S,b,v,u,g=document.getElementsByTagName("link");for(S=0,b=g.length;S<b;S++)if(v=g[S].getAttribute("data-name"),u=g[S].getAttribute("href"),v===N||u===D)return!0;return!1},C.prototype.load=function(N,D,S,b){if(this._linkTagExists(N,D)){S();return}var v=this.createLinkTag(N,D,S,b);this._insertLinkNode(v)},C}(),w=function(){function C(){this._cssLoader=new e}return C.prototype.load=function(N,D,S,b){b=b||{};var v=b["vs/css"]||{};if(v.disabled){S({});return}var u=D.toUrl(N+".css");this._cssLoader.load(N,u,function(g){S({})},function(g){typeof S.error=="function"&&S.error("Could not find "+u+" or it was empty")})},C}();H.CSSPlugin=w,define("vs/css",new w)})(oi||(oi={}));var $i=this&&this.__spreadArrays||function(){for(var H=0,e=0,w=arguments.length;e<w;e++)H+=arguments[e].length;for(var C=Array(H),N=0,e=0;e<w;e++)for(var D=arguments[e],S=0,b=D.length;S<b;S++,N++)C[N]=D[S];return C},ri;(function(H){var e=function(){function b(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(b.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),b.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},b}();function w(b,v,u){var g;return v.length===0?g=b:g=b.replace(/\{(\d+)\}/g,function(t,i){var n=i[0],a=v[n],c=t;return typeof a=="string"?c=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(c=String(a)),c}),u.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),g}function C(b,v){var u=b[v];return u||(u=b["*"],u)?u:null}function N(b,v,u){for(var g=[],t=3;t<arguments.length;t++)g[t-3]=arguments[t];return w(u,g,b)}function D(b,v){return function(u,g){var t=Array.prototype.slice.call(arguments,2);return w(b[u],t,v)}}var S=function(){function b(v){var u=this;this._env=v,this.localize=function(g,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return N.apply(void 0,$i([u._env,g,t],i))}}return b.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},b.prototype.create=function(v,u){return{localize:D(u[v],this._env)}},b.prototype.load=function(v,u,g,t){var i=this;if(t=t||{},!v||v.length===0)g({localize:this.localize});else{var n=t["vs/nls"]||{},a=n.availableLanguages?C(n.availableLanguages,v):null,c=".nls";a!==null&&a!==b.DEFAULT_TAG&&(c=c+"."+a);var d=function(s){Array.isArray(s)?s.localize=D(s,i._env):s.localize=D(s[v],i._env),g(s)};typeof n.loadBundle=="function"?n.loadBundle(v,a,function(s,r){s?u([v+".nls"],d):d(r)}):u([v+c],d)}},b.DEFAULT_TAG="i-default",b}();H.NLSPlugin=S,define("vs/nls",new S(new e))})(ri||(ri={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function Gi(H){if(Array.isArray(H)){for(var e=0,w=Array(H.length);e<H.length;e++)w[e]=H[e];return w}else return Array.from(H)}var Zi=Object.hasOwnProperty,ai=Object.setPrototypeOf,Yi=Object.isFrozen,Xi=Object.getPrototypeOf,Qi=Object.getOwnPropertyDescriptor,dt=Object.freeze,mt=Object.seal,Ji=Object.create,li=typeof Reflect!="undefined"&&Reflect,Mt=li.apply,Ht=li.construct;Mt||(Mt=function(e,w,C){return e.apply(w,C)}),dt||(dt=function(e){return e}),mt||(mt=function(e){return e}),Ht||(Ht=function(e,w){return new(Function.prototype.bind.apply(e,[null].concat(Gi(w))))});var en=ut(Array.prototype.forEach),di=ut(Array.prototype.pop),Et=ut(Array.prototype.push),St=ut(String.prototype.toLowerCase),ci=ut(String.prototype.match),bt=ut(String.prototype.replace),tn=ut(String.prototype.indexOf),nn=ut(String.prototype.trim),pt=ut(RegExp.prototype.test),ui=sn(TypeError);function ut(H){return function(e){for(var w=arguments.length,C=Array(w>1?w-1:0),N=1;N<w;N++)C[N-1]=arguments[N];return Mt(H,e,C)}}function sn(H){return function(){for(var e=arguments.length,w=Array(e),C=0;C<e;C++)w[C]=arguments[C];return Ht(H,w)}}function tt(H,e){ai&&ai(H,null);for(var w=e.length;w--;){var C=e[w];if(typeof C=="string"){var N=St(C);N!==C&&(Yi(e)||(e[w]=N),C=N)}H[C]=!0}return H}function wt(H){var e=Ji(null),w=void 0;for(w in H)Mt(Zi,H,[w])&&(e[w]=H[w]);return e}function At(H,e){for(;H!==null;){var w=Qi(H,e);if(w){if(w.get)return ut(w.get);if(typeof w.value=="function")return ut(w.value)}H=Xi(H)}function C(N){return console.warn("fallback value for",N),null}return C}var hi=dt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ut=dt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kt=dt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),on=dt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jt=dt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),rn=dt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gi=dt(["#text"]),fi=dt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qt=dt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mi=dt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rt=dt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),an=mt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ln=mt(/<%[\s\S]*|[\s\S]*%>/gm),dn=mt(/^data-[\-\w.\u00B7-\uFFFF]/),cn=mt(/^aria-[\-\w]+$/),un=mt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hn=mt(/^(?:\w+script|data):/i),gn=mt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H};function gt(H){if(Array.isArray(H)){for(var e=0,w=Array(H.length);e<H.length;e++)w[e]=H[e];return w}else return Array.from(H)}var fn=function(){return typeof window=="undefined"?null:window},mn=function(e,w){if((typeof e=="undefined"?"undefined":It(e))!=="object"||typeof e.createPolicy!="function")return null;var C=null,N="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(N)&&(C=w.currentScript.getAttribute(N));var D="dompurify"+(C?"#"+C:"");try{return e.createPolicy(D,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function pi(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fn(),e=function(be){return pi(be)};if(e.version="2.3.1",e.removed=[],!H||!H.document||H.document.nodeType!==9)return e.isSupported=!1,e;var w=H.document,C=H.document,N=H.DocumentFragment,D=H.HTMLTemplateElement,S=H.Node,b=H.Element,v=H.NodeFilter,u=H.NamedNodeMap,g=u===void 0?H.NamedNodeMap||H.MozNamedAttrMap:u,t=H.Text,i=H.Comment,n=H.DOMParser,a=H.trustedTypes,c=b.prototype,d=At(c,"cloneNode"),s=At(c,"nextSibling"),r=At(c,"childNodes"),o=At(c,"parentNode");if(typeof D=="function"){var l=C.createElement("template");l.content&&l.content.ownerDocument&&(C=l.content.ownerDocument)}var h=mn(a,w),m=h&&de?h.createHTML(""):"",y=C,p=y.implementation,f=y.createNodeIterator,_=y.createDocumentFragment,I=y.getElementsByTagName,E=w.importNode,T={};try{T=wt(C).documentMode?C.documentMode:{}}catch{}var k={};e.isSupported=typeof o=="function"&&p&&typeof p.createHTMLDocument!="undefined"&&T!==9;var A=an,P=ln,F=dn,R=cn,M=hn,O=gn,L=un,B=null,x=tt({},[].concat(gt(hi),gt(Ut),gt(Kt),gt(jt),gt(gi))),U=null,K=tt({},[].concat(gt(fi),gt(qt),gt(mi),gt(Rt))),Z=null,ee=null,X=!0,ne=!0,Y=!1,j=!1,W=!1,V=!1,G=!1,oe=!1,ce=!1,ie=!0,de=!1,q=!0,z=!0,$=!1,se={},te=null,ae=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),me=null,_e=tt({},["audio","video","img","source","image","track"]),we=null,le=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml",re=ve,ge=!1,ye=null,Ae=C.createElement("form"),Oe=function(be){ye&&ye===be||((!be||(typeof be=="undefined"?"undefined":It(be))!=="object")&&(be={}),be=wt(be),B="ALLOWED_TAGS"in be?tt({},be.ALLOWED_TAGS):x,U="ALLOWED_ATTR"in be?tt({},be.ALLOWED_ATTR):K,we="ADD_URI_SAFE_ATTR"in be?tt(wt(le),be.ADD_URI_SAFE_ATTR):le,me="ADD_DATA_URI_TAGS"in be?tt(wt(_e),be.ADD_DATA_URI_TAGS):_e,te="FORBID_CONTENTS"in be?tt({},be.FORBID_CONTENTS):ae,Z="FORBID_TAGS"in be?tt({},be.FORBID_TAGS):{},ee="FORBID_ATTR"in be?tt({},be.FORBID_ATTR):{},se="USE_PROFILES"in be?be.USE_PROFILES:!1,X=be.ALLOW_ARIA_ATTR!==!1,ne=be.ALLOW_DATA_ATTR!==!1,Y=be.ALLOW_UNKNOWN_PROTOCOLS||!1,j=be.SAFE_FOR_TEMPLATES||!1,W=be.WHOLE_DOCUMENT||!1,oe=be.RETURN_DOM||!1,ce=be.RETURN_DOM_FRAGMENT||!1,ie=be.RETURN_DOM_IMPORT!==!1,de=be.RETURN_TRUSTED_TYPE||!1,G=be.FORCE_BODY||!1,q=be.SANITIZE_DOM!==!1,z=be.KEEP_CONTENT!==!1,$=be.IN_PLACE||!1,L=be.ALLOWED_URI_REGEXP||L,re=be.NAMESPACE||ve,j&&(ne=!1),ce&&(oe=!0),se&&(B=tt({},[].concat(gt(gi))),U=[],se.html===!0&&(tt(B,hi),tt(U,fi)),se.svg===!0&&(tt(B,Ut),tt(U,qt),tt(U,Rt)),se.svgFilters===!0&&(tt(B,Kt),tt(U,qt),tt(U,Rt)),se.mathMl===!0&&(tt(B,jt),tt(U,mi),tt(U,Rt))),be.ADD_TAGS&&(B===x&&(B=wt(B)),tt(B,be.ADD_TAGS)),be.ADD_ATTR&&(U===K&&(U=wt(U)),tt(U,be.ADD_ATTR)),be.ADD_URI_SAFE_ATTR&&tt(we,be.ADD_URI_SAFE_ATTR),be.FORBID_CONTENTS&&(te===ae&&(te=wt(te)),tt(te,be.FORBID_CONTENTS)),z&&(B["#text"]=!0),W&&tt(B,["html","head","body"]),B.table&&(tt(B,["tbody"]),delete Z.tbody),dt&&dt(be),ye=be)},He=tt({},["mi","mo","mn","ms","mtext"]),Ve=tt({},["foreignobject","desc","title","annotation-xml"]),Ge=tt({},Ut);tt(Ge,Kt),tt(Ge,on);var Je=tt({},jt);tt(Je,rn);var Ze=function(be){var Pe=o(be);(!Pe||!Pe.tagName)&&(Pe={namespaceURI:ve,tagName:"template"});var Me=St(be.tagName),xe=St(Pe.tagName);if(be.namespaceURI===ue)return Pe.namespaceURI===ve?Me==="svg":Pe.namespaceURI===he?Me==="svg"&&(xe==="annotation-xml"||He[xe]):Boolean(Ge[Me]);if(be.namespaceURI===he)return Pe.namespaceURI===ve?Me==="math":Pe.namespaceURI===ue?Me==="math"&&Ve[xe]:Boolean(Je[Me]);if(be.namespaceURI===ve){if(Pe.namespaceURI===ue&&!Ve[xe]||Pe.namespaceURI===he&&!He[xe])return!1;var je=tt({},["title","style","font","a","script"]);return!Je[Me]&&(je[Me]||!Ge[Me])}return!1},et=function(be){Et(e.removed,{element:be});try{be.parentNode.removeChild(be)}catch{try{be.outerHTML=m}catch{be.remove()}}},Ee=function(be,Pe){try{Et(e.removed,{attribute:Pe.getAttributeNode(be),from:Pe})}catch{Et(e.removed,{attribute:null,from:Pe})}if(Pe.removeAttribute(be),be==="is"&&!U[be])if(oe||ce)try{et(Pe)}catch{}else try{Pe.setAttribute(be,"")}catch{}},Ie=function(be){var Pe=void 0,Me=void 0;if(G)be="<remove></remove>"+be;else{var xe=ci(be,/^[\r\n\t ]+/);Me=xe&&xe[0]}var je=h?h.createHTML(be):be;if(re===ve)try{Pe=new n().parseFromString(je,"text/html")}catch{}if(!Pe||!Pe.documentElement){Pe=p.createDocument(re,"template",null);try{Pe.documentElement.innerHTML=ge?"":je}catch{}}var qe=Pe.body||Pe.documentElement;return be&&Me&&qe.insertBefore(C.createTextNode(Me),qe.childNodes[0]||null),re===ve?I.call(Pe,W?"html":"body")[0]:W?Pe.documentElement:qe},Re=function(be){return f.call(be.ownerDocument||be,be,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Ue=function(be){return be instanceof t||be instanceof i?!1:typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof g)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"},Ne=function(be){return(typeof S=="undefined"?"undefined":It(S))==="object"?be instanceof S:be&&(typeof be=="undefined"?"undefined":It(be))==="object"&&typeof be.nodeType=="number"&&typeof be.nodeName=="string"},ke=function(be,Pe,Me){!k[be]||en(k[be],function(xe){xe.call(e,Pe,Me,ye)})},Te=function(be){var Pe=void 0;if(ke("beforeSanitizeElements",be,null),Ue(be)||ci(be.nodeName,/[\u0080-\uFFFF]/))return et(be),!0;var Me=St(be.nodeName);if(ke("uponSanitizeElement",be,{tagName:Me,allowedTags:B}),!Ne(be.firstElementChild)&&(!Ne(be.content)||!Ne(be.content.firstElementChild))&&pt(/<[/\w]/g,be.innerHTML)&&pt(/<[/\w]/g,be.textContent)||Me==="select"&&pt(/<template/i,be.innerHTML))return et(be),!0;if(!B[Me]||Z[Me]){if(z&&!te[Me]){var xe=o(be)||be.parentNode,je=r(be)||be.childNodes;if(je&&xe)for(var qe=je.length,ze=qe-1;ze>=0;--ze)xe.insertBefore(d(je[ze],!0),s(be))}return et(be),!0}return be instanceof b&&!Ze(be)||(Me==="noscript"||Me==="noembed")&&pt(/<\/no(script|embed)/i,be.innerHTML)?(et(be),!0):(j&&be.nodeType===3&&(Pe=be.textContent,Pe=bt(Pe,A," "),Pe=bt(Pe,P," "),be.textContent!==Pe&&(Et(e.removed,{element:be.cloneNode()}),be.textContent=Pe)),ke("afterSanitizeElements",be,null),!1)},pe=function(be,Pe,Me){if(q&&(Pe==="id"||Pe==="name")&&(Me in C||Me in Ae))return!1;if(!(ne&&!ee[Pe]&&pt(F,Pe))){if(!(X&&pt(R,Pe))){if(!U[Pe]||ee[Pe])return!1;if(!we[Pe]){if(!pt(L,bt(Me,O,""))){if(!((Pe==="src"||Pe==="xlink:href"||Pe==="href")&&be!=="script"&&tn(Me,"data:")===0&&me[be])){if(!(Y&&!pt(M,bt(Me,O,"")))){if(Me)return!1}}}}}}return!0},Ce=function(be){var Pe=void 0,Me=void 0,xe=void 0,je=void 0;ke("beforeSanitizeAttributes",be,null);var qe=be.attributes;if(!!qe){var ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};for(je=qe.length;je--;){Pe=qe[je];var Fe=Pe,We=Fe.name,$e=Fe.namespaceURI;if(Me=nn(Pe.value),xe=St(We),ze.attrName=xe,ze.attrValue=Me,ze.keepAttr=!0,ze.forceKeepAttr=void 0,ke("uponSanitizeAttribute",be,ze),Me=ze.attrValue,!ze.forceKeepAttr&&(Ee(We,be),!!ze.keepAttr)){if(pt(/\/>/i,Me)){Ee(We,be);continue}j&&(Me=bt(Me,A," "),Me=bt(Me,P," "));var Ke=be.nodeName.toLowerCase();if(!!pe(Ke,xe,Me))try{$e?be.setAttributeNS($e,We,Me):be.setAttribute(We,Me),di(e.removed)}catch{}}}ke("afterSanitizeAttributes",be,null)}},Le=function Se(be){var Pe=void 0,Me=Re(be);for(ke("beforeSanitizeShadowDOM",be,null);Pe=Me.nextNode();)ke("uponSanitizeShadowNode",Pe,null),!Te(Pe)&&(Pe.content instanceof N&&Se(Pe.content),Ce(Pe));ke("afterSanitizeShadowDOM",be,null)};return e.sanitize=function(Se,be){var Pe=void 0,Me=void 0,xe=void 0,je=void 0,qe=void 0;if(ge=!Se,ge&&(Se="<!-->"),typeof Se!="string"&&!Ne(Se)){if(typeof Se.toString!="function")throw ui("toString is not a function");if(Se=Se.toString(),typeof Se!="string")throw ui("dirty is not a string, aborting")}if(!e.isSupported){if(It(H.toStaticHTML)==="object"||typeof H.toStaticHTML=="function"){if(typeof Se=="string")return H.toStaticHTML(Se);if(Ne(Se))return H.toStaticHTML(Se.outerHTML)}return Se}if(V||Oe(be),e.removed=[],typeof Se=="string"&&($=!1),!$)if(Se instanceof S)Pe=Ie("<!---->"),Me=Pe.ownerDocument.importNode(Se,!0),Me.nodeType===1&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?Pe=Me:Pe.appendChild(Me);else{if(!oe&&!j&&!W&&Se.indexOf("<")===-1)return h&&de?h.createHTML(Se):Se;if(Pe=Ie(Se),!Pe)return oe?null:m}Pe&&G&&et(Pe.firstChild);for(var ze=Re($?Se:Pe);xe=ze.nextNode();)xe.nodeType===3&&xe===je||Te(xe)||(xe.content instanceof N&&Le(xe.content),Ce(xe),je=xe);if(je=null,$)return Se;if(oe){if(ce)for(qe=_.call(Pe.ownerDocument);Pe.firstChild;)qe.appendChild(Pe.firstChild);else qe=Pe;return ie&&(qe=E.call(w,qe,!0)),qe}var Fe=W?Pe.outerHTML:Pe.innerHTML;return j&&(Fe=bt(Fe,A," "),Fe=bt(Fe,P," ")),h&&de?h.createHTML(Fe):Fe},e.setConfig=function(Se){Oe(Se),V=!0},e.clearConfig=function(){ye=null,V=!1},e.isValidAttribute=function(Se,be,Pe){ye||Oe({});var Me=St(Se),xe=St(be);return pe(Me,xe,Pe)},e.addHook=function(Se,be){typeof be=="function"&&(k[Se]=k[Se]||[],Et(k[Se],be))},e.removeHook=function(Se){k[Se]&&di(k[Se])},e.removeHooks=function(Se){k[Se]&&(k[Se]=[])},e.removeAllHooks=function(){k={}},e}var pn=pi();define("vs/base/browser/dompurify/dompurify",function(){return pn}),define(Q[31],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class w{constructor(D){this.domNode=D,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(D){this._maxWidth!==D&&(this._maxWidth=D,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(D){this._width!==D&&(this._width=D,this.domNode.style.width=this._width+"px")}setHeight(D){this._height!==D&&(this._height=D,this.domNode.style.height=this._height+"px")}setTop(D){this._top!==D&&(this._top=D,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(D){this._left!==D&&(this._left=D,this.domNode.style.left=this._left+"px")}setBottom(D){this._bottom!==D&&(this._bottom=D,this.domNode.style.bottom=this._bottom+"px")}setRight(D){this._right!==D&&(this._right=D,this.domNode.style.right=this._right+"px")}setFontFamily(D){this._fontFamily!==D&&(this._fontFamily=D,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(D){this._fontWeight!==D&&(this._fontWeight=D,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(D){this._fontSize!==D&&(this._fontSize=D,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(D){this._fontFeatureSettings!==D&&(this._fontFeatureSettings=D,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(D){this._lineHeight!==D&&(this._lineHeight=D,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(D){this._letterSpacing!==D&&(this._letterSpacing=D,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(D){this._className!==D&&(this._className=D,this.domNode.className=this._className)}toggleClassName(D,S){this.domNode.classList.toggle(D,S),this._className=this.domNode.className}setDisplay(D){this._display!==D&&(this._display=D,this.domNode.style.display=this._display)}setPosition(D){this._position!==D&&(this._position=D,this.domNode.style.position=this._position)}setVisibility(D){this._visibility!==D&&(this._visibility=D,this.domNode.style.visibility=this._visibility)}setBackgroundColor(D){this._backgroundColor!==D&&(this._backgroundColor=D,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(D){this._layerHint!==D&&(this._layerHint=D,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(D){this._boxShadow!==D&&(this._boxShadow=D,this.domNode.style.boxShadow=D)}setContain(D){this._contain!==D&&(this._contain=D,this.domNode.style.contain=this._contain)}setAttribute(D,S){this.domNode.setAttribute(D,S)}removeAttribute(D){this.domNode.removeAttribute(D)}appendChild(D){this.domNode.appendChild(D.domNode)}removeChild(D){this.domNode.removeChild(D.domNode)}}e.FastDomNode=w;function C(N){return new w(N)}e.createFastDomNode=C}),define(Q[207],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let w=!1,C=null;function N(S){if(!S.parent||S.parent===S)return null;try{let b=S.location,v=S.parent.location;if(b.origin!=="null"&&v.origin!=="null"&&b.origin!==v.origin)return w=!0,null}catch{return w=!0,null}return S.parent}class D{static getSameOriginWindowChain(){if(!C){C=[];let b=window,v;do v=N(b),v?C.push({window:b,iframeElement:b.frameElement||null}):C.push({window:b,iframeElement:null}),b=v;while(b)}return C.slice(0)}static hasDifferentOriginAncestor(){return C||this.getSameOriginWindowChain(),w}static getPositionOfChildWindowRelativeToAncestorWindow(b,v){if(!v||b===v)return{top:0,left:0};let u=0,g=0,t=this.getSameOriginWindowChain();for(const i of t){if(u+=i.window.scrollY,g+=i.window.scrollX,i.window===v||!i.iframeElement)break;let n=i.iframeElement.getBoundingClientRect();u+=n.top,g+=n.left}return{top:u,left:g}}}e.IframeUtils=D}),define(Q[304],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class w extends Error{constructor(N,D){super(`ListError [${N}] ${D}`)}}e.ListError=w}),define(Q[305],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class w{constructor(N){this.spliceables=N}splice(N,D,S){this.spliceables.forEach(b=>b.splice(N,D,S))}}e.CombinedSpliceable=w}),define(Q[208],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const w=20;class C{constructor(D,S,b,v,u,g){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(D),this._visibleSize=v,this._scrollSize=u,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new C(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,b,v,u){const g=Math.max(0,b-D),t=Math.max(0,g-2*S),i=v>0&&v>b;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(w,Math.floor(b*t/v))),a=(t-n)/(v-b),c=u*a;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:a,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const D=C._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let b=this._scrollPosition;return S<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=C}),define(Q[105],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var w;(function(D){D[D.Unknown=0]="Unknown",D[D.Twistie=1]="Twistie",D[D.Element=2]="Element"})(w=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class C extends Error{constructor(S,b){super(`TreeError [${S}] ${b}`)}}e.TreeError=C;class N{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let b=this._map.get(S);return b||(b=this.fn(S),this._map.set(S,b)),b}}e.WeakMapper=N}),define(Q[19],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function w(A,P=0){return A[A.length-(1+P)]}e.tail=w;function C(A){if(A.length===0)throw new Error("Invalid tail call");return[A.slice(0,A.length-1),A[A.length-1]]}e.tail2=C;function N(A,P,F=(R,M)=>R===M){if(A===P)return!0;if(!A||!P||A.length!==P.length)return!1;for(let R=0,M=A.length;R<M;R++)if(!F(A[R],P[R]))return!1;return!0}e.equals=N;function D(A,P,F){let R=0,M=A.length-1;for(;R<=M;){const O=(R+M)/2|0,L=F(A[O],P);if(L<0)R=O+1;else if(L>0)M=O-1;else return O}return-(R+1)}e.binarySearch=D;function S(A,P){let F=0,R=A.length;if(R===0)return 0;for(;F<R;){const M=Math.floor((F+R)/2);P(A[M])?R=M:F=M+1}return F}e.findFirstInSorted=S;function b(A,P,F){if(A=A|0,A>=P.length)throw new TypeError("invalid index");let R=P[Math.floor(P.length*Math.random())],M=[],O=[],L=[];for(let B of P){const x=F(B,R);x<0?M.push(B):x>0?O.push(B):L.push(B)}return A<M.length?b(A,M,F):A<M.length+L.length?L[0]:b(A-(M.length+L.length),O,F)}e.quickSelect=b;function v(A,P){const F=[];let R;for(const M of A.slice(0).sort(P))!R||P(R[0],M)!==0?(R=[M],F.push(R)):R.push(M);return F}e.groupBy=v;function u(A){return A.filter(P=>!!P)}e.coalesce=u;function g(A){return!Array.isArray(A)||A.length===0}e.isFalsyOrEmpty=g;function t(A){return Array.isArray(A)&&A.length>0}e.isNonEmptyArray=t;function i(A,P=F=>F){const F=new Set;return A.filter(R=>{const M=P(R);return F.has(M)?!1:(F.add(M),!0)})}e.distinct=i;function n(A,P){const F=a(A,P);if(F!==-1)return A[F]}e.findLast=n;function a(A,P){for(let F=A.length-1;F>=0;F--){const R=A[F];if(P(R))return F}return-1}e.lastIndex=a;function c(A,P){return A.length>0?A[0]:P}e.firstOrDefault=c;function d(A){return[].concat(...A)}e.flatten=d;function s(A,P){let F=typeof P=="number"?A:0;typeof P=="number"?F=A:(F=0,P=A);const R=[];if(F<=P)for(let M=F;M<P;M++)R.push(M);else for(let M=F;M>P;M--)R.push(M);return R}e.range=s;function r(A,P,F){const R=A.slice(0,P),M=A.slice(P);return R.concat(F,M)}e.arrayInsert=r;function o(A,P){const F=A.indexOf(P);F>-1&&(A.splice(F,1),A.unshift(P))}e.pushToStart=o;function l(A,P){const F=A.indexOf(P);F>-1&&(A.splice(F,1),A.push(P))}e.pushToEnd=l;function h(A){return Array.isArray(A)?A:[A]}e.asArray=h;function m(A,P,F){const R=p(A,P),M=A.length,O=F.length;A.length=M+O;for(let L=M-1;L>=R;L--)A[L+O]=A[L];for(let L=0;L<O;L++)A[L+R]=F[L]}e.insertInto=m;function y(A,P,F,R){const M=p(A,P),O=A.splice(M,F);return m(A,M,R),O}e.splice=y;function p(A,P){return P<0?Math.max(P+A.length,0):Math.min(P,A.length)}function f(A,P){return(F,R)=>P(A(F),A(R))}e.compareBy=f;const _=(A,P)=>A-P;e.numberComparator=_;function I(A,P){if(A.length===0)return;let F=A[0];for(let R=1;R<A.length;R++){const M=A[R];P(M,F)>0&&(F=M)}return F}e.findMaxBy=I;function E(A,P){if(A.length===0)return;let F=A[0];for(let R=1;R<A.length;R++){const M=A[R];P(M,F)>=0&&(F=M)}return F}e.findLastMaxBy=E;function T(A,P){return I(A,(F,R)=>-P(F,R))}e.findMinBy=T;class k{constructor(P){this.items=P,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(P){let F=this.firstIdx;for(;F<this.items.length&&P(this.items[F]);)F++;const R=F===this.firstIdx?null:this.items.slice(this.firstIdx,F);return this.firstIdx=F,R}takeFromEndWhile(P){let F=this.lastIdx;for(;F>=0&&P(this.items[F]);)F--;const R=F===this.lastIdx?null:this.items.slice(F+1,this.lastIdx+1);return this.lastIdx=F,R}peek(){return this.items[this.firstIdx]}dequeue(){const P=this.items[this.firstIdx];return this.firstIdx++,P}takeCount(P){const F=this.items.slice(this.firstIdx,this.firstIdx+P);return this.firstIdx+=P,F}}e.ArrayQueue=k}),define(Q[209],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function w(C,N){if(!C)throw new Error(N?`Assertion failed (${N})`:"Assertion Failed")}e.ok=w}),define(Q[106],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const w=typeof Buffer!="undefined";let C;class N{constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}static wrap(i){return w&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new N(i)}toString(){return w?this.buffer.toString():(C||(C=new TextDecoder),C.decode(this.buffer))}}e.VSBuffer=N;function D(t,i){return t[i+0]<<0>>>0|t[i+1]<<8>>>0}e.readUInt16LE=D;function S(t,i,n){t[n+0]=i&255,i=i>>>8,t[n+1]=i&255}e.writeUInt16LE=S;function b(t,i){return t[i]*Math.pow(2,24)+t[i+1]*Math.pow(2,16)+t[i+2]*Math.pow(2,8)+t[i+3]}e.readUInt32BE=b;function v(t,i,n){t[n+3]=i,i=i>>>8,t[n+2]=i,i=i>>>8,t[n+1]=i,i=i>>>8,t[n]=i}e.writeUInt32BE=v;function u(t,i){return t[i]}e.readUInt8=u;function g(t,i,n){t[n]=i}e.writeUInt8=g}),define(Q[306],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCachedComputed=void 0;class w{constructor(N){this.computeFn=N,this.lastCache=void 0,this.lastArgKey=void 0}get(N){const D=JSON.stringify(N);return this.lastArgKey!==D&&(this.lastArgKey=D,this.lastCache=this.computeFn(N)),this.lastCache}}e.LRUCachedComputed=w}),define(Q[27],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function w(D){return D?D.replace(/\$\((.*?)\)/g,(S,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=w;class C{constructor(S,b,v){this.id=S,this.definition=b,this.description=v,C._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return C._allCodicons}}e.Codicon=C,C._allCodicons=[],C.add=new C("add",{fontCharacter:"\\ea60"}),C.plus=new C("plus",C.add.definition),C.gistNew=new C("gist-new",C.add.definition),C.repoCreate=new C("repo-create",C.add.definition),C.lightbulb=new C("lightbulb",{fontCharacter:"\\ea61"}),C.lightBulb=new C("light-bulb",{fontCharacter:"\\ea61"}),C.repo=new C("repo",{fontCharacter:"\\ea62"}),C.repoDelete=new C("repo-delete",{fontCharacter:"\\ea62"}),C.gistFork=new C("gist-fork",{fontCharacter:"\\ea63"}),C.repoForked=new C("repo-forked",{fontCharacter:"\\ea63"}),C.gitPullRequest=new C("git-pull-request",{fontCharacter:"\\ea64"}),C.gitPullRequestAbandoned=new C("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),C.recordKeys=new C("record-keys",{fontCharacter:"\\ea65"}),C.keyboard=new C("keyboard",{fontCharacter:"\\ea65"}),C.tag=new C("tag",{fontCharacter:"\\ea66"}),C.tagAdd=new C("tag-add",{fontCharacter:"\\ea66"}),C.tagRemove=new C("tag-remove",{fontCharacter:"\\ea66"}),C.person=new C("person",{fontCharacter:"\\ea67"}),C.personFollow=new C("person-follow",{fontCharacter:"\\ea67"}),C.personOutline=new C("person-outline",{fontCharacter:"\\ea67"}),C.personFilled=new C("person-filled",{fontCharacter:"\\ea67"}),C.gitBranch=new C("git-branch",{fontCharacter:"\\ea68"}),C.gitBranchCreate=new C("git-branch-create",{fontCharacter:"\\ea68"}),C.gitBranchDelete=new C("git-branch-delete",{fontCharacter:"\\ea68"}),C.sourceControl=new C("source-control",{fontCharacter:"\\ea68"}),C.mirror=new C("mirror",{fontCharacter:"\\ea69"}),C.mirrorPublic=new C("mirror-public",{fontCharacter:"\\ea69"}),C.star=new C("star",{fontCharacter:"\\ea6a"}),C.starAdd=new C("star-add",{fontCharacter:"\\ea6a"}),C.starDelete=new C("star-delete",{fontCharacter:"\\ea6a"}),C.starEmpty=new C("star-empty",{fontCharacter:"\\ea6a"}),C.comment=new C("comment",{fontCharacter:"\\ea6b"}),C.commentAdd=new C("comment-add",{fontCharacter:"\\ea6b"}),C.alert=new C("alert",{fontCharacter:"\\ea6c"}),C.warning=new C("warning",{fontCharacter:"\\ea6c"}),C.search=new C("search",{fontCharacter:"\\ea6d"}),C.searchSave=new C("search-save",{fontCharacter:"\\ea6d"}),C.logOut=new C("log-out",{fontCharacter:"\\ea6e"}),C.signOut=new C("sign-out",{fontCharacter:"\\ea6e"}),C.logIn=new C("log-in",{fontCharacter:"\\ea6f"}),C.signIn=new C("sign-in",{fontCharacter:"\\ea6f"}),C.eye=new C("eye",{fontCharacter:"\\ea70"}),C.eyeUnwatch=new C("eye-unwatch",{fontCharacter:"\\ea70"}),C.eyeWatch=new C("eye-watch",{fontCharacter:"\\ea70"}),C.circleFilled=new C("circle-filled",{fontCharacter:"\\ea71"}),C.primitiveDot=new C("primitive-dot",{fontCharacter:"\\ea71"}),C.closeDirty=new C("close-dirty",{fontCharacter:"\\ea71"}),C.debugBreakpoint=new C("debug-breakpoint",{fontCharacter:"\\ea71"}),C.debugBreakpointDisabled=new C("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),C.debugHint=new C("debug-hint",{fontCharacter:"\\ea71"}),C.primitiveSquare=new C("primitive-square",{fontCharacter:"\\ea72"}),C.edit=new C("edit",{fontCharacter:"\\ea73"}),C.pencil=new C("pencil",{fontCharacter:"\\ea73"}),C.info=new C("info",{fontCharacter:"\\ea74"}),C.issueOpened=new C("issue-opened",{fontCharacter:"\\ea74"}),C.gistPrivate=new C("gist-private",{fontCharacter:"\\ea75"}),C.gitForkPrivate=new C("git-fork-private",{fontCharacter:"\\ea75"}),C.lock=new C("lock",{fontCharacter:"\\ea75"}),C.mirrorPrivate=new C("mirror-private",{fontCharacter:"\\ea75"}),C.close=new C("close",{fontCharacter:"\\ea76"}),C.removeClose=new C("remove-close",{fontCharacter:"\\ea76"}),C.x=new C("x",{fontCharacter:"\\ea76"}),C.repoSync=new C("repo-sync",{fontCharacter:"\\ea77"}),C.sync=new C("sync",{fontCharacter:"\\ea77"}),C.clone=new C("clone",{fontCharacter:"\\ea78"}),C.desktopDownload=new C("desktop-download",{fontCharacter:"\\ea78"}),C.beaker=new C("beaker",{fontCharacter:"\\ea79"}),C.microscope=new C("microscope",{fontCharacter:"\\ea79"}),C.vm=new C("vm",{fontCharacter:"\\ea7a"}),C.deviceDesktop=new C("device-desktop",{fontCharacter:"\\ea7a"}),C.file=new C("file",{fontCharacter:"\\ea7b"}),C.fileText=new C("file-text",{fontCharacter:"\\ea7b"}),C.more=new C("more",{fontCharacter:"\\ea7c"}),C.ellipsis=new C("ellipsis",{fontCharacter:"\\ea7c"}),C.kebabHorizontal=new C("kebab-horizontal",{fontCharacter:"\\ea7c"}),C.mailReply=new C("mail-reply",{fontCharacter:"\\ea7d"}),C.reply=new C("reply",{fontCharacter:"\\ea7d"}),C.organization=new C("organization",{fontCharacter:"\\ea7e"}),C.organizationFilled=new C("organization-filled",{fontCharacter:"\\ea7e"}),C.organizationOutline=new C("organization-outline",{fontCharacter:"\\ea7e"}),C.newFile=new C("new-file",{fontCharacter:"\\ea7f"}),C.fileAdd=new C("file-add",{fontCharacter:"\\ea7f"}),C.newFolder=new C("new-folder",{fontCharacter:"\\ea80"}),C.fileDirectoryCreate=new C("file-directory-create",{fontCharacter:"\\ea80"}),C.trash=new C("trash",{fontCharacter:"\\ea81"}),C.trashcan=new C("trashcan",{fontCharacter:"\\ea81"}),C.history=new C("history",{fontCharacter:"\\ea82"}),C.clock=new C("clock",{fontCharacter:"\\ea82"}),C.folder=new C("folder",{fontCharacter:"\\ea83"}),C.fileDirectory=new C("file-directory",{fontCharacter:"\\ea83"}),C.symbolFolder=new C("symbol-folder",{fontCharacter:"\\ea83"}),C.logoGithub=new C("logo-github",{fontCharacter:"\\ea84"}),C.markGithub=new C("mark-github",{fontCharacter:"\\ea84"}),C.github=new C("github",{fontCharacter:"\\ea84"}),C.terminal=new C("terminal",{fontCharacter:"\\ea85"}),C.console=new C("console",{fontCharacter:"\\ea85"}),C.repl=new C("repl",{fontCharacter:"\\ea85"}),C.zap=new C("zap",{fontCharacter:"\\ea86"}),C.symbolEvent=new C("symbol-event",{fontCharacter:"\\ea86"}),C.error=new C("error",{fontCharacter:"\\ea87"}),C.stop=new C("stop",{fontCharacter:"\\ea87"}),C.variable=new C("variable",{fontCharacter:"\\ea88"}),C.symbolVariable=new C("symbol-variable",{fontCharacter:"\\ea88"}),C.array=new C("array",{fontCharacter:"\\ea8a"}),C.symbolArray=new C("symbol-array",{fontCharacter:"\\ea8a"}),C.symbolModule=new C("symbol-module",{fontCharacter:"\\ea8b"}),C.symbolPackage=new C("symbol-package",{fontCharacter:"\\ea8b"}),C.symbolNamespace=new C("symbol-namespace",{fontCharacter:"\\ea8b"}),C.symbolObject=new C("symbol-object",{fontCharacter:"\\ea8b"}),C.symbolMethod=new C("symbol-method",{fontCharacter:"\\ea8c"}),C.symbolFunction=new C("symbol-function",{fontCharacter:"\\ea8c"}),C.symbolConstructor=new C("symbol-constructor",{fontCharacter:"\\ea8c"}),C.symbolBoolean=new C("symbol-boolean",{fontCharacter:"\\ea8f"}),C.symbolNull=new C("symbol-null",{fontCharacter:"\\ea8f"}),C.symbolNumeric=new C("symbol-numeric",{fontCharacter:"\\ea90"}),C.symbolNumber=new C("symbol-number",{fontCharacter:"\\ea90"}),C.symbolStructure=new C("symbol-structure",{fontCharacter:"\\ea91"}),C.symbolStruct=new C("symbol-struct",{fontCharacter:"\\ea91"}),C.symbolParameter=new C("symbol-parameter",{fontCharacter:"\\ea92"}),C.symbolTypeParameter=new C("symbol-type-parameter",{fontCharacter:"\\ea92"}),C.symbolKey=new C("symbol-key",{fontCharacter:"\\ea93"}),C.symbolText=new C("symbol-text",{fontCharacter:"\\ea93"}),C.symbolReference=new C("symbol-reference",{fontCharacter:"\\ea94"}),C.goToFile=new C("go-to-file",{fontCharacter:"\\ea94"}),C.symbolEnum=new C("symbol-enum",{fontCharacter:"\\ea95"}),C.symbolValue=new C("symbol-value",{fontCharacter:"\\ea95"}),C.symbolRuler=new C("symbol-ruler",{fontCharacter:"\\ea96"}),C.symbolUnit=new C("symbol-unit",{fontCharacter:"\\ea96"}),C.activateBreakpoints=new C("activate-breakpoints",{fontCharacter:"\\ea97"}),C.archive=new C("archive",{fontCharacter:"\\ea98"}),C.arrowBoth=new C("arrow-both",{fontCharacter:"\\ea99"}),C.arrowDown=new C("arrow-down",{fontCharacter:"\\ea9a"}),C.arrowLeft=new C("arrow-left",{fontCharacter:"\\ea9b"}),C.arrowRight=new C("arrow-right",{fontCharacter:"\\ea9c"}),C.arrowSmallDown=new C("arrow-small-down",{fontCharacter:"\\ea9d"}),C.arrowSmallLeft=new C("arrow-small-left",{fontCharacter:"\\ea9e"}),C.arrowSmallRight=new C("arrow-small-right",{fontCharacter:"\\ea9f"}),C.arrowSmallUp=new C("arrow-small-up",{fontCharacter:"\\eaa0"}),C.arrowUp=new C("arrow-up",{fontCharacter:"\\eaa1"}),C.bell=new C("bell",{fontCharacter:"\\eaa2"}),C.bold=new C("bold",{fontCharacter:"\\eaa3"}),C.book=new C("book",{fontCharacter:"\\eaa4"}),C.bookmark=new C("bookmark",{fontCharacter:"\\eaa5"}),C.debugBreakpointConditionalUnverified=new C("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),C.debugBreakpointConditional=new C("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),C.debugBreakpointConditionalDisabled=new C("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),C.debugBreakpointDataUnverified=new C("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),C.debugBreakpointData=new C("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),C.debugBreakpointDataDisabled=new C("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),C.debugBreakpointLogUnverified=new C("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),C.debugBreakpointLog=new C("debug-breakpoint-log",{fontCharacter:"\\eaab"}),C.debugBreakpointLogDisabled=new C("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),C.briefcase=new C("briefcase",{fontCharacter:"\\eaac"}),C.broadcast=new C("broadcast",{fontCharacter:"\\eaad"}),C.browser=new C("browser",{fontCharacter:"\\eaae"}),C.bug=new C("bug",{fontCharacter:"\\eaaf"}),C.calendar=new C("calendar",{fontCharacter:"\\eab0"}),C.caseSensitive=new C("case-sensitive",{fontCharacter:"\\eab1"}),C.check=new C("check",{fontCharacter:"\\eab2"}),C.checklist=new C("checklist",{fontCharacter:"\\eab3"}),C.chevronDown=new C("chevron-down",{fontCharacter:"\\eab4"}),C.dropDownButton=new C("drop-down-button",C.chevronDown.definition),C.chevronLeft=new C("chevron-left",{fontCharacter:"\\eab5"}),C.chevronRight=new C("chevron-right",{fontCharacter:"\\eab6"}),C.chevronUp=new C("chevron-up",{fontCharacter:"\\eab7"}),C.chromeClose=new C("chrome-close",{fontCharacter:"\\eab8"}),C.chromeMaximize=new C("chrome-maximize",{fontCharacter:"\\eab9"}),C.chromeMinimize=new C("chrome-minimize",{fontCharacter:"\\eaba"}),C.chromeRestore=new C("chrome-restore",{fontCharacter:"\\eabb"}),C.circleOutline=new C("circle-outline",{fontCharacter:"\\eabc"}),C.debugBreakpointUnverified=new C("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),C.circleSlash=new C("circle-slash",{fontCharacter:"\\eabd"}),C.circuitBoard=new C("circuit-board",{fontCharacter:"\\eabe"}),C.clearAll=new C("clear-all",{fontCharacter:"\\eabf"}),C.clippy=new C("clippy",{fontCharacter:"\\eac0"}),C.closeAll=new C("close-all",{fontCharacter:"\\eac1"}),C.cloudDownload=new C("cloud-download",{fontCharacter:"\\eac2"}),C.cloudUpload=new C("cloud-upload",{fontCharacter:"\\eac3"}),C.code=new C("code",{fontCharacter:"\\eac4"}),C.collapseAll=new C("collapse-all",{fontCharacter:"\\eac5"}),C.colorMode=new C("color-mode",{fontCharacter:"\\eac6"}),C.commentDiscussion=new C("comment-discussion",{fontCharacter:"\\eac7"}),C.compareChanges=new C("compare-changes",{fontCharacter:"\\eafd"}),C.creditCard=new C("credit-card",{fontCharacter:"\\eac9"}),C.dash=new C("dash",{fontCharacter:"\\eacc"}),C.dashboard=new C("dashboard",{fontCharacter:"\\eacd"}),C.database=new C("database",{fontCharacter:"\\eace"}),C.debugContinue=new C("debug-continue",{fontCharacter:"\\eacf"}),C.debugDisconnect=new C("debug-disconnect",{fontCharacter:"\\ead0"}),C.debugPause=new C("debug-pause",{fontCharacter:"\\ead1"}),C.debugRestart=new C("debug-restart",{fontCharacter:"\\ead2"}),C.debugStart=new C("debug-start",{fontCharacter:"\\ead3"}),C.debugStepInto=new C("debug-step-into",{fontCharacter:"\\ead4"}),C.debugStepOut=new C("debug-step-out",{fontCharacter:"\\ead5"}),C.debugStepOver=new C("debug-step-over",{fontCharacter:"\\ead6"}),C.debugStop=new C("debug-stop",{fontCharacter:"\\ead7"}),C.debug=new C("debug",{fontCharacter:"\\ead8"}),C.deviceCameraVideo=new C("device-camera-video",{fontCharacter:"\\ead9"}),C.deviceCamera=new C("device-camera",{fontCharacter:"\\eada"}),C.deviceMobile=new C("device-mobile",{fontCharacter:"\\eadb"}),C.diffAdded=new C("diff-added",{fontCharacter:"\\eadc"}),C.diffIgnored=new C("diff-ignored",{fontCharacter:"\\eadd"}),C.diffModified=new C("diff-modified",{fontCharacter:"\\eade"}),C.diffRemoved=new C("diff-removed",{fontCharacter:"\\eadf"}),C.diffRenamed=new C("diff-renamed",{fontCharacter:"\\eae0"}),C.diff=new C("diff",{fontCharacter:"\\eae1"}),C.discard=new C("discard",{fontCharacter:"\\eae2"}),C.editorLayout=new C("editor-layout",{fontCharacter:"\\eae3"}),C.emptyWindow=new C("empty-window",{fontCharacter:"\\eae4"}),C.exclude=new C("exclude",{fontCharacter:"\\eae5"}),C.extensions=new C("extensions",{fontCharacter:"\\eae6"}),C.eyeClosed=new C("eye-closed",{fontCharacter:"\\eae7"}),C.fileBinary=new C("file-binary",{fontCharacter:"\\eae8"}),C.fileCode=new C("file-code",{fontCharacter:"\\eae9"}),C.fileMedia=new C("file-media",{fontCharacter:"\\eaea"}),C.filePdf=new C("file-pdf",{fontCharacter:"\\eaeb"}),C.fileSubmodule=new C("file-submodule",{fontCharacter:"\\eaec"}),C.fileSymlinkDirectory=new C("file-symlink-directory",{fontCharacter:"\\eaed"}),C.fileSymlinkFile=new C("file-symlink-file",{fontCharacter:"\\eaee"}),C.fileZip=new C("file-zip",{fontCharacter:"\\eaef"}),C.files=new C("files",{fontCharacter:"\\eaf0"}),C.filter=new C("filter",{fontCharacter:"\\eaf1"}),C.flame=new C("flame",{fontCharacter:"\\eaf2"}),C.foldDown=new C("fold-down",{fontCharacter:"\\eaf3"}),C.foldUp=new C("fold-up",{fontCharacter:"\\eaf4"}),C.fold=new C("fold",{fontCharacter:"\\eaf5"}),C.folderActive=new C("folder-active",{fontCharacter:"\\eaf6"}),C.folderOpened=new C("folder-opened",{fontCharacter:"\\eaf7"}),C.gear=new C("gear",{fontCharacter:"\\eaf8"}),C.gift=new C("gift",{fontCharacter:"\\eaf9"}),C.gistSecret=new C("gist-secret",{fontCharacter:"\\eafa"}),C.gist=new C("gist",{fontCharacter:"\\eafb"}),C.gitCommit=new C("git-commit",{fontCharacter:"\\eafc"}),C.gitCompare=new C("git-compare",{fontCharacter:"\\eafd"}),C.gitMerge=new C("git-merge",{fontCharacter:"\\eafe"}),C.githubAction=new C("github-action",{fontCharacter:"\\eaff"}),C.githubAlt=new C("github-alt",{fontCharacter:"\\eb00"}),C.globe=new C("globe",{fontCharacter:"\\eb01"}),C.grabber=new C("grabber",{fontCharacter:"\\eb02"}),C.graph=new C("graph",{fontCharacter:"\\eb03"}),C.gripper=new C("gripper",{fontCharacter:"\\eb04"}),C.heart=new C("heart",{fontCharacter:"\\eb05"}),C.home=new C("home",{fontCharacter:"\\eb06"}),C.horizontalRule=new C("horizontal-rule",{fontCharacter:"\\eb07"}),C.hubot=new C("hubot",{fontCharacter:"\\eb08"}),C.inbox=new C("inbox",{fontCharacter:"\\eb09"}),C.issueClosed=new C("issue-closed",{fontCharacter:"\\eba4"}),C.issueReopened=new C("issue-reopened",{fontCharacter:"\\eb0b"}),C.issues=new C("issues",{fontCharacter:"\\eb0c"}),C.italic=new C("italic",{fontCharacter:"\\eb0d"}),C.jersey=new C("jersey",{fontCharacter:"\\eb0e"}),C.json=new C("json",{fontCharacter:"\\eb0f"}),C.kebabVertical=new C("kebab-vertical",{fontCharacter:"\\eb10"}),C.key=new C("key",{fontCharacter:"\\eb11"}),C.law=new C("law",{fontCharacter:"\\eb12"}),C.lightbulbAutofix=new C("lightbulb-autofix",{fontCharacter:"\\eb13"}),C.linkExternal=new C("link-external",{fontCharacter:"\\eb14"}),C.link=new C("link",{fontCharacter:"\\eb15"}),C.listOrdered=new C("list-ordered",{fontCharacter:"\\eb16"}),C.listUnordered=new C("list-unordered",{fontCharacter:"\\eb17"}),C.liveShare=new C("live-share",{fontCharacter:"\\eb18"}),C.loading=new C("loading",{fontCharacter:"\\eb19"}),C.location=new C("location",{fontCharacter:"\\eb1a"}),C.mailRead=new C("mail-read",{fontCharacter:"\\eb1b"}),C.mail=new C("mail",{fontCharacter:"\\eb1c"}),C.markdown=new C("markdown",{fontCharacter:"\\eb1d"}),C.megaphone=new C("megaphone",{fontCharacter:"\\eb1e"}),C.mention=new C("mention",{fontCharacter:"\\eb1f"}),C.milestone=new C("milestone",{fontCharacter:"\\eb20"}),C.mortarBoard=new C("mortar-board",{fontCharacter:"\\eb21"}),C.move=new C("move",{fontCharacter:"\\eb22"}),C.multipleWindows=new C("multiple-windows",{fontCharacter:"\\eb23"}),C.mute=new C("mute",{fontCharacter:"\\eb24"}),C.noNewline=new C("no-newline",{fontCharacter:"\\eb25"}),C.note=new C("note",{fontCharacter:"\\eb26"}),C.octoface=new C("octoface",{fontCharacter:"\\eb27"}),C.openPreview=new C("open-preview",{fontCharacter:"\\eb28"}),C.package_=new C("package",{fontCharacter:"\\eb29"}),C.paintcan=new C("paintcan",{fontCharacter:"\\eb2a"}),C.pin=new C("pin",{fontCharacter:"\\eb2b"}),C.play=new C("play",{fontCharacter:"\\eb2c"}),C.run=new C("run",{fontCharacter:"\\eb2c"}),C.plug=new C("plug",{fontCharacter:"\\eb2d"}),C.preserveCase=new C("preserve-case",{fontCharacter:"\\eb2e"}),C.preview=new C("preview",{fontCharacter:"\\eb2f"}),C.project=new C("project",{fontCharacter:"\\eb30"}),C.pulse=new C("pulse",{fontCharacter:"\\eb31"}),C.question=new C("question",{fontCharacter:"\\eb32"}),C.quote=new C("quote",{fontCharacter:"\\eb33"}),C.radioTower=new C("radio-tower",{fontCharacter:"\\eb34"}),C.reactions=new C("reactions",{fontCharacter:"\\eb35"}),C.references=new C("references",{fontCharacter:"\\eb36"}),C.refresh=new C("refresh",{fontCharacter:"\\eb37"}),C.regex=new C("regex",{fontCharacter:"\\eb38"}),C.remoteExplorer=new C("remote-explorer",{fontCharacter:"\\eb39"}),C.remote=new C("remote",{fontCharacter:"\\eb3a"}),C.remove=new C("remove",{fontCharacter:"\\eb3b"}),C.replaceAll=new C("replace-all",{fontCharacter:"\\eb3c"}),C.replace=new C("replace",{fontCharacter:"\\eb3d"}),C.repoClone=new C("repo-clone",{fontCharacter:"\\eb3e"}),C.repoForcePush=new C("repo-force-push",{fontCharacter:"\\eb3f"}),C.repoPull=new C("repo-pull",{fontCharacter:"\\eb40"}),C.repoPush=new C("repo-push",{fontCharacter:"\\eb41"}),C.report=new C("report",{fontCharacter:"\\eb42"}),C.requestChanges=new C("request-changes",{fontCharacter:"\\eb43"}),C.rocket=new C("rocket",{fontCharacter:"\\eb44"}),C.rootFolderOpened=new C("root-folder-opened",{fontCharacter:"\\eb45"}),C.rootFolder=new C("root-folder",{fontCharacter:"\\eb46"}),C.rss=new C("rss",{fontCharacter:"\\eb47"}),C.ruby=new C("ruby",{fontCharacter:"\\eb48"}),C.saveAll=new C("save-all",{fontCharacter:"\\eb49"}),C.saveAs=new C("save-as",{fontCharacter:"\\eb4a"}),C.save=new C("save",{fontCharacter:"\\eb4b"}),C.screenFull=new C("screen-full",{fontCharacter:"\\eb4c"}),C.screenNormal=new C("screen-normal",{fontCharacter:"\\eb4d"}),C.searchStop=new C("search-stop",{fontCharacter:"\\eb4e"}),C.server=new C("server",{fontCharacter:"\\eb50"}),C.settingsGear=new C("settings-gear",{fontCharacter:"\\eb51"}),C.settings=new C("settings",{fontCharacter:"\\eb52"}),C.shield=new C("shield",{fontCharacter:"\\eb53"}),C.smiley=new C("smiley",{fontCharacter:"\\eb54"}),C.sortPrecedence=new C("sort-precedence",{fontCharacter:"\\eb55"}),C.splitHorizontal=new C("split-horizontal",{fontCharacter:"\\eb56"}),C.splitVertical=new C("split-vertical",{fontCharacter:"\\eb57"}),C.squirrel=new C("squirrel",{fontCharacter:"\\eb58"}),C.starFull=new C("star-full",{fontCharacter:"\\eb59"}),C.starHalf=new C("star-half",{fontCharacter:"\\eb5a"}),C.symbolClass=new C("symbol-class",{fontCharacter:"\\eb5b"}),C.symbolColor=new C("symbol-color",{fontCharacter:"\\eb5c"}),C.symbolCustomColor=new C("symbol-customcolor",{fontCharacter:"\\eb5c"}),C.symbolConstant=new C("symbol-constant",{fontCharacter:"\\eb5d"}),C.symbolEnumMember=new C("symbol-enum-member",{fontCharacter:"\\eb5e"}),C.symbolField=new C("symbol-field",{fontCharacter:"\\eb5f"}),C.symbolFile=new C("symbol-file",{fontCharacter:"\\eb60"}),C.symbolInterface=new C("symbol-interface",{fontCharacter:"\\eb61"}),C.symbolKeyword=new C("symbol-keyword",{fontCharacter:"\\eb62"}),C.symbolMisc=new C("symbol-misc",{fontCharacter:"\\eb63"}),C.symbolOperator=new C("symbol-operator",{fontCharacter:"\\eb64"}),C.symbolProperty=new C("symbol-property",{fontCharacter:"\\eb65"}),C.wrench=new C("wrench",{fontCharacter:"\\eb65"}),C.wrenchSubaction=new C("wrench-subaction",{fontCharacter:"\\eb65"}),C.symbolSnippet=new C("symbol-snippet",{fontCharacter:"\\eb66"}),C.tasklist=new C("tasklist",{fontCharacter:"\\eb67"}),C.telescope=new C("telescope",{fontCharacter:"\\eb68"}),C.textSize=new C("text-size",{fontCharacter:"\\eb69"}),C.threeBars=new C("three-bars",{fontCharacter:"\\eb6a"}),C.thumbsdown=new C("thumbsdown",{fontCharacter:"\\eb6b"}),C.thumbsup=new C("thumbsup",{fontCharacter:"\\eb6c"}),C.tools=new C("tools",{fontCharacter:"\\eb6d"}),C.triangleDown=new C("triangle-down",{fontCharacter:"\\eb6e"}),C.triangleLeft=new C("triangle-left",{fontCharacter:"\\eb6f"}),C.triangleRight=new C("triangle-right",{fontCharacter:"\\eb70"}),C.triangleUp=new C("triangle-up",{fontCharacter:"\\eb71"}),C.twitter=new C("twitter",{fontCharacter:"\\eb72"}),C.unfold=new C("unfold",{fontCharacter:"\\eb73"}),C.unlock=new C("unlock",{fontCharacter:"\\eb74"}),C.unmute=new C("unmute",{fontCharacter:"\\eb75"}),C.unverified=new C("unverified",{fontCharacter:"\\eb76"}),C.verified=new C("verified",{fontCharacter:"\\eb77"}),C.versions=new C("versions",{fontCharacter:"\\eb78"}),C.vmActive=new C("vm-active",{fontCharacter:"\\eb79"}),C.vmOutline=new C("vm-outline",{fontCharacter:"\\eb7a"}),C.vmRunning=new C("vm-running",{fontCharacter:"\\eb7b"}),C.watch=new C("watch",{fontCharacter:"\\eb7c"}),C.whitespace=new C("whitespace",{fontCharacter:"\\eb7d"}),C.wholeWord=new C("whole-word",{fontCharacter:"\\eb7e"}),C.window=new C("window",{fontCharacter:"\\eb7f"}),C.wordWrap=new C("word-wrap",{fontCharacter:"\\eb80"}),C.zoomIn=new C("zoom-in",{fontCharacter:"\\eb81"}),C.zoomOut=new C("zoom-out",{fontCharacter:"\\eb82"}),C.listFilter=new C("list-filter",{fontCharacter:"\\eb83"}),C.listFlat=new C("list-flat",{fontCharacter:"\\eb84"}),C.listSelection=new C("list-selection",{fontCharacter:"\\eb85"}),C.selection=new C("selection",{fontCharacter:"\\eb85"}),C.listTree=new C("list-tree",{fontCharacter:"\\eb86"}),C.debugBreakpointFunctionUnverified=new C("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),C.debugBreakpointFunction=new C("debug-breakpoint-function",{fontCharacter:"\\eb88"}),C.debugBreakpointFunctionDisabled=new C("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),C.debugStackframeActive=new C("debug-stackframe-active",{fontCharacter:"\\eb89"}),C.debugStackframeDot=new C("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),C.debugStackframe=new C("debug-stackframe",{fontCharacter:"\\eb8b"}),C.debugStackframeFocused=new C("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),C.debugBreakpointUnsupported=new C("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),C.symbolString=new C("symbol-string",{fontCharacter:"\\eb8d"}),C.debugReverseContinue=new C("debug-reverse-continue",{fontCharacter:"\\eb8e"}),C.debugStepBack=new C("debug-step-back",{fontCharacter:"\\eb8f"}),C.debugRestartFrame=new C("debug-restart-frame",{fontCharacter:"\\eb90"}),C.callIncoming=new C("call-incoming",{fontCharacter:"\\eb92"}),C.callOutgoing=new C("call-outgoing",{fontCharacter:"\\eb93"}),C.menu=new C("menu",{fontCharacter:"\\eb94"}),C.expandAll=new C("expand-all",{fontCharacter:"\\eb95"}),C.feedback=new C("feedback",{fontCharacter:"\\eb96"}),C.groupByRefType=new C("group-by-ref-type",{fontCharacter:"\\eb97"}),C.ungroupByRefType=new C("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),C.account=new C("account",{fontCharacter:"\\eb99"}),C.bellDot=new C("bell-dot",{fontCharacter:"\\eb9a"}),C.debugConsole=new C("debug-console",{fontCharacter:"\\eb9b"}),C.library=new C("library",{fontCharacter:"\\eb9c"}),C.output=new C("output",{fontCharacter:"\\eb9d"}),C.runAll=new C("run-all",{fontCharacter:"\\eb9e"}),C.syncIgnored=new C("sync-ignored",{fontCharacter:"\\eb9f"}),C.pinned=new C("pinned",{fontCharacter:"\\eba0"}),C.githubInverted=new C("github-inverted",{fontCharacter:"\\eba1"}),C.debugAlt=new C("debug-alt",{fontCharacter:"\\eb91"}),C.serverProcess=new C("server-process",{fontCharacter:"\\eba2"}),C.serverEnvironment=new C("server-environment",{fontCharacter:"\\eba3"}),C.pass=new C("pass",{fontCharacter:"\\eba4"}),C.stopCircle=new C("stop-circle",{fontCharacter:"\\eba5"}),C.playCircle=new C("play-circle",{fontCharacter:"\\eba6"}),C.record=new C("record",{fontCharacter:"\\eba7"}),C.debugAltSmall=new C("debug-alt-small",{fontCharacter:"\\eba8"}),C.vmConnect=new C("vm-connect",{fontCharacter:"\\eba9"}),C.cloud=new C("cloud",{fontCharacter:"\\ebaa"}),C.merge=new C("merge",{fontCharacter:"\\ebab"}),C.exportIcon=new C("export",{fontCharacter:"\\ebac"}),C.graphLeft=new C("graph-left",{fontCharacter:"\\ebad"}),C.magnet=new C("magnet",{fontCharacter:"\\ebae"}),C.notebook=new C("notebook",{fontCharacter:"\\ebaf"}),C.redo=new C("redo",{fontCharacter:"\\ebb0"}),C.checkAll=new C("check-all",{fontCharacter:"\\ebb1"}),C.pinnedDirty=new C("pinned-dirty",{fontCharacter:"\\ebb2"}),C.passFilled=new C("pass-filled",{fontCharacter:"\\ebb3"}),C.circleLargeFilled=new C("circle-large-filled",{fontCharacter:"\\ebb4"}),C.circleLargeOutline=new C("circle-large-outline",{fontCharacter:"\\ebb5"}),C.combine=new C("combine",{fontCharacter:"\\ebb6"}),C.gather=new C("gather",{fontCharacter:"\\ebb6"}),C.table=new C("table",{fontCharacter:"\\ebb7"}),C.variableGroup=new C("variable-group",{fontCharacter:"\\ebb8"}),C.typeHierarchy=new C("type-hierarchy",{fontCharacter:"\\ebb9"}),C.typeHierarchySub=new C("type-hierarchy-sub",{fontCharacter:"\\ebba"}),C.typeHierarchySuper=new C("type-hierarchy-super",{fontCharacter:"\\ebbb"}),C.gitPullRequestCreate=new C("git-pull-request-create",{fontCharacter:"\\ebbc"}),C.runAbove=new C("run-above",{fontCharacter:"\\ebbd"}),C.runBelow=new C("run-below",{fontCharacter:"\\ebbe"}),C.notebookTemplate=new C("notebook-template",{fontCharacter:"\\ebbf"}),C.debugRerun=new C("debug-rerun",{fontCharacter:"\\ebc0"}),C.workspaceTrusted=new C("workspace-trusted",{fontCharacter:"\\ebc1"}),C.workspaceUntrusted=new C("workspace-untrusted",{fontCharacter:"\\ebc2"}),C.workspaceUnspecified=new C("workspace-unspecified",{fontCharacter:"\\ebc3"}),C.terminalCmd=new C("terminal-cmd",{fontCharacter:"\\ebc4"}),C.terminalDebian=new C("terminal-debian",{fontCharacter:"\\ebc5"}),C.terminalLinux=new C("terminal-linux",{fontCharacter:"\\ebc6"}),C.terminalPowershell=new C("terminal-powershell",{fontCharacter:"\\ebc7"}),C.terminalTmux=new C("terminal-tmux",{fontCharacter:"\\ebc8"}),C.terminalUbuntu=new C("terminal-ubuntu",{fontCharacter:"\\ebc9"}),C.terminalBash=new C("terminal-bash",{fontCharacter:"\\ebca"}),C.arrowSwap=new C("arrow-swap",{fontCharacter:"\\ebcb"}),C.copy=new C("copy",{fontCharacter:"\\ebcc"}),C.personAdd=new C("person-add",{fontCharacter:"\\ebcd"}),C.filterFilled=new C("filter-filled",{fontCharacter:"\\ebce"}),C.wand=new C("wand",{fontCharacter:"\\ebcf"}),C.debugLineByLine=new C("debug-line-by-line",{fontCharacter:"\\ebd0"}),C.inspect=new C("inspect",{fontCharacter:"\\ebd1"}),C.layers=new C("layers",{fontCharacter:"\\ebd2"}),C.layersDot=new C("layers-dot",{fontCharacter:"\\ebd3"}),C.layersActive=new C("layers-active",{fontCharacter:"\\ebd4"}),C.compass=new C("compass",{fontCharacter:"\\ebd5"}),C.compassDot=new C("compass-dot",{fontCharacter:"\\ebd6"}),C.compassActive=new C("compass-active",{fontCharacter:"\\ebd7"}),C.azure=new C("azure",{fontCharacter:"\\ebd8"}),C.issueDraft=new C("issue-draft",{fontCharacter:"\\ebd9"}),C.gitPullRequestClosed=new C("git-pull-request-closed",{fontCharacter:"\\ebda"}),C.gitPullRequestDraft=new C("git-pull-request-draft",{fontCharacter:"\\ebdb"}),C.debugAll=new C("debug-all",{fontCharacter:"\\ebdc"}),C.debugCoverage=new C("debug-coverage",{fontCharacter:"\\ebdd"}),C.runErrors=new C("run-errors",{fontCharacter:"\\ebde"}),C.folderLibrary=new C("folder-library",{fontCharacter:"\\ebdf"}),C.debugContinueSmall=new C("debug-continue-small",{fontCharacter:"\\ebe0"}),C.beakerStop=new C("beaker-stop",{fontCharacter:"\\ebe1"}),C.graphLine=new C("graph-line",{fontCharacter:"\\ebe2"}),C.graphScatter=new C("graph-scatter",{fontCharacter:"\\ebe3"}),C.pieChart=new C("pie-chart",{fontCharacter:"\\ebe4"}),C.bracket=new C("bracket",C.json.definition),C.bracketDot=new C("bracket-dot",{fontCharacter:"\\ebe5"}),C.bracketError=new C("bracket-error",{fontCharacter:"\\ebe6"}),C.lockSmall=new C("lock-small",{fontCharacter:"\\ebe7"}),C.azureDevops=new C("azure-devops",{fontCharacter:"\\ebe8"}),C.verifiedFilled=new C("verified-filled",{fontCharacter:"\\ebe9"}),C.newLine=new C("newline",{fontCharacter:"\\ebea"}),C.layout=new C("layout",{fontCharacter:"\\ebeb"}),C.dialogError=new C("dialog-error",C.error.definition),C.dialogWarning=new C("dialog-warning",C.warning.definition),C.dialogInfo=new C("dialog-info",C.info.definition),C.dialogClose=new C("dialog-close",C.close.definition),C.treeItemExpanded=new C("tree-item-expanded",C.chevronDown.definition),C.treeFilterOnTypeOn=new C("tree-filter-on-type-on",C.listFilter.definition),C.treeFilterOnTypeOff=new C("tree-filter-on-type-off",C.listSelection.definition),C.treeFilterClear=new C("tree-filter-clear",C.close.definition),C.treeItemLoading=new C("tree-item-loading",C.loading.definition),C.menuSelection=new C("menu-selection",C.check.definition),C.menuSubmenu=new C("menu-submenu",C.chevronRight.definition),C.menuBarMore=new C("menubar-more",C.more.definition),C.scrollbarButtonLeft=new C("scrollbar-button-left",C.triangleLeft.definition),C.scrollbarButtonRight=new C("scrollbar-button-right",C.triangleRight.definition),C.scrollbarButtonUp=new C("scrollbar-button-up",C.triangleUp.definition),C.scrollbarButtonDown=new C("scrollbar-button-down",C.triangleDown.definition),C.toolBarMore=new C("toolbar-more",C.more.definition),C.quickInputBack=new C("quick-input-back",C.arrowLeft.definition);var N;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function b(g){if(g instanceof C)return["codicon","codicon-"+g.id];const t=S.exec(g.id);if(!t)return b(C.error);let[,i,n]=t;const a=["codicon","codicon-"+i];return n&&a.push("codicon-modifier-"+n.substr(1)),a}D.asClassNameArray=b;function v(g){return b(g).join(" ")}D.asClassName=v;function u(g){return"."+b(g).join(".")}D.asCSSSelector=u})(N=e.CSSIcon||(e.CSSIcon={}))}),define(Q[210],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const w=Object.prototype.hasOwnProperty;function C(D,S){for(let b in D)if(w.call(D,b)&&S({key:b,value:D[b]},function(){delete D[b]})===!1)return}e.forEach=C;class N{constructor(){this.map=new Map}add(S,b){let v=this.map.get(S);v||(v=new Set,this.map.set(S,v)),v.add(b)}delete(S,b){const v=this.map.get(S);!v||(v.delete(b),v.size===0&&this.map.delete(S))}forEach(S,b){const v=this.map.get(S);!v||v.forEach(b)}}e.SetMap=N}),define(Q[30],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function w(b,v){const u=Math.pow(10,v);return Math.round(b*u)/u}class C{constructor(v,u,g,t=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=w(Math.max(Math.min(1,t),0),3)}static equals(v,u){return v.r===u.r&&v.g===u.g&&v.b===u.b&&v.a===u.a}}e.RGBA=C;class N{constructor(v,u,g,t){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.l=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,t),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.l===u.l&&v.a===u.a}static fromRGBA(v){const u=v.r/255,g=v.g/255,t=v.b/255,i=v.a,n=Math.max(u,g,t),a=Math.min(u,g,t);let c=0,d=0;const s=(a+n)/2,r=n-a;if(r>0){switch(d=Math.min(s<=.5?r/(2*s):r/(2-2*s),1),n){case u:c=(g-t)/r+(g<t?6:0);break;case g:c=(t-u)/r+2;break;case t:c=(u-g)/r+4;break}c*=60,c=Math.round(c)}return new N(c,d,s,i)}static _hue2rgb(v,u,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?v+(u-v)*6*g:g<1/2?u:g<2/3?v+(u-v)*(2/3-g)*6:v}static toRGBA(v){const u=v.h/360,{s:g,l:t,a:i}=v;let n,a,c;if(g===0)n=a=c=t;else{const d=t<.5?t*(1+g):t+g-t*g,s=2*t-d;n=N._hue2rgb(s,d,u+1/3),a=N._hue2rgb(s,d,u),c=N._hue2rgb(s,d,u-1/3)}return new C(Math.round(n*255),Math.round(a*255),Math.round(c*255),i)}}e.HSLA=N;class D{constructor(v,u,g,t){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.v=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,t),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.v===u.v&&v.a===u.a}static fromRGBA(v){const u=v.r/255,g=v.g/255,t=v.b/255,i=Math.max(u,g,t),n=Math.min(u,g,t),a=i-n,c=i===0?0:a/i;let d;return a===0?d=0:i===u?d=((g-t)/a%6+6)%6:i===g?d=(t-u)/a+2:d=(u-g)/a+4,new D(Math.round(d*60),c,i,v.a)}static toRGBA(v){const{h:u,s:g,v:t,a:i}=v,n=t*g,a=n*(1-Math.abs(u/60%2-1)),c=t-n;let[d,s,r]=[0,0,0];return u<60?(d=n,s=a):u<120?(d=a,s=n):u<180?(s=n,r=a):u<240?(s=a,r=n):u<300?(d=a,r=n):u<=360&&(d=n,r=a),d=Math.round((d+c)*255),s=Math.round((s+c)*255),r=Math.round((r+c)*255),new C(d,s,r,i)}}e.HSVA=D;class S{constructor(v){if(v)if(v instanceof C)this.rgba=v;else if(v instanceof N)this._hsla=v,this.rgba=N.toRGBA(v);else if(v instanceof D)this._hsva=v,this.rgba=D.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return S.Format.CSS.parseHex(v)||S.red}get hsla(){return this._hsla?this._hsla:N.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}equals(v){return!!v&&C.equals(this.rgba,v.rgba)&&N.equals(this.hsla,v.hsla)&&D.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=S._relativeLuminanceForComponent(this.rgba.r),u=S._relativeLuminanceForComponent(this.rgba.g),g=S._relativeLuminanceForComponent(this.rgba.b),t=.2126*v+.7152*u+.0722*g;return w(t,4)}static _relativeLuminanceForComponent(v){const u=v/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const u=this.getRelativeLuminance(),g=v.getRelativeLuminance();return u>g}isDarkerThan(v){const u=this.getRelativeLuminance(),g=v.getRelativeLuminance();return u<g}lighten(v){return new S(new N(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new S(new N(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:u,g,b:t,a:i}=this.rgba;return new S(new C(u,g,t,i*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new C(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(v,u,g){if(v.isLighterThan(u))return v;g=g||.5;const t=v.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(i-t)/i,v.lighten(g)}static getDarkerColor(v,u,g){if(v.isDarkerThan(u))return v;g=g||.5;const t=v.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(t-i)/t,v.darken(g)}}e.Color=S,S.white=new S(new C(255,255,255,1)),S.black=new S(new C(0,0,0,1)),S.red=new S(new C(255,0,0,1)),S.blue=new S(new C(0,0,255,1)),S.green=new S(new C(0,255,0,1)),S.cyan=new S(new C(0,255,255,1)),S.lightgrey=new S(new C(211,211,211,1)),S.transparent=new S(new C(0,0,0,0)),function(b){let v;(function(u){let g;(function(t){function i(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:b.Format.CSS.formatRGBA(m)}t.formatRGB=i;function n(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}t.formatRGBA=n;function a(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(m)}t.formatHSL=a;function c(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}t.formatHSLA=c;function d(m){const y=m.toString(16);return y.length!==2?"0"+y:y}function s(m){return`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}`}t.formatHex=s;function r(m,y=!1){return y&&m.rgba.a===1?b.Format.CSS.formatHex(m):`#${d(m.rgba.r)}${d(m.rgba.g)}${d(m.rgba.b)}${d(Math.round(m.rgba.a*255))}`}t.formatHexA=r;function o(m){return m.isOpaque()?b.Format.CSS.formatHex(m):b.Format.CSS.formatRGBA(m)}t.format=o;function l(m){const y=m.length;if(y===0||m.charCodeAt(0)!==35)return null;if(y===7){const p=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),f=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),_=16*h(m.charCodeAt(5))+h(m.charCodeAt(6));return new b(new C(p,f,_,1))}if(y===9){const p=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),f=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),_=16*h(m.charCodeAt(5))+h(m.charCodeAt(6)),I=16*h(m.charCodeAt(7))+h(m.charCodeAt(8));return new b(new C(p,f,_,I/255))}if(y===4){const p=h(m.charCodeAt(1)),f=h(m.charCodeAt(2)),_=h(m.charCodeAt(3));return new b(new C(16*p+p,16*f+f,16*_+_))}if(y===5){const p=h(m.charCodeAt(1)),f=h(m.charCodeAt(2)),_=h(m.charCodeAt(3)),I=h(m.charCodeAt(4));return new b(new C(16*p+p,16*f+f,16*_+_,(16*I+I)/255))}return null}t.parseHex=l;function h(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=u.CSS||(u.CSS={}))})(v=b.Format||(b.Format={}))}(S=e.Color||(e.Color={}))}),define(Q[93],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function w(C,N,D){let S=null,b=null;if(typeof D.value=="function"?(S="value",b=D.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",b=D.get),!b)throw new Error("not supported");const v=`$memoize$${N}`;D[S]=function(...u){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,u)}),this[v]}}e.memoize=w}),define(Q[307],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class w{constructor(N,D,S,b){this.originalStart=N,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=w}),define(Q[14],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(n){setTimeout(()=>{throw n.stack?new Error(n.message+`

`+n.stack):n},0)}}emit(n){this.listeners.forEach(a=>{a(n)})}onUnexpectedError(n){this.unexpectedErrorHandler(n),this.emit(n)}onUnexpectedExternalError(n){this.unexpectedErrorHandler(n)}}e.ErrorHandler=w,e.errorHandler=new w;function C(i){b(i)||e.errorHandler.onUnexpectedError(i)}e.onUnexpectedError=C;function N(i){b(i)||e.errorHandler.onUnexpectedExternalError(i)}e.onUnexpectedExternalError=N;function D(i){if(i instanceof Error){let{name:n,message:a}=i;const c=i.stacktrace||i.stack;return{$isError:!0,name:n,message:a,stack:c}}return i}e.transformErrorForSerialization=D;const S="Canceled";function b(i){return i instanceof Error&&i.name===S&&i.message===S}e.isPromiseCanceledError=b;function v(){const i=new Error(S);return i.name=i.message,i}e.canceled=v;function u(i){return i?new Error(`Illegal argument: ${i}`):new Error("Illegal argument")}e.illegalArgument=u;function g(i){return i?new Error(`Illegal state: ${i}`):new Error("Illegal state")}e.illegalState=g;class t extends Error{constructor(n){super("NotSupported");n&&(this.message=n)}}e.NotSupportedError=t}),define(Q[86],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(C){const N=this;let D=!1,S;return function(){return D||(D=!0,S=C.apply(N,arguments)),S}}e.once=w}),define(Q[132],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(N){this._prefix=N,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(Q[54],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(C){function N(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}C.is=N;const D=Object.freeze([]);function S(){return D}C.empty=S;function*b(h){yield h}C.single=b;function v(h){return h||D}C.from=v;function u(h){return!h||h[Symbol.iterator]().next().done===!0}C.isEmpty=u;function g(h){return h[Symbol.iterator]().next().value}C.first=g;function t(h,m){for(const y of h)if(m(y))return!0;return!1}C.some=t;function i(h,m){for(const y of h)if(m(y))return y}C.find=i;function*n(h,m){for(const y of h)m(y)&&(yield y)}C.filter=n;function*a(h,m){let y=0;for(const p of h)yield m(p,y++)}C.map=a;function*c(...h){for(const m of h)for(const y of m)yield y}C.concat=c;function*d(h){for(const m of h)for(const y of m)yield y}C.concatNested=d;function s(h,m,y){let p=y;for(const f of h)p=m(p,f);return p}C.reduce=s;function*r(h,m,y=h.length){for(m<0&&(m+=h.length),y<0?y+=h.length:y>h.length&&(y=h.length);m<y;m++)yield h[m]}C.slice=r;function o(h,m=Number.POSITIVE_INFINITY){const y=[];if(m===0)return[y,h];const p=h[Symbol.iterator]();for(let f=0;f<m;f++){const _=p.next();if(_.done)return[y,C.empty()];y.push(_.value)}return[y,{[Symbol.iterator](){return p}}]}C.consume=o;function l(h,m,y=(p,f)=>p===f){const p=h[Symbol.iterator](),f=m[Symbol.iterator]();for(;;){const _=p.next(),I=f.next();if(_.done!==I.done)return!1;if(_.done)return!0;if(!y(_.value,I.value))return!1}}C.equals=l})(w=e.Iterable||(e.Iterable={}))}),define(Q[55],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,n){this._keyCodeToStr[i]=n,this._strToKeyCode[n.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const C=new w,N=new w,D=new w;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],b=Object.create(null),v=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let t=0;t<=193;t++)e.IMMUTABLE_CODE_TO_KEY_CODE[t]=-1;for(let t=0;t<=126;t++)e.IMMUTABLE_KEY_CODE_TO_CODE[t]=-1;(function(){const t="",i=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[0,1,1,"Hyper",0,t,0,t,t,t],[0,1,2,"Super",0,t,0,t,t,t],[0,1,3,"Fn",0,t,0,t,t,t],[0,1,4,"FnLock",0,t,0,t,t,t],[0,1,5,"Suspend",0,t,0,t,t,t],[0,1,6,"Resume",0,t,0,t,t,t],[0,1,7,"Turbo",0,t,0,t,t,t],[0,1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[0,1,9,"WakeUp",0,t,0,t,t,t],[31,0,10,"KeyA",31,"A",65,"VK_A",t,t],[32,0,11,"KeyB",32,"B",66,"VK_B",t,t],[33,0,12,"KeyC",33,"C",67,"VK_C",t,t],[34,0,13,"KeyD",34,"D",68,"VK_D",t,t],[35,0,14,"KeyE",35,"E",69,"VK_E",t,t],[36,0,15,"KeyF",36,"F",70,"VK_F",t,t],[37,0,16,"KeyG",37,"G",71,"VK_G",t,t],[38,0,17,"KeyH",38,"H",72,"VK_H",t,t],[39,0,18,"KeyI",39,"I",73,"VK_I",t,t],[40,0,19,"KeyJ",40,"J",74,"VK_J",t,t],[41,0,20,"KeyK",41,"K",75,"VK_K",t,t],[42,0,21,"KeyL",42,"L",76,"VK_L",t,t],[43,0,22,"KeyM",43,"M",77,"VK_M",t,t],[44,0,23,"KeyN",44,"N",78,"VK_N",t,t],[45,0,24,"KeyO",45,"O",79,"VK_O",t,t],[46,0,25,"KeyP",46,"P",80,"VK_P",t,t],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[48,0,27,"KeyR",48,"R",82,"VK_R",t,t],[49,0,28,"KeyS",49,"S",83,"VK_S",t,t],[50,0,29,"KeyT",50,"T",84,"VK_T",t,t],[51,0,30,"KeyU",51,"U",85,"VK_U",t,t],[52,0,31,"KeyV",52,"V",86,"VK_V",t,t],[53,0,32,"KeyW",53,"W",87,"VK_W",t,t],[54,0,33,"KeyX",54,"X",88,"VK_X",t,t],[55,0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[22,0,36,"Digit1",22,"1",49,"VK_1",t,t],[23,0,37,"Digit2",23,"2",50,"VK_2",t,t],[24,0,38,"Digit3",24,"3",51,"VK_3",t,t],[25,0,39,"Digit4",25,"4",52,"VK_4",t,t],[26,0,40,"Digit5",26,"5",53,"VK_5",t,t],[27,0,41,"Digit6",27,"6",54,"VK_6",t,t],[28,0,42,"Digit7",28,"7",55,"VK_7",t,t],[29,0,43,"Digit8",29,"8",56,"VK_8",t,t],[30,0,44,"Digit9",30,"9",57,"VK_9",t,t],[21,0,45,"Digit0",21,"0",48,"VK_0",t,t],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[10,1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,t,0,t,t,t],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[59,1,64,"F1",59,"F1",112,"VK_F1",t,t],[60,1,65,"F2",60,"F2",113,"VK_F2",t,t],[61,1,66,"F3",61,"F3",114,"VK_F3",t,t],[62,1,67,"F4",62,"F4",115,"VK_F4",t,t],[63,1,68,"F5",63,"F5",116,"VK_F5",t,t],[64,1,69,"F6",64,"F6",117,"VK_F6",t,t],[65,1,70,"F7",65,"F7",118,"VK_F7",t,t],[66,1,71,"F8",66,"F8",119,"VK_F8",t,t],[67,1,72,"F9",67,"F9",120,"VK_F9",t,t],[68,1,73,"F10",68,"F10",121,"VK_F10",t,t],[69,1,74,"F11",69,"F11",122,"VK_F11",t,t],[70,1,75,"F12",70,"F12",123,"VK_F12",t,t],[0,1,76,"PrintScreen",0,t,0,t,t,t],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",t,t],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[14,1,80,"Home",14,"Home",36,"VK_HOME",t,t],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[13,1,83,"End",13,"End",35,"VK_END",t,t],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",t,t],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",t,t],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",t,t],[3,1,94,"NumpadEnter",3,t,0,t,t,t],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",t,t],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",t,t],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",t,t],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",t,t],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",t,t],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",t,t],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",t,t],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",t,t],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",t,t],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",t,t],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",t,t],[58,1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[0,1,108,"Power",0,t,0,t,t,t],[0,1,109,"NumpadEqual",0,t,0,t,t,t],[71,1,110,"F13",71,"F13",124,"VK_F13",t,t],[72,1,111,"F14",72,"F14",125,"VK_F14",t,t],[73,1,112,"F15",73,"F15",126,"VK_F15",t,t],[74,1,113,"F16",74,"F16",127,"VK_F16",t,t],[75,1,114,"F17",75,"F17",128,"VK_F17",t,t],[76,1,115,"F18",76,"F18",129,"VK_F18",t,t],[77,1,116,"F19",77,"F19",130,"VK_F19",t,t],[0,1,117,"F20",0,t,0,"VK_F20",t,t],[0,1,118,"F21",0,t,0,"VK_F21",t,t],[0,1,119,"F22",0,t,0,"VK_F22",t,t],[0,1,120,"F23",0,t,0,"VK_F23",t,t],[0,1,121,"F24",0,t,0,"VK_F24",t,t],[0,1,122,"Open",0,t,0,t,t,t],[0,1,123,"Help",0,t,0,t,t,t],[0,1,124,"Select",0,t,0,t,t,t],[0,1,125,"Again",0,t,0,t,t,t],[0,1,126,"Undo",0,t,0,t,t,t],[0,1,127,"Cut",0,t,0,t,t,t],[0,1,128,"Copy",0,t,0,t,t,t],[0,1,129,"Paste",0,t,0,t,t,t],[0,1,130,"Find",0,t,0,t,t,t],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",t,t],[0,1,136,"KanaMode",0,t,0,t,t,t],[0,0,137,"IntlYen",0,t,0,t,t,t],[0,1,138,"Convert",0,t,0,t,t,t],[0,1,139,"NonConvert",0,t,0,t,t,t],[0,1,140,"Lang1",0,t,0,t,t,t],[0,1,141,"Lang2",0,t,0,t,t,t],[0,1,142,"Lang3",0,t,0,t,t,t],[0,1,143,"Lang4",0,t,0,t,t,t],[0,1,144,"Lang5",0,t,0,t,t,t],[0,1,145,"Abort",0,t,0,t,t,t],[0,1,146,"Props",0,t,0,t,t,t],[0,1,147,"NumpadParenLeft",0,t,0,t,t,t],[0,1,148,"NumpadParenRight",0,t,0,t,t,t],[0,1,149,"NumpadBackspace",0,t,0,t,t,t],[0,1,150,"NumpadMemoryStore",0,t,0,t,t,t],[0,1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[0,1,152,"NumpadMemoryClear",0,t,0,t,t,t],[0,1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[0,1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[0,1,155,"NumpadClear",0,t,0,t,t,t],[0,1,156,"NumpadClearEntry",0,t,0,t,t,t],[5,1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[4,1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[6,1,0,t,6,"Alt",18,"VK_MENU",t,t],[57,1,0,t,57,"Meta",0,"VK_COMMAND",t,t],[5,1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[4,1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[6,1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[57,1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[5,1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[4,1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[6,1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[57,1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[0,1,165,"BrightnessUp",0,t,0,t,t,t],[0,1,166,"BrightnessDown",0,t,0,t,t,t],[0,1,167,"MediaPlay",0,t,0,t,t,t],[0,1,168,"MediaRecord",0,t,0,t,t,t],[0,1,169,"MediaFastForward",0,t,0,t,t,t],[0,1,170,"MediaRewind",0,t,0,t,t,t],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",t,t],[0,1,174,"Eject",0,t,0,t,t,t],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[0,1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[0,1,180,"SelectTask",0,t,0,t,t,t],[0,1,181,"LaunchScreenSaver",0,t,0,t,t,t],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[0,1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[0,1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[0,1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[0,1,189,"ZoomToggle",0,t,0,t,t,t],[0,1,190,"MailReply",0,t,0,t,t,t],[0,1,191,"MailForward",0,t,0,t,t,t],[0,1,192,"MailSend",0,t,0,t,t,t],[109,1,0,t,109,"KeyInComposition",229,t,t,t],[111,1,0,t,111,"ABNT_C2",194,"VK_ABNT_C2",t,t],[91,1,0,t,91,"OEM_8",223,"VK_OEM_8",t,t],[0,1,0,t,0,t,0,"VK_CLEAR",t,t],[0,1,0,t,0,t,0,"VK_KANA",t,t],[0,1,0,t,0,t,0,"VK_HANGUL",t,t],[0,1,0,t,0,t,0,"VK_JUNJA",t,t],[0,1,0,t,0,t,0,"VK_FINAL",t,t],[0,1,0,t,0,t,0,"VK_HANJA",t,t],[0,1,0,t,0,t,0,"VK_KANJI",t,t],[0,1,0,t,0,t,0,"VK_CONVERT",t,t],[0,1,0,t,0,t,0,"VK_NONCONVERT",t,t],[0,1,0,t,0,t,0,"VK_ACCEPT",t,t],[0,1,0,t,0,t,0,"VK_MODECHANGE",t,t],[0,1,0,t,0,t,0,"VK_SELECT",t,t],[0,1,0,t,0,t,0,"VK_PRINT",t,t],[0,1,0,t,0,t,0,"VK_EXECUTE",t,t],[0,1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[0,1,0,t,0,t,0,"VK_HELP",t,t],[0,1,0,t,0,t,0,"VK_APPS",t,t],[0,1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[0,1,0,t,0,t,0,"VK_PACKET",t,t],[0,1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_ATTN",t,t],[0,1,0,t,0,t,0,"VK_CRSEL",t,t],[0,1,0,t,0,t,0,"VK_EXSEL",t,t],[0,1,0,t,0,t,0,"VK_EREOF",t,t],[0,1,0,t,0,t,0,"VK_PLAY",t,t],[0,1,0,t,0,t,0,"VK_ZOOM",t,t],[0,1,0,t,0,t,0,"VK_NONAME",t,t],[0,1,0,t,0,t,0,"VK_PA1",t,t],[0,1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]];let n=[],a=[];for(const c of i){const[d,s,r,o,l,h,m,y,p,f]=c;if(a[r]||(a[r]=!0,S[r]=o,b[o]=r,v[o.toLowerCase()]=r,s&&(e.IMMUTABLE_CODE_TO_KEY_CODE[r]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[l]=r))),!n[l]){if(n[l]=!0,!h)throw new Error(`String representation missing for key code ${l} around scan code ${o}`);C.define(l,h),N.define(l,p||h),D.define(l,f||p||h)}m&&(e.EVENT_KEY_CODE_MAP[m]=l),y&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[y]=l)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(t){function i(r){return C.keyCodeToStr(r)}t.toString=i;function n(r){return C.strToKeyCode(r)}t.fromString=n;function a(r){return N.keyCodeToStr(r)}t.toUserSettingsUS=a;function c(r){return D.keyCodeToStr(r)}t.toUserSettingsGeneral=c;function d(r){return N.strToKeyCode(r)||D.strToKeyCode(r)}t.fromUserSettings=d;function s(r){if(r>=93&&r<=108)return null;switch(r){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return C.keyCodeToStr(r)}t.toElectronAccelerator=s})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(t,i){const n=(i&65535)<<16>>>0;return(t|n)>>>0}e.KeyChord=g}),define(Q[94],J([0,1,14]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function C(g,t){if(g===0)return null;const i=(g&65535)>>>0,n=(g&4294901760)>>>16;return n!==0?new S([N(i,t),N(n,t)]):new S([N(i,t)])}e.createKeybinding=C;function N(g,t){const i=!!(g&2048),n=!!(g&256),a=t===2?n:i,c=!!(g&1024),d=!!(g&512),s=t===2?i:n,r=g&255;return new D(a,c,d,s,r)}e.createSimpleKeybinding=N;class D{constructor(t,i,n,a,c){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=a,this.keyCode=c}equals(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new S([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=D;class S{constructor(t){if(t.length===0)throw(0,w.illegalArgument)("parts");this.parts=t}}e.ChordKeybinding=S;class b{constructor(t,i,n,a,c){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=a,this.scanCode=c}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class v{constructor(t,i,n,a,c,d){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=a,this.keyLabel=c,this.keyAriaLabel=d}}e.ResolvedKeybindingPart=v;class u{}e.ResolvedKeybinding=u}),define(Q[133],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class w{constructor(N){this.executor=N,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(N){this._error=N}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=w}),define(Q[2],J([0,1,86,54]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const N=!1;let D=null;function S(h){D=h}if(e.setDisposableTracker=S,N){const h="__is_disposable_tracked__";S(new class{trackDisposable(m){const y=new Error("Potentially leaked disposable").stack;setTimeout(()=>{m[h]||console.log(y)},3e3)}setParent(m,y){if(m&&m!==r.None)try{m[h]=!0}catch{}}markAsDisposed(m){if(m&&m!==r.None)try{m[h]=!0}catch{}}markAsSingleton(m){}})}function b(h){return D==null||D.trackDisposable(h),h}function v(h){D==null||D.markAsDisposed(h)}function u(h,m){D==null||D.setParent(h,m)}function g(h,m){if(!!D)for(const y of h)D.setParent(y,m)}function t(h){return D==null||D.markAsSingleton(h),h}e.markAsSingleton=t;class i extends Error{constructor(m){super(`Encountered errors while disposing of store. Errors: [${m.join(", ")}]`);this.errors=m}}e.MultiDisposeError=i;function n(h){return typeof h.dispose=="function"&&h.dispose.length===0}e.isDisposable=n;function a(h){if(C.Iterable.is(h)){let m=[];for(const y of h)if(y)try{y.dispose()}catch(p){m.push(p)}if(m.length===1)throw m[0];if(m.length>1)throw new i(m);return Array.isArray(h)?[]:h}else if(h)return h.dispose(),h}e.dispose=a;function c(...h){const m=d(()=>a(h));return g(h,m),m}e.combinedDisposable=c;function d(h){const m=b({dispose:(0,w.once)(()=>{v(m),h()})});return m}e.toDisposable=d;class s{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(v(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{a(this._toDispose.values())}finally{this._toDispose.clear()}}add(m){if(!m)return m;if(m===this)throw new Error("Cannot register a disposable on itself!");return u(m,this),this._isDisposed?s.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(m),m}}e.DisposableStore=s,s.DISABLE_DISPOSED_WARNING=!1;class r{constructor(){this._store=new s,b(this),u(this._store,this)}dispose(){v(this),this._store.dispose()}_register(m){if(m===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(m)}}e.Disposable=r,r.None=Object.freeze({dispose(){}});class o{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(m){var y;this._isDisposed||m===this._value||((y=this._value)===null||y===void 0||y.dispose(),m&&u(m,this),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,v(this),(m=this._value)===null||m===void 0||m.dispose(),this._value=void 0}clearAndLeak(){const m=this._value;return this._value=void 0,m&&u(m,null),m}}e.MutableDisposable=o;class l{constructor(m){this.object=m}dispose(){}}e.ImmortalReference=l}),define(Q[78],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(D){this.element=D,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class C{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){let D=this._first;for(;D!==w.Undefined;){const S=D.next;D.prev=w.Undefined,D.next=w.Undefined,D=S}this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const b=new w(D);if(this._first===w.Undefined)this._first=b,this._last=b;else if(S){const u=this._last;this._last=b,b.prev=u,u.next=b}else{const u=this._first;this._first=b,b.next=u,u.prev=b}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(b))}}shift(){if(this._first!==w.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==w.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==w.Undefined&&D.next!==w.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===w.Undefined&&D.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):D.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):D.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==w.Undefined;)yield D.element,D=D.next}}e.LinkedList=C}),function(H,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(H=typeof globalThis!="undefined"?globalThis:H||self,H.marked=e())}(this,function(){"use strict";function H(Ne,ke){for(var Te=0;Te<ke.length;Te++){var pe=ke[Te];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Ne,pe.key,pe)}}function e(Ne,ke,Te){return ke&&H(Ne.prototype,ke),Te&&H(Ne,Te),Ne}function w(Ne,ke){if(!!Ne){if(typeof Ne=="string")return C(Ne,ke);var Te=Object.prototype.toString.call(Ne).slice(8,-1);if(Te==="Object"&&Ne.constructor&&(Te=Ne.constructor.name),Te==="Map"||Te==="Set")return Array.from(Ne);if(Te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return C(Ne,ke)}}function C(Ne,ke){(ke==null||ke>Ne.length)&&(ke=Ne.length);for(var Te=0,pe=new Array(ke);Te<ke;Te++)pe[Te]=Ne[Te];return pe}function N(Ne,ke){var Te=typeof Symbol!="undefined"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(Te)return(Te=Te.call(Ne)).next.bind(Te);if(Array.isArray(Ne)||(Te=w(Ne))||ke&&Ne&&typeof Ne.length=="number"){Te&&(Ne=Te);var pe=0;return function(){return pe>=Ne.length?{done:!0}:{done:!1,value:Ne[pe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D={exports:{}};function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function b(Ne){D.exports.defaults=Ne}D.exports={defaults:S(),getDefaults:S,changeDefaults:b};var v=/[&<>"']/,u=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,t=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(ke){return i[ke]};function a(Ne,ke){if(ke){if(v.test(Ne))return Ne.replace(u,n)}else if(g.test(Ne))return Ne.replace(t,n);return Ne}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(Ne){return Ne.replace(c,function(ke,Te){return Te=Te.toLowerCase(),Te==="colon"?":":Te.charAt(0)==="#"?Te.charAt(1)==="x"?String.fromCharCode(parseInt(Te.substring(2),16)):String.fromCharCode(+Te.substring(1)):""})}var s=/(^|[^\[])\^/g;function r(Ne,ke){Ne=Ne.source||Ne,ke=ke||"";var Te={replace:function(Ce,Le){return Le=Le.source||Le,Le=Le.replace(s,"$1"),Ne=Ne.replace(Ce,Le),Te},getRegex:function(){return new RegExp(Ne,ke)}};return Te}var o=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(Ne,ke,Te){if(Ne){var pe;try{pe=decodeURIComponent(d(Te)).replace(o,"").toLowerCase()}catch{return null}if(pe.indexOf("javascript:")===0||pe.indexOf("vbscript:")===0||pe.indexOf("data:")===0)return null}ke&&!l.test(Te)&&(Te=_(ke,Te));try{Te=encodeURI(Te).replace(/%25/g,"%")}catch{return null}return Te}var m={},y=/^[^:]+:\/*[^/]*$/,p=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(Ne,ke){m[" "+Ne]||(y.test(Ne)?m[" "+Ne]=Ne+"/":m[" "+Ne]=k(Ne,"/",!0)),Ne=m[" "+Ne];var Te=Ne.indexOf(":")===-1;return ke.substring(0,2)==="//"?Te?ke:Ne.replace(p,"$1")+ke:ke.charAt(0)==="/"?Te?ke:Ne.replace(f,"$1")+ke:Ne+ke}var I={exec:function(){}};function E(Ne){for(var ke=1,Te,pe;ke<arguments.length;ke++){Te=arguments[ke];for(pe in Te)Object.prototype.hasOwnProperty.call(Te,pe)&&(Ne[pe]=Te[pe])}return Ne}function T(Ne,ke){var Te=Ne.replace(/\|/g,function(Le,Se,be){for(var Pe=!1,Me=Se;--Me>=0&&be[Me]==="\\";)Pe=!Pe;return Pe?"|":" |"}),pe=Te.split(/ \|/),Ce=0;if(pe[0].trim()||pe.shift(),pe[pe.length-1].trim()||pe.pop(),pe.length>ke)pe.splice(ke);else for(;pe.length<ke;)pe.push("");for(;Ce<pe.length;Ce++)pe[Ce]=pe[Ce].trim().replace(/\\\|/g,"|");return pe}function k(Ne,ke,Te){var pe=Ne.length;if(pe===0)return"";for(var Ce=0;Ce<pe;){var Le=Ne.charAt(pe-Ce-1);if(Le===ke&&!Te)Ce++;else if(Le!==ke&&Te)Ce++;else break}return Ne.substr(0,pe-Ce)}function A(Ne,ke){if(Ne.indexOf(ke[1])===-1)return-1;for(var Te=Ne.length,pe=0,Ce=0;Ce<Te;Ce++)if(Ne[Ce]==="\\")Ce++;else if(Ne[Ce]===ke[0])pe++;else if(Ne[Ce]===ke[1]&&(pe--,pe<0))return Ce;return-1}function P(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function F(Ne,ke){if(ke<1)return"";for(var Te="";ke>1;)ke&1&&(Te+=Ne),ke>>=1,Ne+=Ne;return Te+Ne}var R={escape:a,unescape:d,edit:r,cleanUrl:h,resolveUrl:_,noopTest:I,merge:E,splitCells:T,rtrim:k,findClosingBracket:A,checkSanitizeDeprecation:P,repeatString:F},M=D.exports.defaults,O=R.rtrim,L=R.splitCells,B=R.escape,x=R.findClosingBracket;function U(Ne,ke,Te,pe){var Ce=ke.href,Le=ke.title?B(ke.title):null,Se=Ne[1].replace(/\\([\[\]])/g,"$1");if(Ne[0].charAt(0)!=="!"){pe.state.inLink=!0;var be={type:"link",raw:Te,href:Ce,title:Le,text:Se,tokens:pe.inlineTokens(Se,[])};return pe.state.inLink=!1,be}else return{type:"image",raw:Te,href:Ce,title:Le,text:B(Se)}}function K(Ne,ke){var Te=Ne.match(/^(\s+)(?:```)/);if(Te===null)return ke;var pe=Te[1];return ke.split(`
`).map(function(Ce){var Le=Ce.match(/^\s+/);if(Le===null)return Ce;var Se=Le[0];return Se.length>=pe.length?Ce.slice(pe.length):Ce}).join(`
`)}var Z=function(){function Ne(Te){this.options=Te||M}var ke=Ne.prototype;return ke.space=function(pe){var Ce=this.rules.block.newline.exec(pe);if(Ce)return Ce[0].length>1?{type:"space",raw:Ce[0]}:{raw:`
`}},ke.code=function(pe){var Ce=this.rules.block.code.exec(pe);if(Ce){var Le=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?Le:O(Le,`
`)}}},ke.fences=function(pe){var Ce=this.rules.block.fences.exec(pe);if(Ce){var Le=Ce[0],Se=K(Le,Ce[3]||"");return{type:"code",raw:Le,lang:Ce[2]?Ce[2].trim():Ce[2],text:Se}}},ke.heading=function(pe){var Ce=this.rules.block.heading.exec(pe);if(Ce){var Le=Ce[2].trim();if(/#$/.test(Le)){var Se=O(Le,"#");(this.options.pedantic||!Se||/ $/.test(Se))&&(Le=Se.trim())}var be={type:"heading",raw:Ce[0],depth:Ce[1].length,text:Le,tokens:[]};return this.lexer.inline(be.text,be.tokens),be}},ke.hr=function(pe){var Ce=this.rules.block.hr.exec(pe);if(Ce)return{type:"hr",raw:Ce[0]}},ke.blockquote=function(pe){var Ce=this.rules.block.blockquote.exec(pe);if(Ce){var Le=Ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ce[0],tokens:this.lexer.blockTokens(Le,[]),text:Le}}},ke.list=function(pe){var Ce=this.rules.block.list.exec(pe);if(Ce){var Le,Se,be,Pe,Me,xe,je,qe,ze,Fe,We=Ce[1].trim(),$e=We.length>1,Ke={type:"list",raw:"",ordered:$e,start:$e?+We.slice(0,-1):"",loose:!1,items:[]};We=$e?"\\d{1,9}\\"+We.slice(-1):"\\"+We,this.options.pedantic&&(We=$e?We:"[*+-]");for(var Xe=new RegExp("^( {0,3}"+We+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");pe&&!(this.rules.block.hr.test(pe)||!(Ce=Xe.exec(pe)));){ze=Ce[2].split(`
`),this.options.pedantic?(Pe=2,Fe=ze[0].trimLeft()):(Pe=Ce[2].search(/[^ ]/),Pe=Ce[1].length+(Pe>4?1:Pe),Fe=ze[0].slice(Pe-Ce[1].length)),xe=!1,Le=Ce[0],!ze[0]&&/^ *$/.test(ze[1])&&(Le=Ce[1]+ze.slice(0,2).join(`
`)+`
`,Ke.loose=!0,ze=[]);var Qe=new RegExp("^ {0,"+Math.min(3,Pe-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Me=1;Me<ze.length;Me++){if(qe=ze[Me],this.options.pedantic&&(qe=qe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Qe.test(qe)){Le=Ce[1]+ze.slice(0,Me).join(`
`)+`
`;break}if(!xe){qe.trim()||(xe=!0),qe.search(/[^ ]/)>=Pe?Fe+=`
`+qe.slice(Pe):Fe+=`
`+qe;continue}if(qe.search(/[^ ]/)>=Pe||!qe.trim()){Fe+=`
`+qe.slice(Pe);continue}else{Le=Ce[1]+ze.slice(0,Me).join(`
`)+`
`;break}}Ke.loose||(je?Ke.loose=!0:/\n *\n *$/.test(Le)&&(je=!0)),this.options.gfm&&(Se=/^\[[ xX]\] /.exec(Fe),Se&&(be=Se[0]!=="[ ] ",Fe=Fe.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:Le,task:!!Se,checked:be,loose:!1,text:Fe}),Ke.raw+=Le,pe=pe.slice(Le.length)}Ke.items[Ke.items.length-1].raw=Le.trimRight(),Ke.items[Ke.items.length-1].text=Fe.trimRight(),Ke.raw=Ke.raw.trimRight();var Ye=Ke.items.length;for(Me=0;Me<Ye;Me++)this.lexer.state.top=!1,Ke.items[Me].tokens=this.lexer.blockTokens(Ke.items[Me].text,[]),Ke.items[Me].tokens.some(function(it){return it.type==="space"})&&(Ke.loose=!0,Ke.items[Me].loose=!0);return Ke}},ke.html=function(pe){var Ce=this.rules.block.html.exec(pe);if(Ce){var Le={type:"html",raw:Ce[0],pre:!this.options.sanitizer&&(Ce[1]==="pre"||Ce[1]==="script"||Ce[1]==="style"),text:Ce[0]};return this.options.sanitize&&(Le.type="paragraph",Le.text=this.options.sanitizer?this.options.sanitizer(Ce[0]):B(Ce[0]),Le.tokens=[],this.lexer.inline(Le.text,Le.tokens)),Le}},ke.def=function(pe){var Ce=this.rules.block.def.exec(pe);if(Ce){Ce[3]&&(Ce[3]=Ce[3].substring(1,Ce[3].length-1));var Le=Ce[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Le,raw:Ce[0],href:Ce[2],title:Ce[3]}}},ke.table=function(pe){var Ce=this.rules.block.table.exec(pe);if(Ce){var Le={type:"table",header:L(Ce[1]).map(function(je){return{text:je}}),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[]};if(Le.header.length===Le.align.length){Le.raw=Ce[0];var Se=Le.align.length,be,Pe,Me,xe;for(be=0;be<Se;be++)/^ *-+: *$/.test(Le.align[be])?Le.align[be]="right":/^ *:-+: *$/.test(Le.align[be])?Le.align[be]="center":/^ *:-+ *$/.test(Le.align[be])?Le.align[be]="left":Le.align[be]=null;for(Se=Le.rows.length,be=0;be<Se;be++)Le.rows[be]=L(Le.rows[be],Le.header.length).map(function(je){return{text:je}});for(Se=Le.header.length,Pe=0;Pe<Se;Pe++)Le.header[Pe].tokens=[],this.lexer.inlineTokens(Le.header[Pe].text,Le.header[Pe].tokens);for(Se=Le.rows.length,Pe=0;Pe<Se;Pe++)for(xe=Le.rows[Pe],Me=0;Me<xe.length;Me++)xe[Me].tokens=[],this.lexer.inlineTokens(xe[Me].text,xe[Me].tokens);return Le}}},ke.lheading=function(pe){var Ce=this.rules.block.lheading.exec(pe);if(Ce){var Le={type:"heading",raw:Ce[0],depth:Ce[2].charAt(0)==="="?1:2,text:Ce[1],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.paragraph=function(pe){var Ce=this.rules.block.paragraph.exec(pe);if(Ce){var Le={type:"paragraph",raw:Ce[0],text:Ce[1].charAt(Ce[1].length-1)===`
`?Ce[1].slice(0,-1):Ce[1],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.text=function(pe){var Ce=this.rules.block.text.exec(pe);if(Ce){var Le={type:"text",raw:Ce[0],text:Ce[0],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.escape=function(pe){var Ce=this.rules.inline.escape.exec(pe);if(Ce)return{type:"escape",raw:Ce[0],text:B(Ce[1])}},ke.tag=function(pe){var Ce=this.rules.inline.tag.exec(pe);if(Ce)return!this.lexer.state.inLink&&/^<a /i.test(Ce[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ce[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ce[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ce[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ce[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):B(Ce[0]):Ce[0]}},ke.link=function(pe){var Ce=this.rules.inline.link.exec(pe);if(Ce){var Le=Ce[2].trim();if(!this.options.pedantic&&/^</.test(Le)){if(!/>$/.test(Le))return;var Se=O(Le.slice(0,-1),"\\");if((Le.length-Se.length)%2==0)return}else{var be=x(Ce[2],"()");if(be>-1){var Pe=Ce[0].indexOf("!")===0?5:4,Me=Pe+Ce[1].length+be;Ce[2]=Ce[2].substring(0,be),Ce[0]=Ce[0].substring(0,Me).trim(),Ce[3]=""}}var xe=Ce[2],je="";if(this.options.pedantic){var qe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xe);qe&&(xe=qe[1],je=qe[3])}else je=Ce[3]?Ce[3].slice(1,-1):"";return xe=xe.trim(),/^</.test(xe)&&(this.options.pedantic&&!/>$/.test(Le)?xe=xe.slice(1):xe=xe.slice(1,-1)),U(Ce,{href:xe&&xe.replace(this.rules.inline._escapes,"$1"),title:je&&je.replace(this.rules.inline._escapes,"$1")},Ce[0],this.lexer)}},ke.reflink=function(pe,Ce){var Le;if((Le=this.rules.inline.reflink.exec(pe))||(Le=this.rules.inline.nolink.exec(pe))){var Se=(Le[2]||Le[1]).replace(/\s+/g," ");if(Se=Ce[Se.toLowerCase()],!Se||!Se.href){var be=Le[0].charAt(0);return{type:"text",raw:be,text:be}}return U(Le,Se,Le[0],this.lexer)}},ke.emStrong=function(pe,Ce,Le){Le===void 0&&(Le="");var Se=this.rules.inline.emStrong.lDelim.exec(pe);if(!!Se&&!(Se[3]&&Le.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var be=Se[1]||Se[2]||"";if(!be||be&&(Le===""||this.rules.inline.punctuation.exec(Le))){var Pe=Se[0].length-1,Me,xe,je=Pe,qe=0,ze=Se[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ze.lastIndex=0,Ce=Ce.slice(-1*pe.length+Pe);(Se=ze.exec(Ce))!=null;)if(Me=Se[1]||Se[2]||Se[3]||Se[4]||Se[5]||Se[6],!!Me){if(xe=Me.length,Se[3]||Se[4]){je+=xe;continue}else if((Se[5]||Se[6])&&Pe%3&&!((Pe+xe)%3)){qe+=xe;continue}if(je-=xe,!(je>0)){if(xe=Math.min(xe,xe+je+qe),Math.min(Pe,xe)%2){var Fe=pe.slice(1,Pe+Se.index+xe);return{type:"em",raw:pe.slice(0,Pe+Se.index+xe+1),text:Fe,tokens:this.lexer.inlineTokens(Fe,[])}}var We=pe.slice(2,Pe+Se.index+xe-1);return{type:"strong",raw:pe.slice(0,Pe+Se.index+xe+1),text:We,tokens:this.lexer.inlineTokens(We,[])}}}}}},ke.codespan=function(pe){var Ce=this.rules.inline.code.exec(pe);if(Ce){var Le=Ce[2].replace(/\n/g," "),Se=/[^ ]/.test(Le),be=/^ /.test(Le)&&/ $/.test(Le);return Se&&be&&(Le=Le.substring(1,Le.length-1)),Le=B(Le,!0),{type:"codespan",raw:Ce[0],text:Le}}},ke.br=function(pe){var Ce=this.rules.inline.br.exec(pe);if(Ce)return{type:"br",raw:Ce[0]}},ke.del=function(pe){var Ce=this.rules.inline.del.exec(pe);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2],tokens:this.lexer.inlineTokens(Ce[2],[])}},ke.autolink=function(pe,Ce){var Le=this.rules.inline.autolink.exec(pe);if(Le){var Se,be;return Le[2]==="@"?(Se=B(this.options.mangle?Ce(Le[1]):Le[1]),be="mailto:"+Se):(Se=B(Le[1]),be=Se),{type:"link",raw:Le[0],text:Se,href:be,tokens:[{type:"text",raw:Se,text:Se}]}}},ke.url=function(pe,Ce){var Le;if(Le=this.rules.inline.url.exec(pe)){var Se,be;if(Le[2]==="@")Se=B(this.options.mangle?Ce(Le[0]):Le[0]),be="mailto:"+Se;else{var Pe;do Pe=Le[0],Le[0]=this.rules.inline._backpedal.exec(Le[0])[0];while(Pe!==Le[0]);Se=B(Le[0]),Le[1]==="www."?be="http://"+Se:be=Se}return{type:"link",raw:Le[0],text:Se,href:be,tokens:[{type:"text",raw:Se,text:Se}]}}},ke.inlineText=function(pe,Ce){var Le=this.rules.inline.text.exec(pe);if(Le){var Se;return this.lexer.state.inRawBlock?Se=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Le[0]):B(Le[0]):Le[0]:Se=B(this.options.smartypants?Ce(Le[0]):Le[0]),{type:"text",raw:Le[0],text:Se}}},Ne}(),ee=R.noopTest,X=R.edit,ne=R.merge,Y={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:ee,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Y.def=X(Y.def).replace("label",Y._label).replace("title",Y._title).getRegex(),Y.bullet=/(?:[*+-]|\d{1,9}[.)])/,Y.listItemStart=X(/^( *)(bull) */).replace("bull",Y.bullet).getRegex(),Y.list=X(Y.list).replace(/bull/g,Y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Y.def.source+")").getRegex(),Y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Y.html=X(Y.html,"i").replace("comment",Y._comment).replace("tag",Y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Y.paragraph=X(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.blockquote=X(Y.blockquote).replace("paragraph",Y.paragraph).getRegex(),Y.normal=ne({},Y),Y.gfm=ne({},Y.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Y.gfm.table=X(Y.gfm.table).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.pedantic=ne({},Y.normal,{html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ee,paragraph:X(Y.normal._paragraph).replace("hr",Y.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ee,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ee,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};j._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",j.punctuation=X(j.punctuation).replace(/punctuation/g,j._punctuation).getRegex(),j.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,j.escapedEmSt=/\\\*|\\_/g,j._comment=X(Y._comment).replace("(?:-->|$)","-->").getRegex(),j.emStrong.lDelim=X(j.emStrong.lDelim).replace(/punct/g,j._punctuation).getRegex(),j.emStrong.rDelimAst=X(j.emStrong.rDelimAst,"g").replace(/punct/g,j._punctuation).getRegex(),j.emStrong.rDelimUnd=X(j.emStrong.rDelimUnd,"g").replace(/punct/g,j._punctuation).getRegex(),j._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,j.autolink=X(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex(),j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,j.tag=X(j.tag).replace("comment",j._comment).replace("attribute",j._attribute).getRegex(),j._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,j.link=X(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex(),j.reflink=X(j.reflink).replace("label",j._label).getRegex(),j.reflinkSearch=X(j.reflinkSearch,"g").replace("reflink",j.reflink).replace("nolink",j.nolink).getRegex(),j.normal=ne({},j),j.pedantic=ne({},j.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()}),j.gfm=ne({},j.normal,{escape:X(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),j.gfm.url=X(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex(),j.breaks=ne({},j.gfm,{br:X(j.br).replace("{2,}","*").getRegex(),text:X(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var W={block:Y,inline:j},V=Z,G=D.exports.defaults,oe=W.block,ce=W.inline,ie=R.repeatString;function de(Ne){return Ne.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function q(Ne){var ke="",Te,pe,Ce=Ne.length;for(Te=0;Te<Ce;Te++)pe=Ne.charCodeAt(Te),Math.random()>.5&&(pe="x"+pe.toString(16)),ke+="&#"+pe+";";return ke}var z=function(){function Ne(Te){this.tokens=[],this.tokens.links=Object.create(null),this.options=Te||G,this.options.tokenizer=this.options.tokenizer||new V,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var pe={block:oe.normal,inline:ce.normal};this.options.pedantic?(pe.block=oe.pedantic,pe.inline=ce.pedantic):this.options.gfm&&(pe.block=oe.gfm,this.options.breaks?pe.inline=ce.breaks:pe.inline=ce.gfm),this.tokenizer.rules=pe}Ne.lex=function(pe,Ce){var Le=new Ne(Ce);return Le.lex(pe)},Ne.lexInline=function(pe,Ce){var Le=new Ne(Ce);return Le.inlineTokens(pe)};var ke=Ne.prototype;return ke.lex=function(pe){pe=pe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(pe,this.tokens);for(var Ce;Ce=this.inlineQueue.shift();)this.inlineTokens(Ce.src,Ce.tokens);return this.tokens},ke.blockTokens=function(pe,Ce){var Le=this;Ce===void 0&&(Ce=[]),this.options.pedantic&&(pe=pe.replace(/^ +$/gm,""));for(var Se,be,Pe,Me;pe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(je){return(Se=je.call({lexer:Le},pe,Ce))?(pe=pe.substring(Se.raw.length),Ce.push(Se),!0):!1}))){if(Se=this.tokenizer.space(pe)){pe=pe.substring(Se.raw.length),Se.type&&Ce.push(Se);continue}if(Se=this.tokenizer.code(pe)){pe=pe.substring(Se.raw.length),be=Ce[Ce.length-1],be&&(be.type==="paragraph"||be.type==="text")?(be.raw+=`
`+Se.raw,be.text+=`
`+Se.text,this.inlineQueue[this.inlineQueue.length-1].src=be.text):Ce.push(Se);continue}if(Se=this.tokenizer.fences(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.heading(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.hr(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.blockquote(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.list(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.html(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.def(pe)){pe=pe.substring(Se.raw.length),be=Ce[Ce.length-1],be&&(be.type==="paragraph"||be.type==="text")?(be.raw+=`
`+Se.raw,be.text+=`
`+Se.raw,this.inlineQueue[this.inlineQueue.length-1].src=be.text):this.tokens.links[Se.tag]||(this.tokens.links[Se.tag]={href:Se.href,title:Se.title});continue}if(Se=this.tokenizer.table(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.lheading(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Pe=pe,this.options.extensions&&this.options.extensions.startBlock&&function(){var je=1/0,qe=pe.slice(1),ze=void 0;Le.options.extensions.startBlock.forEach(function(Fe){ze=Fe.call({lexer:this},qe),typeof ze=="number"&&ze>=0&&(je=Math.min(je,ze))}),je<1/0&&je>=0&&(Pe=pe.substring(0,je+1))}(),this.state.top&&(Se=this.tokenizer.paragraph(Pe))){be=Ce[Ce.length-1],Me&&be.type==="paragraph"?(be.raw+=`
`+Se.raw,be.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):Ce.push(Se),Me=Pe.length!==pe.length,pe=pe.substring(Se.raw.length);continue}if(Se=this.tokenizer.text(pe)){pe=pe.substring(Se.raw.length),be=Ce[Ce.length-1],be&&be.type==="text"?(be.raw+=`
`+Se.raw,be.text+=`
`+Se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):Ce.push(Se);continue}if(pe){var xe="Infinite loop on byte: "+pe.charCodeAt(0);if(this.options.silent){console.error(xe);break}else throw new Error(xe)}}return this.state.top=!0,Ce},ke.inline=function(pe,Ce){this.inlineQueue.push({src:pe,tokens:Ce})},ke.inlineTokens=function(pe,Ce){var Le=this;Ce===void 0&&(Ce=[]);var Se,be,Pe,Me=pe,xe,je,qe;if(this.tokens.links){var ze=Object.keys(this.tokens.links);if(ze.length>0)for(;(xe=this.tokenizer.rules.inline.reflinkSearch.exec(Me))!=null;)ze.includes(xe[0].slice(xe[0].lastIndexOf("[")+1,-1))&&(Me=Me.slice(0,xe.index)+"["+ie("a",xe[0].length-2)+"]"+Me.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(xe=this.tokenizer.rules.inline.blockSkip.exec(Me))!=null;)Me=Me.slice(0,xe.index)+"["+ie("a",xe[0].length-2)+"]"+Me.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(xe=this.tokenizer.rules.inline.escapedEmSt.exec(Me))!=null;)Me=Me.slice(0,xe.index)+"++"+Me.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;pe;)if(je||(qe=""),je=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(We){return(Se=We.call({lexer:Le},pe,Ce))?(pe=pe.substring(Se.raw.length),Ce.push(Se),!0):!1}))){if(Se=this.tokenizer.escape(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.tag(pe)){pe=pe.substring(Se.raw.length),be=Ce[Ce.length-1],be&&Se.type==="text"&&be.type==="text"?(be.raw+=Se.raw,be.text+=Se.text):Ce.push(Se);continue}if(Se=this.tokenizer.link(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.reflink(pe,this.tokens.links)){pe=pe.substring(Se.raw.length),be=Ce[Ce.length-1],be&&Se.type==="text"&&be.type==="text"?(be.raw+=Se.raw,be.text+=Se.text):Ce.push(Se);continue}if(Se=this.tokenizer.emStrong(pe,Me,qe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.codespan(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.br(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.del(pe)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Se=this.tokenizer.autolink(pe,q)){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(!this.state.inLink&&(Se=this.tokenizer.url(pe,q))){pe=pe.substring(Se.raw.length),Ce.push(Se);continue}if(Pe=pe,this.options.extensions&&this.options.extensions.startInline&&function(){var We=1/0,$e=pe.slice(1),Ke=void 0;Le.options.extensions.startInline.forEach(function(Xe){Ke=Xe.call({lexer:this},$e),typeof Ke=="number"&&Ke>=0&&(We=Math.min(We,Ke))}),We<1/0&&We>=0&&(Pe=pe.substring(0,We+1))}(),Se=this.tokenizer.inlineText(Pe,de)){pe=pe.substring(Se.raw.length),Se.raw.slice(-1)!=="_"&&(qe=Se.raw.slice(-1)),je=!0,be=Ce[Ce.length-1],be&&be.type==="text"?(be.raw+=Se.raw,be.text+=Se.text):Ce.push(Se);continue}if(pe){var Fe="Infinite loop on byte: "+pe.charCodeAt(0);if(this.options.silent){console.error(Fe);break}else throw new Error(Fe)}}return Ce},e(Ne,null,[{key:"rules",get:function(){return{block:oe,inline:ce}}}]),Ne}(),$=D.exports.defaults,se=R.cleanUrl,te=R.escape,ae=function(){function Ne(Te){this.options=Te||$}var ke=Ne.prototype;return ke.code=function(pe,Ce,Le){var Se=(Ce||"").match(/\S*/)[0];if(this.options.highlight){var be=this.options.highlight(pe,Se);be!=null&&be!==pe&&(Le=!0,pe=be)}return pe=pe.replace(/\n$/,"")+`
`,Se?'<pre><code class="'+this.options.langPrefix+te(Se,!0)+'">'+(Le?pe:te(pe,!0))+`</code></pre>
`:"<pre><code>"+(Le?pe:te(pe,!0))+`</code></pre>
`},ke.blockquote=function(pe){return`<blockquote>
`+pe+`</blockquote>
`},ke.html=function(pe){return pe},ke.heading=function(pe,Ce,Le,Se){return this.options.headerIds?"<h"+Ce+' id="'+this.options.headerPrefix+Se.slug(Le)+'">'+pe+"</h"+Ce+`>
`:"<h"+Ce+">"+pe+"</h"+Ce+`>
`},ke.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ke.list=function(pe,Ce,Le){var Se=Ce?"ol":"ul",be=Ce&&Le!==1?' start="'+Le+'"':"";return"<"+Se+be+`>
`+pe+"</"+Se+`>
`},ke.listitem=function(pe){return"<li>"+pe+`</li>
`},ke.checkbox=function(pe){return"<input "+(pe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ke.paragraph=function(pe){return"<p>"+pe+`</p>
`},ke.table=function(pe,Ce){return Ce&&(Ce="<tbody>"+Ce+"</tbody>"),`<table>
<thead>
`+pe+`</thead>
`+Ce+`</table>
`},ke.tablerow=function(pe){return`<tr>
`+pe+`</tr>
`},ke.tablecell=function(pe,Ce){var Le=Ce.header?"th":"td",Se=Ce.align?"<"+Le+' align="'+Ce.align+'">':"<"+Le+">";return Se+pe+"</"+Le+`>
`},ke.strong=function(pe){return"<strong>"+pe+"</strong>"},ke.em=function(pe){return"<em>"+pe+"</em>"},ke.codespan=function(pe){return"<code>"+pe+"</code>"},ke.br=function(){return this.options.xhtml?"<br/>":"<br>"},ke.del=function(pe){return"<del>"+pe+"</del>"},ke.link=function(pe,Ce,Le){if(pe=se(this.options.sanitize,this.options.baseUrl,pe),pe===null)return Le;var Se='<a href="'+te(pe)+'"';return Ce&&(Se+=' title="'+Ce+'"'),Se+=">"+Le+"</a>",Se},ke.image=function(pe,Ce,Le){if(pe=se(this.options.sanitize,this.options.baseUrl,pe),pe===null)return Le;var Se='<img src="'+pe+'" alt="'+Le+'"';return Ce&&(Se+=' title="'+Ce+'"'),Se+=this.options.xhtml?"/>":">",Se},ke.text=function(pe){return pe},Ne}(),me=function(){function Ne(){}var ke=Ne.prototype;return ke.strong=function(pe){return pe},ke.em=function(pe){return pe},ke.codespan=function(pe){return pe},ke.del=function(pe){return pe},ke.html=function(pe){return pe},ke.text=function(pe){return pe},ke.link=function(pe,Ce,Le){return""+Le},ke.image=function(pe,Ce,Le){return""+Le},ke.br=function(){return""},Ne}(),_e=function(){function Ne(){this.seen={}}var ke=Ne.prototype;return ke.serialize=function(pe){return pe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ke.getNextSafeSlug=function(pe,Ce){var Le=pe,Se=0;if(this.seen.hasOwnProperty(Le)){Se=this.seen[pe];do Se++,Le=pe+"-"+Se;while(this.seen.hasOwnProperty(Le))}return Ce||(this.seen[pe]=Se,this.seen[Le]=0),Le},ke.slug=function(pe,Ce){Ce===void 0&&(Ce={});var Le=this.serialize(pe);return this.getNextSafeSlug(Le,Ce.dryrun)},Ne}(),we=ae,le=me,he=_e,ue=D.exports.defaults,ve=R.unescape,re=function(){function Ne(Te){this.options=Te||ue,this.options.renderer=this.options.renderer||new we,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new le,this.slugger=new he}Ne.parse=function(pe,Ce){var Le=new Ne(Ce);return Le.parse(pe)},Ne.parseInline=function(pe,Ce){var Le=new Ne(Ce);return Le.parseInline(pe)};var ke=Ne.prototype;return ke.parse=function(pe,Ce){Ce===void 0&&(Ce=!0);var Le="",Se,be,Pe,Me,xe,je,qe,ze,Fe,We,$e,Ke,Xe,Qe,Ye,it,at,lt,ot,ct=pe.length;for(Se=0;Se<ct;Se++){if(We=pe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[We.type]&&(ot=this.options.extensions.renderers[We.type].call({parser:this},We),ot!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(We.type))){Le+=ot||"";continue}switch(We.type){case"space":continue;case"hr":{Le+=this.renderer.hr();continue}case"heading":{Le+=this.renderer.heading(this.parseInline(We.tokens),We.depth,ve(this.parseInline(We.tokens,this.textRenderer)),this.slugger);continue}case"code":{Le+=this.renderer.code(We.text,We.lang,We.escaped);continue}case"table":{for(ze="",qe="",Me=We.header.length,be=0;be<Me;be++)qe+=this.renderer.tablecell(this.parseInline(We.header[be].tokens),{header:!0,align:We.align[be]});for(ze+=this.renderer.tablerow(qe),Fe="",Me=We.rows.length,be=0;be<Me;be++){for(je=We.rows[be],qe="",xe=je.length,Pe=0;Pe<xe;Pe++)qe+=this.renderer.tablecell(this.parseInline(je[Pe].tokens),{header:!1,align:We.align[Pe]});Fe+=this.renderer.tablerow(qe)}Le+=this.renderer.table(ze,Fe);continue}case"blockquote":{Fe=this.parse(We.tokens),Le+=this.renderer.blockquote(Fe);continue}case"list":{for($e=We.ordered,Ke=We.start,Xe=We.loose,Me=We.items.length,Fe="",be=0;be<Me;be++)Ye=We.items[be],it=Ye.checked,at=Ye.task,Qe="",Ye.task&&(lt=this.renderer.checkbox(it),Xe?Ye.tokens.length>0&&Ye.tokens[0].type==="paragraph"?(Ye.tokens[0].text=lt+" "+Ye.tokens[0].text,Ye.tokens[0].tokens&&Ye.tokens[0].tokens.length>0&&Ye.tokens[0].tokens[0].type==="text"&&(Ye.tokens[0].tokens[0].text=lt+" "+Ye.tokens[0].tokens[0].text)):Ye.tokens.unshift({type:"text",text:lt}):Qe+=lt),Qe+=this.parse(Ye.tokens,Xe),Fe+=this.renderer.listitem(Qe,at,it);Le+=this.renderer.list(Fe,$e,Ke);continue}case"html":{Le+=this.renderer.html(We.text);continue}case"paragraph":{Le+=this.renderer.paragraph(this.parseInline(We.tokens));continue}case"text":{for(Fe=We.tokens?this.parseInline(We.tokens):We.text;Se+1<ct&&pe[Se+1].type==="text";)We=pe[++Se],Fe+=`
`+(We.tokens?this.parseInline(We.tokens):We.text);Le+=Ce?this.renderer.paragraph(Fe):Fe;continue}default:{var st='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error(st);return}else throw new Error(st)}}}return Le},ke.parseInline=function(pe,Ce){Ce=Ce||this.renderer;var Le="",Se,be,Pe,Me=pe.length;for(Se=0;Se<Me;Se++){if(be=pe[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(Pe=this.options.extensions.renderers[be.type].call({parser:this},be),Pe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(be.type))){Le+=Pe||"";continue}switch(be.type){case"escape":{Le+=Ce.text(be.text);break}case"html":{Le+=Ce.html(be.text);break}case"link":{Le+=Ce.link(be.href,be.title,this.parseInline(be.tokens,Ce));break}case"image":{Le+=Ce.image(be.href,be.title,be.text);break}case"strong":{Le+=Ce.strong(this.parseInline(be.tokens,Ce));break}case"em":{Le+=Ce.em(this.parseInline(be.tokens,Ce));break}case"codespan":{Le+=Ce.codespan(be.text);break}case"br":{Le+=Ce.br();break}case"del":{Le+=Ce.del(this.parseInline(be.tokens,Ce));break}case"text":{Le+=Ce.text(be.text);break}default:{var xe='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return Le},Ne}(),ge=z,ye=re,Ae=Z,Oe=ae,He=me,Ve=_e,Ge=R.merge,Je=R.checkSanitizeDeprecation,Ze=R.escape,et=D.exports.getDefaults,Ee=D.exports.changeDefaults,Ie=D.exports.defaults;function Re(Ne,ke,Te){if(typeof Ne=="undefined"||Ne===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if(typeof ke=="function"&&(Te=ke,ke=null),ke=Ge({},Re.defaults,ke||{}),Je(ke),Te){var pe=ke.highlight,Ce;try{Ce=ge.lex(Ne,ke)}catch(Pe){return Te(Pe)}var Le=function(Me){var xe;if(!Me)try{ke.walkTokens&&Re.walkTokens(Ce,ke.walkTokens),xe=ye.parse(Ce,ke)}catch(je){Me=je}return ke.highlight=pe,Me?Te(Me):Te(null,xe)};if(!pe||pe.length<3||(delete ke.highlight,!Ce.length))return Le();var Se=0;Re.walkTokens(Ce,function(Pe){Pe.type==="code"&&(Se++,setTimeout(function(){pe(Pe.text,Pe.lang,function(Me,xe){if(Me)return Le(Me);xe!=null&&xe!==Pe.text&&(Pe.text=xe,Pe.escaped=!0),Se--,Se===0&&Le()})},0))}),Se===0&&Le();return}try{var be=ge.lex(Ne,ke);return ke.walkTokens&&Re.walkTokens(be,ke.walkTokens),ye.parse(be,ke)}catch(Pe){if(Pe.message+=`
Please report this to https://github.com/markedjs/marked.`,ke.silent)return"<p>An error occurred:</p><pre>"+Ze(Pe.message+"",!0)+"</pre>";throw Pe}}Re.options=Re.setOptions=function(Ne){return Ge(Re.defaults,Ne),Ee(Re.defaults),Re},Re.getDefaults=et,Re.defaults=Ie,Re.use=function(){for(var Ne=this,ke=arguments.length,Te=new Array(ke),pe=0;pe<ke;pe++)Te[pe]=arguments[pe];var Ce=Ge.apply(void 0,[{}].concat(Te)),Le=Re.defaults.extensions||{renderers:{},childTokens:{}},Se;Te.forEach(function(be){if(be.extensions&&(Se=!0,be.extensions.forEach(function(Me){if(!Me.name)throw new Error("extension name required");if(Me.renderer){var xe=Le.renderers?Le.renderers[Me.name]:null;xe?Le.renderers[Me.name]=function(){for(var je=arguments.length,qe=new Array(je),ze=0;ze<je;ze++)qe[ze]=arguments[ze];var Fe=Me.renderer.apply(this,qe);return Fe===!1&&(Fe=xe.apply(this,qe)),Fe}:Le.renderers[Me.name]=Me.renderer}if(Me.tokenizer){if(!Me.level||Me.level!=="block"&&Me.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Le[Me.level]?Le[Me.level].unshift(Me.tokenizer):Le[Me.level]=[Me.tokenizer],Me.start&&(Me.level==="block"?Le.startBlock?Le.startBlock.push(Me.start):Le.startBlock=[Me.start]:Me.level==="inline"&&(Le.startInline?Le.startInline.push(Me.start):Le.startInline=[Me.start]))}Me.childTokens&&(Le.childTokens[Me.name]=Me.childTokens)})),be.renderer&&function(){var Me=Re.defaults.renderer||new Oe,xe=function(ze){var Fe=Me[ze];Me[ze]=function(){for(var We=arguments.length,$e=new Array(We),Ke=0;Ke<We;Ke++)$e[Ke]=arguments[Ke];var Xe=be.renderer[ze].apply(Me,$e);return Xe===!1&&(Xe=Fe.apply(Me,$e)),Xe}};for(var je in be.renderer)xe(je);Ce.renderer=Me}(),be.tokenizer&&function(){var Me=Re.defaults.tokenizer||new Ae,xe=function(ze){var Fe=Me[ze];Me[ze]=function(){for(var We=arguments.length,$e=new Array(We),Ke=0;Ke<We;Ke++)$e[Ke]=arguments[Ke];var Xe=be.tokenizer[ze].apply(Me,$e);return Xe===!1&&(Xe=Fe.apply(Me,$e)),Xe}};for(var je in be.tokenizer)xe(je);Ce.tokenizer=Me}(),be.walkTokens){var Pe=Re.defaults.walkTokens;Ce.walkTokens=function(Me){be.walkTokens.call(Ne,Me),Pe&&Pe(Me)}}Se&&(Ce.extensions=Le),Re.setOptions(Ce)})},Re.walkTokens=function(Ne,ke){for(var Te=function(){var Se=Ce.value;switch(ke(Se),Se.type){case"table":{for(var be=N(Se.header),Pe;!(Pe=be()).done;){var Me=Pe.value;Re.walkTokens(Me.tokens,ke)}for(var xe=N(Se.rows),je;!(je=xe()).done;)for(var qe=je.value,ze=N(qe),Fe;!(Fe=ze()).done;){var We=Fe.value;Re.walkTokens(We.tokens,ke)}break}case"list":{Re.walkTokens(Se.items,ke);break}default:Re.defaults.extensions&&Re.defaults.extensions.childTokens&&Re.defaults.extensions.childTokens[Se.type]?Re.defaults.extensions.childTokens[Se.type].forEach(function($e){Re.walkTokens(Se[$e],ke)}):Se.tokens&&Re.walkTokens(Se.tokens,ke)}},pe=N(Ne),Ce;!(Ce=pe()).done;)Te()},Re.parseInline=function(Ne,ke){if(typeof Ne=="undefined"||Ne===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");ke=Ge({},Re.defaults,ke||{}),Je(ke);try{var Te=ge.lexInline(Ne,ke);return ke.walkTokens&&Re.walkTokens(Te,ke.walkTokens),ye.parseInline(Te,ke)}catch(pe){if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,ke.silent)return"<p>An error occurred:</p><pre>"+Ze(pe.message+"",!0)+"</pre>";throw pe}},Re.Parser=ye,Re.parser=ye.parse,Re.Renderer=Oe,Re.TextRenderer=He,Re.Lexer=ge,Re.lexer=ge.lex,Re.Tokenizer=Ae,Re.Slugger=Ve,Re.parse=Re;var Ue=Re;return Ue}),define(Q[134],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0;var w;(function(C){C.text="text/plain",C.binary="application/octet-stream",C.unknown="application/unknown",C.markdown="text/markdown",C.latex="text/latex"})(w=e.Mimes||(e.Mimes={}))}),define(Q[163],J([0,1,134]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.Mimes.text,TERMINALS:"Terminals"};class C{constructor(D){this.data=D}update(){}getData(){return this.data}}e.DragAndDropData=C,e.StaticDND={CurrentDragAndDropData:void 0}}),define(Q[308],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class w{constructor(N,D=0,S=N.length,b=D-1){this.items=N,this.start=D,this.end=S,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=w}),define(Q[309],J([0,1,308]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class C{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new w.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=C}),define(Q[107],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function w(N,D,S){return Math.min(Math.max(N,D),S)}e.clamp=w;class C{constructor(){this._n=1,this._val=0}update(D){return this._val=this._val+(D-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=C}),define(Q[17],J([0,1]),function(H,e){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setTimeout0=e.language=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const C="en";let N=!1,D=!1,S=!1,b=!1,v=!1,u=!1,g=!1,t=!1,i,n=C,a,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const s=typeof((w=d==null?void 0:d.versions)===null||w===void 0?void 0:w.electron)=="string",r=s&&(d==null?void 0:d.type)==="renderer";if(typeof navigator=="object"&&!r)c=navigator.userAgent,N=c.indexOf("Windows")>=0,D=c.indexOf("Macintosh")>=0,t=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,u=!0,i=navigator.language,n=i;else if(typeof d=="object"){N=d.platform==="win32",D=d.platform==="darwin",S=d.platform==="linux",b=S&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,g=s,i=C,n=C;const y=d.env.VSCODE_NLS_CONFIG;if(y)try{const p=JSON.parse(y),f=p.availableLanguages["*"];i=p.locale,n=f||C,a=p._translationsConfigFile}catch{}v=!0}else console.error("Unable to resolve platform.");let o=0;D?o=1:N?o=3:S&&(o=2),e.isWindows=N,e.isMacintosh=D,e.isLinux=S,e.isNative=v,e.isWeb=u,e.isIOS=t,e.userAgent=c,e.language=n,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let y=[];e.globals.addEventListener("message",f=>{if(f.data&&f.data.vscodeScheduleAsyncWork)for(let _=0,I=y.length;_<I;_++){const E=y[_];if(E.id===f.data.vscodeScheduleAsyncWork){y.splice(_,1),E.callback();return}}});let p=0;return f=>{const _=++p;y.push({id:_,callback:f}),e.globals.postMessage({vscodeScheduleAsyncWork:_},"*")}}return y=>setTimeout(y)})(),e.OS=D||t?2:N?1:3;let l=!0,h=!1;function m(){if(!h){h=!0;const y=new Uint8Array(2);y[0]=1,y[1]=2,l=new Uint16Array(y.buffer)[0]===(2<<8)+1}return l}e.isLittleEndian=m}),define(Q[310],J([0,1,17]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let C;if(typeof w.globals.vscode!="undefined"&&typeof w.globals.vscode.process!="undefined"){const N=w.globals.vscode.process;C={get platform(){return N.platform},get arch(){return N.arch},get env(){return N.env},cwd(){return N.cwd()}}}else typeof process!="undefined"?C={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:C={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=C.cwd,e.env=C.env,e.platform=C.platform}),define(Q[79],J([0,1,310]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const C=65,N=97,D=90,S=122,b=46,v=47,u=92,g=58,t=63;class i extends Error{constructor(l,h,m){let y;typeof h=="string"&&h.indexOf("not ")===0?(y="must not be",h=h.replace(/^not /,"")):y="must be";const p=l.indexOf(".")!==-1?"property":"argument";let f=`The "${l}" ${p} ${y} of type ${h}`;f+=`. Received type ${typeof m}`;super(f);this.code="ERR_INVALID_ARG_TYPE"}}function n(o,l){if(typeof o!="string")throw new i(l,"string",o)}function a(o){return o===v||o===u}function c(o){return o===v}function d(o){return o>=C&&o<=D||o>=N&&o<=S}function s(o,l,h,m){let y="",p=0,f=-1,_=0,I=0;for(let E=0;E<=o.length;++E){if(E<o.length)I=o.charCodeAt(E);else{if(m(I))break;I=v}if(m(I)){if(!(f===E-1||_===1))if(_===2){if(y.length<2||p!==2||y.charCodeAt(y.length-1)!==b||y.charCodeAt(y.length-2)!==b){if(y.length>2){const T=y.lastIndexOf(h);T===-1?(y="",p=0):(y=y.slice(0,T),p=y.length-1-y.lastIndexOf(h)),f=E,_=0;continue}else if(y.length!==0){y="",p=0,f=E,_=0;continue}}l&&(y+=y.length>0?`${h}..`:"..",p=2)}else y.length>0?y+=`${h}${o.slice(f+1,E)}`:y=o.slice(f+1,E),p=E-f-1;f=E,_=0}else I===b&&_!==-1?++_:_=-1}return y}function r(o,l){if(l===null||typeof l!="object")throw new i("pathObject","Object",l);const h=l.dir||l.root,m=l.base||`${l.name||""}${l.ext||""}`;return h?h===l.root?`${h}${m}`:`${h}${o}${m}`:m}e.win32={resolve(...o){let l="",h="",m=!1;for(let y=o.length-1;y>=-1;y--){let p;if(y>=0){if(p=o[y],n(p,"path"),p.length===0)continue}else l.length===0?p=w.cwd():(p=w.env[`=${l}`]||w.cwd(),(p===void 0||p.slice(0,2).toLowerCase()!==l.toLowerCase()&&p.charCodeAt(2)===u)&&(p=`${l}\\`));const f=p.length;let _=0,I="",E=!1;const T=p.charCodeAt(0);if(f===1)a(T)&&(_=1,E=!0);else if(a(T))if(E=!0,a(p.charCodeAt(1))){let k=2,A=k;for(;k<f&&!a(p.charCodeAt(k));)k++;if(k<f&&k!==A){const P=p.slice(A,k);for(A=k;k<f&&a(p.charCodeAt(k));)k++;if(k<f&&k!==A){for(A=k;k<f&&!a(p.charCodeAt(k));)k++;(k===f||k!==A)&&(I=`\\\\${P}\\${p.slice(A,k)}`,_=k)}}}else _=1;else d(T)&&p.charCodeAt(1)===g&&(I=p.slice(0,2),_=2,f>2&&a(p.charCodeAt(2))&&(E=!0,_=3));if(I.length>0)if(l.length>0){if(I.toLowerCase()!==l.toLowerCase())continue}else l=I;if(m){if(l.length>0)break}else if(h=`${p.slice(_)}\\${h}`,m=E,E&&l.length>0)break}return h=s(h,!m,"\\",a),m?`${l}\\${h}`:`${l}${h}`||"."},normalize(o){n(o,"path");const l=o.length;if(l===0)return".";let h=0,m,y=!1;const p=o.charCodeAt(0);if(l===1)return c(p)?"\\":o;if(a(p))if(y=!0,a(o.charCodeAt(1))){let _=2,I=_;for(;_<l&&!a(o.charCodeAt(_));)_++;if(_<l&&_!==I){const E=o.slice(I,_);for(I=_;_<l&&a(o.charCodeAt(_));)_++;if(_<l&&_!==I){for(I=_;_<l&&!a(o.charCodeAt(_));)_++;if(_===l)return`\\\\${E}\\${o.slice(I)}\\`;_!==I&&(m=`\\\\${E}\\${o.slice(I,_)}`,h=_)}}}else h=1;else d(p)&&o.charCodeAt(1)===g&&(m=o.slice(0,2),h=2,l>2&&a(o.charCodeAt(2))&&(y=!0,h=3));let f=h<l?s(o.slice(h),!y,"\\",a):"";return f.length===0&&!y&&(f="."),f.length>0&&a(o.charCodeAt(l-1))&&(f+="\\"),m===void 0?y?`\\${f}`:f:y?`${m}\\${f}`:`${m}${f}`},isAbsolute(o){n(o,"path");const l=o.length;if(l===0)return!1;const h=o.charCodeAt(0);return a(h)||l>2&&d(h)&&o.charCodeAt(1)===g&&a(o.charCodeAt(2))},join(...o){if(o.length===0)return".";let l,h;for(let p=0;p<o.length;++p){const f=o[p];n(f,"path"),f.length>0&&(l===void 0?l=h=f:l+=`\\${f}`)}if(l===void 0)return".";let m=!0,y=0;if(typeof h=="string"&&a(h.charCodeAt(0))){++y;const p=h.length;p>1&&a(h.charCodeAt(1))&&(++y,p>2&&(a(h.charCodeAt(2))?++y:m=!1))}if(m){for(;y<l.length&&a(l.charCodeAt(y));)y++;y>=2&&(l=`\\${l.slice(y)}`)}return e.win32.normalize(l)},relative(o,l){if(n(o,"from"),n(l,"to"),o===l)return"";const h=e.win32.resolve(o),m=e.win32.resolve(l);if(h===m||(o=h.toLowerCase(),l=m.toLowerCase(),o===l))return"";let y=0;for(;y<o.length&&o.charCodeAt(y)===u;)y++;let p=o.length;for(;p-1>y&&o.charCodeAt(p-1)===u;)p--;const f=p-y;let _=0;for(;_<l.length&&l.charCodeAt(_)===u;)_++;let I=l.length;for(;I-1>_&&l.charCodeAt(I-1)===u;)I--;const E=I-_,T=f<E?f:E;let k=-1,A=0;for(;A<T;A++){const F=o.charCodeAt(y+A);if(F!==l.charCodeAt(_+A))break;F===u&&(k=A)}if(A!==T){if(k===-1)return m}else{if(E>T){if(l.charCodeAt(_+A)===u)return m.slice(_+A+1);if(A===2)return m.slice(_+A)}f>T&&(o.charCodeAt(y+A)===u?k=A:A===2&&(k=3)),k===-1&&(k=0)}let P="";for(A=y+k+1;A<=p;++A)(A===p||o.charCodeAt(A)===u)&&(P+=P.length===0?"..":"\\..");return _+=k,P.length>0?`${P}${m.slice(_,I)}`:(m.charCodeAt(_)===u&&++_,m.slice(_,I))},toNamespacedPath(o){if(typeof o!="string")return o;if(o.length===0)return"";const l=e.win32.resolve(o);if(l.length<=2)return o;if(l.charCodeAt(0)===u){if(l.charCodeAt(1)===u){const h=l.charCodeAt(2);if(h!==t&&h!==b)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(d(l.charCodeAt(0))&&l.charCodeAt(1)===g&&l.charCodeAt(2)===u)return`\\\\?\\${l}`;return o},dirname(o){n(o,"path");const l=o.length;if(l===0)return".";let h=-1,m=0;const y=o.charCodeAt(0);if(l===1)return a(y)?o:".";if(a(y)){if(h=m=1,a(o.charCodeAt(1))){let _=2,I=_;for(;_<l&&!a(o.charCodeAt(_));)_++;if(_<l&&_!==I){for(I=_;_<l&&a(o.charCodeAt(_));)_++;if(_<l&&_!==I){for(I=_;_<l&&!a(o.charCodeAt(_));)_++;if(_===l)return o;_!==I&&(h=m=_+1)}}}}else d(y)&&o.charCodeAt(1)===g&&(h=l>2&&a(o.charCodeAt(2))?3:2,m=h);let p=-1,f=!0;for(let _=l-1;_>=m;--_)if(a(o.charCodeAt(_))){if(!f){p=_;break}}else f=!1;if(p===-1){if(h===-1)return".";p=h}return o.slice(0,p)},basename(o,l){l!==void 0&&n(l,"ext"),n(o,"path");let h=0,m=-1,y=!0,p;if(o.length>=2&&d(o.charCodeAt(0))&&o.charCodeAt(1)===g&&(h=2),l!==void 0&&l.length>0&&l.length<=o.length){if(l===o)return"";let f=l.length-1,_=-1;for(p=o.length-1;p>=h;--p){const I=o.charCodeAt(p);if(a(I)){if(!y){h=p+1;break}}else _===-1&&(y=!1,_=p+1),f>=0&&(I===l.charCodeAt(f)?--f==-1&&(m=p):(f=-1,m=_))}return h===m?m=_:m===-1&&(m=o.length),o.slice(h,m)}for(p=o.length-1;p>=h;--p)if(a(o.charCodeAt(p))){if(!y){h=p+1;break}}else m===-1&&(y=!1,m=p+1);return m===-1?"":o.slice(h,m)},extname(o){n(o,"path");let l=0,h=-1,m=0,y=-1,p=!0,f=0;o.length>=2&&o.charCodeAt(1)===g&&d(o.charCodeAt(0))&&(l=m=2);for(let _=o.length-1;_>=l;--_){const I=o.charCodeAt(_);if(a(I)){if(!p){m=_+1;break}continue}y===-1&&(p=!1,y=_+1),I===b?h===-1?h=_:f!==1&&(f=1):h!==-1&&(f=-1)}return h===-1||y===-1||f===0||f===1&&h===y-1&&h===m+1?"":o.slice(h,y)},format:r.bind(null,"\\"),parse(o){n(o,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;const h=o.length;let m=0,y=o.charCodeAt(0);if(h===1)return a(y)?(l.root=l.dir=o,l):(l.base=l.name=o,l);if(a(y)){if(m=1,a(o.charCodeAt(1))){let k=2,A=k;for(;k<h&&!a(o.charCodeAt(k));)k++;if(k<h&&k!==A){for(A=k;k<h&&a(o.charCodeAt(k));)k++;if(k<h&&k!==A){for(A=k;k<h&&!a(o.charCodeAt(k));)k++;k===h?m=k:k!==A&&(m=k+1)}}}}else if(d(y)&&o.charCodeAt(1)===g){if(h<=2)return l.root=l.dir=o,l;if(m=2,a(o.charCodeAt(2))){if(h===3)return l.root=l.dir=o,l;m=3}}m>0&&(l.root=o.slice(0,m));let p=-1,f=m,_=-1,I=!0,E=o.length-1,T=0;for(;E>=m;--E){if(y=o.charCodeAt(E),a(y)){if(!I){f=E+1;break}continue}_===-1&&(I=!1,_=E+1),y===b?p===-1?p=E:T!==1&&(T=1):p!==-1&&(T=-1)}return _!==-1&&(p===-1||T===0||T===1&&p===_-1&&p===f+1?l.base=l.name=o.slice(f,_):(l.name=o.slice(f,p),l.base=o.slice(f,_),l.ext=o.slice(p,_))),f>0&&f!==m?l.dir=o.slice(0,f-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...o){let l="",h=!1;for(let m=o.length-1;m>=-1&&!h;m--){const y=m>=0?o[m]:w.cwd();n(y,"path"),y.length!==0&&(l=`${y}/${l}`,h=y.charCodeAt(0)===v)}return l=s(l,!h,"/",c),h?`/${l}`:l.length>0?l:"."},normalize(o){if(n(o,"path"),o.length===0)return".";const l=o.charCodeAt(0)===v,h=o.charCodeAt(o.length-1)===v;return o=s(o,!l,"/",c),o.length===0?l?"/":h?"./":".":(h&&(o+="/"),l?`/${o}`:o)},isAbsolute(o){return n(o,"path"),o.length>0&&o.charCodeAt(0)===v},join(...o){if(o.length===0)return".";let l;for(let h=0;h<o.length;++h){const m=o[h];n(m,"path"),m.length>0&&(l===void 0?l=m:l+=`/${m}`)}return l===void 0?".":e.posix.normalize(l)},relative(o,l){if(n(o,"from"),n(l,"to"),o===l||(o=e.posix.resolve(o),l=e.posix.resolve(l),o===l))return"";const h=1,m=o.length,y=m-h,p=1,f=l.length-p,_=y<f?y:f;let I=-1,E=0;for(;E<_;E++){const k=o.charCodeAt(h+E);if(k!==l.charCodeAt(p+E))break;k===v&&(I=E)}if(E===_)if(f>_){if(l.charCodeAt(p+E)===v)return l.slice(p+E+1);if(E===0)return l.slice(p+E)}else y>_&&(o.charCodeAt(h+E)===v?I=E:E===0&&(I=0));let T="";for(E=h+I+1;E<=m;++E)(E===m||o.charCodeAt(E)===v)&&(T+=T.length===0?"..":"/..");return`${T}${l.slice(p+I)}`},toNamespacedPath(o){return o},dirname(o){if(n(o,"path"),o.length===0)return".";const l=o.charCodeAt(0)===v;let h=-1,m=!0;for(let y=o.length-1;y>=1;--y)if(o.charCodeAt(y)===v){if(!m){h=y;break}}else m=!1;return h===-1?l?"/":".":l&&h===1?"//":o.slice(0,h)},basename(o,l){l!==void 0&&n(l,"ext"),n(o,"path");let h=0,m=-1,y=!0,p;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l===o)return"";let f=l.length-1,_=-1;for(p=o.length-1;p>=0;--p){const I=o.charCodeAt(p);if(I===v){if(!y){h=p+1;break}}else _===-1&&(y=!1,_=p+1),f>=0&&(I===l.charCodeAt(f)?--f==-1&&(m=p):(f=-1,m=_))}return h===m?m=_:m===-1&&(m=o.length),o.slice(h,m)}for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===v){if(!y){h=p+1;break}}else m===-1&&(y=!1,m=p+1);return m===-1?"":o.slice(h,m)},extname(o){n(o,"path");let l=-1,h=0,m=-1,y=!0,p=0;for(let f=o.length-1;f>=0;--f){const _=o.charCodeAt(f);if(_===v){if(!y){h=f+1;break}continue}m===-1&&(y=!1,m=f+1),_===b?l===-1?l=f:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||m===-1||p===0||p===1&&l===m-1&&l===h+1?"":o.slice(l,m)},format:r.bind(null,"/"),parse(o){n(o,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;const h=o.charCodeAt(0)===v;let m;h?(l.root="/",m=1):m=0;let y=-1,p=0,f=-1,_=!0,I=o.length-1,E=0;for(;I>=m;--I){const T=o.charCodeAt(I);if(T===v){if(!_){p=I+1;break}continue}f===-1&&(_=!1,f=I+1),T===b?y===-1?y=I:E!==1&&(E=1):y!==-1&&(E=-1)}if(f!==-1){const T=p===0&&h?1:p;y===-1||E===0||E===1&&y===f-1&&y===p+1?l.base=l.name=o.slice(T,f):(l.name=o.slice(T,y),l.base=o.slice(T,f),l.ext=o.slice(y,f))}return p>0?l.dir=o.slice(0,p-1):h&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=w.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=w.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=w.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=w.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=w.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=w.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=w.platform==="win32"?e.win32.sep:e.posix.sep}),define(Q[135],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var w;(function(C){function N(v,u){if(v.start>=u.end||u.start>=v.end)return{start:0,end:0};const g=Math.max(v.start,u.start),t=Math.min(v.end,u.end);return t-g<=0?{start:0,end:0}:{start:g,end:t}}C.intersect=N;function D(v){return v.end-v.start<=0}C.isEmpty=D;function S(v,u){return!D(N(v,u))}C.intersects=S;function b(v,u){const g=[],t={start:v.start,end:Math.min(u.start,v.end)},i={start:Math.max(u.end,v.start),end:v.end};return D(t)||g.push(t),D(i)||g.push(i),g}C.relativeComplement=b})(w=e.Range||(e.Range={}))}),define(Q[311],J([0,1,135]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function C(v,u){const g=[];for(let t of u){if(v.start>=t.range.end)continue;if(v.end<t.range.start)break;const i=w.Range.intersect(v,t.range);w.Range.isEmpty(i)||g.push({range:i,size:t.size})}return g}e.groupIntersect=C;function N({start:v,end:u},g){return{start:v+g,end:u+g}}e.shift=N;function D(v){const u=[];let g=null;for(let t of v){const i=t.range.start,n=t.range.end,a=t.size;if(g&&a===g.size){g.range.end=n;continue}g={range:{start:i,end:n},size:a},u.push(g)}return u}e.consolidate=D;function S(...v){return D(v.reduce((u,g)=>u.concat(g),[]))}class b{constructor(){this.groups=[],this._size=0}splice(u,g,t=[]){const i=t.length-g,n=C({start:0,end:u},this.groups),a=C({start:u+g,end:Number.POSITIVE_INFINITY},this.groups).map(d=>({range:N(d.range,i),size:d.size})),c=t.map((d,s)=>({range:{start:u+s,end:u+s+1},size:d.size}));this.groups=S(n,c,a),this._size=this.groups.reduce((d,s)=>d+s.size*(s.range.end-s.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let g=0,t=0;for(let i of this.groups){const n=i.range.end-i.range.start,a=t+n*i.size;if(u<a)return g+Math.floor((u-t)/i.size);g+=n,t=a}return g}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let g=0,t=0;for(let i of this.groups){const n=i.range.end-i.range.start,a=t+n;if(u<a)return g+(u-t)*i.size;g+=n*i.size,t=a}return-1}}e.RangeMap=b}),define(Q[87],J([0,1,17]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const C=w.globals.performance&&typeof w.globals.performance.now=="function";class N{constructor(S){this._highResolution=C&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new N(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.globals.performance.now():Date.now()}}e.StopWatch=N}),define(Q[4],J([0,1,14,2,78,87]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(c){c.None=()=>C.Disposable.None;function d(O){return(L,B=null,x)=>{let U=!1,K;return K=O(Z=>{if(!U)return K?K.dispose():U=!0,L.call(B,Z)},null,x),U&&K.dispose(),K}}c.once=d;function s(O,L){return y((B,x=null,U)=>O(K=>B.call(x,L(K)),null,U))}c.map=s;function r(O,L){return y((B,x=null,U)=>O(K=>{L(K),B.call(x,K)},null,U))}c.forEach=r;function o(O,L){return y((B,x=null,U)=>O(K=>L(K)&&B.call(x,K),null,U))}c.filter=o;function l(O){return O}c.signal=l;function h(...O){return(L,B=null,x)=>(0,C.combinedDisposable)(...O.map(U=>U(K=>L.call(B,K),null,x)))}c.any=h;function m(O,L,B){let x=B;return s(O,U=>(x=L(x,U),x))}c.reduce=m;function y(O){let L;const B=new g({onFirstListenerAdd(){L=O(B.fire,B)},onLastListenerRemove(){L.dispose()}});return B.event}function p(O,L,B,x=100,U=!1){let K,Z,ee=0;return O(X=>{ee++,K=B(K,X),U&&!Z&&(L(K),K=void 0),clearTimeout(Z),Z=setTimeout(()=>{const ne=K;K=void 0,Z=void 0,(!U||ee>1)&&L(ne),ee=0},x)})}c.debouncedListener=p;function f(O,L,B=100,x=!1,U){let K,Z,ee,X=0;const ne=new g({leakWarningThreshold:U,onFirstListenerAdd(){K=O(Y=>{X++,Z=L(Z,Y),x&&!ee&&(ne.fire(Z),Z=void 0),clearTimeout(ee),ee=setTimeout(()=>{const j=Z;Z=void 0,ee=void 0,(!x||X>1)&&ne.fire(j),X=0},B)})},onLastListenerRemove(){K.dispose()}});return ne.event}c.debounce=f;function _(O,L=(B,x)=>B===x){let B=!0,x;return o(O,U=>{const K=B||!L(U,x);return B=!1,x=U,K})}c.latch=_;function I(O,L){return[c.filter(O,L),c.filter(O,B=>!L(B))]}c.split=I;function E(O,L=!1,B=[]){let x=B.slice(),U=O(ee=>{x?x.push(ee):Z.fire(ee)});const K=()=>{x&&x.forEach(ee=>Z.fire(ee)),x=null},Z=new g({onFirstListenerAdd(){U||(U=O(ee=>Z.fire(ee)))},onFirstListenerDidAdd(){x&&(L?setTimeout(K):K())},onLastListenerRemove(){U&&U.dispose(),U=null}});return Z.event}c.buffer=E;class T{constructor(L){this.event=L}map(L){return new T(s(this.event,L))}forEach(L){return new T(r(this.event,L))}filter(L){return new T(o(this.event,L))}reduce(L,B){return new T(m(this.event,L,B))}latch(){return new T(_(this.event))}debounce(L,B=100,x=!1,U){return new T(f(this.event,L,B,x,U))}on(L,B,x){return this.event(L,B,x)}once(L,B,x){return d(this.event)(L,B,x)}}function k(O){return new T(O)}c.chain=k;function A(O,L,B=x=>x){const x=(...ee)=>Z.fire(B(...ee)),U=()=>O.on(L,x),K=()=>O.removeListener(L,x),Z=new g({onFirstListenerAdd:U,onLastListenerRemove:K});return Z.event}c.fromNodeEventEmitter=A;function P(O,L,B=x=>x){const x=(...ee)=>Z.fire(B(...ee)),U=()=>O.addEventListener(L,x),K=()=>O.removeEventListener(L,x),Z=new g({onFirstListenerAdd:U,onLastListenerRemove:K});return Z.event}c.fromDOMEventEmitter=P;function F(O){return new Promise(L=>d(O)(L))}c.toPromise=F;function R(O,L){return L(void 0),O(B=>L(B))}c.runAndSubscribe=R;function M(O,L){let B=null;function x(K){B==null||B.dispose(),B=new C.DisposableStore,L(K,B)}x(void 0);const U=O(K=>x(K));return(0,C.toDisposable)(()=>{U.dispose(),B==null||B.dispose()})}c.runAndSubscribeWithStore=M})(S=e.Event||(e.Event={}));class b{constructor(d){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${d}_${b._idPool++}`}start(d){this._stopWatch=new D.StopWatch(!0),this._listenerCount=d}stop(){if(this._stopWatch){const d=this._stopWatch.elapsed();this._elapsedOverall+=d,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${d.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}b._idPool=0;let v=-1;class u{constructor(d,s=Math.random().toString(18).slice(2,5)){this.customThreshold=d,this.name=s,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(d){let s=v;if(typeof this.customThreshold=="number"&&(s=this.customThreshold),s<=0||d<s)return;this._stacks||(this._stacks=new Map);const r=new Error().stack.split(`
`).slice(3).join(`
`),o=this._stacks.get(r)||0;if(this._stacks.set(r,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let l,h=0;for(const[m,y]of this._stacks)(!l||h<y)&&(l=m,h=y);console.warn(`[${this.name}] potential listener LEAK detected, having ${d} listeners already. MOST frequent listener (${h}):`),console.warn(l)}return()=>{const l=this._stacks.get(r)||0;this._stacks.set(r,l-1)}}}class g{constructor(d){var s;this._disposed=!1,this._options=d,this._leakageMon=v>0?new u(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((s=this._options)===null||s===void 0?void 0:s._profName)?new b(this._options._profName):void 0}get event(){return this._event||(this._event=(d,s,r)=>{var o;this._listeners||(this._listeners=new N.LinkedList);const l=this._listeners.isEmpty();l&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const h=this._listeners.push(s?[d,s]:d);l&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,d,s);const m=(o=this._leakageMon)===null||o===void 0?void 0:o.check(this._listeners.size),y=(0,C.toDisposable)(()=>{m&&m(),this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return r instanceof C.DisposableStore?r.add(y):Array.isArray(r)&&r.push(y),y}),this._event}fire(d){var s,r;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new N.LinkedList);for(let o of this._listeners)this._deliveryQueue.push([o,d]);for((s=this._perfMon)===null||s===void 0||s.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[o,l]=this._deliveryQueue.shift();try{typeof o=="function"?o.call(void 0,l):o[0].call(o[1],l)}catch(h){(0,w.onUnexpectedError)(h)}}(r=this._perfMon)===null||r===void 0||r.stop()}}dispose(){var d,s,r,o,l;this._disposed||(this._disposed=!0,(d=this._listeners)===null||d===void 0||d.clear(),(s=this._deliveryQueue)===null||s===void 0||s.clear(),(o=(r=this._options)===null||r===void 0?void 0:r.onLastListenerRemove)===null||o===void 0||o.call(r),(l=this._leakageMon)===null||l===void 0||l.dispose())}}e.Emitter=g;class t extends g{constructor(d){super(d);this._isPaused=0,this._eventQueue=new N.LinkedList,this._mergeFn=d==null?void 0:d.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const d=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(d))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(d){this._listeners&&(this._isPaused!==0?this._eventQueue.push(d):super.fire(d))}}e.PauseableEmitter=t;class i extends t{constructor(d){var s;super(d);this._delay=(s=d.delay)!==null&&s!==void 0?s:100}fire(d){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(d)}}e.DebounceEmitter=i;class n{constructor(){this.buffers=[]}wrapEvent(d){return(s,r,o)=>d(l=>{const h=this.buffers[this.buffers.length-1];h?h.push(()=>s.call(r,l)):s.call(r,l)},void 0,o)}bufferEvents(d){const s=[];this.buffers.push(s);const r=d();return this.buffers.pop(),s.forEach(o=>o()),r}}e.EventBufferer=n;class a{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=C.Disposable.None,this.emitter=new g({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(d){this.inputEvent=d,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=d(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=a}),define(Q[33],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isEdgeLegacyWebView=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class C{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new w.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let t=document.createElement("canvas").getContext("2d"),i=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/n}}C.INSTANCE=new C;function N(){return C.INSTANCE.getZoomLevel()}e.getZoomLevel=N;function D(){return C.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=D;function S(g){return C.INSTANCE.onDidChangeZoomLevel(g)}e.onDidChangeZoomLevel=S;function b(){return C.INSTANCE.getZoomFactor()}e.getZoomFactor=b;function v(){return C.INSTANCE.getPixelRatio()}e.getPixelRatio=v;const u=navigator.userAgent;e.isFirefox=u.indexOf("Firefox")>=0,e.isWebKit=u.indexOf("AppleWebKit")>=0,e.isChrome=u.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&u.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isEdgeLegacyWebView=u.indexOf("Edge/")>=0&&u.indexOf("WebView/")>=0,e.isElectron=u.indexOf("Electron/")>=0,e.isAndroid=u.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(Q[164],J([0,1,33,17]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:C.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:C.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>C.isNative||w.isStandalone?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(Q[88],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class C{constructor(S,b,v){const u=g=>this.emitter.fire(g);this.emitter=new w.Emitter({onFirstListenerAdd:()=>S.addEventListener(b,u,v),onLastListenerRemove:()=>S.removeEventListener(b,u,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=C;function N(D){return D.preventDefault(),D.stopPropagation(),D}e.stopEvent=N}),define(Q[46],J([0,1,33,55,94,17]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(i){if(i.charCode){let a=String.fromCharCode(i.charCode).toUpperCase();return C.KeyCodeUtils.fromString(a)}const n=i.keyCode;if(n===3)return 7;if(w.isFirefox){if(n===59)return 80;if(n===107)return 81;if(n===109)return 83;if(D.isMacintosh&&n===224)return 57}else if(w.isWebKit){if(n===91)return 57;if(D.isMacintosh&&n===93)return 57;if(!D.isMacintosh&&n===92)return 57}return C.EVENT_KEY_CODE_MAP[n]||0}const b=D.isMacintosh?256:2048,v=512,u=1024,g=D.isMacintosh?2048:256;class t{constructor(n){this._standardKeyboardEventBrand=!0;let a=n;this.browserEvent=a,this.target=a.target,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey,this.keyCode=S(a),this.code=a.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(n){return this._asKeybinding===n}_computeKeybinding(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let a=0;return this.ctrlKey&&(a|=b),this.altKey&&(a|=v),this.shiftKey&&(a|=u),this.metaKey&&(a|=g),a|=n,a}_computeRuntimeKeybinding(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=t}),define(Q[56],J([0,1,33,207,17]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);let u=C.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(v,u=0,g=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=g,this.deltaX=u,v){let t=v,i=v;if(typeof t.wheelDeltaY!="undefined")this.deltaY=t.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS!="undefined"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(v.type==="wheel"){const n=v;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!N.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof t.wheelDeltaX!="undefined")w.isSafari&&N.isWindows?this.deltaX=-(t.wheelDeltaX/120):this.deltaX=t.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS!="undefined"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const n=v;n.deltaMode===n.DOM_DELTA_LINE?w.isFirefox&&!N.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(Q[23],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const C=Object.freeze(function(b,v){const u=setTimeout(b.bind(v),0);return{dispose(){clearTimeout(u)}}});var N;(function(b){function v(u){return u===b.None||u===b.Cancelled||u instanceof D?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}b.isCancellationToken=v,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:C})})(N=e.CancellationToken||(e.CancellationToken={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?C:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=N.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=N.None}}e.CancellationTokenSource=S});var De=this&&this.__awaiter||function(H,e,w,C){function N(D){return D instanceof w?D:new w(function(S){S(D)})}return new(w||(w=Promise))(function(D,S){function b(g){try{u(C.next(g))}catch(t){S(t)}}function v(g){try{u(C.throw(g))}catch(t){S(t)}}function u(g){g.done?D(g.value):N(g.value).then(b,v)}u((C=C.apply(H,e||[])).next())})},Ct=this&&this.__asyncValues||function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=H[Symbol.asyncIterator],w;return e?e.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(D){w[D]=H[D]&&function(S){return new Promise(function(b,v){S=H[D](S),N(b,v,S.done,S.value)})}}function N(D,S,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},S)}};define(Q[10],J([0,1,23,14,4,2,17]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(I){return!!I&&typeof I.then=="function"}e.isThenable=b;function v(I){const E=new w.CancellationTokenSource,T=I(E.token),k=new Promise((A,P)=>{const F=E.token.onCancellationRequested(()=>{F.dispose(),E.dispose(),P((0,C.canceled)())});Promise.resolve(T).then(R=>{F.dispose(),E.dispose(),A(R)},R=>{F.dispose(),E.dispose(),P(R)})});return new class{cancel(){E.cancel()}then(A,P){return k.then(A,P)}catch(A){return this.then(void 0,A)}finally(A){return k.finally(A)}}}e.createCancelablePromise=v;function u(I,E,T){return Promise.race([I,new Promise(k=>E.onCancellationRequested(()=>k(T)))])}e.raceCancellation=u;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const T=()=>{this.queuedPromise=null;const k=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,k};this.queuedPromise=new Promise(k=>{this.activePromise.then(T,T).then(k)})}return new Promise((T,k)=>{this.queuedPromise.then(T,k)})}return this.activePromise=E(),new Promise((T,k)=>{this.activePromise.then(A=>{this.activePromise=null,T(A)},A=>{this.activePromise=null,k(A)})})}}e.Throttler=g;const t=(I,E)=>{let T=!0;const k=setTimeout(()=>{T=!1,E()},I);return{isTriggered:()=>T,dispose:()=>{clearTimeout(k),T=!1}}},i=I=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,I())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class n{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,T=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((A,P)=>{this.doResolve=A,this.doReject=P}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const A=this.task;return this.task=null,A()}}));const k=()=>{var A;this.deferred=null,(A=this.doResolve)===null||A===void 0||A.call(this,null)};return this.deferred=T===e.MicrotaskDelay?i(k):t(T,k),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,C.canceled)()),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=n;class a{constructor(E){this.delayer=new n(E),this.throttler=new g}trigger(E,T){return this.delayer.trigger(()=>this.throttler.queue(E),T)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=a;function c(I,E){return E?new Promise((T,k)=>{const A=setTimeout(()=>{P.dispose(),T()},I),P=E.onCancellationRequested(()=>{clearTimeout(A),P.dispose(),k((0,C.canceled)())})}):v(T=>c(I,T))}e.timeout=c;function d(I,E=0){const T=setTimeout(I,E);return(0,D.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=d;function s(I,E=k=>!!k,T=null){let k=0;const A=I.length,P=()=>{if(k>=A)return Promise.resolve(T);const F=I[k++];return Promise.resolve(F()).then(M=>E(M)?Promise.resolve(M):P())};return P()}e.first=s;class r{constructor(E,T){this._token=-1,typeof E=="function"&&typeof T=="number"&&this.setIfNotSet(E,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},T)}setIfNotSet(E,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},T))}}e.TimeoutTimer=r;class o{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,T){this.cancel(),this._token=setInterval(()=>{E()},T)}}e.IntervalTimer=o;class l{constructor(E,T){this.timeoutToken=-1,this.runner=E,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=l,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=I=>{(0,S.setTimeout0)(()=>{if(E)return;const T=Date.now()+15;I(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(I,E)=>{const T=requestIdleCallback(I,typeof E=="number"?{timeout:E}:void 0);let k=!1;return{dispose(){k||(k=!0,cancelIdleCallback(T))}}}}();class h{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=h;class m{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,T)=>{this.completeCallback=E,this.errorCallback=T})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(T=>{this.completeCallback(E),this.resolved=!0,T()})}cancel(){new Promise(E=>{this.errorCallback((0,C.canceled)()),this.rejected=!0,E()})}}e.DeferredPromise=m;var y;(function(I){function E(k){return De(this,void 0,void 0,function*(){let A;const P=yield Promise.all(k.map(F=>F.then(R=>R,R=>{A||(A=R)})));if(typeof A!="undefined")throw A;return P})}I.settled=E;function T(k){return new Promise((A,P)=>De(this,void 0,void 0,function*(){try{yield k(A,P)}catch(F){P(F)}}))}I.withAsyncBody=T})(y=e.Promises||(e.Promises={}));class p{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new N.Emitter,queueMicrotask(()=>De(this,void 0,void 0,function*(){const T={emitOne:k=>this.emitOne(k),emitMany:k=>this.emitMany(k),reject:k=>this.reject(k)};try{yield Promise.resolve(E(T)),this.resolve()}catch(k){this.reject(k)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}static fromArray(E){return new p(T=>{T.emitMany(E)})}static fromPromise(E){return new p(T=>De(this,void 0,void 0,function*(){T.emitMany(yield E)}))}static fromPromises(E){return new p(T=>De(this,void 0,void 0,function*(){yield Promise.all(E.map(k=>De(this,void 0,void 0,function*(){return T.emitOne(yield k)})))}))}static merge(E){return new p(T=>De(this,void 0,void 0,function*(){yield Promise.all(E.map(k=>{var A,P;return De(this,void 0,void 0,function*(){var F,R;try{for(A=Ct(k);P=yield A.next(),!P.done;){const M=P.value;T.emitOne(M)}}catch(M){F={error:M}}finally{try{P&&!P.done&&(R=A.return)&&(yield R.call(A))}finally{if(F)throw F.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>De(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield N.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,T){return new p(k=>De(this,void 0,void 0,function*(){var A,P;try{for(var F=Ct(E),R;R=yield F.next(),!R.done;){const M=R.value;k.emitOne(T(M))}}catch(M){A={error:M}}finally{try{R&&!R.done&&(P=F.return)&&(yield P.call(F))}finally{if(A)throw A.error}}}))}map(E){return p.map(this,E)}static filter(E,T){return new p(k=>De(this,void 0,void 0,function*(){var A,P;try{for(var F=Ct(E),R;R=yield F.next(),!R.done;){const M=R.value;T(M)&&k.emitOne(M)}}catch(M){A={error:M}}finally{try{R&&!R.done&&(P=F.return)&&(yield P.call(F))}finally{if(A)throw A.error}}}))}filter(E){return p.filter(this,E)}static coalesce(E){return p.filter(E,T=>!!T)}coalesce(){return p.coalesce(this)}static toPromise(E){var T,k,A,P;return De(this,void 0,void 0,function*(){const F=[];try{for(T=Ct(E);k=yield T.next(),!k.done;){const R=k.value;F.push(R)}}catch(R){A={error:R}}finally{try{k&&!k.done&&(P=T.return)&&(yield P.call(T))}finally{if(A)throw A.error}}return F})}toPromise(){return p.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class f extends p{constructor(E,T){super(T);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=f;function _(I){const E=new w.CancellationTokenSource,T=I(E.token);return new f(E,k=>De(this,void 0,void 0,function*(){var A,P;const F=E.token.onCancellationRequested(()=>{F.dispose(),E.dispose(),k.reject((0,C.canceled)())});try{try{for(var R=Ct(T),M;M=yield R.next(),!M.done;){const O=M.value;if(E.token.isCancellationRequested)return;k.emitOne(O)}}catch(O){A={error:O}}finally{try{M&&!M.done&&(P=R.return)&&(yield P.call(R))}finally{if(A)throw A.error}}F.dispose(),E.dispose()}catch(O){F.dispose(),E.dispose(),k.reject(O)}}))}e.createCancelableAsyncIterable=_}),define(Q[312],J([0,1,10,2]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class N extends C.Disposable{constructor(S,b,v){super();this._visibility=S,this._visibleClassName=b,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new w.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=N}),define(Q[313],J([0,1,10]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const C=new w.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),N=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(u,g,t=!1){const i=u||"",n=g||"",a=C.value.collator.compare(i,n);return C.value.collatorIsNumeric&&a===0&&i!==n?i<n?-1:1:a}e.compareFileNames=S;function b(u,g,t){const i=u.toLowerCase(),n=g.toLowerCase(),a=v(u,g,t);if(a)return a;const c=i.endsWith(t),d=n.endsWith(t);if(c!==d)return c?-1:1;const s=S(i,n);return s!==0?s:i.localeCompare(n)}e.compareAnything=b;function v(u,g,t){const i=u.toLowerCase(),n=g.toLowerCase(),a=i.startsWith(t),c=n.startsWith(t);if(a!==c)return a?-1:1;if(a&&c){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}e.compareByPrefix=v}),define(Q[136],J([0,1,4,2]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class N{constructor(n,a,c,d,s,r){this._scrollStateBrand=void 0,n=n|0,a=a|0,c=c|0,d=d|0,s=s|0,r=r|0,this.rawScrollLeft=c,this.rawScrollTop=r,n<0&&(n=0),c+n>a&&(c=a-n),c<0&&(c=0),d<0&&(d=0),r+d>s&&(r=s-d),r<0&&(r=0),this.width=n,this.scrollWidth=a,this.scrollLeft=c,this.height=d,this.scrollHeight=s,this.scrollTop=r}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,a){return new N(typeof n.width!="undefined"?n.width:this.width,typeof n.scrollWidth!="undefined"?n.scrollWidth:this.scrollWidth,a?this.rawScrollLeft:this.scrollLeft,typeof n.height!="undefined"?n.height:this.height,typeof n.scrollHeight!="undefined"?n.scrollHeight:this.scrollHeight,a?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new N(this.width,this.scrollWidth,typeof n.scrollLeft!="undefined"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop!="undefined"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,a){const c=this.width!==n.width,d=this.scrollWidth!==n.scrollWidth,s=this.scrollLeft!==n.scrollLeft,r=this.height!==n.height,o=this.scrollHeight!==n.scrollHeight,l=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:a,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:c,scrollWidthChanged:d,scrollLeftChanged:s,heightChanged:r,scrollHeightChanged:o,scrollTopChanged:l}}}e.ScrollState=N;class D extends C.Disposable{constructor(n,a){super();this._scrollableBrand=void 0,this._onScroll=this._register(new w.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=n,this._scheduleAtNextAnimationFrame=a,this._state=new N(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(n){this._smoothScrollDuration=n}validateScrollPosition(n){return this._state.withScrollPosition(n)}getScrollDimensions(){return this._state}setScrollDimensions(n,a){const c=this._state.withScrollDimensions(n,a);this._setState(c,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(n){const a=this._state.withScrollPosition(n);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(a,!1)}setScrollPositionSmooth(n,a){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(n);if(this._smoothScrolling){n={scrollLeft:typeof n.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:n.scrollTop};const c=this._state.withScrollPosition(n);if(this._smoothScrolling.to.scrollLeft===c.scrollLeft&&this._smoothScrolling.to.scrollTop===c.scrollTop)return;let d;a?d=new u(this._smoothScrolling.from,c,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,c,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const c=this._state.withScrollPosition(n);this._smoothScrolling=u.start(this._state,c,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const n=this._smoothScrolling.tick(),a=this._state.withScrollPosition(n);if(this._setState(a,!0),!!this._smoothScrolling){if(n.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(n,a){const c=this._state;c.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(c,a)))}}e.Scrollable=D;class S{constructor(n,a,c){this.scrollLeft=n,this.scrollTop=a,this.isDone=c}}e.SmoothScrollingUpdate=S;function b(i,n){const a=n-i;return function(c){return i+a*t(c)}}function v(i,n,a){return function(c){return c<a?i(c/a):n((c-a)/(1-a))}}class u{constructor(n,a,c,d){this.from=n,this.to=a,this.duration=d,this.startTime=c,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(n,a,c){if(Math.abs(n-a)>2.5*c){let s,r;return n<a?(s=n+.75*c,r=a-.75*c):(s=n-.75*c,r=a+.75*c),v(b(n,s),b(r,a),.33)}return b(n,a)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(n){const a=(n-this.startTime)/this.duration;if(a<1){const c=this.scrollLeft(a),d=this.scrollTop(a);return new S(c,d,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,a,c){return u.start(n,a,c)}static start(n,a,c){c=c+10;const d=Date.now()-10;return new u(n,a,d,c)}}e.SmoothScrollingOperation=u;function g(i){return Math.pow(i,3)}function t(i){return 1-g(1-i)}}),define(Q[8],J([0,1,306,133]),function(H,e,w,C){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(te){return!te||typeof te!="string"?!0:te.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function b(te,...ae){return ae.length===0?te:te.replace(S,function(me,_e){const we=parseInt(_e,10);return isNaN(we)||we<0||we>=ae.length?me:ae[we]})}e.format=b;function v(te){return te.replace(/[<>&]/g,function(ae){switch(ae){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ae}})}e.escape=v;function u(te){return te.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function g(te,ae=" "){const me=t(te,ae);return i(me,ae)}e.trim=g;function t(te,ae){if(!te||!ae)return te;const me=ae.length;if(me===0||te.length===0)return te;let _e=0;for(;te.indexOf(ae,_e)===_e;)_e=_e+me;return te.substring(_e)}e.ltrim=t;function i(te,ae){if(!te||!ae)return te;const me=ae.length,_e=te.length;if(me===0||_e===0)return te;let we=_e,le=-1;for(;le=te.lastIndexOf(ae,we-1),!(le===-1||le+me!==we);){if(le===0)return"";we=le}return te.substring(0,we)}e.rtrim=i;function n(te){return te.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function a(te){return te.replace(/\*/g,"")}e.stripWildcards=a;function c(te,ae,me={}){if(!te)throw new Error("Cannot create regex from empty string");ae||(te=u(te)),me.wholeWord&&(/\B/.test(te.charAt(0))||(te="\\b"+te),/\B/.test(te.charAt(te.length-1))||(te=te+"\\b"));let _e="";return me.global&&(_e+="g"),me.matchCase||(_e+="i"),me.multiline&&(_e+="m"),me.unicode&&(_e+="u"),new RegExp(te,_e)}e.createRegExp=c;function d(te){return te.source==="^"||te.source==="^$"||te.source==="$"||te.source==="^\\s*$"?!1:!!(te.exec("")&&te.lastIndex===0)}e.regExpLeadsToEndlessLoop=d;function s(te){return(te.global?"g":"")+(te.ignoreCase?"i":"")+(te.multiline?"m":"")+(te.unicode?"u":"")}e.regExpFlags=s;function r(te){return te.split(/\r\n|\r|\n/)}e.splitLines=r;function o(te){for(let ae=0,me=te.length;ae<me;ae++){const _e=te.charCodeAt(ae);if(_e!==32&&_e!==9)return ae}return-1}e.firstNonWhitespaceIndex=o;function l(te,ae=0,me=te.length){for(let _e=ae;_e<me;_e++){const we=te.charCodeAt(_e);if(we!==32&&we!==9)return te.substring(ae,_e)}return te.substring(ae,me)}e.getLeadingWhitespace=l;function h(te,ae=te.length-1){for(let me=ae;me>=0;me--){const _e=te.charCodeAt(me);if(_e!==32&&_e!==9)return me}return-1}e.lastNonWhitespaceIndex=h;function m(te,ae){return te<ae?-1:te>ae?1:0}e.compare=m;function y(te,ae,me=0,_e=te.length,we=0,le=ae.length){for(;me<_e&&we<le;me++,we++){let ve=te.charCodeAt(me),re=ae.charCodeAt(we);if(ve<re)return-1;if(ve>re)return 1}const he=_e-me,ue=le-we;return he<ue?-1:he>ue?1:0}e.compareSubstring=y;function p(te,ae){return f(te,ae,0,te.length,0,ae.length)}e.compareIgnoreCase=p;function f(te,ae,me=0,_e=te.length,we=0,le=ae.length){for(;me<_e&&we<le;me++,we++){let ve=te.charCodeAt(me),re=ae.charCodeAt(we);if(ve===re)continue;if(ve>=128||re>=128)return y(te.toLowerCase(),ae.toLowerCase(),me,_e,we,le);_(ve)&&(ve-=32),_(re)&&(re-=32);const ge=ve-re;if(ge!==0)return ge}const he=_e-me,ue=le-we;return he<ue?-1:he>ue?1:0}e.compareSubstringIgnoreCase=f;function _(te){return te>=97&&te<=122}e.isLowerAsciiLetter=_;function I(te){return te>=65&&te<=90}e.isUpperAsciiLetter=I;function E(te,ae){return te.length===ae.length&&f(te,ae)===0}e.equalsIgnoreCase=E;function T(te,ae){const me=ae.length;return ae.length>te.length?!1:f(te,ae,0,me)===0}e.startsWithIgnoreCase=T;function k(te,ae){let me,_e=Math.min(te.length,ae.length);for(me=0;me<_e;me++)if(te.charCodeAt(me)!==ae.charCodeAt(me))return me;return _e}e.commonPrefixLength=k;function A(te,ae){let me,_e=Math.min(te.length,ae.length);const we=te.length-1,le=ae.length-1;for(me=0;me<_e;me++)if(te.charCodeAt(we-me)!==ae.charCodeAt(le-me))return me;return _e}e.commonSuffixLength=A;function P(te){return 55296<=te&&te<=56319}e.isHighSurrogate=P;function F(te){return 56320<=te&&te<=57343}e.isLowSurrogate=F;function R(te,ae){return(te-55296<<10)+(ae-56320)+65536}e.computeCodePoint=R;function M(te,ae,me){const _e=te.charCodeAt(me);if(P(_e)&&me+1<ae){const we=te.charCodeAt(me+1);if(F(we))return R(_e,we)}return _e}e.getNextCodePoint=M;function O(te,ae){const me=te.charCodeAt(ae-1);if(F(me)&&ae>1){const _e=te.charCodeAt(ae-2);if(P(_e))return R(_e,me)}return me}class L{constructor(ae,me=0){this._str=ae,this._len=ae.length,this._offset=me}get offset(){return this._offset}setOffset(ae){this._offset=ae}prevCodePoint(){const ae=O(this._str,this._offset);return this._offset-=ae>=65536?2:1,ae}nextCodePoint(){const ae=M(this._str,this._len,this._offset);return this._offset+=ae>=65536?2:1,ae}eol(){return this._offset>=this._len}}e.CodePointIterator=L;class B{constructor(ae,me=0){this._iterator=new L(ae,me)}get offset(){return this._iterator.offset}nextGraphemeLength(){const ae=ce.getInstance(),me=this._iterator,_e=me.offset;let we=ae.getGraphemeBreakType(me.nextCodePoint());for(;!me.eol();){const le=me.offset,he=ae.getGraphemeBreakType(me.nextCodePoint());if(oe(we,he)){me.setOffset(le);break}we=he}return me.offset-_e}prevGraphemeLength(){const ae=ce.getInstance(),me=this._iterator,_e=me.offset;let we=ae.getGraphemeBreakType(me.prevCodePoint());for(;me.offset>0;){const le=me.offset,he=ae.getGraphemeBreakType(me.prevCodePoint());if(oe(he,we)){me.setOffset(le);break}we=he}return _e-me.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=B;function x(te,ae){return new B(te,ae).nextGraphemeLength()}e.nextCharLength=x;function U(te,ae){return new B(te,ae).prevGraphemeLength()}e.prevCharLength=U;const K=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Z(te){return K.test(te)}e.containsRTL=Z;const ee=/^[\t\n\r\x20-\x7E]*$/;function X(te){return ee.test(te)}e.isBasicASCII=X,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ne(te){return e.UNUSUAL_LINE_TERMINATORS.test(te)}e.containsUnusualLineTerminators=ne;function Y(te){return te>=11904&&te<=55215||te>=63744&&te<=64255||te>=65281&&te<=65374}e.isFullWidthCharacter=Y;function j(te){return te>=127462&&te<=127487||te===8986||te===8987||te===9200||te===9203||te>=9728&&te<=10175||te===11088||te===11093||te>=127744&&te<=128591||te>=128640&&te<=128764||te>=128992&&te<=129008||te>=129280&&te<=129535||te>=129648&&te<=129782}e.isEmojiImprecise=j,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function W(te){return!!(te&&te.length>0&&te.charCodeAt(0)===65279)}e.startsWithUTF8BOM=W;function V(te,ae=!1){return te?(ae&&(te=te.replace(/\\./g,"")),te.toLowerCase()!==te):!1}e.containsUppercaseCharacter=V;function G(te){const ae=90-65+1;return te=te%(2*ae),te<ae?String.fromCharCode(97+te):String.fromCharCode(65+te-ae)}e.singleLetterHash=G;function oe(te,ae){return te===0?ae!==5&&ae!==7:te===2&&ae===3?!1:te===4||te===2||te===3||ae===4||ae===2||ae===3?!0:!(te===8&&(ae===8||ae===9||ae===11||ae===12)||(te===11||te===9)&&(ae===9||ae===10)||(te===12||te===10)&&ae===10||ae===5||ae===13||ae===7||te===1||te===13&&ae===14||te===6&&ae===6)}class ce{constructor(){this._data=ie()}static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}getGraphemeBreakType(ae){if(ae<32)return ae===10?3:ae===13?2:4;if(ae<127)return 0;const me=this._data,_e=me.length/3;let we=1;for(;we<=_e;)if(ae<me[3*we])we=2*we;else if(ae>me[3*we+1])we=2*we+1;else return me[3*we+2];return 0}}ce._INSTANCE=null;function ie(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function de(te,ae){if(te===0)return 0;const me=q(te,ae);if(me!==void 0)return me;const _e=new L(ae,te);return _e.prevCodePoint(),_e.offset}e.getLeftDeleteOffset=de;function q(te,ae){const me=new L(ae,te);let _e=me.prevCodePoint();for(;z(_e)||_e===65039||_e===8419;){if(me.offset===0)return;_e=me.prevCodePoint()}if(!j(_e))return;let we=me.offset;return we>0&&me.prevCodePoint()===8205&&(we=me.offset),we}function z(te){return 127995<=te&&te<=127999}e.noBreakWhitespace="\xA0";class ${constructor(ae){this.confusableDictionary=ae}static getInstance(ae){return $.cache.get(Array.from(ae))}static getLocales(){return $._locales.getValue()}isAmbiguous(ae){return this.confusableDictionary.has(ae)}getPrimaryConfusable(ae){return this.confusableDictionary.get(ae)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=$,N=$,$.ambiguousCharacterData=new C.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),$.cache=new w.LRUCachedComputed(te=>{function ae(re){const ge=new Map;for(let ye=0;ye<re.length;ye+=2)ge.set(re[ye],re[ye+1]);return ge}function me(re,ge){const ye=new Map(re);for(const[Ae,Oe]of ge)ye.set(Ae,Oe);return ye}function _e(re,ge){if(!re)return ge;const ye=new Map;for(const[Ae,Oe]of re)ge.has(Ae)&&ye.set(Ae,Oe);return ye}const we=N.ambiguousCharacterData.getValue();let le=te.filter(re=>!re.startsWith("_")&&re in we);le.length===0&&(le=["_default"]);let he;for(const re of le){const ge=ae(we[re]);he=_e(he,ge)}const ue=ae(we._common),ve=me(ue,he);return new $(ve)}),$._locales=new C.Lazy(()=>Object.keys($.ambiguousCharacterData.getValue()).filter(te=>!te.startsWith("_")));class se{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(se.getRawData())),this._data}static isInvisibleCharacter(ae){return se.getData().has(ae)}static get codePoints(){return se.getData()}}e.InvisibleCharacters=se,se._data=void 0}),define(Q[165],J([0,1,79,17,8]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(n){return n===47||n===92}e.isPathSeparator=D;function S(n){return n.replace(/[\\/]/g,w.posix.sep)}e.toSlashes=S;function b(n){return n.indexOf("/")===-1&&(n=S(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=b;function v(n,a=w.posix.sep){if(!n)return"";const c=n.length,d=n.charCodeAt(0);if(D(d)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let r=3;const o=r;for(;r<c&&!D(n.charCodeAt(r));r++);if(o!==r&&!D(n.charCodeAt(r+1))){for(r+=1;r<c;r++)if(D(n.charCodeAt(r)))return n.slice(0,r+1).replace(/[\\/]/g,a)}}return a}else if(g(d)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+a:n.slice(0,2);let s=n.indexOf("://");if(s!==-1){for(s+=3;s<c;s++)if(D(n.charCodeAt(s)))return n.slice(0,s+1)}return""}e.getRoot=v;function u(n,a,c,d=w.sep){if(n===a)return!0;if(!n||!a||a.length>n.length)return!1;if(c){if(!(0,N.startsWithIgnoreCase)(n,a))return!1;if(a.length===n.length)return!0;let r=a.length;return a.charAt(a.length-1)===d&&r--,n.charAt(r)===d}return a.charAt(a.length-1)!==d&&(a+=d),n.indexOf(a)===0}e.isEqualOrParent=u;function g(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=g;function t(n){const a=(0,w.normalize)(n);return C.isWindows?n.length>3?!1:i(a)&&(n.length===2||a.charCodeAt(2)===92):a===w.posix.sep}e.isRootOrDriveLetter=t;function i(n,a){return(a!==void 0?a:C.isWindows)?g(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(Q[108],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function C(c){return N(c,0)}e.hash=C;function N(c,d){switch(typeof c){case"object":return c===null?D(349,d):Array.isArray(c)?v(c,d):u(c,d);case"string":return b(c,d);case"boolean":return S(c,d);case"number":return D(c,d);case"undefined":return D(937,d);default:return D(617,d)}}e.doHash=N;function D(c,d){return(d<<5)-d+c|0}e.numberHash=D;function S(c,d){return D(c?433:863,d)}function b(c,d){d=D(149417,d);for(let s=0,r=c.length;s<r;s++)d=D(c.charCodeAt(s),d);return d}e.stringHash=b;function v(c,d){return d=D(104579,d),c.reduce((s,r)=>N(r,s),d)}function u(c,d){return d=D(181387,d),Object.keys(c).sort().reduce((s,r)=>(s=b(r,s),N(c[r],s)),d)}function g(c,d,s=32){const r=s-d,o=~((1<<r)-1);return(c<<d|(o&c)>>>r)>>>0}function t(c,d=0,s=c.byteLength,r=0){for(let o=0;o<s;o++)c[d+o]=r}function i(c,d,s="0"){for(;c.length<d;)c=s+c;return c}function n(c,d=32){return c instanceof ArrayBuffer?Array.from(new Uint8Array(c)).map(s=>s.toString(16).padStart(2,"0")).join(""):i((c>>>0).toString(16),d/4)}e.toHexString=n;class a{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const s=d.length;if(s===0)return;const r=this._buff;let o=this._buffLen,l=this._leftoverHighSurrogate,h,m;for(l!==0?(h=l,m=-1,l=0):(h=d.charCodeAt(0),m=0);;){let y=h;if(w.isHighSurrogate(h))if(m+1<s){const p=d.charCodeAt(m+1);w.isLowSurrogate(p)?(m++,y=w.computeCodePoint(h,p)):y=65533}else{l=h;break}else w.isLowSurrogate(h)&&(y=65533);if(o=this._push(r,o,y),m++,m<s)h=d.charCodeAt(m);else break}this._buffLen=o,this._leftoverHighSurrogate=l}_push(d,s,r){return r<128?d[s++]=r:r<2048?(d[s++]=192|(r&1984)>>>6,d[s++]=128|(r&63)>>>0):r<65536?(d[s++]=224|(r&61440)>>>12,d[s++]=128|(r&4032)>>>6,d[s++]=128|(r&63)>>>0):(d[s++]=240|(r&1835008)>>>18,d[s++]=128|(r&258048)>>>12,d[s++]=128|(r&4032)>>>6,d[s++]=128|(r&63)>>>0),s>=64&&(this._step(),s-=64,this._totalLen+=64,d[0]=d[64+0],d[1]=d[64+1],d[2]=d[64+2]),s}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,t(this._buff,this._buffLen),this._buffLen>56&&(this._step(),t(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=a._bigBlock32,s=this._buffDV;for(let _=0;_<64;_+=4)d.setUint32(_,s.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)d.setUint32(_,g(d.getUint32(_-12,!1)^d.getUint32(_-32,!1)^d.getUint32(_-56,!1)^d.getUint32(_-64,!1),1),!1);let r=this._h0,o=this._h1,l=this._h2,h=this._h3,m=this._h4,y,p,f;for(let _=0;_<80;_++)_<20?(y=o&l|~o&h,p=1518500249):_<40?(y=o^l^h,p=1859775393):_<60?(y=o&l|o&h|l&h,p=2400959708):(y=o^l^h,p=3395469782),f=g(r,5)+y+m+p+d.getUint32(_*4,!1)&4294967295,m=h,h=l,l=g(o,30),o=r,r=f;this._h0=this._h0+r&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+m&4294967295}}e.StringSHA1=a,a._bigBlock32=new DataView(new ArrayBuffer(320))}),define(Q[137],J([0,1,307,108]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class N{constructor(t){this.source=t}getElements(){const t=this.source,i=new Int32Array(t.length);for(let n=0,a=t.length;n<a;n++)i[n]=t.charCodeAt(n);return i}}e.StringDiffSequence=N;function D(g,t,i){return new u(new N(g),new N(t)).ComputeDiff(i).changes}e.stringDiff=D;class S{static Assert(t,i){if(!t)throw new Error(i)}}e.Debug=S;class b{static Copy(t,i,n,a,c){for(let d=0;d<c;d++)n[a+d]=t[i+d]}static Copy2(t,i,n,a,c){for(let d=0;d<c;d++)n[a+d]=t[i+d]}}e.MyArray=b;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(t,i,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=t,this._modifiedSequence=i;const[a,c,d]=u._getElements(t),[s,r,o]=u._getElements(i);this._hasStrings=d&&o,this._originalStringElements=a,this._originalElementsOrHash=c,this._modifiedStringElements=s,this._modifiedElementsOrHash=r,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(t){return t.length>0&&typeof t[0]=="string"}static _getElements(t){const i=t.getElements();if(u._isStringArray(i)){const n=new Int32Array(i.length);for(let a=0,c=i.length;a<c;a++)n[a]=(0,C.stringHash)(i[a],0);return[i,n,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(t,i){if(!this.ElementsAreEqual(t,i))return!1;const n=u._getStrictElement(this._originalSequence,t),a=u._getStrictElement(this._modifiedSequence,i);return n===a}static _getStrictElement(t,i){return typeof t.getStrictElement=="function"?t.getStrictElement(i):null}OriginalElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(t,i){return this._modifiedElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[t]===this._modifiedStringElements[i]:!0}ComputeDiff(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)}_ComputeDiff(t,i,n,a,c){const d=[!1];let s=this.ComputeDiffRecursive(t,i,n,a,d);return c&&(s=this.PrettifyChanges(s)),{quitEarly:d[0],changes:s}}ComputeDiffRecursive(t,i,n,a,c){for(c[0]=!1;t<=i&&n<=a&&this.ElementsAreEqual(t,n);)t++,n++;for(;i>=t&&a>=n&&this.ElementsAreEqual(i,a);)i--,a--;if(t>i||n>a){let h;return n<=a?(S.Assert(t===i+1,"originalStart should only be one more than originalEnd"),h=[new w.DiffChange(t,0,n,a-n+1)]):t<=i?(S.Assert(n===a+1,"modifiedStart should only be one more than modifiedEnd"),h=[new w.DiffChange(t,i-t+1,n,0)]):(S.Assert(t===i+1,"originalStart should only be one more than originalEnd"),S.Assert(n===a+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const d=[0],s=[0],r=this.ComputeRecursionPoint(t,i,n,a,d,s,c),o=d[0],l=s[0];if(r!==null)return r;if(!c[0]){const h=this.ComputeDiffRecursive(t,o,n,l,c);let m=[];return c[0]?m=[new w.DiffChange(o+1,i-(o+1)+1,l+1,a-(l+1)+1)]:m=this.ComputeDiffRecursive(o+1,i,l+1,a,c),this.ConcatenateChanges(h,m)}return[new w.DiffChange(t,i-t+1,n,a-n+1)]}WALKTRACE(t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E){let T=null,k=null,A=new v,P=i,F=n,R=y[0]-_[0]-a,M=-1073741824,O=this.m_forwardHistory.length-1;do{const L=R+t;L===P||L<F&&o[L-1]<o[L+1]?(h=o[L+1],p=h-R-a,h<M&&A.MarkNextChange(),M=h,A.AddModifiedElement(h+1,p),R=L+1-t):(h=o[L-1]+1,p=h-R-a,h<M&&A.MarkNextChange(),M=h-1,A.AddOriginalElement(h,p+1),R=L-1-t),O>=0&&(o=this.m_forwardHistory[O],t=o[0],P=1,F=o.length-1)}while(--O>=-1);if(T=A.getReverseChanges(),E[0]){let L=y[0]+1,B=_[0]+1;if(T!==null&&T.length>0){const x=T[T.length-1];L=Math.max(L,x.getOriginalEnd()),B=Math.max(B,x.getModifiedEnd())}k=[new w.DiffChange(L,m-L+1,B,f-B+1)]}else{A=new v,P=d,F=s,R=y[0]-_[0]-r,M=1073741824,O=I?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const L=R+c;L===P||L<F&&l[L-1]>=l[L+1]?(h=l[L+1]-1,p=h-R-r,h>M&&A.MarkNextChange(),M=h+1,A.AddOriginalElement(h+1,p+1),R=L+1-c):(h=l[L-1],p=h-R-r,h>M&&A.MarkNextChange(),M=h,A.AddModifiedElement(h+1,p+1),R=L-1-c),O>=0&&(l=this.m_reverseHistory[O],c=l[0],P=1,F=l.length-1)}while(--O>=-1);k=A.getChanges()}return this.ConcatenateChanges(T,k)}ComputeRecursionPoint(t,i,n,a,c,d,s){let r=0,o=0,l=0,h=0,m=0,y=0;t--,n--,c[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=i-t+(a-n),f=p+1,_=new Int32Array(f),I=new Int32Array(f),E=a-n,T=i-t,k=t-n,A=i-a,F=(T-E)%2==0;_[E]=t,I[T]=i,s[0]=!1;for(let R=1;R<=p/2+1;R++){let M=0,O=0;l=this.ClipDiagonalBound(E-R,R,E,f),h=this.ClipDiagonalBound(E+R,R,E,f);for(let B=l;B<=h;B+=2){B===l||B<h&&_[B-1]<_[B+1]?r=_[B+1]:r=_[B-1]+1,o=r-(B-E)-k;const x=r;for(;r<i&&o<a&&this.ElementsAreEqual(r+1,o+1);)r++,o++;if(_[B]=r,r+o>M+O&&(M=r,O=o),!F&&Math.abs(B-T)<=R-1&&r>=I[B])return c[0]=r,d[0]=o,x<=I[B]&&1447>0&&R<=1447+1?this.WALKTRACE(E,l,h,k,T,m,y,A,_,I,r,i,c,o,a,d,F,s):null}const L=(M-t+(O-n)-R)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(M,L))return s[0]=!0,c[0]=M,d[0]=O,L>0&&1447>0&&R<=1447+1?this.WALKTRACE(E,l,h,k,T,m,y,A,_,I,r,i,c,o,a,d,F,s):(t++,n++,[new w.DiffChange(t,i-t+1,n,a-n+1)]);m=this.ClipDiagonalBound(T-R,R,T,f),y=this.ClipDiagonalBound(T+R,R,T,f);for(let B=m;B<=y;B+=2){B===m||B<y&&I[B-1]>=I[B+1]?r=I[B+1]-1:r=I[B-1],o=r-(B-T)-A;const x=r;for(;r>t&&o>n&&this.ElementsAreEqual(r,o);)r--,o--;if(I[B]=r,F&&Math.abs(B-E)<=R&&r<=_[B])return c[0]=r,d[0]=o,x>=_[B]&&1447>0&&R<=1447+1?this.WALKTRACE(E,l,h,k,T,m,y,A,_,I,r,i,c,o,a,d,F,s):null}if(R<=1447){let B=new Int32Array(h-l+2);B[0]=E-l+1,b.Copy2(_,l,B,1,h-l+1),this.m_forwardHistory.push(B),B=new Int32Array(y-m+2),B[0]=T-m+1,b.Copy2(I,m,B,1,y-m+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(E,l,h,k,T,m,y,A,_,I,r,i,c,o,a,d,F,s)}PrettifyChanges(t){for(let i=0;i<t.length;i++){const n=t[i],a=i<t.length-1?t[i+1].originalStart:this._originalElementsOrHash.length,c=i<t.length-1?t[i+1].modifiedStart:this._modifiedElementsOrHash.length,d=n.originalLength>0,s=n.modifiedLength>0;for(;n.originalStart+n.originalLength<a&&n.modifiedStart+n.modifiedLength<c&&(!d||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const o=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!o)break;n.originalStart++,n.modifiedStart++}let r=[null];if(i<t.length-1&&this.ChangesOverlap(t[i],t[i+1],r)){t[i]=r[0],t.splice(i+1,1),i--;continue}}for(let i=t.length-1;i>=0;i--){const n=t[i];let a=0,c=0;if(i>0){const h=t[i-1];a=h.originalStart+h.originalLength,c=h.modifiedStart+h.modifiedLength}const d=n.originalLength>0,s=n.modifiedLength>0;let r=0,o=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let h=1;;h++){const m=n.originalStart-h,y=n.modifiedStart-h;if(m<a||y<c||d&&!this.OriginalElementsAreEqual(m,m+n.originalLength)||s&&!this.ModifiedElementsAreEqual(y,y+n.modifiedLength))break;const f=(m===a&&y===c?5:0)+this._boundaryScore(m,n.originalLength,y,n.modifiedLength);f>o&&(o=f,r=h)}n.originalStart-=r,n.modifiedStart-=r;const l=[null];if(i>0&&this.ChangesOverlap(t[i-1],t[i],l)){t[i-1]=l[0],t.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,n=t.length;i<n;i++){const a=t[i-1],c=t[i],d=c.originalStart-a.originalStart-a.originalLength,s=a.originalStart,r=c.originalStart+c.originalLength,o=r-s,l=a.modifiedStart,h=c.modifiedStart+c.modifiedLength,m=h-l;if(d<5&&o<20&&m<20){const y=this._findBetterContiguousSequence(s,o,l,m,d);if(y){const[p,f]=y;(p!==a.originalStart+a.originalLength||f!==a.modifiedStart+a.modifiedLength)&&(a.originalLength=p-a.originalStart,a.modifiedLength=f-a.modifiedStart,c.originalStart=p+d,c.modifiedStart=f+d,c.originalLength=r-c.originalStart,c.modifiedLength=h-c.modifiedStart)}}}return t}_findBetterContiguousSequence(t,i,n,a,c){if(i<c||a<c)return null;const d=t+i-c+1,s=n+a-c+1;let r=0,o=0,l=0;for(let h=t;h<d;h++)for(let m=n;m<s;m++){const y=this._contiguousSequenceScore(h,m,c);y>0&&y>r&&(r=y,o=h,l=m)}return r>0?[o,l]:null}_contiguousSequenceScore(t,i,n){let a=0;for(let c=0;c<n;c++){if(!this.ElementsAreEqual(t+c,i+c))return 0;a+=this._originalStringElements[t+c].length}return a}_OriginalIsBoundary(t){return t<=0||t>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])}_OriginalRegionIsBoundary(t,i){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(t){return t<=0||t>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])}_ModifiedRegionIsBoundary(t,i){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(t,i,n,a){const c=this._OriginalRegionIsBoundary(t,i)?1:0,d=this._ModifiedRegionIsBoundary(n,a)?1:0;return c+d}ConcatenateChanges(t,i){let n=[];if(t.length===0||i.length===0)return i.length>0?i:t;if(this.ChangesOverlap(t[t.length-1],i[0],n)){const a=new Array(t.length+i.length-1);return b.Copy(t,0,a,0,t.length-1),a[t.length-1]=n[0],b.Copy(i,1,a,t.length,i.length-1),a}else{const a=new Array(t.length+i.length);return b.Copy(t,0,a,0,t.length),b.Copy(i,0,a,t.length,i.length),a}}ChangesOverlap(t,i,n){if(S.Assert(t.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),S.Assert(t.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=i.originalStart||t.modifiedStart+t.modifiedLength>=i.modifiedStart){const a=t.originalStart;let c=t.originalLength;const d=t.modifiedStart;let s=t.modifiedLength;return t.originalStart+t.originalLength>=i.originalStart&&(c=i.originalStart+i.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=i.modifiedStart&&(s=i.modifiedStart+i.modifiedLength-t.modifiedStart),n[0]=new w.DiffChange(a,c,d,s),!0}else return n[0]=null,!1}ClipDiagonalBound(t,i,n,a){if(t>=0&&t<a)return t;const c=n,d=a-n-1,s=i%2==0;if(t<0){const r=c%2==0;return s===r?0:1}else{const r=d%2==0;return s===r?a-1:a-2}}}e.LcsDiff=u}),define(Q[166],J([0,1,105,19,10,137,4,54]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=v;function u(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=u;function g(i){return typeof i.collapsible=="boolean"}class t{constructor(n,a,c,d={}){this.user=n,this.list=a,this.rootRef=[],this.eventBufferer=new S.EventBufferer,this._onDidChangeCollapseState=new S.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new S.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new S.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new N.Delayer(N.MicrotaskDelay),this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(n,a,c=b.Iterable.empty(),d={}){if(n.length===0)throw new w.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,n,a,c,d):this.spliceSimple(n,a,c,d)}spliceSmart(n,a,c,d,s,r){var o;d===void 0&&(d=b.Iterable.empty()),r===void 0&&(r=(o=s.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:l}=this.getParentNodeWithListIndex(a);if(!l.lastDiffIds)return this.spliceSimple(a,c,d,s);const h=[...d],m=a[a.length-1],y=new D.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,m),...h,...l.children.slice(m+c)].map(E=>n.getId(E.element).toString())}).ComputeDiff(!1);if(y.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(a,c,h,s);const p=a.slice(0,-1),f=(E,T,k)=>{if(r>0)for(let A=0;A<k;A++)E--,T--,this.spliceSmart(n,[...p,E,0],Number.MAX_SAFE_INTEGER,h[T].children,s,r-1)};let _=Math.min(l.children.length,m+c),I=h.length;for(const E of y.changes.sort((T,k)=>k.originalStart-T.originalStart))f(_,I,_-(E.originalStart+E.originalLength)),_=E.originalStart,I=E.modifiedStart-m,this.spliceSimple([...p,_],E.originalLength,b.Iterable.slice(h,I,I+E.modifiedLength),s);f(_,I,_)}spliceSimple(n,a,c=b.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:s,diffIdentityProvider:r}){const{parentNode:o,listIndex:l,revealed:h,visible:m}=this.getParentNodeWithListIndex(n),y=[],p=b.Iterable.map(c,M=>this.createTreeNode(M,o,o.visible?1:0,h,y,d)),f=n[n.length-1],_=o.children.length>0;let I=0;for(let M=f;M>=0&&M<o.children.length;M--){const O=o.children[M];if(O.visible){I=O.visibleChildIndex;break}}const E=[];let T=0,k=0;for(const M of p)E.push(M),k+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=I+T++);const A=(0,C.splice)(o.children,f,a,E);r?o.lastDiffIds?(0,C.splice)(o.lastDiffIds,f,a,E.map(M=>r.getId(M.element).toString())):o.lastDiffIds=o.children.map(M=>r.getId(M.element).toString()):o.lastDiffIds=void 0;let P=0;for(const M of A)M.visible&&P++;if(P!==0)for(let M=f+E.length;M<o.children.length;M++){const O=o.children[M];O.visible&&(O.visibleChildIndex-=P)}if(o.visibleChildrenCount+=T-P,h&&m){const M=A.reduce((O,L)=>O+(L.visible?L.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,k-M),this.list.splice(l,M,y)}if(A.length>0&&s){const M=O=>{s(O),O.children.forEach(M)};A.forEach(M)}const F=o.children.length>0;_!==F&&this.setCollapsible(n.slice(0,-1),F),this._onDidSplice.fire({insertedNodes:E,deletedNodes:A});let R=o;for(;R;){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(n){if(n.length===0)throw new w.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(n);a.visible&&d&&this.list.splice(c,1,[a])}has(n){return this.hasTreeNode(n)}getListIndex(n){const{listIndex:a,visible:c,revealed:d}=this.getTreeNodeWithListIndex(n);return c&&d?a:-1}getListRenderCount(n){return this.getTreeNode(n).renderNodeCount}isCollapsible(n){return this.getTreeNode(n).collapsible}setCollapsible(n,a){const c=this.getTreeNode(n);typeof a=="undefined"&&(a=!c.collapsible);const d={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,d))}isCollapsed(n){return this.getTreeNode(n).collapsed}setCollapsed(n,a,c){const d=this.getTreeNode(n);typeof a=="undefined"&&(a=!d.collapsed);const s={collapsed:a,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,s))}_setCollapseState(n,a){const{node:c,listIndex:d,revealed:s}=this.getTreeNodeWithListIndex(n),r=this._setListNodeCollapseState(c,d,s,a);if(c!==this.root&&this.autoExpandSingleChildren&&r&&!g(a)&&c.collapsible&&!c.collapsed&&!a.recursive){let o=-1;for(let l=0;l<c.children.length;l++)if(c.children[l].visible)if(o>-1){o=-1;break}else o=l;o>-1&&this._setCollapseState([...n,o],a)}return r}_setListNodeCollapseState(n,a,c,d){const s=this._setNodeCollapseState(n,d,!1);if(!c||!n.visible||!s)return s;const r=n.renderNodeCount,o=this.updateNodeAfterCollapseChange(n),l=r-(a===-1?0:1);return this.list.splice(a+1,l,o.slice(1)),s}_setNodeCollapseState(n,a,c){let d;if(n===this.root?d=!1:(g(a)?(d=n.collapsible!==a.collapsible,n.collapsible=a.collapsible):n.collapsible?(d=n.collapsed!==a.collapsed,n.collapsed=a.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:n,deep:c})),!g(a)&&a.recursive)for(const s of n.children)d=this._setNodeCollapseState(s,a,!0)||d;return d}expandTo(n){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(n);for(;a.parent;)a=a.parent,n=n.slice(0,n.length-1),a.collapsed&&this._setCollapseState(n,{collapsed:!1,recursive:!1})})}refilter(){const n=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,n,a),this.refilterDelayer.cancel()}createTreeNode(n,a,c,d,s,r){const o={parent:a,element:n.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof n.collapsible=="boolean"?n.collapsible:typeof n.collapsed!="undefined",collapsed:typeof n.collapsed=="undefined"?this.collapseByDefault:n.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(o,c);o.visibility=l,d&&s.push(o);const h=n.children||b.Iterable.empty(),m=d&&l!==0&&!o.collapsed,y=b.Iterable.map(h,_=>this.createTreeNode(_,o,l,m,s,r));let p=0,f=1;for(const _ of y)o.children.push(_),f+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=p++);return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=p,o.visible=l===2?p>0:l===1,o.visible?o.collapsed||(o.renderNodeCount=f):(o.renderNodeCount=0,d&&s.pop()),r&&r(o),o}updateNodeAfterCollapseChange(n){const a=n.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(n,c),this._updateAncestorsRenderNodeCount(n.parent,c.length-a),c}_updateNodeAfterCollapseChange(n,a){if(n.visible===!1)return 0;if(a.push(n),n.renderNodeCount=1,!n.collapsed)for(const c of n.children)n.renderNodeCount+=this._updateNodeAfterCollapseChange(c,a);return this._onDidChangeRenderNodeCount.fire(n),n.renderNodeCount}updateNodeAfterFilterChange(n){const a=n.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(n,n.visible?1:0,c),this._updateAncestorsRenderNodeCount(n.parent,c.length-a),c}_updateNodeAfterFilterChange(n,a,c,d=!0){let s;if(n!==this.root){if(s=this._filterNode(n,a),s===0)return n.visible=!1,n.renderNodeCount=0,!1;d&&c.push(n)}const r=c.length;n.renderNodeCount=n===this.root?0:1;let o=!1;if(!n.collapsed||s!==0){let l=0;for(const h of n.children)o=this._updateNodeAfterFilterChange(h,s,c,d&&!n.collapsed)||o,h.visible&&(h.visibleChildIndex=l++);n.visibleChildrenCount=l}else n.visibleChildrenCount=0;return n!==this.root&&(n.visible=s===2?o:s===1,n.visibility=s),n.visible?n.collapsed||(n.renderNodeCount+=c.length-r):(n.renderNodeCount=0,d&&c.pop()),this._onDidChangeRenderNodeCount.fire(n),n.visible}_updateAncestorsRenderNodeCount(n,a){if(a!==0)for(;n;)n.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(n),n=n.parent}_filterNode(n,a){const c=this.filter?this.filter.filter(n.element,a):1;return typeof c=="boolean"?(n.filterData=void 0,c?1:0):v(c)?(n.filterData=c.data,u(c.visibility)):(n.filterData=void 0,u(c))}hasTreeNode(n,a=this.root){if(!n||n.length===0)return!0;const[c,...d]=n;return c<0||c>a.children.length?!1:this.hasTreeNode(d,a.children[c])}getTreeNode(n,a=this.root){if(!n||n.length===0)return a;const[c,...d]=n;if(c<0||c>a.children.length)throw new w.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,a.children[c])}getTreeNodeWithListIndex(n){if(n.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:c,revealed:d,visible:s}=this.getParentNodeWithListIndex(n),r=n[n.length-1];if(r<0||r>a.children.length)throw new w.TreeError(this.user,"Invalid tree location");const o=a.children[r];return{node:o,listIndex:c,revealed:d,visible:s&&o.visible}}getParentNodeWithListIndex(n,a=this.root,c=0,d=!0,s=!0){const[r,...o]=n;if(r<0||r>a.children.length)throw new w.TreeError(this.user,"Invalid tree location");for(let l=0;l<r;l++)c+=a.children[l].renderNodeCount;return d=d&&!a.collapsed,s=s&&a.visible,o.length===0?{parentNode:a,listIndex:c,revealed:d,visible:s}:this.getParentNodeWithListIndex(o,a.children[r],c+1,d,s)}getNode(n=[]){return this.getTreeNode(n)}getNodeLocation(n){const a=[];let c=n;for(;c.parent;)a.push(c.parent.children.indexOf(c)),c=c.parent;return a.reverse()}getParentNodeLocation(n){if(n.length!==0)return n.length===1?[]:(0,C.tail2)(n)[0]}getFirstElementChild(n){const a=this.getTreeNode(n);if(a.children.length!==0)return a.children[0].element}}e.IndexTreeModel=t}),define(Q[167],J([0,1,166,105,54]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(b,v,u={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new w.IndexTreeModel(b,v,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(g,t){return u.sorter.compare(g.element,t.element)}}),this.identityProvider=u.identityProvider}setChildren(b,v=N.Iterable.empty(),u={}){const g=this.getElementLocation(b);this._setChildren(g,this.preserveCollapseState(v),u)}_setChildren(b,v=N.Iterable.empty(),u){const g=new Set,t=new Set,i=a=>{var c;if(a.element===null)return;const d=a;if(g.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const s=this.identityProvider.getId(d.element).toString();t.add(s),this.nodesByIdentity.set(s,d)}(c=u.onDidCreateNode)===null||c===void 0||c.call(u,d)},n=a=>{var c;if(a.element===null)return;const d=a;if(g.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const s=this.identityProvider.getId(d.element).toString();t.has(s)||this.nodesByIdentity.delete(s)}(c=u.onDidDeleteNode)===null||c===void 0||c.call(u,d)};this.model.splice([...b,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},u),{onDidCreateNode:i,onDidDeleteNode:n}))}preserveCollapseState(b=N.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),N.Iterable.map(b,v=>{let u=this.nodes.get(v.element);if(!u&&this.identityProvider){const i=this.identityProvider.getId(v.element).toString();u=this.nodesByIdentity.get(i)}if(!u)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const g=typeof v.collapsible=="boolean"?v.collapsible:u.collapsible,t=typeof v.collapsed!="undefined"?v.collapsed:u.collapsed;return Object.assign(Object.assign({},v),{collapsible:g,collapsed:t,children:this.preserveCollapseState(v.children)})})}rerender(b){const v=this.getElementLocation(b);this.model.rerender(v)}getFirstElementChild(b=null){const v=this.getElementLocation(b);return this.model.getFirstElementChild(v)}has(b){return this.nodes.has(b)}getListIndex(b){const v=this.getElementLocation(b);return this.model.getListIndex(v)}getListRenderCount(b){const v=this.getElementLocation(b);return this.model.getListRenderCount(v)}isCollapsible(b){const v=this.getElementLocation(b);return this.model.isCollapsible(v)}setCollapsible(b,v){const u=this.getElementLocation(b);return this.model.setCollapsible(u,v)}isCollapsed(b){const v=this.getElementLocation(b);return this.model.isCollapsed(v)}setCollapsed(b,v,u){const g=this.getElementLocation(b);return this.model.setCollapsed(g,v,u)}expandTo(b){const v=this.getElementLocation(b);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);return v}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new C.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);const u=this.model.getNodeLocation(v),g=this.model.getParentNodeLocation(u);return this.model.getNode(g).element}getElementLocation(b){if(b===null)return[];const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=D}),define(Q[314],J([0,1,167,105,4,54]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(r){const o=[r.element],l=r.incompressible||!1;return{element:{elements:o,incompressible:l},children:D.Iterable.map(D.Iterable.from(r.children),S),collapsible:r.collapsible,collapsed:r.collapsed}}function b(r){const o=[r.element],l=r.incompressible||!1;let h,m;for(;[m,h]=D.Iterable.consume(D.Iterable.from(r.children),2),!(m.length!==1||m[0].incompressible);)r=m[0],o.push(r.element);return{element:{elements:o,incompressible:l},children:D.Iterable.map(D.Iterable.concat(m,h),b),collapsible:r.collapsible,collapsed:r.collapsed}}e.compress=b;function v(r,o=0){let l;return o<r.element.elements.length-1?l=[v(r,o+1)]:l=D.Iterable.map(D.Iterable.from(r.children),h=>v(h,0)),o===0&&r.element.incompressible?{element:r.element.elements[o],children:l,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[o],children:l,collapsible:r.collapsible,collapsed:r.collapsed}}function u(r){return v(r,0)}e.decompress=u;function g(r,o,l){return r.element===o?Object.assign(Object.assign({},r),{children:l}):Object.assign(Object.assign({},r),{children:D.Iterable.map(D.Iterable.from(r.children),h=>g(h,o,l))})}const t=r=>({getId(o){return o.elements.map(l=>r.getId(l).toString()).join("\0")}});class i{constructor(o,l,h={}){this.user=o,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(o,l,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(o,l=D.Iterable.empty(),h){const m=h.diffIdentityProvider&&t(h.diffIdentityProvider);if(o===null){const A=D.Iterable.map(l,this.enabled?b:S);this._setChildren(null,A,{diffIdentityProvider:m,diffDepth:1/0});return}const y=this.nodes.get(o);if(!y)throw new Error("Unknown compressed tree node");const p=this.model.getNode(y),f=this.model.getParentNodeLocation(y),_=this.model.getNode(f),I=u(p),E=g(I,o,l),T=(this.enabled?b:S)(E),k=_.children.map(A=>A===p?T:A);this._setChildren(_.element,k,{diffIdentityProvider:m,diffDepth:p.depth-_.depth})}setCompressionEnabled(o){if(o===this.enabled)return;this.enabled=o;const h=this.model.getNode().children,m=D.Iterable.map(h,u),y=D.Iterable.map(m,o?b:S);this._setChildren(null,y,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(o,l,h){const m=new Set,y=f=>{for(const _ of f.element.elements)m.add(_),this.nodes.set(_,f.element)},p=f=>{for(const _ of f.element.elements)m.has(_)||this.nodes.delete(_)};this.model.setChildren(o,l,Object.assign(Object.assign({},h),{onDidCreateNode:y,onDidDeleteNode:p}))}has(o){return this.nodes.has(o)}getListIndex(o){const l=this.getCompressedNode(o);return this.model.getListIndex(l)}getListRenderCount(o){const l=this.getCompressedNode(o);return this.model.getListRenderCount(l)}getNode(o){if(typeof o=="undefined")return this.model.getNode();const l=this.getCompressedNode(o);return this.model.getNode(l)}getNodeLocation(o){const l=this.model.getNodeLocation(o);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(o){const l=this.getCompressedNode(o),h=this.model.getParentNodeLocation(l);return h===null?null:h.elements[h.elements.length-1]}getFirstElementChild(o){const l=this.getCompressedNode(o);return this.model.getFirstElementChild(l)}isCollapsible(o){const l=this.getCompressedNode(o);return this.model.isCollapsible(l)}setCollapsible(o,l){const h=this.getCompressedNode(o);return this.model.setCollapsible(h,l)}isCollapsed(o){const l=this.getCompressedNode(o);return this.model.isCollapsed(l)}setCollapsed(o,l,h){const m=this.getCompressedNode(o);return this.model.setCollapsed(m,l,h)}expandTo(o){const l=this.getCompressedNode(o);this.model.expandTo(l)}rerender(o){const l=this.getCompressedNode(o);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(o){if(o===null)return null;const l=this.nodes.get(o);if(!l)throw new C.TreeError(this.user,`Tree element not found: ${o}`);return l}}e.CompressedObjectTreeModel=i;const n=r=>r[r.length-1];e.DefaultElementMapper=n;class a{constructor(o,l){this.unwrapper=o,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(o=>new a(this.unwrapper,o))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function c(r,o){return{splice(l,h,m){o.splice(l,h,m.map(y=>r.map(y)))},updateElementHeight(l,h){o.updateElementHeight(l,h)}}}function d(r,o){return Object.assign(Object.assign({},o),{identityProvider:o.identityProvider&&{getId(l){return o.identityProvider.getId(r(l))}},sorter:o.sorter&&{compare(l,h){return o.sorter.compare(l.elements[0],h.elements[0])}},filter:o.filter&&{filter(l,h){return o.filter.filter(r(l),h)}}})}class s{constructor(o,l,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const m=y=>this.elementMapper(y.elements);this.nodeMapper=new C.WeakMapper(y=>new a(m,y)),this.model=new i(o,c(this.nodeMapper,l),d(m,h))}get onDidSplice(){return N.Event.map(this.model.onDidSplice,({insertedNodes:o,deletedNodes:l})=>({insertedNodes:o.map(h=>this.nodeMapper.map(h)),deletedNodes:l.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return N.Event.map(this.model.onDidChangeCollapseState,({node:o,deep:l})=>({node:this.nodeMapper.map(o),deep:l}))}get onDidChangeRenderNodeCount(){return N.Event.map(this.model.onDidChangeRenderNodeCount,o=>this.nodeMapper.map(o))}setChildren(o,l=D.Iterable.empty(),h={}){this.model.setChildren(o,l,h)}setCompressionEnabled(o){this.model.setCompressionEnabled(o)}has(o){return this.model.has(o)}getListIndex(o){return this.model.getListIndex(o)}getListRenderCount(o){return this.model.getListRenderCount(o)}getNode(o){return this.nodeMapper.map(this.model.getNode(o))}getNodeLocation(o){return o.element}getParentNodeLocation(o){return this.model.getParentNodeLocation(o)}getFirstElementChild(o){const l=this.model.getFirstElementChild(o);return l===null||typeof l=="undefined"?l:this.elementMapper(l.elements)}isCollapsible(o){return this.model.isCollapsible(o)}setCollapsible(o,l){return this.model.setCollapsible(o,l)}isCollapsed(o){return this.model.isCollapsed(o)}setCollapsed(o,l,h){return this.model.setCollapsed(o,l,h)}expandTo(o){return this.model.expandTo(o)}rerender(o){return this.model.rerender(o)}refilter(){return this.model.refilter()}getCompressedTreeNode(o=null){return this.model.getNode(o)}}e.CompressibleObjectTreeModel=s}),define(Q[47],J([0,1,8]),function(H,e,w){"use strict";var C,N;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class D{constructor(){this._value="",this._pos=0}reset(d){return this._value=d,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(d){const s=d.charCodeAt(0),r=this._value.charCodeAt(this._pos);return s-r}value(){return this._value[this._pos]}}e.StringIterator=D;class S{constructor(d=!0){this._caseSensitive=d}reset(d){return this._value=d,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let d=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(d)this._from++;else break;else d=!1;return this}cmp(d){return this._caseSensitive?(0,w.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=S;class b{constructor(d=!0,s=!0){this._splitOnBackslash=d,this._caseSensitive=s}reset(d){this._from=0,this._to=0,this._value=d,this._valueLen=d.length;for(let s=d.length-1;s>=0;s--,this._valueLen--){const r=this._value.charCodeAt(s);if(!(r===47||this._splitOnBackslash&&r===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let d=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(d)this._from++;else break;else d=!1}return this}cmp(d){return this._caseSensitive?(0,w.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class v{constructor(d){this._ignorePathCasing=d,this._states=[],this._stateIdx=0}reset(d){return this._value=d,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(d)),this._pathIterator.reset(d.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(d){if(this._states[this._stateIdx]===1)return(0,w.compareIgnoreCase)(d,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,w.compareIgnoreCase)(d,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(d);if(this._states[this._stateIdx]===4)return(0,w.compare)(d,this._value.query);if(this._states[this._stateIdx]===5)return(0,w.compare)(d,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=v;class u{constructor(){this.height=1}rotateLeft(){const d=this.right;return this.right=d.left,d.left=this,this.updateHeight(),d.updateHeight(),d}rotateRight(){const d=this.left;return this.left=d.right,d.right=this,this.updateHeight(),d.updateHeight(),d}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var d,s;return(s=(d=this.left)===null||d===void 0?void 0:d.height)!==null&&s!==void 0?s:0}get heightRight(){var d,s;return(s=(d=this.right)===null||d===void 0?void 0:d.height)!==null&&s!==void 0?s:0}}class g{constructor(d){this._iter=d}static forUris(d=()=>!1){return new g(new v(d))}static forStrings(){return new g(new D)}static forConfigKeys(){return new g(new S)}clear(){this._root=void 0}set(d,s){const r=this._iter.reset(d);let o;this._root||(this._root=new u,this._root.segment=r.value());const l=[];for(o=this._root;;){const m=r.cmp(o.segment);if(m>0)o.left||(o.left=new u,o.left.segment=r.value()),l.push([-1,o]),o=o.left;else if(m<0)o.right||(o.right=new u,o.right.segment=r.value()),l.push([1,o]),o=o.right;else if(r.hasNext())r.next(),o.mid||(o.mid=new u,o.mid.segment=r.value()),l.push([0,o]),o=o.mid;else break}const h=o.value;o.value=s,o.key=d;for(let m=l.length-1;m>=0;m--){const y=l[m][1];y.updateHeight();const p=y.balanceFactor();if(p<-1||p>1){const f=l[m][0],_=l[m+1][0];if(f===1&&_===1)l[m][1]=y.rotateLeft();else if(f===-1&&_===-1)l[m][1]=y.rotateRight();else if(f===1&&_===-1)y.right=l[m+1][1]=l[m+1][1].rotateRight(),l[m][1]=y.rotateLeft();else if(f===-1&&_===1)y.left=l[m+1][1]=l[m+1][1].rotateLeft(),l[m][1]=y.rotateRight();else throw new Error;if(m>0)switch(l[m-1][0]){case-1:l[m-1][1].left=l[m][1];break;case 1:l[m-1][1].right=l[m][1];break;case 0:l[m-1][1].mid=l[m][1];break}else this._root=l[0][1]}}return h}get(d){var s;return(s=this._getNode(d))===null||s===void 0?void 0:s.value}_getNode(d){const s=this._iter.reset(d);let r=this._root;for(;r;){const o=s.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(s.hasNext())s.next(),r=r.mid;else break}return r}has(d){const s=this._getNode(d);return!((s==null?void 0:s.value)===void 0&&(s==null?void 0:s.mid)===void 0)}delete(d){return this._delete(d,!1)}deleteSuperstr(d){return this._delete(d,!0)}_delete(d,s){var r;const o=this._iter.reset(d),l=[];let h=this._root;for(;h;){const m=o.cmp(h.segment);if(m>0)l.push([-1,h]),h=h.left;else if(m<0)l.push([1,h]),h=h.right;else if(o.hasNext())o.next(),l.push([0,h]),h=h.mid;else break}if(!!h){if(s?(h.left=void 0,h.mid=void 0,h.right=void 0,h.height=1):(h.key=void 0,h.value=void 0),!h.mid&&!h.value)if(h.left&&h.right){const m=this._min(h.right),{key:y,value:p,segment:f}=m;this._delete(m.key,!1),h.key=y,h.value=p,h.segment=f}else{const m=(r=h.left)!==null&&r!==void 0?r:h.right;if(l.length>0){const[y,p]=l[l.length-1];switch(y){case-1:p.left=m;break;case 0:p.mid=m;break;case 1:p.right=m;break}}else this._root=m}for(let m=l.length-1;m>=0;m--){const y=l[m][1];y.updateHeight();const p=y.balanceFactor();if(p>1?(y.right.balanceFactor()>=0||(y.right=y.right.rotateRight()),l[m][1]=y.rotateLeft()):p<-1&&(y.left.balanceFactor()<=0||(y.left=y.left.rotateLeft()),l[m][1]=y.rotateRight()),m>0)switch(l[m-1][0]){case-1:l[m-1][1].left=l[m][1];break;case 1:l[m-1][1].right=l[m][1];break;case 0:l[m-1][1].mid=l[m][1];break}else this._root=l[0][1]}}}_min(d){for(;d.left;)d=d.left;return d}findSubstr(d){const s=this._iter.reset(d);let r=this._root,o;for(;r;){const l=s.cmp(r.segment);if(l>0)r=r.left;else if(l<0)r=r.right;else if(s.hasNext())s.next(),o=r.value||o,r=r.mid;else break}return r&&r.value||o}findSuperstr(d){const s=this._iter.reset(d);let r=this._root;for(;r;){const o=s.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(s.hasNext())s.next(),r=r.mid;else return r.mid?this._entries(r.mid):void 0}}forEach(d){for(const[s,r]of this)d(r,s)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(d){!d||(d.left&&(yield*this._entries(d.left)),d.value&&(yield[d.key,d.value]),d.mid&&(yield*this._entries(d.mid)),d.right&&(yield*this._entries(d.right)))}}e.TernarySearchTree=g;class t{constructor(d,s){this.uri=d,this.value=s}}class i{constructor(d,s){this[C]="ResourceMap",d instanceof i?(this.map=new Map(d.map),this.toKey=s??i.defaultToKey):(this.map=new Map,this.toKey=d??i.defaultToKey)}set(d,s){return this.map.set(this.toKey(d),new t(d,s)),this}get(d){var s;return(s=this.map.get(this.toKey(d)))===null||s===void 0?void 0:s.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,s){typeof s!="undefined"&&(d=d.bind(s));for(let[r,o]of this.map)d(o.value,o.uri,this)}*values(){for(let d of this.map.values())yield d.value}*keys(){for(let d of this.map.values())yield d.uri}*entries(){for(let d of this.map.values())yield[d.uri,d.value]}*[(C=Symbol.toStringTag,Symbol.iterator)](){for(let[,d]of this.map)yield[d.uri,d.value]}}e.ResourceMap=i,i.defaultToKey=c=>c.toString();class n{constructor(){this[N]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var d;return(d=this._head)===null||d===void 0?void 0:d.value}get last(){var d;return(d=this._tail)===null||d===void 0?void 0:d.value}has(d){return this._map.has(d)}get(d,s=0){const r=this._map.get(d);if(!!r)return s!==0&&this.touch(r,s),r.value}set(d,s,r=0){let o=this._map.get(d);if(o)o.value=s,r!==0&&this.touch(o,r);else{switch(o={key:d,value:s,next:void 0,previous:void 0},r){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(d,o),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const s=this._map.get(d);if(!!s)return this._map.delete(d),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,s){const r=this._state;let o=this._head;for(;o;){if(s?d.bind(s)(o.value,o.key,this):d(o.value,o.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const d=this,s=this._state;let r=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==s)throw new Error("LinkedMap got modified during iteration.");if(r){const l={value:r.key,done:!1};return r=r.next,l}else return{value:void 0,done:!0}}};return o}values(){const d=this,s=this._state;let r=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==s)throw new Error("LinkedMap got modified during iteration.");if(r){const l={value:r.value,done:!1};return r=r.next,l}else return{value:void 0,done:!0}}};return o}entries(){const d=this,s=this._state;let r=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==s)throw new Error("LinkedMap got modified during iteration.");if(r){const l={value:[r.key,r.value],done:!1};return r=r.next,l}else return{value:void 0,done:!0}}};return o}[(N=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(d===0){this.clear();return}let s=this._head,r=this.size;for(;s&&r>d;)this._map.delete(s.key),s=s.next,r--;this._head=s,this._size=r,s&&(s.previous=void 0),this._state++}addItemFirst(d){if(!this._head&&!this._tail)this._tail=d;else if(this._head)d.next=this._head,this._head.previous=d;else throw new Error("Invalid list");this._head=d,this._state++}addItemLast(d){if(!this._head&&!this._tail)this._head=d;else if(this._tail)d.previous=this._tail,this._tail.next=d;else throw new Error("Invalid list");this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const s=d.next,r=d.previous;if(!s||!r)throw new Error("Invalid list");s.previous=r,r.next=s}d.next=void 0,d.previous=void 0,this._state++}touch(d,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==1&&s!==2)){if(s===1){if(d===this._head)return;const r=d.next,o=d.previous;d===this._tail?(o.next=void 0,this._tail=o):(r.previous=o,o.next=r),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(s===2){if(d===this._tail)return;const r=d.next,o=d.previous;d===this._head?(r.previous=void 0,this._head=r):(r.previous=o,o.next=r),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}}toJSON(){const d=[];return this.forEach((s,r)=>{d.push([r,s])}),d}fromJSON(d){this.clear();for(const[s,r]of d)this.set(s,r)}}e.LinkedMap=n;class a extends n{constructor(d,s=1){super();this._limit=d,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,s=2){return super.get(d,s)}peek(d){return super.get(d,0)}set(d,s){return super.set(d,s,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=a}),define(Q[72],J([0,1,47,8]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function N(...z){return function($,se){for(let te=0,ae=z.length;te<ae;te++){const me=z[te]($,se);if(me)return me}return null}}e.or=N,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(z,$,se){if(!se||se.length<$.length)return null;let te;return z?te=C.startsWithIgnoreCase(se,$):te=se.indexOf($)===0,te?$.length>0?[{start:0,end:$.length}]:[]:null}function S(z,$){const se=$.toLowerCase().indexOf(z.toLowerCase());return se===-1?null:[{start:se,end:se+z.length}]}e.matchesContiguousSubString=S;function b(z,$){return v(z.toLowerCase(),$.toLowerCase(),0,0)}e.matchesSubString=b;function v(z,$,se,te){if(se===z.length)return[];if(te===$.length)return null;if(z[se]===$[te]){let ae=null;return(ae=v(z,$,se+1,te+1))?s({start:te,end:te+1},ae):null}return v(z,$,se,te+1)}function u(z){return 97<=z&&z<=122}function g(z){return 65<=z&&z<=90}e.isUpper=g;function t(z){return 48<=z&&z<=57}function i(z){return z===32||z===9||z===10||z===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(z=>n.add(z.charCodeAt(0)));function a(z){return i(z)||n.has(z)}function c(z,$){return z===$||a(z)&&a($)}function d(z){return u(z)||g(z)||t(z)}function s(z,$){return $.length===0?$=[z]:z.end===$[0].start?$[0].start=z.start:$.unshift(z),$}function r(z,$){for(let se=$;se<z.length;se++){const te=z.charCodeAt(se);if(g(te)||t(te)||se>0&&!d(z.charCodeAt(se-1)))return se}return z.length}function o(z,$,se,te){if(se===z.length)return[];if(te===$.length)return null;if(z[se]!==$[te].toLowerCase())return null;{let ae=null,me=te+1;for(ae=o(z,$,se+1,te+1);!ae&&(me=r($,me))<$.length;)ae=o(z,$,se+1,me),me++;return ae===null?null:s({start:te,end:te+1},ae)}}function l(z){let $=0,se=0,te=0,ae=0,me=0;for(let ue=0;ue<z.length;ue++)me=z.charCodeAt(ue),g(me)&&$++,u(me)&&se++,d(me)&&te++,t(me)&&ae++;const _e=$/z.length,we=se/z.length,le=te/z.length,he=ae/z.length;return{upperPercent:_e,lowerPercent:we,alphaPercent:le,numericPercent:he}}function h(z){const{upperPercent:$,lowerPercent:se}=z;return se===0&&$>.6}function m(z){const{upperPercent:$,lowerPercent:se,alphaPercent:te,numericPercent:ae}=z;return se>.2&&$<.8&&te>.6&&ae<.2}function y(z){let $=0,se=0,te=0,ae=0;for(let me=0;me<z.length;me++)te=z.charCodeAt(me),g(te)&&$++,u(te)&&se++,i(te)&&ae++;return($===0||se===0)&&ae===0?z.length<=30:$<=5}function p(z,$){if(!$||($=$.trim(),$.length===0)||!y(z)||$.length>60)return null;const se=l($);if(!m(se)){if(!h(se))return null;$=$.toLowerCase()}let te=null,ae=0;for(z=z.toLowerCase();ae<$.length&&(te=o(z,$,0,ae))===null;)ae=r($,ae+1);return te}e.matchesCamelCase=p;function f(z,$,se=!1){if(!$||$.length===0)return null;let te=null,ae=0;for(z=z.toLowerCase(),$=$.toLowerCase();ae<$.length&&(te=_(z,$,0,ae,se))===null;)ae=I($,ae+1);return te}e.matchesWords=f;function _(z,$,se,te,ae){if(se===z.length)return[];if(te===$.length)return null;if(c(z.charCodeAt(se),$.charCodeAt(te))){let me=null,_e=te+1;if(me=_(z,$,se+1,te+1,ae),!ae)for(;!me&&(_e=I($,_e))<$.length;)me=_(z,$,se+1,_e,ae),_e++;return me===null?null:s({start:te,end:te+1},me)}else return null}function I(z,$){for(let se=$;se<z.length;se++)if(a(z.charCodeAt(se))||se>0&&a(z.charCodeAt(se-1)))return se;return z.length}const E=N(e.matchesPrefix,p,S),T=N(e.matchesPrefix,p,b),k=new w.LRUCache(1e4);function A(z,$,se=!1){if(typeof z!="string"||typeof $!="string")return null;let te=k.get(z);te||(te=new RegExp(C.convertSimple2RegExpPattern(z),"i"),k.set(z,te));const ae=te.exec($);return ae?[{start:ae.index,end:ae.index+ae[0].length}]:se?T(z,$):E(z,$)}e.matchesFuzzy=A;function P(z,$,se,te,ae,me){const _e=Math.min(13,z.length);for(;se<_e;se++){const we=G(z,$,se,te,ae,me,!1);if(we)return we}return[0,me]}e.anyScore=P;function F(z){if(typeof z=="undefined")return[];const $=[],se=z[1];for(let te=z.length-1;te>1;te--){const ae=z[te]+se,me=$[$.length-1];me&&me.end===ae?me.end=ae+1:$.push({start:ae,end:ae+1})}return $}e.createMatches=F;const R=128;function M(){const z=[],$=[];for(let se=0;se<=R;se++)$[se]=0;for(let se=0;se<=R;se++)z.push($.slice(0));return z}function O(z){const $=[];for(let se=0;se<=z;se++)$[se]=0;return $}const L=O(2*R),B=O(2*R),x=M(),U=M(),K=M(),Z=!1;function ee(z,$,se,te,ae){function me(we,le,he=" "){for(;we.length<le;)we=he+we;return we}let _e=` |   |${te.split("").map(we=>me(we,3)).join("|")}
`;for(let we=0;we<=se;we++)we===0?_e+=" |":_e+=`${$[we-1]}|`,_e+=z[we].slice(0,ae+1).map(le=>me(le.toString(),3)).join("|")+`
`;return _e}function X(z,$,se,te){z=z.substr($),se=se.substr(te),console.log(ee(U,z,z.length,se,se.length)),console.log(ee(K,z,z.length,se,se.length)),console.log(ee(x,z,z.length,se,se.length))}function ne(z,$){if($<0||$>=z.length)return!1;const se=z.codePointAt($);switch(se){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!C.isEmojiImprecise(se)}}function Y(z,$){if($<0||$>=z.length)return!1;switch(z.charCodeAt($)){case 32:case 9:return!0;default:return!1}}function j(z,$,se){return $[z]!==se[z]}function W(z,$,se,te,ae,me,_e=!1){for(;$<se&&ae<me;)z[$]===te[ae]&&(_e&&(L[$]=ae),$+=1),ae+=1;return $===se}e.isPatternInWord=W;var V;(function(z){z.Default=[-100,0];function $(se){return!se||se.length===2&&se[0]===-100&&se[1]===0}z.isDefault=$})(V=e.FuzzyScore||(e.FuzzyScore={}));function G(z,$,se,te,ae,me,_e){const we=z.length>R?R:z.length,le=te.length>R?R:te.length;if(se>=we||me>=le||we-se>le-me||!W($,se,we,ae,me,le,!0))return;oe(we,le,se,me,$,ae);let he=1,ue=1,ve=se,re=me;const ge=[!1];for(he=1,ve=se;ve<we;he++,ve++){const Ve=L[ve],Ge=B[ve],Je=ve+1<we?B[ve+1]:le;for(ue=Ve-me+1,re=Ve;re<Je;ue++,re++){let Ze=Number.MIN_SAFE_INTEGER,et=!1;re<=Ge&&(Ze=ce(z,$,ve,se,te,ae,re,le,me,x[he-1][ue-1]===0,ge));let Ee=0;Ze!==Number.MAX_SAFE_INTEGER&&(et=!0,Ee=Ze+U[he-1][ue-1]);const Ie=re>Ve,Re=Ie?U[he][ue-1]+(x[he][ue-1]>0?-5:0):0,Ue=re>Ve+1&&x[he][ue-1]>0,Ne=Ue?U[he][ue-2]+(x[he][ue-2]>0?-5:0):0;if(Ue&&(!Ie||Ne>=Re)&&(!et||Ne>=Ee))U[he][ue]=Ne,K[he][ue]=3,x[he][ue]=0;else if(Ie&&(!et||Re>=Ee))U[he][ue]=Re,K[he][ue]=2,x[he][ue]=0;else if(et)U[he][ue]=Ee,K[he][ue]=1,x[he][ue]=x[he-1][ue-1]+1;else throw new Error("not possible")}}if(Z&&X(z,se,te,me),!ge[0]&&!_e)return;he--,ue--;const ye=[U[he][ue],me];let Ae=0,Oe=0;for(;he>=1;){let Ve=ue;do{const Ge=K[he][Ve];if(Ge===3)Ve=Ve-2;else if(Ge===2)Ve=Ve-1;else break}while(Ve>=1);Ae>1&&$[se+he-1]===ae[me+ue-1]&&!j(Ve+me-1,te,ae)&&Ae+1>x[he][Ve]&&(Ve=ue),Ve===ue?Ae++:Ae=1,Oe||(Oe=Ve),he--,ue=Ve-1,ye.push(ue)}le===we&&(ye[0]+=2);const He=Oe-we;return ye[0]-=He,ye}e.fuzzyScore=G;function oe(z,$,se,te,ae,me){let _e=z-1,we=$-1;for(;_e>=se&&we>=te;)ae[_e]===me[we]&&(B[_e]=we,_e--),we--}function ce(z,$,se,te,ae,me,_e,we,le,he,ue){if($[se]!==me[_e])return Number.MIN_SAFE_INTEGER;let ve=1,re=!1;return _e===se-te?ve=z[se]===ae[_e]?7:5:j(_e,ae,me)&&(_e===0||!j(_e-1,ae,me))?(ve=z[se]===ae[_e]?7:5,re=!0):ne(me,_e)&&(_e===0||!ne(me,_e-1))?ve=5:(ne(me,_e-1)||Y(me,_e-1))&&(ve=5,re=!0),ve>1&&se===te&&(ue[0]=!0),re||(re=j(_e,ae,me)||ne(me,_e-1)||Y(me,_e-1)),se===te?_e>le&&(ve-=re?3:5):he?ve+=re?2:0:ve+=re?0:1,_e+1===we&&(ve-=re?3:5),ve}function ie(z,$,se,te,ae,me,_e){return de(z,$,se,te,ae,me,!0,_e)}e.fuzzyScoreGracefulAggressive=ie;function de(z,$,se,te,ae,me,_e,we){let le=G(z,$,se,te,ae,me,we);if(le&&!_e)return le;if(z.length>=3){const he=Math.min(7,z.length-1);for(let ue=se+1;ue<he;ue++){const ve=q(z,ue);if(ve){const re=G(ve,ve.toLowerCase(),se,te,ae,me,we);re&&(re[0]-=3,(!le||re[0]>le[0])&&(le=re))}}}return le}function q(z,$){if($+1>=z.length)return;const se=z[$],te=z[$+1];if(se!==te)return z.slice(0,$)+te+se+z.slice($+2)}}),define(Q[315],J([0,1,72,79,17,8]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function b(r,o,l=0,h=0){const m=o;return m.values&&m.values.length>1?v(r,m.values,l,h):u(r,o,l,h)}e.scoreFuzzy2=b;function v(r,o,l,h){let m=0;const y=[];for(const p of o){const[f,_]=u(r,p,l,h);if(typeof f!="number")return S;m+=f,y.push(..._)}return[m,t(y)]}function u(r,o,l,h){const m=(0,w.fuzzyScore)(o.original,o.originalLowercase,l,r,r.toLowerCase(),h,!0);return m?[m[0],(0,w.createMatches)(m)]:S}const g=Object.freeze({score:0});function t(r){const o=r.sort((m,y)=>m.start-y.start),l=[];let h;for(const m of o)!h||!i(h,m)?(h=m,l.push(m)):(h.start=Math.min(h.start,m.start),h.end=Math.max(h.end,m.end));return l}function i(r,o){return!(r.end<o.start||o.end<r.start)}function n(r){return r.startsWith('"')&&r.endsWith('"')}const a=" ";function c(r){typeof r!="string"&&(r="");const o=r.toLowerCase(),{pathNormalized:l,normalized:h,normalizedLowercase:m}=d(r),y=l.indexOf(C.sep)>=0,p=n(r);let f;const _=r.split(a);if(_.length>1)for(const I of _){const E=n(I),{pathNormalized:T,normalized:k,normalizedLowercase:A}=d(I);k&&(f||(f=[]),f.push({original:I,originalLowercase:I.toLowerCase(),pathNormalized:T,normalized:k,normalizedLowercase:A,expectContiguousMatch:E}))}return{original:r,originalLowercase:o,pathNormalized:l,normalized:h,normalizedLowercase:m,values:f,containsPathSeparator:y,expectContiguousMatch:p}}e.prepareQuery=c;function d(r){let o;N.isWindows?o=r.replace(/\//g,C.sep):o=r.replace(/\\/g,C.sep);const l=(0,D.stripWildcards)(o).replace(/\s|"/g,"");return{pathNormalized:o,normalized:l,normalizedLowercase:l.toLowerCase()}}function s(r){return Array.isArray(r)?c(r.map(o=>o.original).join(a)):c(r.original)}e.pieceToQuery=s}),define(Q[211],J([0,1,10,165,47,79,8]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const b="[/\\\\]",v="[^/\\\\]",u=/\//g;function g(M){switch(M){case 0:return"";case 1:return`${v}*?`;default:return`(?:${b}|${v}+${b}|${b}${v}+)*?`}}function t(M,O){if(!M)return[];const L=[];let B=!1,x=!1,U="";for(const K of M){switch(K){case O:if(!B&&!x){L.push(U),U="";continue}break;case"{":B=!0;break;case"}":B=!1;break;case"[":x=!0;break;case"]":x=!1;break}U+=K}return U&&L.push(U),L}e.splitGlobAware=t;function i(M){if(!M)return"";let O="";const L=t(M,e.GLOB_SPLIT);if(L.every(B=>B===e.GLOBSTAR))O=".*";else{let B=!1;L.forEach((x,U)=>{if(x===e.GLOBSTAR){B||(O+=g(2),B=!0);return}let K=!1,Z="",ee=!1,X="";for(const ne of x){if(ne!=="}"&&K){Z+=ne;continue}if(ee&&(ne!=="]"||!X)){let Y;ne==="-"?Y=ne:(ne==="^"||ne==="!")&&!X?Y="^":ne===e.GLOB_SPLIT?Y="":Y=S.escapeRegExpCharacters(ne),X+=Y;continue}switch(ne){case"{":K=!0;continue;case"[":ee=!0;continue;case"}":{O+=`(?:${t(Z,",").map(W=>i(W)).join("|")})`,K=!1,Z="";break}case"]":O+="["+X+"]",ee=!1,X="";break;case"?":O+=v;continue;case"*":O+=g(1);continue;default:O+=S.escapeRegExpCharacters(ne)}}U<L.length-1&&(L[U+1]!==e.GLOBSTAR||U+2<L.length)&&(O+=b),B=!1})}return O}const n=/^\*\*\/\*\.[\w\.-]+$/,a=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,d=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,o=new N.LRUCache(1e4),l=function(){return!1},h=function(){return null};function m(M,O){if(!M)return h;let L;typeof M!="string"?L=M.pattern:L=M,L=L.trim();const B=`${L}_${!!O.trimForExclusions}`;let x=o.get(B);if(x)return y(x,M);let U;if(n.test(L)){const K=L.substr(4);x=function(Z,ee){return typeof Z=="string"&&Z.endsWith(K)?L:null}}else(U=a.exec(p(L,O)))?x=f(U[1],L):(O.trimForExclusions?d:c).test(L)?x=_(L,O):(U=s.exec(p(L,O)))?x=I(U[1].substr(1),L,!0):(U=r.exec(p(L,O)))?x=I(U[1],L,!1):x=E(L);return o.set(B,x),y(x,M)}function y(M,O){return typeof O=="string"?M:function(L,B){return C.isEqualOrParent(L,O.base)?M(D.relative(O.base,L),B):null}}function p(M,O){return O.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function f(M,O){const L=`/${M}`,B=`\\${M}`,x=function(K,Z){return typeof K!="string"?null:Z?Z===M?O:null:K===M||K.endsWith(L)||K.endsWith(B)?O:null},U=[M];return x.basenames=U,x.patterns=[O],x.allBasenames=U,x}function _(M,O){const L=R(M.slice(1,-1).split(",").map(Z=>m(Z,O)).filter(Z=>Z!==h),M),B=L.length;if(!B)return h;if(B===1)return L[0];const x=function(Z,ee){for(let X=0,ne=L.length;X<ne;X++)if(L[X](Z,ee))return M;return null},U=L.find(Z=>!!Z.allBasenames);U&&(x.allBasenames=U.allBasenames);const K=L.reduce((Z,ee)=>ee.allPaths?Z.concat(ee.allPaths):Z,[]);return K.length&&(x.allPaths=K),x}function I(M,O,L){const B=D.sep===D.posix.sep,x=B?M:M.replace(u,D.sep),U=D.sep+x,K=D.posix.sep+M,Z=L?function(ee,X){return typeof ee=="string"&&(ee===x||ee.endsWith(U)||!B&&(ee===M||ee.endsWith(K)))?O:null}:function(ee,X){return typeof ee=="string"&&(ee===x||!B&&ee===M)?O:null};return Z.allPaths=[(L?"*/":"./")+M],Z}function E(M){try{const O=new RegExp(`^${i(M)}$`);return function(L){return O.lastIndex=0,typeof L=="string"&&O.test(L)?M:null}}catch{return h}}function T(M,O,L){return!M||typeof O!="string"?!1:k(M)(O,void 0,L)}e.match=T;function k(M,O={}){if(!M)return l;if(typeof M=="string"||A(M)){const L=m(M,O);if(L===h)return l;const B=function(x,U){return!!L(x,U)};return L.allBasenames&&(B.allBasenames=L.allBasenames),L.allPaths&&(B.allPaths=L.allPaths),B}return P(M,O)}e.parse=k;function A(M){const O=M;return O&&typeof O.base=="string"&&typeof O.pattern=="string"}e.isRelativePattern=A;function P(M,O){const L=R(Object.getOwnPropertyNames(M).map(Z=>F(Z,M[Z],O)).filter(Z=>Z!==h)),B=L.length;if(!B)return h;if(!L.some(Z=>!!Z.requiresSiblings)){if(B===1)return L[0];const Z=function(ne,Y){for(let j=0,W=L.length;j<W;j++){const V=L[j](ne,Y);if(V)return V}return null},ee=L.find(ne=>!!ne.allBasenames);ee&&(Z.allBasenames=ee.allBasenames);const X=L.reduce((ne,Y)=>Y.allPaths?ne.concat(Y.allPaths):ne,[]);return X.length&&(Z.allPaths=X),Z}const x=function(Z,ee,X){let ne;for(let Y=0,j=L.length;Y<j;Y++){const W=L[Y];W.requiresSiblings&&X&&(ee||(ee=D.basename(Z)),ne||(ne=ee.substr(0,ee.length-D.extname(Z).length)));const V=W(Z,ee,ne,X);if(V)return V}return null},U=L.find(Z=>!!Z.allBasenames);U&&(x.allBasenames=U.allBasenames);const K=L.reduce((Z,ee)=>ee.allPaths?Z.concat(ee.allPaths):Z,[]);return K.length&&(x.allPaths=K),x}function F(M,O,L){if(O===!1)return h;const B=m(M,L);if(B===h)return h;if(typeof O=="boolean")return B;if(O){const x=O.when;if(typeof x=="string"){const U=(K,Z,ee,X)=>{if(!X||!B(K,Z))return null;const ne=x.replace("$(basename)",ee),Y=X(ne);return(0,w.isThenable)(Y)?Y.then(j=>j?M:null):Y?M:null};return U.requiresSiblings=!0,U}}return B}function R(M,O){const L=M.filter(Z=>!!Z.basenames);if(L.length<2)return M;const B=L.reduce((Z,ee)=>{const X=ee.basenames;return X?Z.concat(X):Z},[]);let x;if(O){x=[];for(let Z=0,ee=B.length;Z<ee;Z++)x.push(O)}else x=L.reduce((Z,ee)=>{const X=ee.patterns;return X?Z.concat(X):Z},[]);const U=function(Z,ee){if(typeof Z!="string")return null;if(!ee){let ne;for(ne=Z.length;ne>0;ne--){const Y=Z.charCodeAt(ne-1);if(Y===47||Y===92)break}ee=Z.substr(ne)}const X=B.indexOf(ee);return X!==-1?x[X]:null};U.basenames=B,U.patterns=x,U.allBasenames=B;const K=M.filter(Z=>!Z.basenames);return K.push(U),K}}),define(Q[95],J([0,1,27,72,8]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const D=new RegExp(`\\$\\(${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(w.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${D.source}`,"g");function v(d){return d.replace(b,(s,r)=>r?s:`\\${s}`)}e.escapeIcons=v;const u=new RegExp(`\\\\${D.source}`,"g");function g(d){return d.replace(u,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=g;const t=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function i(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(t,(s,r,o,l)=>o?s:r||l||"")}e.stripIcons=i;function n(d){const s=d.indexOf(e.iconStartMarker);return s===-1?{text:d}:a(d,s)}e.parseLabelWithIcons=n;function a(d,s){const r=[];let o="";function l(E){if(E){o+=E;for(const T of E)r.push(y)}}let h=-1,m="",y=0,p,f,_=s;const I=d.length;for(l(d.substr(0,s));_<I;)p=d[_],f=d[_+1],p===e.iconStartMarker[0]&&f===e.iconStartMarker[1]?(h=_,l(m),m=e.iconStartMarker,_++):p===")"&&h!==-1?(y+=_-h+1,h=-1,m=""):h!==-1?S.test(p)?m+=p:(l(m),h=-1,m=""):l(p),_++;return l(m),{text:o,iconOffsets:r}}function c(d,s,r=!1){const{text:o,iconOffsets:l}=s;if(!l||l.length===0)return(0,C.matchesFuzzy)(d,o,r);const h=(0,N.ltrim)(o," "),m=o.length-h.length,y=(0,C.matchesFuzzy)(d,h,r);if(y)for(const p of y){const f=l[p.start+m]+m;p.start+=f,p.end+=f}return y}e.matchesFuzzyIconAware=c}),define(Q[64],J([0,1,14,95]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class N{constructor(t="",i=!1){var n,a,c;if(this.value=t,typeof this.value!="string")throw(0,w.illegalArgument)("value");typeof i=="boolean"?(this.isTrusted=i,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=i.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(a=i.supportThemeIcons)!==null&&a!==void 0?a:!1,this.supportHtml=(c=i.supportHtml)!==null&&c!==void 0?c:!1)}appendText(t,i=0){return this.value+=b(this.supportThemeIcons?(0,C.escapeIcons)(t):t).replace(/([ \t]+)/g,(n,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,i===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,i){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=i,this.value+="\n```\n",this}}e.MarkdownString=N;function D(g){return S(g)?!g.value:Array.isArray(g)?g.every(D):!0}e.isEmptyMarkdownString=D;function S(g){return g instanceof N?!0:g&&typeof g=="object"?typeof g.value=="string"&&(typeof g.isTrusted=="boolean"||g.isTrusted===void 0)&&(typeof g.supportThemeIcons=="boolean"||g.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function b(g){return g.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=b;function v(g){return g&&g.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=v;function u(g){const t=[],i=g.split("|").map(a=>a.trim());g=i[0];const n=i[1];if(n){const a=/height=(\d+)/.exec(n),c=/width=(\d+)/.exec(n),d=a?a[1]:"",s=c?c[1]:"",r=isFinite(parseInt(s)),o=isFinite(parseInt(d));r&&t.push(`width="${s}"`),o&&t.push(`height="${d}"`)}return{href:g,dimensions:t}}e.parseHrefAndDimensions=u}),define(Q[316],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function C(S,b){if(S&&S[0]!==""){const v=N(S,b,"-"),u=N(S,b,"_");return v&&!u?D(S,b,"-"):!v&&u?D(S,b,"_"):S[0].toUpperCase()===S[0]?b.toUpperCase():S[0].toLowerCase()===S[0]?b.toLowerCase():w.containsUppercaseCharacter(S[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):S[0][0].toUpperCase()!==S[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=C;function N(S,b,v){return S[0].indexOf(v)!==-1&&b.indexOf(v)!==-1&&S[0].split(v).length===b.split(v).length}function D(S,b,v){const u=b.split(v),g=S[0].split(v);let t="";return u.forEach((i,n)=>{t+=C([g[n]],i)+v}),t.slice(0,-1)}}),define(Q[80],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C;(function(N){N[N.Ignore=0]="Ignore",N[N.Info=1]="Info",N[N.Warning=2]="Warning",N[N.Error=3]="Error"})(C||(C={})),function(N){const D="error",S="warning",b="warn",v="info",u="ignore";function g(i){return i?w.equalsIgnoreCase(D,i)?N.Error:w.equalsIgnoreCase(S,i)||w.equalsIgnoreCase(b,i)?N.Warning:w.equalsIgnoreCase(v,i)?N.Info:N.Ignore:N.Ignore}N.fromValue=g;function t(i){switch(i){case N.Error:return D;case N.Warning:return S;case N.Info:return v;default:return u}}N.toString=t}(C||(C={})),e.default=C}),define(Q[20],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function w(l){return Array.isArray(l)}e.isArray=w;function C(l){return typeof l=="string"}e.isString=C;function N(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)&&!(l instanceof RegExp)&&!(l instanceof Date)}e.isObject=N;function D(l){return typeof l=="number"&&!isNaN(l)}e.isNumber=D;function S(l){return l===!0||l===!1}e.isBoolean=S;function b(l){return typeof l=="undefined"}e.isUndefined=b;function v(l){return!u(l)}e.isDefined=v;function u(l){return b(l)||l===null}e.isUndefinedOrNull=u;function g(l,h){if(!l)throw new Error(h?`Unexpected type, expected '${h}'`:"Unexpected type")}e.assertType=g;function t(l){if(u(l))throw new Error("Assertion Failed: argument is undefined or null");return l}e.assertIsDefined=t;function i(l){return typeof l=="function"}e.isFunction=i;function n(l,h){const m=Math.min(l.length,h.length);for(let y=0;y<m;y++)a(l[y],h[y])}e.validateConstraints=n;function a(l,h){if(C(h)){if(typeof l!==h)throw new Error(`argument does not match constraint: typeof ${h}`)}else if(i(h)){try{if(l instanceof h)return}catch{}if(!u(l)&&l.constructor===h||h.length===1&&h.call(void 0,l)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a;function c(l){let h=[],m=Object.getPrototypeOf(l);for(;Object.prototype!==m;)h=h.concat(Object.getOwnPropertyNames(m)),m=Object.getPrototypeOf(m);return h}e.getAllPropertyNames=c;function d(l){const h=[];for(const m of c(l))typeof l[m]=="function"&&h.push(m);return h}e.getAllMethodNames=d;function s(l,h){const m=p=>function(){const f=Array.prototype.slice.call(arguments,0);return h(p,f)};let y={};for(const p of l)y[p]=m(p);return y}e.createProxyObject=s;function r(l){return l===null?void 0:l}e.withNullAsUndefined=r;function o(l,h="Unreachable"){throw new Error(h)}e.assertNever=o}),define(Q[38],J([0,1,20]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function C(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const i=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>{t[n]&&typeof t[n]=="object"?i[n]=C(t[n]):i[n]=t[n]}),i}e.deepClone=C;function N(t){if(!t||typeof t!="object")return t;const i=[t];for(;i.length>0;){const n=i.shift();Object.freeze(n);for(const a in n)if(D.call(n,a)){const c=n[a];typeof c=="object"&&!Object.isFrozen(c)&&i.push(c)}}return t}e.deepFreeze=N;const D=Object.prototype.hasOwnProperty;function S(t,i){return b(t,i,new Set)}e.cloneAndChange=S;function b(t,i,n){if((0,w.isUndefinedOrNull)(t))return t;const a=i(t);if(typeof a!="undefined")return a;if((0,w.isArray)(t)){const c=[];for(const d of t)c.push(b(d,i,n));return c}if((0,w.isObject)(t)){if(n.has(t))throw new Error("Cannot clone recursive data-structure");n.add(t);const c={};for(let d in t)D.call(t,d)&&(c[d]=b(t[d],i,n));return n.delete(t),c}return t}function v(t,i,n=!0){return(0,w.isObject)(t)?((0,w.isObject)(i)&&Object.keys(i).forEach(a=>{a in t?n&&((0,w.isObject)(t[a])&&(0,w.isObject)(i[a])?v(t[a],i[a],n):t[a]=i[a]):t[a]=i[a]}),t):i}e.mixin=v;function u(t,i){if(t===i)return!0;if(t==null||i===null||i===void 0||typeof t!=typeof i||typeof t!="object"||Array.isArray(t)!==Array.isArray(i))return!1;let n,a;if(Array.isArray(t)){if(t.length!==i.length)return!1;for(n=0;n<t.length;n++)if(!u(t[n],i[n]))return!1}else{const c=[];for(a in t)c.push(a);c.sort();const d=[];for(a in i)d.push(a);if(d.sort(),!u(c,d))return!1;for(n=0;n<c.length;n++)if(!u(t[c[n]],i[c[n]]))return!1}return!0}e.equals=u;function g(t,i,n){const a=i(t);return typeof a=="undefined"?n:a}e.getOrDefault=g}),define(Q[138],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function w(N){return N<0?0:N>255?255:N|0}e.toUint8=w;function C(N){return N<0?0:N>4294967295?4294967295:N|0}e.toUint32=C}),define(Q[25],J([0,1,79,17]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const N=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function b(p,f){if(!p.scheme&&f)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${p.authority}", path: "${p.path}", query: "${p.query}", fragment: "${p.fragment}"}`);if(p.scheme&&!N.test(p.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(p.path){if(p.authority){if(!D.test(p.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(p.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(p,f){return!p&&!f?"file":p}function u(p,f){switch(p){case"https":case"http":case"file":f?f[0]!==t&&(f=t+f):f=t;break}return f}const g="",t="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{constructor(f,_,I,E,T,k=!1){typeof f=="object"?(this.scheme=f.scheme||g,this.authority=f.authority||g,this.path=f.path||g,this.query=f.query||g,this.fragment=f.fragment||g):(this.scheme=v(f,k),this.authority=_||g,this.path=u(this.scheme,I||g),this.query=E||g,this.fragment=T||g,b(this,k))}static isUri(f){return f instanceof n?!0:f?typeof f.authority=="string"&&typeof f.fragment=="string"&&typeof f.path=="string"&&typeof f.query=="string"&&typeof f.scheme=="string"&&typeof f.fsPath=="string"&&typeof f.with=="function"&&typeof f.toString=="function":!1}get fsPath(){return o(this,!1)}with(f){if(!f)return this;let{scheme:_,authority:I,path:E,query:T,fragment:k}=f;return _===void 0?_=this.scheme:_===null&&(_=g),I===void 0?I=this.authority:I===null&&(I=g),E===void 0?E=this.path:E===null&&(E=g),T===void 0?T=this.query:T===null&&(T=g),k===void 0?k=this.fragment:k===null&&(k=g),_===this.scheme&&I===this.authority&&E===this.path&&T===this.query&&k===this.fragment?this:new c(_,I,E,T,k)}static parse(f,_=!1){const I=i.exec(f);return I?new c(I[2]||g,y(I[4]||g),y(I[5]||g),y(I[7]||g),y(I[9]||g),_):new c(g,g,g,g,g)}static file(f){let _=g;if(C.isWindows&&(f=f.replace(/\\/g,t)),f[0]===t&&f[1]===t){const I=f.indexOf(t,2);I===-1?(_=f.substring(2),f=t):(_=f.substring(2,I),f=f.substring(I)||t)}return new c("file",_,f,g,g)}static from(f){const _=new c(f.scheme,f.authority,f.path,f.query,f.fragment);return b(_,!0),_}static joinPath(f,..._){if(!f.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let I;return C.isWindows&&f.scheme==="file"?I=n.file(w.win32.join(o(f,!0),..._)).path:I=w.posix.join(f.path,..._),f.with({path:I})}toString(f=!1){return l(this,f)}toJSON(){return this}static revive(f){if(f){if(f instanceof n)return f;{const _=new c(f);return _._formatted=f.external,_._fsPath=f._sep===a?f.fsPath:null,_}}else return f}}e.URI=n;const a=C.isWindows?1:void 0;class c extends n{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=o(this,!1)),this._fsPath}toString(f=!1){return f?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const f={$mid:1};return this._fsPath&&(f.fsPath=this._fsPath,f._sep=a),this._formatted&&(f.external=this._formatted),this.path&&(f.path=this.path),this.scheme&&(f.scheme=this.scheme),this.authority&&(f.authority=this.authority),this.query&&(f.query=this.query),this.fragment&&(f.fragment=this.fragment),f}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function s(p,f){let _,I=-1;for(let E=0;E<p.length;E++){const T=p.charCodeAt(E);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||f&&T===47)I!==-1&&(_+=encodeURIComponent(p.substring(I,E)),I=-1),_!==void 0&&(_+=p.charAt(E));else{_===void 0&&(_=p.substr(0,E));const k=d[T];k!==void 0?(I!==-1&&(_+=encodeURIComponent(p.substring(I,E)),I=-1),_+=k):I===-1&&(I=E)}}return I!==-1&&(_+=encodeURIComponent(p.substring(I))),_!==void 0?_:p}function r(p){let f;for(let _=0;_<p.length;_++){const I=p.charCodeAt(_);I===35||I===63?(f===void 0&&(f=p.substr(0,_)),f+=d[I]):f!==void 0&&(f+=p[_])}return f!==void 0?f:p}function o(p,f){let _;return p.authority&&p.path.length>1&&p.scheme==="file"?_=`//${p.authority}${p.path}`:p.path.charCodeAt(0)===47&&(p.path.charCodeAt(1)>=65&&p.path.charCodeAt(1)<=90||p.path.charCodeAt(1)>=97&&p.path.charCodeAt(1)<=122)&&p.path.charCodeAt(2)===58?f?_=p.path.substr(1):_=p.path[1].toLowerCase()+p.path.substr(2):_=p.path,C.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=o;function l(p,f){const _=f?r:s;let I="",{scheme:E,authority:T,path:k,query:A,fragment:P}=p;if(E&&(I+=E,I+=":"),(T||E==="file")&&(I+=t,I+=t),T){let F=T.indexOf("@");if(F!==-1){const R=T.substr(0,F);T=T.substr(F+1),F=R.indexOf(":"),F===-1?I+=_(R,!1):(I+=_(R.substr(0,F),!1),I+=":",I+=_(R.substr(F+1),!1)),I+="@"}T=T.toLowerCase(),F=T.indexOf(":"),F===-1?I+=_(T,!1):(I+=_(T.substr(0,F),!1),I+=T.substr(F))}if(k){if(k.length>=3&&k.charCodeAt(0)===47&&k.charCodeAt(2)===58){const F=k.charCodeAt(1);F>=65&&F<=90&&(k=`/${String.fromCharCode(F+32)}:${k.substr(3)}`)}else if(k.length>=2&&k.charCodeAt(1)===58){const F=k.charCodeAt(0);F>=65&&F<=90&&(k=`${String.fromCharCode(F+32)}:${k.substr(2)}`)}I+=_(k,!0)}return A&&(I+="?",I+=_(A,!1)),P&&(I+="#",I+=f?P:s(P,!1)),I}function h(p){try{return decodeURIComponent(p)}catch{return p.length>3?p.substr(0,3)+h(p.substr(3)):p}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y(p){return p.match(m)?p.replace(m,f=>h(f)):p}}),define(Q[212],J([0,1,106,25]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function N(S){let b=JSON.parse(S);return b=D(b),b}e.parse=N;function D(S,b=0){if(!S||b>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return C.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof w.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let v=0;v<S.length;++v)S[v]=D(S[v],b+1);else for(const v in S)Object.hasOwnProperty.call(S,v)&&(S[v]=D(S[v],b+1))}return S}e.revive=D}),define(Q[48],J([0,1,17,25]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var N;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.userData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls"})(N=e.Schemas||(e.Schemas={}));class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const u=v.authority;let g=this._hosts[u];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const t=this._ports[u],i=this._connectionTokens[u];let n=`path=${encodeURIComponent(v.path)}`;return typeof i=="string"&&(n+=`&tkn=${encodeURIComponent(i)}`),C.URI.from({scheme:w.isWeb?this._preferredWebSchema:N.vscodeRemoteResource,authority:`${g}:${t}`,path:"/vscode-remote-resource",query:n})}}e.RemoteAuthorities=new D;class S{asBrowserUri(v,u){const g=this.toUri(v,u);return g.scheme===N.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===N.file&&(w.isNative||typeof w.globals.importScripts=="function"&&w.globals.origin===`${N.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?g.with({scheme:N.vscodeFileResource,authority:g.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(v,u){return C.URI.isUri(v)?v:C.URI.parse(u.toUrl(v))}}S.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new S}),define(Q[7],J([0,1,33,164,46,56,10,14,4,2,48,17]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseUpListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(Ee){for(;Ee.firstChild;)Ee.firstChild.remove()}e.clearNode=i;function n(Ee){var Ie;return(Ie=Ee==null?void 0:Ee.isConnected)!==null&&Ie!==void 0?Ie:!1}e.isInDOM=n;class a{constructor(Ie,Re,Ue,Ne){this._node=Ie,this._type=Re,this._handler=Ue,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function c(Ee,Ie,Re,Ue){return new a(Ee,Ie,Re,Ue)}e.addDisposableListener=c;function d(Ee){return function(Ie){return Ee(new D.StandardMouseEvent(Ie))}}function s(Ee){return function(Ie){return Ee(new N.StandardKeyboardEvent(Ie))}}let r=function(Ie,Re,Ue,Ne){let ke=Ue;return Re==="click"||Re==="mousedown"?ke=d(Ue):(Re==="keydown"||Re==="keypress"||Re==="keyup")&&(ke=s(Ue)),c(Ie,Re,ke,Ne)};e.addStandardDisposableListener=r;let o=function(Ie,Re,Ue){let Ne=d(Re);return h(Ie,Ne,Ue)};e.addStandardDisposableGenericMouseDownListner=o;let l=function(Ie,Re,Ue){let Ne=d(Re);return m(Ie,Ne,Ue)};e.addStandardDisposableGenericMouseUpListner=l;function h(Ee,Ie,Re){return c(Ee,t.isIOS&&C.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Ie,Re)}e.addDisposableGenericMouseDownListner=h;function m(Ee,Ie,Re){return c(Ee,t.isIOS&&C.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Ie,Re)}e.addDisposableGenericMouseUpListner=m;function y(Ee,Ie){return c(Ee,"mouseout",Re=>{let Ue=Re.relatedTarget;for(;Ue&&Ue!==Ee;)Ue=Ue.parentNode;Ue!==Ee&&Ie(Re)})}e.addDisposableNonBubblingMouseOutListener=y;function p(Ee,Ie){return c(Ee,"pointerout",Re=>{let Ue=Re.relatedTarget;for(;Ue&&Ue!==Ee;)Ue=Ue.parentNode;Ue!==Ee&&Ie(Re)})}e.addDisposableNonBubblingPointerOutListener=p;function f(Ee,Ie,Re){let Ue=null;const Ne=Ce=>pe.fire(Ce),ke=()=>{Ue||(Ue=new a(Ee,Ie,Ne,Re))},Te=()=>{Ue&&(Ue.dispose(),Ue=null)},pe=new v.Emitter({onFirstListenerAdd:ke,onLastListenerRemove:Te});return pe}e.createEventEmitter=f;let _=null;function I(Ee){if(!_){const Ie=Re=>setTimeout(()=>Re(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Ie}return _.call(self,Ee)}class E{constructor(Ie,Re=0){this._runner=Ie,this.priority=Re,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ie){(0,b.onUnexpectedError)(Ie)}}static sort(Ie,Re){return Re.priority-Ie.priority}}(function(){let Ee=[],Ie=null,Re=!1,Ue=!1,Ne=()=>{for(Re=!1,Ie=Ee,Ee=[],Ue=!0;Ie.length>0;)Ie.sort(E.sort),Ie.shift().execute();Ue=!1};e.scheduleAtNextAnimationFrame=(ke,Te=0)=>{let pe=new E(ke,Te);return Ee.push(pe),Re||(Re=!0,I(Ne)),pe},e.runAtThisOrScheduleAtNextAnimationFrame=(ke,Te)=>{if(Ue){let pe=new E(ke,Te);return Ie.push(pe),pe}else return(0,e.scheduleAtNextAnimationFrame)(ke,Te)}})();const T=8,k=function(Ee,Ie){return Ie};class A extends u.Disposable{constructor(Ie,Re,Ue,Ne=k,ke=T){super();let Te=null,pe=0,Ce=this._register(new S.TimeoutTimer),Le=()=>{pe=new Date().getTime(),Ue(Te),Te=null};this._register(c(Ie,Re,Se=>{Te=Ne(Te,Se);let be=new Date().getTime()-pe;be>=ke?(Ce.cancel(),Le()):Ce.setIfNotSet(Le,ke-be)}))}}function P(Ee,Ie,Re,Ue,Ne){return new A(Ee,Ie,Re,Ue,Ne)}e.addDisposableThrottledListener=P;function F(Ee){return document.defaultView.getComputedStyle(Ee,null)}e.getComputedStyle=F;function R(Ee){if(Ee!==document.body)return new O(Ee.clientWidth,Ee.clientHeight);if(t.isIOS&&window.visualViewport)return new O(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new O(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new O(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new O(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=R;class M{static convertToPixels(Ie,Re){return parseFloat(Re)||0}static getDimension(Ie,Re,Ue){let Ne=F(Ie),ke="0";return Ne&&(Ne.getPropertyValue?ke=Ne.getPropertyValue(Re):ke=Ne.getAttribute(Ue)),M.convertToPixels(Ie,ke)}static getBorderLeftWidth(Ie){return M.getDimension(Ie,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ie){return M.getDimension(Ie,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ie){return M.getDimension(Ie,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ie){return M.getDimension(Ie,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ie){return M.getDimension(Ie,"padding-left","paddingLeft")}static getPaddingRight(Ie){return M.getDimension(Ie,"padding-right","paddingRight")}static getPaddingTop(Ie){return M.getDimension(Ie,"padding-top","paddingTop")}static getPaddingBottom(Ie){return M.getDimension(Ie,"padding-bottom","paddingBottom")}static getMarginLeft(Ie){return M.getDimension(Ie,"margin-left","marginLeft")}static getMarginTop(Ie){return M.getDimension(Ie,"margin-top","marginTop")}static getMarginRight(Ie){return M.getDimension(Ie,"margin-right","marginRight")}static getMarginBottom(Ie){return M.getDimension(Ie,"margin-bottom","marginBottom")}}class O{constructor(Ie,Re){this.width=Ie,this.height=Re}with(Ie=this.width,Re=this.height){return Ie!==this.width||Re!==this.height?new O(Ie,Re):this}static is(Ie){return typeof Ie=="object"&&typeof Ie.height=="number"&&typeof Ie.width=="number"}static lift(Ie){return Ie instanceof O?Ie:new O(Ie.width,Ie.height)}static equals(Ie,Re){return Ie===Re?!0:!Ie||!Re?!1:Ie.width===Re.width&&Ie.height===Re.height}}e.Dimension=O,O.None=new O(0,0);function L(Ee){let Ie=Ee.offsetParent,Re=Ee.offsetTop,Ue=Ee.offsetLeft;for(;(Ee=Ee.parentNode)!==null&&Ee!==document.body&&Ee!==document.documentElement;){Re-=Ee.scrollTop;const Ne=j(Ee)?null:F(Ee);Ne&&(Ue-=Ne.direction!=="rtl"?Ee.scrollLeft:-Ee.scrollLeft),Ee===Ie&&(Ue+=M.getBorderLeftWidth(Ee),Re+=M.getBorderTopWidth(Ee),Re+=Ee.offsetTop,Ue+=Ee.offsetLeft,Ie=Ee.offsetParent)}return{left:Ue,top:Re}}e.getTopLeftOffset=L;function B(Ee,Ie,Re){typeof Ie=="number"&&(Ee.style.width=`${Ie}px`),typeof Re=="number"&&(Ee.style.height=`${Re}px`)}e.size=B;function x(Ee){let Ie=Ee.getBoundingClientRect();return{left:Ie.left+e.StandardWindow.scrollX,top:Ie.top+e.StandardWindow.scrollY,width:Ie.width,height:Ie.height}}e.getDomNodePagePosition=x,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function U(Ee){let Ie=M.getMarginLeft(Ee)+M.getMarginRight(Ee);return Ee.offsetWidth+Ie}e.getTotalWidth=U;function K(Ee){let Ie=M.getBorderLeftWidth(Ee)+M.getBorderRightWidth(Ee),Re=M.getPaddingLeft(Ee)+M.getPaddingRight(Ee);return Ee.offsetWidth-Ie-Re}e.getContentWidth=K;function Z(Ee){let Ie=M.getBorderTopWidth(Ee)+M.getBorderBottomWidth(Ee),Re=M.getPaddingTop(Ee)+M.getPaddingBottom(Ee);return Ee.offsetHeight-Ie-Re}e.getContentHeight=Z;function ee(Ee){let Ie=M.getMarginTop(Ee)+M.getMarginBottom(Ee);return Ee.offsetHeight+Ie}e.getTotalHeight=ee;function X(Ee,Ie){for(;Ee;){if(Ee===Ie)return!0;Ee=Ee.parentNode}return!1}e.isAncestor=X;function ne(Ee,Ie,Re){for(;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;){if(Ee.classList.contains(Ie))return Ee;if(Re){if(typeof Re=="string"){if(Ee.classList.contains(Re))return null}else if(Ee===Re)return null}Ee=Ee.parentNode}return null}e.findParentWithClass=ne;function Y(Ee,Ie,Re){return!!ne(Ee,Ie,Re)}e.hasParentWithClass=Y;function j(Ee){return Ee&&!!Ee.host&&!!Ee.mode}e.isShadowRoot=j;function W(Ee){return!!V(Ee)}e.isInShadowDOM=W;function V(Ee){for(;Ee.parentNode;){if(Ee===document.body)return null;Ee=Ee.parentNode}return j(Ee)?Ee:null}e.getShadowRoot=V;function G(){let Ee=document.activeElement;for(;Ee==null?void 0:Ee.shadowRoot;)Ee=Ee.shadowRoot.activeElement;return Ee}e.getActiveElement=G;function oe(Ee=document.getElementsByTagName("head")[0]){let Ie=document.createElement("style");return Ie.type="text/css",Ie.media="screen",Ee.appendChild(Ie),Ie}e.createStyleSheet=oe;let ce=null;function ie(){return ce||(ce=oe()),ce}function de(Ee){var Ie,Re;return((Ie=Ee==null?void 0:Ee.sheet)===null||Ie===void 0?void 0:Ie.rules)?Ee.sheet.rules:((Re=Ee==null?void 0:Ee.sheet)===null||Re===void 0?void 0:Re.cssRules)?Ee.sheet.cssRules:[]}function q(Ee,Ie,Re=ie()){!Re||!Ie||Re.sheet.insertRule(Ee+"{"+Ie+"}",0)}e.createCSSRule=q;function z(Ee,Ie=ie()){if(!Ie)return;let Re=de(Ie),Ue=[];for(let Ne=0;Ne<Re.length;Ne++)Re[Ne].selectorText.indexOf(Ee)!==-1&&Ue.push(Ne);for(let Ne=Ue.length-1;Ne>=0;Ne--)Ie.sheet.deleteRule(Ue[Ne])}e.removeCSSRulesContainingSelector=z;function $(Ee){return typeof HTMLElement=="object"?Ee instanceof HTMLElement:Ee&&typeof Ee=="object"&&Ee.nodeType===1&&typeof Ee.nodeName=="string"}e.isHTMLElement=$,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(Ee,Ie){Ee.preventDefault?Ee.preventDefault():Ee.returnValue=!1,Ie&&(Ee.stopPropagation?Ee.stopPropagation():Ee.cancelBubble=!0)}};function se(Ee){let Ie=[];for(let Re=0;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;Re++)Ie[Re]=Ee.scrollTop,Ee=Ee.parentNode;return Ie}e.saveParentsScrollTop=se;function te(Ee,Ie){for(let Re=0;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;Re++)Ee.scrollTop!==Ie[Re]&&(Ee.scrollTop=Ie[Re]),Ee=Ee.parentNode}e.restoreParentsScrollTop=te;class ae extends u.Disposable{constructor(Ie){super();this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event;let Re=ae.hasFocusWithin(Ie),Ue=!1;const Ne=()=>{Ue=!1,Re||(Re=!0,this._onDidFocus.fire())},ke=()=>{Re&&(Ue=!0,window.setTimeout(()=>{Ue&&(Ue=!1,Re=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ae.hasFocusWithin(Ie)!==Re&&(Re?ke():Ne())},this._register(c(Ie,e.EventType.FOCUS,Ne,!0)),this._register(c(Ie,e.EventType.BLUR,ke,!0)),this._register(c(Ie,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(c(Ie,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Ie){const Re=V(Ie),Ue=Re?Re.activeElement:document.activeElement;return X(Ue,Ie)}}function me(Ee){return new ae(Ee)}e.trackFocus=me;function _e(Ee,...Ie){if(Ee.append(...Ie),Ie.length===1&&typeof Ie[0]!="string")return Ie[0]}e.append=_e;function we(Ee,Ie){return Ee.insertBefore(Ie,Ee.firstChild),Ie}e.prepend=we;function le(Ee,...Ie){Ee.innerText="",_e(Ee,...Ie)}e.reset=le;const he=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ue;(function(Ee){Ee.HTML="http://www.w3.org/1999/xhtml",Ee.SVG="http://www.w3.org/2000/svg"})(ue=e.Namespace||(e.Namespace={}));function ve(Ee,Ie,Re,...Ue){let Ne=he.exec(Ie);if(!Ne)throw new Error("Bad use of emmet");Re=Object.assign({},Re||{});let ke=Ne[1]||"div",Te;return Ee!==ue.HTML?Te=document.createElementNS(Ee,ke):Te=document.createElement(ke),Ne[3]&&(Te.id=Ne[3]),Ne[4]&&(Te.className=Ne[4].replace(/\./g," ").trim()),Object.keys(Re).forEach(pe=>{const Ce=Re[pe];typeof Ce!="undefined"&&(/^on\w+$/.test(pe)?Te[pe]=Ce:pe==="selected"?Ce&&Te.setAttribute(pe,"true"):Te.setAttribute(pe,Ce))}),Te.append(...Ue),Te}function re(Ee,Ie,...Re){return ve(ue.HTML,Ee,Ie,...Re)}e.$=re,re.SVG=function(Ee,Ie,...Re){return ve(ue.SVG,Ee,Ie,...Re)};function ge(...Ee){for(let Ie of Ee)Ie.style.display="",Ie.removeAttribute("aria-hidden")}e.show=ge;function ye(...Ee){for(let Ie of Ee)Ie.style.display="none",Ie.setAttribute("aria-hidden","true")}e.hide=ye;function Ae(Ee){return Array.prototype.slice.call(document.getElementsByTagName(Ee),0)}e.getElementsByTagName=Ae;function Oe(Ee){const Ie=window.devicePixelRatio*Ee;return Math.max(1,Math.floor(Ie))/window.devicePixelRatio}e.computeScreenAwareSize=Oe;function He(Ee){window.open(Ee,"_blank","noopener")}e.windowOpenNoOpener=He;function Ve(Ee){const Ie=()=>{Ee(),Re=(0,e.scheduleAtNextAnimationFrame)(Ie)};let Re=(0,e.scheduleAtNextAnimationFrame)(Ie);return(0,u.toDisposable)(()=>Re.dispose())}e.animate=Ve,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ge(Ee){return Ee?`url('${g.FileAccess.asBrowserUri(Ee).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ge;function Je(Ee){return`'${Ee.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Je;class Ze extends v.Emitter{constructor(){super();this._subscriptions=new u.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(c(window,"keydown",Ie=>{if(Ie.defaultPrevented)return;const Re=new N.StandardKeyboardEvent(Ie);if(!(Re.keyCode===6&&Ie.repeat)){if(Ie.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ie.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ie.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ie.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Re.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ie,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(c(window,"keyup",Ie=>{Ie.defaultPrevented||(!Ie.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ie.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ie.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ie.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ie,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(c(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(c(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(c(document.body,"mousemove",Ie=>{Ie.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(c(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ze.instance||(Ze.instance=new Ze),Ze.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ze;function et(Ee,Ie){const Re=window.matchMedia(Ee);typeof Re.addEventListener=="function"?Re.addEventListener("change",Ie):Re.addListener(Ie)}e.addMatchMediaChangeListener=et}),define(Q[168],J([0,1,7]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function C(t,i={}){const n=D(i);return n.textContent=t,n}e.renderText=C;function N(t,i={}){const n=D(i);return b(n,v(t,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}e.renderFormattedText=N;function D(t){const i=t.inline?"span":"div",n=document.createElement(i);return t.className&&(n.className=t.className),n}e.createElement=D;class S{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function b(t,i,n,a){let c;if(i.type===2)c=document.createTextNode(i.content||"");else if(i.type===3)c=document.createElement("b");else if(i.type===4)c=document.createElement("i");else if(i.type===7&&a)c=document.createElement("code");else if(i.type===5&&n){const d=document.createElement("a");n.disposables.add(w.addStandardDisposableListener(d,"click",s=>{n.callback(String(i.index),s)})),c=d}else i.type===8?c=document.createElement("br"):i.type===1&&(c=t);c&&t!==c&&t.appendChild(c),c&&Array.isArray(i.children)&&i.children.forEach(d=>{b(c,d,n,a)})}function v(t,i){const n={type:1,children:[]};let a=0,c=n;const d=[],s=new S(t);for(;!s.eos();){let r=s.next();const o=r==="\\"&&g(s.peek(),i)!==0;if(o&&(r=s.next()),!o&&u(r,i)&&r===s.peek()){s.advance(),c.type===2&&(c=d.pop());const l=g(r,i);if(c.type===l||c.type===5&&l===6)c=d.pop();else{const h={type:l,children:[]};l===5&&(h.index=a,a++),c.children.push(h),d.push(c),c=h}}else if(r===`
`)c.type===2&&(c=d.pop()),c.children.push({type:8});else if(c.type!==2){const l={type:2,content:r};c.children.push(l),d.push(c),c=l}else c.content+=r}return c.type===2&&(c=d.pop()),d.length,n}function u(t,i){return g(t,i)!==0}function g(t,i){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(Q[96],J([0,1,7,207,56,2,17]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function b(u,g){let t=new N.StandardMouseEvent(g);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}e.standardMouseMoveMerger=b;class v{constructor(){this._hooks=new D.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(g,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,g&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(g,t,i,n,a){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=a;const c=C.IframeUtils.getSameOriginWindowChain(),d=S.isIOS?"pointermove":"mousemove",s="mouseup",r=c.map(l=>l.window.document),o=w.getShadowRoot(g);o&&r.unshift(o);for(const l of r)this._hooks.add(w.addDisposableThrottledListener(l,d,h=>{if(h.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,m)=>this._mouseMoveEventMerger(h,m))),this._hooks.add(w.addDisposableListener(l,s,h=>this.stopMonitoring(!0)));if(C.IframeUtils.hasDifferentOriginAncestor()){let l=c[c.length-1];this._hooks.add(w.addDisposableListener(l.window.document,"mouseout",h=>{new N.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(w.addDisposableListener(l.window.document,"mouseover",h=>{new N.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(w.addDisposableListener(l.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=v});var Be=this&&this.__decorate||function(H,e,w,C){var N=arguments.length,D=N<3?e:C===null?C=Object.getOwnPropertyDescriptor(e,w):C,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(H,e,w,C);else for(var b=H.length-1;b>=0;b--)(S=H[b])&&(D=(N<3?S(D):N>3?S(e,w,D):S(e,w))||D);return N>3&&D&&Object.defineProperty(e,w,D),D};define(Q[57],J([0,1,7,19,93,2]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class b extends D.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(w.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(w.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(w.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(u),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(g=>g!==u)}}):D.Disposable.None}static ignoreTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(u),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(g=>g!==u)}}):D.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){let g=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,i=u.targetTouches.length;t<i;t++){let n=u.targetTouches.item(t);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:g,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[g],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let a=this.newGestureEvent(S.Start,n.target);a.pageX=n.pageX,a.pageY=n.pageY,this.dispatchEvent(a)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){let g=Date.now(),t=Object.keys(this.activeTouches).length;for(let i=0,n=u.changedTouches.length;i<n;i++){let a=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let c=this.activeTouches[a.identifier],d=Date.now()-c.initialTimeStamp;if(d<b.HOLD_DELAY&&Math.abs(c.initialPageX-C.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-C.tail(c.rollingPageY))<30){let s=this.newGestureEvent(S.Tap,c.initialTarget);s.pageX=C.tail(c.rollingPageX),s.pageY=C.tail(c.rollingPageY),this.dispatchEvent(s)}else if(d>=b.HOLD_DELAY&&Math.abs(c.initialPageX-C.tail(c.rollingPageX))<30&&Math.abs(c.initialPageY-C.tail(c.rollingPageY))<30){let s=this.newGestureEvent(S.Contextmenu,c.initialTarget);s.pageX=C.tail(c.rollingPageX),s.pageY=C.tail(c.rollingPageY),this.dispatchEvent(s)}else if(t===1){let s=C.tail(c.rollingPageX),r=C.tail(c.rollingPageY),o=C.tail(c.rollingTimestamps)-c.rollingTimestamps[0],l=s-c.rollingPageX[0],h=r-c.rollingPageY[0];const m=this.targets.filter(y=>c.initialTarget instanceof Node&&y.contains(c.initialTarget));this.inertia(m,g,Math.abs(l)/o,l>0?1:-1,s,Math.abs(h)/o,h>0?1:-1,r)}this.dispatchEvent(this.newGestureEvent(S.End,c.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,g){let t=document.createEvent("CustomEvent");return t.initEvent(u,!1,!0),t.initialTarget=g,t.tapCount=0,t}dispatchEvent(u){if(u.type===S.Tap){const g=new Date().getTime();let t=0;g-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=g,u.tapCount=t}else(u.type===S.Change||u.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let g=0;g<this.ignoreTargets.length;g++)if(u.initialTarget instanceof Node&&this.ignoreTargets[g].contains(u.initialTarget))return;this.targets.forEach(g=>{u.initialTarget instanceof Node&&g.contains(u.initialTarget)&&(g.dispatchEvent(u),this.dispatched=!0)})}inertia(u,g,t,i,n,a,c,d){this.handle=w.scheduleAtNextAnimationFrame(()=>{let s=Date.now(),r=s-g,o=0,l=0,h=!0;t+=b.SCROLL_FRICTION*r,a+=b.SCROLL_FRICTION*r,t>0&&(h=!1,o=i*t*r),a>0&&(h=!1,l=c*a*r);let m=this.newGestureEvent(S.Change);m.translationX=o,m.translationY=l,u.forEach(y=>y.dispatchEvent(m)),h||this.inertia(u,s,t,i,n+o,a,c,d+l)})}onTouchMove(u){let g=Date.now();for(let t=0,i=u.changedTouches.length;t<i;t++){let n=u.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let a=this.activeTouches[n.identifier],c=this.newGestureEvent(S.Change,a.initialTarget);c.translationX=n.pageX-C.tail(a.rollingPageX),c.translationY=n.pageY-C.tail(a.rollingPageY),c.pageX=n.pageX,c.pageY=n.pageY,this.dispatchEvent(c),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(n.pageX),a.rollingPageY.push(n.pageY),a.rollingTimestamps.push(g)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,Be([N.memoize],b,"isTouchDevice",null),e.Gesture=b}),define(Q[109],J([0,1,7,27]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const N=new RegExp(`(\\\\)?\\$\\((${C.CSSIcon.iconNameExpression}(?:${C.CSSIcon.iconModifierExpression})?)\\)`,"g");function D(b){const v=new Array;let u,g=0,t=0;for(;(u=N.exec(b))!==null;){t=u.index||0,v.push(b.substring(g,t)),g=(u.index||0)+u[0].length;const[,i,n]=u;v.push(i?`$(${n})`:S({id:n}))}return g<b.length&&v.push(b.substring(g)),v}e.renderLabelWithIcons=D;function S(b){const v=w.$("span");return v.classList.add(...C.CSSIcon.asClassNameArray(b)),v}e.renderIcon=S}),define(Q[213],J([0,1,7,109,38]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(b,v){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=v==null?void 0:v.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=w.append(b,w.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,v=[],u="",g){b||(b=""),g&&(b=D.escapeNewLines(b,v)),!(this.didEverRender&&this.text===b&&this.title===u&&N.equals(this.highlights,v))&&(this.text=b,this.title=u,this.highlights=v,this.render())}render(){const b=[];let v=0;for(const u of this.highlights){if(u.end===u.start)continue;if(v<u.start){const i=this.text.substring(v,u.start);b.push(w.$("span",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(i):[i])),v=u.end}const g=this.text.substring(u.start,u.end),t=w.$("span.highlight",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(g):[g]);u.extraClasses&&t.classList.add(...u.extraClasses),b.push(t),v=u.end}if(v<this.text.length){const u=this.text.substring(v);b.push(w.$("span",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(u):[u]))}w.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,v){let u=0,g=0;return b.replace(/\r\n|\r|\n/g,(t,i)=>{g=t===`\r
`?-1:0,i+=u;for(const n of v)n.end<=i||(n.start>=i&&(n.start+=g),n.end>=i&&(n.end+=g));return u+=g,"\u23CE"})}}e.HighlightedLabel=D}),define(Q[317],J([0,1,7]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function C(D){try{D.parentElement&&D.parentElement.removeChild(D)}catch{}}class N{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let b=this.getTemplateCache(S).pop();if(!b){const v=(0,w.$)(".monaco-list-row"),g=this.getRenderer(S).renderTemplate(v);b={domNode:v,templateId:S,templateData:g}}return b}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:b,templateId:v}=S;b&&(b.classList.remove("scrolling"),C(b)),this.getTemplateCache(v).push(S)}getTemplateCache(S){let b=this.cache.get(S);return b||(b=[],this.cache.set(S,b)),b}dispose(){this.cache.forEach((S,b)=>{for(const v of S)this.getRenderer(b).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(S){const b=this.renderers.get(S);if(!b)throw new Error(`No renderer found for ${S}`);return b}}e.RowCache=N}),define(Q[58],J([0,1,7,46,56,57,2]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends S.Disposable{onclick(u,g){this._register(w.addDisposableListener(u,w.EventType.CLICK,t=>g(new N.StandardMouseEvent(t))))}onmousedown(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_DOWN,t=>g(new N.StandardMouseEvent(t))))}onmouseover(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_OVER,t=>g(new N.StandardMouseEvent(t))))}onnonbubblingmouseout(u,g){this._register(w.addDisposableNonBubblingMouseOutListener(u,t=>g(new N.StandardMouseEvent(t))))}onkeydown(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_DOWN,t=>g(new C.StandardKeyboardEvent(t))))}onkeyup(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_UP,t=>g(new C.StandardKeyboardEvent(t))))}oninput(u,g){this._register(w.addDisposableListener(u,w.EventType.INPUT,g))}onblur(u,g){this._register(w.addDisposableListener(u,w.EventType.BLUR,g))}onfocus(u,g){this._register(w.addDisposableListener(u,w.EventType.FOCUS,g))}ignoreGesture(u){D.Gesture.ignoreTarget(u)}}e.Widget=b}),define(Q[169],J([0,1,96,58,10]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class D extends C.Widget{constructor(b){super();this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof b.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof b.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof b.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...b.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top!="undefined"&&(this.domNode.style.top=b.top+"px"),typeof b.left!="undefined"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom!="undefined"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right!="undefined"&&(this.domNode.style.right=b.right+"px"),this._mouseMoveMonitor=this._register(new w.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,v=>this._arrowMouseDown(v)),this.onmousedown(this.domNode,v=>this._arrowMouseDown(v)),this._mousedownRepeatTimer=this._register(new N.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new N.TimeoutTimer)}_arrowMouseDown(b){const v=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(v,200),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,w.standardMouseMoveMerger,u=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=D}),define(Q[214],J([0,1,7,31,96,169,312,58,17]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class g extends b.Widget{constructor(i){super();this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,C.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,n=>this._domNodeMouseDown(n))}_createArrow(i){const n=this._register(new D.ScrollbarArrow(i));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}_createSlider(i,n,a,c){this.slider=(0,C.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(n),typeof a=="number"&&this.slider.setWidth(a),typeof c=="number"&&this.slider.setHeight(c),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,d=>{d.leftButton&&(d.preventDefault(),this._sliderMouseDown(d,()=>{}))}),this.onclick(this.slider.domNode,d=>{d.leftButton&&d.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(i){i.target===this.domNode.domNode&&this._onMouseDown(i)}delegateMouseDown(i){const n=this.domNode.domNode.getClientRects()[0].top,a=n+this._scrollbarState.getSliderPosition(),c=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),d=this._sliderMousePosition(i);a<=d&&d<=c?i.leftButton&&(i.preventDefault(),this._sliderMouseDown(i,()=>{})):this._onMouseDown(i)}_onMouseDown(i){let n,a;if(i.target===this.domNode.domNode&&typeof i.browserEvent.offsetX=="number"&&typeof i.browserEvent.offsetY=="number")n=i.browserEvent.offsetX,a=i.browserEvent.offsetY;else{const d=w.getDomNodePagePosition(this.domNode.domNode);n=i.posx-d.left,a=i.posy-d.top}const c=this._mouseDownRelativePosition(n,a);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(c):this._scrollbarState.getDesiredScrollPositionFromOffset(c)),i.leftButton&&(i.preventDefault(),this._sliderMouseDown(i,()=>{}))}_sliderMouseDown(i,n){const a=this._sliderMousePosition(i),c=this._sliderOrthogonalMousePosition(i),d=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(i.target,i.buttons,N.standardMouseMoveMerger,s=>{const r=this._sliderOrthogonalMousePosition(s),o=Math.abs(r-c);if(v.isWindows&&o>u){this._setDesiredScrollPositionNow(d.getScrollPosition());return}const h=this._sliderMousePosition(s)-a;this._setDesiredScrollPositionNow(d.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),n()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const n={};this.writeScrollPosition(n,i),this._scrollable.setScrollPositionNow(n)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(Q[318],J([0,1,56,214,169,208,27]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends C.AbstractScrollbar{constructor(u,g,t){const i=u.getScrollDimensions(),n=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:t,scrollbarState:new D.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:g.scrollByPage});if(g.horizontalHasArrows){const a=(g.arrowSize-N.ARROW_IMG_SIZE)/2,c=(g.horizontalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:c,left:a,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:c,left:void 0,bottom:void 0,right:a,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(u,g){this.slider.setWidth(u),this.slider.setLeft(g)}_renderDomNode(u,g){this.domNode.setWidth(u),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,g){return u}_sliderMousePosition(u){return u.posx}_sliderOrthogonalMousePosition(u){return u.posy}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,g){u.scrollLeft=g}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=b}),define(Q[319],J([0,1,56,214,169,208,27]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends C.AbstractScrollbar{constructor(u,g,t){const i=u.getScrollDimensions(),n=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:t,scrollbarState:new D.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:g.scrollByPage});if(g.verticalHasArrows){const a=(g.arrowSize-N.ARROW_IMG_SIZE)/2,c=(g.verticalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:a,left:c,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:c,bottom:a,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(u,g){this.slider.setHeight(u),this.slider.setTop(g)}_renderDomNode(u,g){this.domNode.setWidth(g),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,g){return g}_sliderMousePosition(u){return u.posy}_sliderOrthogonalMousePosition(u){return u.posx}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,g){u.scrollTop=g}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=b}),define(Q[41],J([0,1,165,48,79,17,8,25]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function v(t){return(0,b.uriToFsPath)(t,!0)}e.originalFSPath=v;class u{constructor(i){this._ignorePathCasing=i}compare(i,n,a=!1){return i===n?0:(0,S.compare)(this.getComparisonKey(i,a),this.getComparisonKey(n,a))}isEqual(i,n,a=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,a)===this.getComparisonKey(n,a)}getComparisonKey(i,n=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(i,n,a=!1){if(i.scheme===n.scheme){if(i.scheme===C.Schemas.file)return w.isEqualOrParent(v(i),v(n),this._ignorePathCasing(i))&&i.query===n.query&&(a||i.fragment===n.fragment);if((0,e.isEqualAuthority)(i.authority,n.authority))return w.isEqualOrParent(i.path,n.path,this._ignorePathCasing(i),"/")&&i.query===n.query&&(a||i.fragment===n.fragment)}return!1}joinPath(i,...n){return b.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return N.posix.basename(i.path)}extname(i){return N.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===C.Schemas.file?n=b.URI.file(N.dirname(v(i))).path:(n=N.posix.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===C.Schemas.file?n=b.URI.file(N.normalize(v(i))).path:n=N.posix.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.isEqualAuthority)(i.authority,n.authority))return;if(i.scheme===C.Schemas.file){const d=N.relative(v(i),v(n));return D.isWindows?w.toSlashes(d):d}let a=i.path||"/",c=n.path||"/";if(this._ignorePathCasing(i)){let d=0;for(const s=Math.min(a.length,c.length);d<s&&!(a.charCodeAt(d)!==c.charCodeAt(d)&&a.charAt(d).toLowerCase()!==c.charAt(d).toLowerCase());d++);a=c.substr(0,d)+a.substr(d)}return N.posix.relative(a,c)}resolvePath(i,n){if(i.scheme===C.Schemas.file){const a=b.URI.file(N.resolve(v(i),n));return i.with({authority:a.authority,path:a.path})}return n=w.toPosixPath(n),i.with({path:N.posix.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,S.equalsIgnoreCase)(i,n)}hasTrailingPathSeparator(i,n=N.sep){if(i.scheme===C.Schemas.file){const a=v(i);return a.length>w.getRoot(a).length&&a[a.length-1]===n}else{const a=i.path;return a.length>1&&a.charCodeAt(a.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=N.sep){return(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=N.sep){let a=!1;if(i.scheme===C.Schemas.file){const c=v(i);a=c!==void 0&&c.length===w.getRoot(c).length&&c[c.length-1]===n}else{n="/";const c=i.path;a=c.length===1&&c.charCodeAt(c.length-1)===47}return!a&&!(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path+"/"}):i}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(t=>t.scheme===C.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new u(t=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime";function i(n){const a=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(s=>{const[r,o]=s.split(":");r&&o&&a.set(r,o)});const d=n.path.substring(0,n.path.indexOf(";"));return d&&a.set(t.META_DATA_MIME,d),a}t.parseMetaData=i})(g=e.DataUri||(e.DataUri={}))}),define(Q[320],J([0,1,7,746,88,168,56,109,10,23,14,4,64,95,132,2,747,212,48,38,41,8,25]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function y(_,I={},E={}){var T;const k=new c.DisposableStore;let A=!1;const P=k.add(new u.CancellationTokenSource),F=(0,D.createElement)(I),R=function(ee){let X;try{X=(0,s.parse)(decodeURIComponent(ee))}catch{}return X?(X=(0,o.cloneAndChange)(X,ne=>{if(_.uris&&_.uris[ne])return m.URI.revive(_.uris[ne])}),encodeURIComponent(JSON.stringify(X))):ee},M=function(ee,X){const ne=_.uris&&_.uris[ee];let Y=m.URI.revive(ne);return X?ee.startsWith(r.Schemas.data+":")?ee:(Y||(Y=m.URI.parse(ee)),r.FileAccess.asBrowserUri(Y).toString(!0)):!Y||m.URI.parse(ee).toString()===Y.toString()?ee:(Y.query&&(Y=Y.with({query:R(Y.query)})),Y.toString())};let O;const L=new Promise(ee=>O=ee),B=new d.Renderer;if(B.image=(ee,X,ne)=>{let Y=[],j=[];return ee&&({href:ee,dimensions:Y}=(0,i.parseHrefAndDimensions)(ee),j.push(`src="${ee}"`)),ne&&j.push(`alt="${ne}"`),X&&j.push(`title="${X}"`),Y.length&&(j=j.concat(Y)),"<img "+j.join(" ")+">"},B.link=(ee,X,ne)=>(ee===ne&&(ne=(0,i.removeMarkdownEscapes)(ne)),ee=M(ee,!1),I.baseUrl&&(/^\w[\w\d+.-]*:/.test(ee)||(ee=(0,l.resolvePath)(I.baseUrl,ee).toString())),X=(0,i.removeMarkdownEscapes)(X),ee=(0,i.removeMarkdownEscapes)(ee),!ee||ee.match(/^data:|javascript:/i)||ee.match(/^command:/i)&&!_.isTrusted||ee.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?ne:(ee=ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${ee}" title="${X||ee}">${ne}</a>`)),B.paragraph=ee=>`<p>${ee}</p>`,I.codeBlockRenderer&&(B.code=(ee,X)=>{const ne=I.codeBlockRenderer(X,ee),Y=a.defaultGenerator.nextId();return(0,v.raceCancellation)(Promise.all([ne,L]),P.token).then(j=>{var W;if(!A&&j){const V=F.querySelector(`div[data-code="${Y}"]`);V&&w.reset(V,j[0]),(W=I.asyncRenderCallback)===null||W===void 0||W.call(I)}}).catch(()=>{}),`<div class="code" data-code="${Y}">${(0,h.escape)(ee)}</div>`}),I.actionHandler){const ee=I.actionHandler.disposables.add(new N.DomEmitter(F,"click")),X=I.actionHandler.disposables.add(new N.DomEmitter(F,"auxclick"));I.actionHandler.disposables.add(t.Event.any(ee.event,X.event)(ne=>{const Y=new S.StandardMouseEvent(ne);if(!Y.leftButton&&!Y.middleButton)return;let j=Y.target;if(!(j.tagName!=="A"&&(j=j.parentElement,!j||j.tagName!=="A")))try{const W=j.dataset.href;W&&I.actionHandler.callback(W,Y)}catch(W){(0,g.onUnexpectedError)(W)}finally{Y.preventDefault()}}))}_.supportHtml||(E.sanitizer=ee=>(_.isTrusted?ee.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?ee:"",E.sanitize=!0,E.silent=!0),E.renderer=B;let x=(T=_.value)!==null&&T!==void 0?T:"";x.length>1e5&&(x=`${x.substr(0,1e5)}\u2026`),_.supportThemeIcons&&(x=(0,n.markdownEscapeEscapedIcons)(x));let U=d.parse(x,E);_.supportThemeIcons&&(U=(0,b.renderLabelWithIcons)(U).map(X=>typeof X=="string"?X:X.outerHTML).join(""));const Z=new DOMParser().parseFromString(p(_,U),"text/html");if(Z.body.querySelectorAll("img").forEach(ee=>{if(ee.src){let X=M(ee.src,!0);try{const ne=m.URI.parse(X);I.baseUrl&&ne.scheme===r.Schemas.file&&(X=(0,l.resolvePath)(I.baseUrl,X).toString())}catch{}ee.src=X}}),F.innerHTML=p(_,Z.body.innerHTML),O(),I.asyncRenderCallback)for(const ee of F.getElementsByTagName("img")){const X=k.add(w.addDisposableListener(ee,"load",()=>{X.dispose(),I.asyncRenderCallback()}))}return{element:F,dispose:()=>{A=!0,P.cancel(),k.dispose()}}}e.renderMarkdown=y;function p(_,I){const{config:E,allowedSchemes:T}=f(_);C.addHook("uponSanitizeAttribute",(A,P)=>{if(P.attrName==="style"||P.attrName==="class"){if(A.tagName==="SPAN"){if(P.attrName==="style"){P.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(P.attrValue);return}else if(P.attrName==="class"){P.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(P.attrValue);return}}P.keepAttr=!1;return}});const k=document.createElement("a");C.addHook("afterSanitizeAttributes",A=>{for(const P of["href","src"])A.hasAttribute(P)&&(k.href=A.getAttribute(P),T.includes(k.protocol.replace(/:$/,""))||A.removeAttribute(P))});try{return C.sanitize(I,Object.assign(Object.assign({},E),{RETURN_TRUSTED_TYPE:!0}))}finally{C.removeHook("uponSanitizeAttribute"),C.removeHook("afterSanitizeAttributes")}}function f(_){const I=[r.Schemas.http,r.Schemas.https,r.Schemas.mailto,r.Schemas.data,r.Schemas.file,r.Schemas.vscodeFileResource,r.Schemas.vscodeRemote,r.Schemas.vscodeRemoteResource];return _.isTrusted&&I.push(r.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:I}}}),define(Q[170],J([0,1,165,48,17,41,25]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function b(g){if(!g)return;typeof g=="string"&&(g=S.URI.file(g));const t=(0,D.basename)(g)||(g.scheme===C.Schemas.file?g.fsPath:g.path);return N.isWindows&&(0,w.isRootOrDriveLetter)(t)?v(t):t}e.getBaseLabel=b;function v(g,t){return(0,w.hasDriveLetter)(g,t)?g.charAt(0).toUpperCase()+g.slice(1):g}e.normalizeDriveLetter=v;let u=Object.create(null)}),define(Q[321],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const w=new Uint8Array(16),C=[];for(let S=0;S<256;S++)C.push(S.toString(16).padStart(2,"0"));let N;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?N=crypto.getRandomValues.bind(crypto):N=function(S){for(let b=0;b<S.length;b++)S[b]=Math.floor(Math.random()*256);return S};function D(){N(w),w[6]=w[6]&15|64,w[8]=w[8]&63|128;let S=0,b="";return b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b+="-",b+=C[w[S++]],b+=C[w[S++]],b+="-",b+=C[w[S++]],b+=C[w[S++]],b+="-",b+=C[w[S++]],b+=C[w[S++]],b+="-",b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b+=C[w[S++]],b}e.generateUuid=D}),define(Q[215],J([0,1,14,4,2,17,20,8]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const v="$initialize";let u=!1;function g(y){!D.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(y.message))}e.logOnceWebWorkerWarning=g;class t{constructor(p,f,_,I){this.vsWorker=p,this.req=f,this.method=_,this.args=I,this.type=0}}class i{constructor(p,f,_,I){this.vsWorker=p,this.seq=f,this.res=_,this.err=I,this.type=1}}class n{constructor(p,f,_,I){this.vsWorker=p,this.req=f,this.eventName=_,this.arg=I,this.type=2}}class a{constructor(p,f,_){this.vsWorker=p,this.req=f,this.event=_,this.type=3}}class c{constructor(p,f){this.vsWorker=p,this.req=f,this.type=4}}class d{constructor(p){this._workerId=-1,this._handler=p,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(p){this._workerId=p}sendMessage(p,f){const _=String(++this._lastSentReq);return new Promise((I,E)=>{this._pendingReplies[_]={resolve:I,reject:E},this._send(new t(this._workerId,_,p,f))})}listen(p,f){let _=null;const I=new C.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,I),this._send(new n(this._workerId,_,p,f))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new c(this._workerId,_)),_=null}});return I.event}handleMessage(p){!p||!p.vsWorker||this._workerId!==-1&&p.vsWorker!==this._workerId||this._handleMessage(p)}_handleMessage(p){switch(p.type){case 1:return this._handleReplyMessage(p);case 0:return this._handleRequestMessage(p);case 2:return this._handleSubscribeEventMessage(p);case 3:return this._handleEventMessage(p);case 4:return this._handleUnsubscribeEventMessage(p)}}_handleReplyMessage(p){if(!this._pendingReplies[p.seq]){console.warn("Got reply to unknown seq");return}let f=this._pendingReplies[p.seq];if(delete this._pendingReplies[p.seq],p.err){let _=p.err;p.err.$isError&&(_=new Error,_.name=p.err.name,_.message=p.err.message,_.stack=p.err.stack),f.reject(_);return}f.resolve(p.res)}_handleRequestMessage(p){let f=p.req;this._handler.handleMessage(p.method,p.args).then(I=>{this._send(new i(this._workerId,f,I,void 0))},I=>{I.detail instanceof Error&&(I.detail=(0,w.transformErrorForSerialization)(I.detail)),this._send(new i(this._workerId,f,void 0,(0,w.transformErrorForSerialization)(I)))})}_handleSubscribeEventMessage(p){const f=p.req,_=this._handler.handleEvent(p.eventName,p.arg)(I=>{this._send(new a(this._workerId,f,I))});this._pendingEvents.set(f,_)}_handleEventMessage(p){if(!this._pendingEmitters.has(p.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(p.req).fire(p.event)}_handleUnsubscribeEventMessage(p){if(!this._pendingEvents.has(p.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(p.req).dispose(),this._pendingEvents.delete(p.req)}_send(p){let f=[];if(p.type===0)for(let _=0;_<p.args.length;_++)p.args[_]instanceof ArrayBuffer&&f.push(p.args[_]);else p.type===1&&p.res instanceof ArrayBuffer&&f.push(p.res);this._handler.sendMessage(p,f)}}class s extends N.Disposable{constructor(p,f,_){super();let I=null;this._worker=this._register(p.create("vs/base/common/worker/simpleWorker",P=>{this._protocol.handleMessage(P)},P=>{I&&I(P)})),this._protocol=new d({sendMessage:(P,F)=>{this._worker.postMessage(P,F)},handleMessage:(P,F)=>{if(typeof _[P]!="function")return Promise.reject(new Error("Missing method "+P+" on main thread host."));try{return Promise.resolve(_[P].apply(_,F))}catch(R){return Promise.reject(R)}},handleEvent:(P,F)=>{if(o(P)){const R=_[P].call(_,F);if(typeof R!="function")throw new Error(`Missing dynamic event ${P} on main thread host.`);return R}if(r(P)){const R=_[P];if(typeof R!="function")throw new Error(`Missing event ${P} on main thread host.`);return R}throw new Error(`Malformed event name ${P}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof D.globals.require!="undefined"&&typeof D.globals.require.getConfig=="function"?E=D.globals.require.getConfig():typeof D.globals.requirejs!="undefined"&&(E=D.globals.requirejs.s.contexts._.config);const T=S.getAllMethodNames(_);this._onModuleLoaded=this._protocol.sendMessage(v,[this._worker.getId(),JSON.parse(JSON.stringify(E)),f,T]);const k=(P,F)=>this._request(P,F),A=(P,F)=>this._protocol.listen(P,F);this._lazyProxy=new Promise((P,F)=>{I=F,this._onModuleLoaded.then(R=>{P(l(R,k,A))},R=>{F(R),this._onError("Worker failed to load "+f,R)})})}getProxyObject(){return this._lazyProxy}_request(p,f){return new Promise((_,I)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(p,f).then(_,I)},I)})}_onError(p,f){console.error(p),console.info(f)}}e.SimpleWorkerClient=s;function r(y){return y[0]==="o"&&y[1]==="n"&&b.isUpperAsciiLetter(y.charCodeAt(2))}function o(y){return/^onDynamic/.test(y)&&b.isUpperAsciiLetter(y.charCodeAt(9))}function l(y,p,f){const _=T=>function(){const k=Array.prototype.slice.call(arguments,0);return p(T,k)},I=T=>function(k){return f(T,k)};let E={};for(const T of y){if(o(T)){E[T]=I(T);continue}if(r(T)){E[T]=f(T,void 0);continue}E[T]=_(T)}return E}class h{constructor(p,f){this._requestHandlerFactory=f,this._requestHandler=null,this._protocol=new d({sendMessage:(_,I)=>{p(_,I)},handleMessage:(_,I)=>this._handleMessage(_,I),handleEvent:(_,I)=>this._handleEvent(_,I)})}onmessage(p){this._protocol.handleMessage(p)}_handleMessage(p,f){if(p===v)return this.initialize(f[0],f[1],f[2],f[3]);if(!this._requestHandler||typeof this._requestHandler[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this._requestHandler[p].apply(this._requestHandler,f))}catch(_){return Promise.reject(_)}}_handleEvent(p,f){if(!this._requestHandler)throw new Error("Missing requestHandler");if(o(p)){const _=this._requestHandler[p].call(this._requestHandler,f);if(typeof _!="function")throw new Error(`Missing dynamic event ${p} on request handler.`);return _}if(r(p)){const _=this._requestHandler[p];if(typeof _!="function")throw new Error(`Missing event ${p} on request handler.`);return _}throw new Error(`Malformed event name ${p}`)}initialize(p,f,_,I){this._protocol.setWorkerId(p);const k=l(I,(A,P)=>this._protocol.sendMessage(A,P),(A,P)=>this._protocol.listen(A,P));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(k),Promise.resolve(S.getAllMethodNames(this._requestHandler))):(f&&(typeof f.baseUrl!="undefined"&&delete f.baseUrl,typeof f.paths!="undefined"&&typeof f.paths.vs!="undefined"&&delete f.paths.vs,typeof f.trustedTypesPolicy!==void 0&&delete f.trustedTypesPolicy,f.catchError=!0,D.globals.require.config(f)),new Promise((A,P)=>{(D.globals.require||H)([_],R=>{if(this._requestHandler=R.create(k),!this._requestHandler){P(new Error("No RequestHandler!"));return}A(S.getAllMethodNames(this._requestHandler))},P)}))}}e.SimpleWorkerServer=h;function m(y){return new h(y,null)}e.create=m}),define(Q[216],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var w;(function(D){D[D.Blur=1]="Blur",D[D.Gesture=2]="Gesture",D[D.Other=3]="Other"})(w=e.QuickInputHideReason||(e.QuickInputHideReason={}));var C;(function(D){D[D.NONE=0]="NONE",D[D.FIRST=1]="FIRST",D[D.SECOND=2]="SECOND",D[D.LAST=3]="LAST"})(C=e.ItemActivation||(e.ItemActivation={}));class N{constructor(S){this.options=S}}e.QuickPickItemScorerAccessor=N,e.quickPickItemScorerAccessor=new N}),define(Q[322],J([0,1,10,4,2,20]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(S||(S={}));class b extends N.Disposable{constructor(g,t=Object.create(null)){super();this.database=g,this.options=t,this._onDidChangeStorage=this._register(new C.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new w.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var t,i;(t=g.changed)===null||t===void 0||t.forEach((n,a)=>this.accept(a,n)),(i=g.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(g,t){if(this.state===S.Closed)return;let i=!1;(0,D.isUndefinedOrNull)(t)?i=this.cache.delete(g):this.cache.get(g)!==t&&(this.cache.set(g,t),i=!0),i&&this._onDidChangeStorage.fire(g)}get(g,t){const i=this.cache.get(g);return(0,D.isUndefinedOrNull)(i)?t:i}getBoolean(g,t){const i=this.get(g);return(0,D.isUndefinedOrNull)(i)?t:i==="true"}getNumber(g,t){const i=this.get(g);return(0,D.isUndefinedOrNull)(i)?t:parseInt(i,10)}set(g,t){return De(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,D.isUndefinedOrNull)(t))return this.delete(g);const i=String(t);if(this.cache.get(g)!==i)return this.cache.set(g,i),this.pendingInserts.set(g,i),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return De(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return De(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(g){return De(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=C.Event.None,this.items=new Map}updateItems(g){return De(this,void 0,void 0,function*(){g.insert&&g.insert.forEach((t,i)=>this.items.set(i,t)),g.delete&&g.delete.forEach(t=>this.items.delete(t))})}}e.InMemoryStorageDatabase=v}),define(Q[323],J([0,1,17,215]),function(H,e,w,C){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("defaultWorkerFactory",{createScriptURL:t=>t});function S(t,i){if(w.globals.MonacoEnvironment){if(typeof w.globals.MonacoEnvironment.getWorker=="function")return w.globals.MonacoEnvironment.getWorker(t,i);if(typeof w.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=w.globals.MonacoEnvironment.getWorkerUrl(t,i);return new Worker(D?D.createScriptURL(n):n,{name:i})}}if(typeof H=="function"){const n=H.toUrl("./"+t),a=b(n,i);return new Worker(D?D.createScriptURL(a):a,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(t,i){if(/^((http:)|(https:)|(file:))/.test(t)&&t.substring(0,self.origin.length)!==self.origin){const n="vs/base/worker/defaultWorkerFactory.js",a=H.toUrl(n).slice(0,-n.length),c=`/*${i}*/self.MonacoEnvironment={baseUrl: '${a}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${t}') ?? '${t}');/*${i}*/`,d=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(d)}return t+"#"+i}e.getWorkerBootstrapUrl=b;function v(t){return typeof t.then=="function"}class u{constructor(i,n,a,c,d){this.id=n;const s=S("workerMain.js",a);v(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(i,[]),this.worker.then(r=>{r.onmessage=function(o){c(o.data)},r.onmessageerror=d,typeof r.addEventListener=="function"&&r.addEventListener("error",d)})}getId(){return this.id}postMessage(i,n){this.worker&&this.worker.then(a=>a.postMessage(i,n))}dispose(){this.worker&&this.worker.then(i=>i.terminate()),this.worker=null}}class g{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,n,a){let c=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(i,c,this._label||"anonymous"+c,n,d=>{(0,C.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,a(d)})}}e.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0}),define(Q[217],J([12]),{}),define(Q[324],J([12]),{}),define(Q[43],J([0,1,7,17,324]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const N=2e4;let D,S,b,v,u;function g(a){D=document.createElement("div"),D.className="monaco-aria-container";const c=()=>{const s=document.createElement("div");return s.className="monaco-alert",s.setAttribute("role","alert"),s.setAttribute("aria-atomic","true"),D.appendChild(s),s};S=c(),b=c();const d=()=>{const s=document.createElement("div");return s.className="monaco-status",s.setAttribute("role","complementary"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),D.appendChild(s),s};v=d(),u=d(),a.appendChild(D)}e.setARIAContainer=g;function t(a){!D||(S.textContent!==a?(w.clearNode(b),n(S,a)):(w.clearNode(S),n(b,a)))}e.alert=t;function i(a){!D||(C.isMacintosh?t(a):v.textContent!==a?(w.clearNode(u),n(v,a)):(w.clearNode(v),n(u,a)))}e.status=i;function n(a,c){w.clearNode(a),c.length>N&&(c=c.substr(0,N)),a.textContent=c,a.style.visibility="hidden",a.style.visibility="visible"}}),define(Q[325],J([12]),{}),define(Q[326],J([0,1,7,46,57,109,30,4,2,38,325]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:S.Color.fromHex("#0E639C"),buttonHoverBackground:S.Color.fromHex("#006BB3"),buttonForeground:S.Color.white};class t extends v.Disposable{constructor(n,a){super();this._onDidClick=this._register(new b.Emitter),this.options=a||Object.create(null),(0,u.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),n.appendChild(this._element),this._register(N.Gesture.addTarget(this._element)),[w.EventType.CLICK,N.EventType.Tap].forEach(c=>{this._register((0,w.addDisposableListener)(this._element,c,d=>{if(!this.enabled){w.EventHelper.stop(d);return}this._onDidClick.fire(d)}))}),this._register((0,w.addDisposableListener)(this._element,w.EventType.KEY_DOWN,c=>{const d=new C.StandardKeyboardEvent(c);let s=!1;this.enabled&&(d.equals(3)||d.equals(10))?(this._onDidClick.fire(c),s=!0):d.equals(9)&&(this._element.blur(),s=!0),s&&w.EventHelper.stop(d,!0)})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OVER,c=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OUT,c=>{this.applyStyles()})),this.focusTracker=this._register((0,w.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let n;this.options.secondary?n=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:n=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,n&&(this._element.style.backgroundColor=n)}style(n){this.buttonForeground=n.buttonForeground,this.buttonBackground=n.buttonBackground,this.buttonHoverBackground=n.buttonHoverBackground,this.buttonSecondaryForeground=n.buttonSecondaryForeground,this.buttonSecondaryBackground=n.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=n.buttonSecondaryHoverBackground,this.buttonBorder=n.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let n,a;this.options.secondary?(a=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",n=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(a=this.buttonForeground?this.buttonForeground.toString():"",n=this.buttonBackground?this.buttonBackground.toString():"");const c=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=a,this._element.style.backgroundColor=n,this._element.style.borderWidth=c?"1px":"",this._element.style.borderStyle=c?"solid":"",this._element.style.borderColor=c}}get element(){return this._element}set label(n){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,w.reset)(this._element,...(0,D.renderLabelWithIcons)(n)):this._element.textContent=n,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=n)}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=t}),define(Q[327],J([12]),{}),define(Q[171],J([0,1,58,27,30,4,327]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:N.Color.fromHex("#007ACC00"),inputActiveOptionForeground:N.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:N.Color.fromHex("#0E639C50")};class b extends w.Widget{constructor(u){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),u),this._checked=this._opts.isChecked;const g=["monaco-custom-checkbox"];this._opts.icon&&g.push(...C.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,t=>{this.checked=!this._checked,this._onChange.fire(!1),t.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,t=>{if(t.keyCode===10||t.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),t.preventDefault();return}this._onKeyDown.fire(t)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=b}),define(Q[328],J([12]),{}),define(Q[329],J([12]),{}),define(Q[139],J([0,1,27,328,329]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function C(N){let D=N.definition;for(;D instanceof w.Codicon;)D=D.definition;return`.codicon-${N.id}:before { content: '${D.fontCharacter}'; }`}e.formatRule=C}),define(Q[330],J([12]),{}),define(Q[218],J([0,1,164,7,2,17,135,330]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(t){t[t.AVOID=0]="AVOID",t[t.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(t,i,n){const a=n.mode===b.ALIGN?n.offset:n.offset+n.size,c=n.mode===b.ALIGN?n.offset+n.size:n.offset;return n.position===0?i<=t-a?a:i<=c?c-i:Math.max(t-i,0):i<=c?c-i:i<=t-a?a:0}e.layout=v;class u extends N.Disposable{constructor(i,n){super();this.container=null,this.delegate=null,this.toDisposeOnClean=N.Disposable.None,this.toDisposeOnSetContainer=N.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=C.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,C.hide(this.view),this.setContainer(i,n),this._register((0,N.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,n){var a;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(a=this.shadowRootHostElement)===null||a===void 0||a.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=n!==1,this.useShadowDOM=n===3,this.useShadowDOM){this.shadowRootHostElement=C.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const d=document.createElement("style");d.textContent=g,this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(C.$("slot"))}else this.container.appendChild(this.view);const c=new N.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(d=>{c.add(C.addStandardDisposableListener(this.container,d,s=>{this.onDOMEvent(s,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(d=>{c.add(C.addStandardDisposableListener(this.container,d,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=c}}show(i){this.isVisible()&&this.hide(),C.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",C.show(this.view),this.toDisposeOnClean=i.render(this.view)||N.Disposable.None,this.delegate=i,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let i=this.delegate.getAnchor(),n;if(C.isHTMLElement(i)){let m=C.getDomNodePagePosition(i);n={top:m.top,left:m.left,width:m.width,height:m.height}}else n={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const a=C.getTotalWidth(this.view),c=C.getTotalHeight(this.view),d=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,r=this.delegate.anchorAxisAlignment||0;let o,l;if(r===0){const m={offset:n.top-window.pageYOffset,size:n.height,position:d===0?0:1},y={offset:n.left,size:n.width,position:s===0?0:1,mode:b.ALIGN};o=v(window.innerHeight,c,m)+window.pageYOffset,S.Range.intersects({start:o,end:o+c},{start:m.offset,end:m.offset+m.size})&&(y.mode=b.AVOID),l=v(window.innerWidth,a,y)}else{const m={offset:n.left,size:n.width,position:s===0?0:1},y={offset:n.top,size:n.height,position:d===0?0:1,mode:b.ALIGN};l=v(window.innerWidth,a,m),S.Range.intersects({start:l,end:l+a},{start:m.offset,end:m.offset+m.size})&&(y.mode=b.AVOID),o=v(window.innerHeight,c,y)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(d===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=C.getDomNodePagePosition(this.container);this.view.style.top=`${o-(this.useFixedPosition?C.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?C.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(i){const n=this.delegate;this.delegate=null,(n==null?void 0:n.onHide)&&n.onHide(i),this.toDisposeOnClean.dispose(),C.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):n&&!C.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];let g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(Q[331],J([12]),{}),define(Q[219],J([0,1,7,30,38,8,331]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:C.Color.fromHex("#4D4D4D"),badgeForeground:C.Color.fromHex("#FFFFFF")};class b{constructor(u,g){this.count=0,this.options=g||Object.create(null),(0,N.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,w.append)(u,(0,w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,D.format)(this.countFormat,this.count),this.element.title=(0,D.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",t=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=g,this.element.style.borderWidth=t?"1px":"",this.element.style.borderStyle=t?"solid":"",this.element.style.borderColor=t}}}e.CountBadge=b}),define(Q[220],J([12]),{}),define(Q[221],J([12]),{}),define(Q[332],J([12]),{}),define(Q[333],J([12]),{}),define(Q[334],J([12]),{}),define(Q[335],J([12]),{}),define(Q[222],J([12]),{}),define(Q[336],J([12]),{}),define(Q[140],J([0,1,336]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(Q[337],J([12]),{}),define(Q[338],J([0,1,7,10,30,2,38,337]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",v="active",u="infinite",g="infinite-long-running",t="discrete",i={progressBarBackground:N.Color.fromHex("#0E70C0")};class n extends D.Disposable{constructor(c,d){super();this.options=d||Object.create(null),(0,S.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new C.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.longRunningScheduler=this._register(new C.RunOnceScheduler(()=>this.infiniteLongRunning(),n.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,u,g,t),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(b),this.element.classList.contains(u)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(t,b,g),this.element.classList.add(v,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(g)}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=n,n.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(Q[339],J([12]),{}),define(Q[110],J([0,1,7,88,57,10,93,4,2,17,339]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let g=!1;var t;(function(h){h.North="north",h.South="south",h.East="east",h.West="west"})(t=e.OrthogonalEdge||(e.OrthogonalEdge={}));let i=4;const n=new b.Emitter;let a=300;const c=new b.Emitter;class d{constructor(){this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new C.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new C.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Be([S.memoize],d.prototype,"onPointerMove",null),Be([S.memoize],d.prototype,"onPointerUp",null);class s{constructor(m){this.el=m,this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new C.DomEmitter(this.el,N.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new C.DomEmitter(this.el,N.EventType.End)).event}dispose(){this.disposables.dispose()}}Be([S.memoize],s.prototype,"onPointerMove",null),Be([S.memoize],s.prototype,"onPointerUp",null);class r{constructor(m){this.factory=m}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Be([S.memoize],r.prototype,"onPointerMove",null),Be([S.memoize],r.prototype,"onPointerUp",null);const o="pointer-events-disabled";class l extends v.Disposable{constructor(m,y,p){super();this.hoverDelay=a,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,w.append)(m,(0,w.$)(".monaco-sash")),p.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${p.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const f=this._register(new C.DomEmitter(this.el,"mousedown")).event;this._register(f(P=>this.onPointerStart(P,new d),this));const _=this._register(new C.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const I=this._register(new C.DomEmitter(this.el,"mouseenter")).event;this._register(I(()=>l.onMouseEnter(this)));const E=this._register(new C.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>l.onMouseLeave(this))),this._register(N.Gesture.addTarget(this.el));const T=b.Event.map(this._register(new C.DomEmitter(this.el,N.EventType.Start)).event,P=>{var F;return Object.assign(Object.assign({},P),{target:(F=P.initialTarget)!==null&&F!==void 0?F:null})});this._register(T(P=>this.onPointerStart(P,new s(this.el)),this));const k=this._register(new C.DomEmitter(this.el,N.EventType.Tap)).event,A=b.Event.map(b.Event.filter(b.Event.debounce(k,(P,F)=>{var R;return{event:F,count:((R=P==null?void 0:P.count)!==null&&R!==void 0?R:0)+1}},250),({count:P})=>P===2),({event:P})=>{var F;return Object.assign(Object.assign({},P),{target:(F=P.initialTarget)!==null&&F!==void 0?F:null})});this._register(A(this.onPointerDoublePress,this)),typeof p.size=="number"?(this.size=p.size,p.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(n.event(P=>{this.size=P,this.layout()}))),this._register(c.event(P=>this.hoverDelay=P)),this.layoutProvider=y,this.orthogonalStartSash=p.orthogonalStartSash,this.orthogonalEndSash=p.orthogonalEndSash,this.orientation=p.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(m){this._state!==m&&(this.el.classList.toggle("disabled",m===0),this.el.classList.toggle("minimum",m===1),this.el.classList.toggle("maximum",m===2),this._state=m,this.onDidEnablementChange.fire(m))}set orthogonalStartSash(m){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),m){const y=p=>{this.orthogonalStartDragHandleDisposables.clear(),p!==0&&(this._orthogonalStartDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new C.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>l.onMouseEnter(m),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new C.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>l.onMouseLeave(m),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(m.onDidEnablementChange.event(y,this)),y(m.state)}this._orthogonalStartSash=m}set orthogonalEndSash(m){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),m){const y=p=>{this.orthogonalEndDragHandleDisposables.clear(),p!==0&&(this._orthogonalEndDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new C.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>l.onMouseEnter(m),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new C.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>l.onMouseLeave(m),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(m.onDidEnablementChange.event(y,this)),y(m.state)}this._orthogonalEndSash=m}onPointerStart(m,y){w.EventHelper.stop(m);let p=!1;if(!m.__orthogonalSashEvent){const M=this.getOrthogonalSash(m);M&&(p=!0,m.__orthogonalSashEvent=!0,M.onPointerStart(m,new r(y)))}if(this.linkedSash&&!m.__linkedSashEvent&&(m.__linkedSashEvent=!0,this.linkedSash.onPointerStart(m,new r(y))),!this.state)return;const f=(0,w.getElementsByTagName)("iframe");for(const M of f)M.classList.add(o);const _=m.pageX,I=m.pageY,E=m.altKey,T={startX:_,currentX:_,startY:I,currentY:I,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(T);const k=(0,w.createStyleSheet)(this.el),A=()=>{let M="";p?M="all-scroll":this.orientation===1?this.state===1?M="s-resize":this.state===2?M="n-resize":M=u.isMacintosh?"row-resize":"ns-resize":this.state===1?M="e-resize":this.state===2?M="w-resize":M=u.isMacintosh?"col-resize":"ew-resize",k.textContent=`* { cursor: ${M} !important; }`},P=new v.DisposableStore;A(),p||this.onDidEnablementChange.event(A,null,P);const F=M=>{w.EventHelper.stop(M,!1);const O={startX:_,currentX:M.pageX,startY:I,currentY:M.pageY,altKey:E};this._onDidChange.fire(O)},R=M=>{w.EventHelper.stop(M,!1),this.el.removeChild(k),this.el.classList.remove("active"),this._onDidEnd.fire(),P.dispose();for(const O of f)O.classList.remove(o)};y.onPointerMove(F,null,P),y.onPointerUp(R,null,P),P.add(y)}onPointerDoublePress(m){const y=this.getOrthogonalSash(m);y&&y._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(m,y=!1){m.el.classList.contains("active")?(m.hoverDelayer.cancel(),m.el.classList.add("hover")):m.hoverDelayer.trigger(()=>m.el.classList.add("hover"),m.hoverDelay).then(void 0,()=>{}),!y&&m.linkedSash&&l.onMouseEnter(m.linkedSash,!0)}static onMouseLeave(m,y=!1){m.hoverDelayer.cancel(),m.el.classList.remove("hover"),!y&&m.linkedSash&&l.onMouseLeave(m.linkedSash,!0)}clearSashHoverState(){l.onMouseLeave(this)}layout(){if(this.orientation===0){const m=this.layoutProvider;this.el.style.left=m.getVerticalSashLeft(this)-this.size/2+"px",m.getVerticalSashTop&&(this.el.style.top=m.getVerticalSashTop(this)+"px"),m.getVerticalSashHeight&&(this.el.style.height=m.getVerticalSashHeight(this)+"px")}else{const m=this.layoutProvider;this.el.style.top=m.getHorizontalSashTop(this)-this.size/2+"px",m.getHorizontalSashLeft&&(this.el.style.left=m.getHorizontalSashLeft(this)+"px"),m.getHorizontalSashWidth&&(this.el.style.width=m.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(m){if(!(!m.target||!(m.target instanceof HTMLElement))&&m.target.classList.contains("orthogonal-drag-handle"))return m.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=l}),define(Q[340],J([12]),{}),define(Q[65],J([0,1,33,7,31,56,318,319,58,10,4,2,17,136,340]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const a=500,c=50,d=!0;class s{constructor(f,_,I){this.timestamp=f,this.deltaX=_,this.deltaY=I,this.score=0}}class r{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let f=1,_=0,I=1,E=this._rear;do{const T=E===this._front?f:Math.pow(2,-I);if(f-=T,_+=this._memory[E].score*T,E===this._front)break;E=(this._capacity+E-1)%this._capacity,I++}while(!0);return _<=.5}accept(f,_,I){const E=new s(f,_,I);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(f){if(Math.abs(f.deltaX)>0&&Math.abs(f.deltaY)>0)return 1;let _=.5;const I=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(f.deltaX)||!this._isAlmostInt(f.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(f){return Math.abs(Math.round(f)-f)<.01}}e.MouseWheelClassifier=r,r.INSTANCE=new r;class o extends v.Widget{constructor(f,_,I){super();this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),f.style.overflow="hidden",this._options=y(_),this._scrollable=I,this._register(this._scrollable.onScroll(T=>{this._onWillScroll.fire(T),this._onDidScroll(T),this._onScroll.fire(T)}));const E={onMouseWheel:T=>this._onMouseWheel(T),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(f),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,T=>this._onMouseOver(T)),this.onnonbubblingmouseout(this._listenOnDomNode,T=>this._onMouseOut(T)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(f){this._verticalScrollbar.delegateMouseDown(f)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(f){this._scrollable.setScrollDimensions(f,!1)}updateClassName(f){this._options.className=f,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(f){typeof f.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=f.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof f.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=f.mouseWheelScrollSensitivity),typeof f.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=f.fastScrollSensitivity),typeof f.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=f.scrollPredominantAxis),typeof f.horizontal!="undefined"&&(this._options.horizontal=f.horizontal),typeof f.vertical!="undefined"&&(this._options.vertical=f.vertical),typeof f.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=f.horizontalScrollbarSize),typeof f.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=f.verticalScrollbarSize),typeof f.scrollByPage!="undefined"&&(this._options.scrollByPage=f.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(f){if(this._mouseWheelToDispose.length>0!==f&&(this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),f)){const I=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(C.addDisposableListener(this._listenOnDomNode,C.EventType.MOUSE_WHEEL,I,{passive:!1}))}}_onMouseWheel(f){const _=r.INSTANCE;if(d){const T=window.devicePixelRatio/(0,w.getZoomFactor)();i.isWindows||i.isLinux?_.accept(Date.now(),f.deltaX/T,f.deltaY/T):_.accept(Date.now(),f.deltaX,f.deltaY)}let I=!1;if(f.deltaY||f.deltaX){let T=f.deltaY*this._options.mouseWheelScrollSensitivity,k=f.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(k)?k=0:T=0),this._options.flipAxes&&([T,k]=[k,T]);const A=!i.isMacintosh&&f.browserEvent&&f.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!k&&(k=T,T=0),f.browserEvent&&f.browserEvent.altKey&&(k=k*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let F={};if(T){const R=c*T,M=P.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(F,M)}if(k){const R=c*k,M=P.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(F,M)}F=this._scrollable.validateScrollPosition(F),(P.scrollLeft!==F.scrollLeft||P.scrollTop!==F.scrollTop)&&(d&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(F):this._scrollable.setScrollPositionNow(F),I=!0)}let E=I;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(f.preventDefault(),f.stopPropagation())}_onDidScroll(f){this._shouldRender=this._horizontalScrollbar.onDidScroll(f)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(f)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const f=this._scrollable.getCurrentScrollPosition(),_=f.scrollTop>0,I=f.scrollLeft>0,E=I?" left":"",T=_?" top":"",k=I||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${T}`),this._topLeftShadowDomNode.setClassName(`shadow${k}${T}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(f){this._mouseIsOver=!1,this._hide()}_onMouseOver(f){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),a)}}e.AbstractScrollableElement=o;class l extends o{constructor(f,_){_=_||{},_.mouseWheelSmoothScroll=!1;const I=new n.Scrollable(0,E=>C.scheduleAtNextAnimationFrame(E));super(f,_,I);this._register(I)}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=l;class h extends o{constructor(f,_,I){super(f,_,I)}setScrollPosition(f){f.reuseAnimation?this._scrollable.setScrollPositionSmooth(f,f.reuseAnimation):this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class m extends l{constructor(f,_){super(f,_);this._element=f,this.onScroll(I=>{I.scrollTopChanged&&(this._element.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this._element.scrollLeft=I.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function y(p){const f={lazyRender:typeof p.lazyRender!="undefined"?p.lazyRender:!1,className:typeof p.className!="undefined"?p.className:"",useShadows:typeof p.useShadows!="undefined"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel!="undefined"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes!="undefined"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel!="undefined"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX!="undefined"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity!="undefined"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity!="undefined"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis!="undefined"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll!="undefined"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize!="undefined"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode!="undefined"?p.listenOnDomNode:null,horizontal:typeof p.horizontal!="undefined"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize!="undefined"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows!="undefined"?p.horizontalHasArrows:!1,vertical:typeof p.vertical!="undefined"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize!="undefined"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows!="undefined"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage!="undefined"?p.scrollByPage:!1};return f.horizontalSliderSize=typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:f.horizontalScrollbarSize,f.verticalSliderSize=typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:f.verticalScrollbarSize,i.isMacintosh&&(f.className+=" mac"),f}}),define(Q[223],J([0,1,7,65,2,332]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const D=w.$;class S extends N.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new C.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class b extends N.Disposable{constructor(u,g,t){super();this.actionContainer=w.append(u,D("div.action-container")),this.action=w.append(this.actionContainer,D("a.action")),this.action.setAttribute("role","button"),g.iconClass&&w.append(this.action,D(`span.icon.${g.iconClass}`));const i=w.append(this.action,D("span"));i.textContent=t?`${g.label} (${t})`:g.label,this._register(w.addDisposableListener(this.actionContainer,w.EventType.MOUSE_DOWN,n=>{n.stopPropagation(),n.preventDefault(),g.run(this.actionContainer)})),this.setEnabled(!0)}static render(u,g,t){return new b(u,g,t)}setEnabled(u){u?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b}),define(Q[172],J([0,1,33,163,7,88,57,65,19,10,93,4,2,38,135,136,311,317]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const r={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(f){return[f]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class o{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=o;class l{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class h{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let I=0;I<_.files.length;I++){const E=_.files.item(I);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function m(f,_){return Array.isArray(f)&&Array.isArray(_)?(0,v.equals)(f,_):f===_}class y{constructor(_){(_==null?void 0:_.getSetSize)?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(I,E,T)=>T,(_==null?void 0:_.getPosInSet)?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(I,E)=>E+1,(_==null?void 0:_.getRole)?this.getRole=_.getRole.bind(_):this.getRole=I=>"listitem",(_==null?void 0:_.isChecked)?this.isChecked=_.isChecked.bind(_):this.isChecked=I=>{}}}class p{constructor(_,I,E,T=r){if(this.virtualDelegate=I,this.domId=`list_id_${++p.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=i.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=i.Disposable.None,this.onDragLeaveTimeout=i.Disposable.None,this.disposables=new i.DisposableStore,this._onDidChangeContentHeight=new t.Emitter,this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new d.RangeMap;for(const A of E)this.renderers.set(A.templateId,A);this.cache=this.disposables.add(new s.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(0,n.getOrDefault)(T,A=>A.horizontalScrolling,r.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof T.additionalScrollHeight=="undefined"?0:T.additionalScrollHeight,this.accessibilityProvider=new y(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,n.getOrDefault)(T,A=>A.transformOptimization,r.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(S.Gesture.addTarget(this.rowsContainer)),this.scrollable=new c.Scrollable((0,n.getOrDefault)(T,A=>A.smoothScrolling,!1)?125:0,A=>(0,N.scheduleAtNextAnimationFrame)(A)),this.scrollableElement=this.disposables.add(new b.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,n.getOrDefault)(T,A=>A.alwaysConsumeMouseWheel,r.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,n.getOrDefault)(T,A=>A.verticalScrollMode,r.verticalScrollMode),useShadows:(0,n.getOrDefault)(T,A=>A.useShadows,r.useShadows),mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,N.addDisposableListener)(this.rowsContainer,S.EventType.Change,A=>this.onTouchChange(A))),this.disposables.add((0,N.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",A=>A.target.scrollTop=0)),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragover",A=>this.onDragOver(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"drop",A=>this.onDrop(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragleave",A=>this.onDragLeave(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragend",A=>this.onDragEnd(A))),this.setRowLineHeight=(0,n.getOrDefault)(T,A=>A.setRowLineHeight,r.setRowLineHeight),this.setRowHeight=(0,n.getOrDefault)(T,A=>A.setRowHeight,r.setRowHeight),this.supportDynamicHeights=(0,n.getOrDefault)(T,A=>A.supportDynamicHeights,r.supportDynamicHeights),this.dnd=(0,n.getOrDefault)(T,A=>A.dnd,r.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const I of this.items)this.measureItemWidth(I);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,N.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,I,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,I,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,I,E=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),k={start:_,end:_+I},A=a.Range.intersect(T,k),P=new Map;for(let j=A.start;j<A.end;j++){const W=this.items[j];if(W.dragStartDisposable.dispose(),W.row){let V=P.get(W.templateId);V||(V=[],P.set(W.templateId,V));const G=this.renderers.get(W.templateId);G&&G.disposeElement&&G.disposeElement(W.element,j,W.row.templateData,W.size),V.push(W.row)}W.row=null}const F={start:_+I,end:this.items.length},R=a.Range.intersect(F,T),M=a.Range.relativeComplement(F,T),O=E.map(j=>({id:String(this.itemId++),element:j,templateId:this.virtualDelegate.getTemplateId(j),size:this.virtualDelegate.getHeight(j),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(j),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:i.Disposable.None}));let L;_===0&&I>=this.items.length?(this.rangeMap=new d.RangeMap,this.rangeMap.splice(0,0,O),L=this.items,this.items=O):(this.rangeMap.splice(_,I,O),L=this.items.splice(_,I,...O));const B=E.length-I,x=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),U=(0,d.shift)(R,B),K=a.Range.intersect(x,U);for(let j=K.start;j<K.end;j++)this.updateItemInDOM(this.items[j],j);const Z=a.Range.relativeComplement(U,x);for(const j of Z)for(let W=j.start;W<j.end;W++)this.removeItemFromDOM(W);const ee=M.map(j=>(0,d.shift)(j,B)),ne=[{start:_,end:_+E.length},...ee].map(j=>a.Range.intersect(x,j)),Y=this.getNextToLastElement(ne);for(const j of ne)for(let W=j.start;W<j.end;W++){const V=this.items[W],G=P.get(V.templateId),oe=G==null?void 0:G.pop();this.insertItemInDOM(W,Y,oe)}for(const j of P.values())for(const W of j)this.cache.release(W);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),L.map(j=>j.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,N.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const I of this.items)typeof I.width!="undefined"&&(_=Math.max(_,I.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(_){return this.items[_].element}domElement(_){const I=this.items[_].row;return I&&I.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,I){let E={height:typeof _=="number"?_:(0,N.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof I!="undefined"&&(this.renderWidth=I,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof I=="number"?I:(0,N.getContentWidth)(this.domNode)})}render(_,I,E,T,k,A=!1){const P=this.getRenderRange(I,E),F=a.Range.relativeComplement(P,_),R=a.Range.relativeComplement(_,P),M=this.getNextToLastElement(F);if(A){const O=a.Range.intersect(_,P);for(let L=O.start;L<O.end;L++)this.updateItemInDOM(this.items[L],L)}for(const O of F)for(let L=O.start;L<O.end;L++)this.insertItemInDOM(L,M);for(const O of R)for(let L=O.start;L<O.end;L++)this.removeItemFromDOM(L);T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${I}px`,this.horizontalScrolling&&k!==void 0&&(this.rowsContainer.style.width=`${Math.max(k,this.renderWidth)}px`),this.lastRenderTop=I,this.lastRenderHeight=E}insertItemInDOM(_,I,E){const T=this.items[_];T.row||(T.row=E??this.cache.alloc(T.templateId));const k=this.accessibilityProvider.getRole(T.element)||"listitem";T.row.domNode.setAttribute("role",k);const A=this.accessibilityProvider.isChecked(T.element);typeof A!="undefined"&&T.row.domNode.setAttribute("aria-checked",String(!!A)),T.row.domNode.parentElement||(I?this.rowsContainer.insertBefore(T.row.domNode,I):this.rowsContainer.appendChild(T.row.domNode)),this.updateItemInDOM(T,_);const P=this.renderers.get(T.templateId);if(!P)throw new Error(`No renderer found for template id ${T.templateId}`);P&&P.renderElement(T.element,_,T.row.templateData,T.size);const F=this.dnd.getDragURI(T.element);T.dragStartDisposable.dispose(),T.row.domNode.draggable=!!F,F&&(T.dragStartDisposable=(0,N.addDisposableListener)(T.row.domNode,"dragstart",R=>this.onDragStart(T.element,F,R))),this.horizontalScrolling&&(this.measureItemWidth(T),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width=w.isFirefox?"-moz-fit-content":"fit-content",_.width=(0,N.getContentWidth)(_.row.domNode);const I=window.getComputedStyle(_.row.domNode);I.paddingLeft&&(_.width+=parseFloat(I.paddingLeft)),I.paddingRight&&(_.width+=parseFloat(I.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,I){_.row.domNode.style.top=`${this.elementTop(I)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${I}`),_.row.domNode.setAttribute("data-last-element",I===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",I%2==0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,I,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,I))),_.row.domNode.setAttribute("id",this.getElementDomId(I)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const I=this.items[_];if(I.dragStartDisposable.dispose(),I.row){const E=this.renderers.get(I.templateId);E&&E.disposeElement&&E.disposeElement(I.element,_,I.row.templateData,I.size),this.cache.release(I.row),I.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,I){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:I})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_))}get onMouseDblClick(){return t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_))}get onMouseMiddleClick(){return t.Event.filter(t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_)),_=>_.browserEvent.button===1)}get onMouseDown(){return t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_))}get onContextMenu(){return t.Event.any(t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_)),t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,S.EventType.Contextmenu)).event,_=>this.toGestureEvent(_)))}get onTouchStart(){return t.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_))}get onTap(){return t.Event.map(this.disposables.add(new D.DomEmitter(this.rowsContainer,S.EventType.Tap)).event,_=>this.toGestureEvent(_))}toMouseEvent(_){const I=this.getItemIndexFromEventTarget(_.target||null),E=typeof I=="undefined"?void 0:this.items[I],T=E&&E.element;return{browserEvent:_,index:I,element:T}}toTouchEvent(_){const I=this.getItemIndexFromEventTarget(_.target||null),E=typeof I=="undefined"?void 0:this.items[I],T=E&&E.element;return{browserEvent:_,index:I,element:T}}toGestureEvent(_){const I=this.getItemIndexFromEventTarget(_.initialTarget||null),E=typeof I=="undefined"?void 0:this.items[I],T=E&&E.element;return{browserEvent:_,index:I,element:T}}toDragEvent(_){const I=this.getItemIndexFromEventTarget(_.target||null),E=typeof I=="undefined"?void 0:this.items[I],T=E&&E.element;return{browserEvent:_,index:I,element:T}}onScroll(_){try{const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(I,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(I){throw console.error("Got bad scroll event:",_),I}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,I,E){if(!E.dataTransfer)return;const T=this.dnd.getDragElements(_);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(C.DataTransfers.TEXT,I),E.dataTransfer.setDragImage){let k;this.dnd.getDragLabel&&(k=this.dnd.getDragLabel(T,E)),typeof k=="undefined"&&(k=String(T.length));const A=(0,N.$)(".monaco-drag-image");A.textContent=k,document.body.appendChild(A),E.dataTransfer.setDragImage(A,-10,-10),setTimeout(()=>document.body.removeChild(A),0)}this.currentDragData=new o(T),C.StaticDND.CurrentDragAndDropData=new l(T),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,E)}onDragOver(_){if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),C.StaticDND.CurrentDragAndDropData&&C.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(C.StaticDND.CurrentDragAndDropData)this.currentDragData=C.StaticDND.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const I=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof I=="boolean"?I:I.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof I!="boolean"&&I.effect===0?"copy":"move";let E;if(typeof I!="boolean"&&I.feedback?E=I.feedback:typeof _.index=="undefined"?E=[-1]:E=[_.index],E=(0,v.distinct)(E).filter(T=>T>=-1&&T<this.length).sort((T,k)=>T-k),E=E[0]===-1?[-1]:E,m(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const T of E){const k=this.items[T];k.dropTarget=!0,k.row&&k.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{for(const T of E){const k=this.items[T];k.dropTarget=!1,k.row&&k.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var I,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(I=this.dnd).onDragLeave)===null||E===void 0||E.call(I,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const I=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,C.StaticDND.CurrentDragAndDropData=void 0,!(!I||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),I.update(_.browserEvent.dataTransfer),this.dnd.drop(I,_.element,_.index,_.browserEvent))}onDragEnd(_){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,C.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=i.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const I=(0,N.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,N.animate)(this.animateDragAndDropScrollTop.bind(this,I))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const I=this.dragOverMouseY-_,E=this.renderHeight-35;I<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(I-35))):I>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(I-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const I=this.scrollableElement.getDomNode();let E=_;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&I.contains(E);){const T=E.getAttribute("data-index");if(T){const k=Number(T);if(!isNaN(k))return k}E=E.parentElement}}getRenderRange(_,I){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+I-1)}}_rerender(_,I,E){const T=this.getRenderRange(_,I);let k,A;_===this.elementTop(T.start)?(k=T.start,A=0):T.end-T.start>1&&(k=T.start+1,A=this.elementTop(k)-_);let P=0;for(;;){const F=this.getRenderRange(_,I);let R=!1;for(let M=F.start;M<F.end;M++){const O=this.probeDynamicHeight(M);O!==0&&this.rangeMap.splice(M,1,[this.items[M]]),P+=O,R=R||O!==0}if(!R){P!==0&&this.eventuallyUpdateScrollDimensions();const M=a.Range.relativeComplement(T,F);for(const L of M)for(let B=L.start;B<L.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const O=a.Range.relativeComplement(F,T);for(const L of O)for(let B=L.start;B<L.end;B++){const x=B+1,U=x<this.items.length?this.items[x].row:null,K=U?U.domNode:null;this.insertItemInDOM(B,K)}for(let L=F.start;L<F.end;L++)this.items[L].row&&this.updateItemInDOM(this.items[L],L);if(typeof k=="number"){const L=this.scrollable.getFutureScrollPosition().scrollTop-_,B=this.elementTop(k)-A+L;this.setScrollTop(B,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){const I=this.items[_];if(this.virtualDelegate.getDynamicHeight){const A=this.virtualDelegate.getDynamicHeight(I.element);if(A!==null){const P=I.size;return I.size=A,I.lastDynamicHeightWidth=this.renderWidth,A-P}}if(!I.hasDynamicHeight||I.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(I.element))return 0;const E=I.size;if(!this.setRowHeight&&I.row){let A=I.row.domNode.offsetHeight;return I.size=A,I.lastDynamicHeightWidth=this.renderWidth,A-E}const T=this.cache.alloc(I.templateId);T.domNode.style.height="",this.rowsContainer.appendChild(T.domNode);const k=this.renderers.get(I.templateId);return k&&(k.renderElement(I.element,_,T.templateData,void 0),k.disposeElement&&k.disposeElement(I.element,_,T.templateData,void 0)),I.size=T.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(I.element,I.size),I.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(T.domNode),this.cache.release(T),I.size-E}getNextToLastElement(_){const I=_[_.length-1];if(!I)return null;const E=this.items[I.end];return!E||!E.row?null:E.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){if(this.items){for(const _ of this.items)if(_.row){const I=this.renderers.get(_.row.templateId);I&&(I.disposeElement&&I.disposeElement(_.element,-1,_.row.templateData,void 0),I.disposeTemplate(_.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,i.dispose)(this.disposables)}}p.InstanceCount=0,Be([g.memoize],p.prototype,"onMouseClick",null),Be([g.memoize],p.prototype,"onMouseDblClick",null),Be([g.memoize],p.prototype,"onMouseMiddleClick",null),Be([g.memoize],p.prototype,"onMouseDown",null),Be([g.memoize],p.prototype,"onContextMenu",null),Be([g.memoize],p.prototype,"onTouchStart",null),Be([g.memoize],p.prototype,"onTap",null),e.ListView=p}),define(Q[111],J([0,1,7,88,46,57,43,305,19,10,30,93,4,72,2,107,38,17,20,304,172,222]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(W){this.trait=W,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(W){return W}renderElement(W,V,G){const oe=this.renderedElements.findIndex(ce=>ce.templateData===G);if(oe>=0){const ce=this.renderedElements[oe];this.trait.unrender(G),ce.index=V}else{const ce={index:V,templateData:G};this.renderedElements.push(ce)}this.trait.renderIndex(V,G)}splice(W,V,G){const oe=[];for(const ce of this.renderedElements)ce.index<W?oe.push(ce):ce.index>=W+V&&oe.push({index:ce.index+G-V,templateData:ce.templateData});this.renderedElements=oe}renderIndexes(W){for(const{index:V,templateData:G}of this.renderedElements)W.indexOf(V)>-1&&this.trait.renderIndex(V,G)}disposeTemplate(W){const V=this.renderedElements.findIndex(G=>G.templateData===W);V<0||this.renderedElements.splice(V,1)}}class m{constructor(W){this._trait=W,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(W,V,G){var oe;V=Math.max(0,Math.min(V,this.length-W));const ce=G.length-V,ie=W+V,de=[...this.sortedIndexes.filter(z=>z<W),...G.map((z,$)=>z?$+W:-1).filter(z=>z!==-1),...this.sortedIndexes.filter(z=>z>=ie).map(z=>z+ce)],q=this.length+ce;if(this.sortedIndexes.length>0&&de.length===0&&q>0){const z=(oe=this.sortedIndexes.find($=>$>=W))!==null&&oe!==void 0?oe:q-1;de.push(Math.min(z,q-1))}this.renderer.splice(W,V,G.length),this._set(de,de),this.length=q}renderIndex(W,V){V.classList.toggle(this._trait,this.contains(W))}unrender(W){W.classList.remove(this._trait)}set(W,V){return this._set(W,[...W].sort(Z),V)}_set(W,V,G){const oe=this.indexes,ce=this.sortedIndexes;this.indexes=W,this.sortedIndexes=V;const ie=U(ce,W);return this.renderer.renderIndexes(ie),this._onChange.fire({indexes:W,browserEvent:G}),oe}get(){return this.indexes}contains(W){return(0,v.binarySearch)(this.sortedIndexes,W,Z)>=0}dispose(){(0,a.dispose)(this._onChange)}}Be([t.memoize],m.prototype,"renderer",null);class y extends m{constructor(W){super("selected");this.setAriaSelected=W}renderIndex(W,V){super.renderIndex(W,V),this.setAriaSelected&&(this.contains(W)?V.setAttribute("aria-selected","true"):V.setAttribute("aria-selected","false"))}}class p{constructor(W,V,G){this.trait=W,this.view=V,this.identityProvider=G}splice(W,V,G){if(!this.identityProvider)return this.trait.splice(W,V,G.map(()=>!1));const oe=this.trait.get().map(ie=>this.identityProvider.getId(this.view.element(ie)).toString()),ce=G.map(ie=>oe.indexOf(this.identityProvider.getId(ie).toString())>-1);this.trait.splice(W,V,ce)}}function f(j){return j.tagName==="INPUT"||j.tagName==="TEXTAREA"}e.isInputElement=f;function _(j){return j.classList.contains("monaco-editor")?!0:j.classList.contains("monaco-list")||!j.parentElement?!1:_(j.parentElement)}e.isMonacoEditor=_;class I{constructor(W,V,G){this.list=W,this.view=V,this.disposables=new a.DisposableStore,this.multipleSelectionDisposables=new a.DisposableStore,this.onKeyDown.filter(oe=>oe.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(oe=>oe.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(oe=>oe.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(oe=>oe.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(oe=>oe.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(oe=>oe.keyCode===9).on(this.onEscape,this,this.disposables),G.multipleSelectionSupport!==!1&&this.onKeyDown.filter(oe=>(s.isMacintosh?oe.metaKey:oe.ctrlKey)&&oe.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).filter(W=>!f(W.target)).map(W=>new N.StandardKeyboardEvent(W))}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),W.multipleSelectionSupport&&this.onKeyDown.filter(V=>(s.isMacintosh?V.metaKey:V.ctrlKey)&&V.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection(this.list.getFocus(),W.browserEvent)}onUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPrevious(1,!1,W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNext(1,!1,W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPreviousPage(W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNextPage(W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onCtrlA(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection((0,v.range)(this.list.length),W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(W){this.list.getSelection().length&&(W.preventDefault(),W.stopPropagation(),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Be([t.memoize],I.prototype,"onKeyDown",null);var E;(function(j){j[j.Idle=0]="Idle",j[j.Typing=1]="Typing"})(E||(E={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(j){return j.ctrlKey||j.metaKey||j.altKey?!1:j.keyCode>=31&&j.keyCode<=56||j.keyCode>=21&&j.keyCode<=30||j.keyCode>=93&&j.keyCode<=102||j.keyCode>=80&&j.keyCode<=90}};class T{constructor(W,V,G,oe){this.list=W,this.view=V,this.keyboardNavigationLabelProvider=G,this.delegate=oe,this.enabled=!1,this.state=E.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new a.DisposableStore,this.disposables=new a.DisposableStore,this.updateOptions(W.options)}updateOptions(W){(typeof W.enableKeyboardNavigation=="undefined"?!0:!!W.enableKeyboardNavigation)?this.enable():this.disable(),typeof W.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=W.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const W=i.Event.chain(this.enabledDisposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).filter(oe=>!f(oe.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(oe=>new N.StandardKeyboardEvent(oe)).filter(oe=>this.delegate.mightProducePrintableCharacter(oe)).forEach(oe=>oe.preventDefault()).map(oe=>oe.browserEvent.key).event,V=i.Event.debounce(W,()=>null,800);i.Event.reduce(i.Event.any(W,V),(oe,ce)=>ce===null?null:(oe||"")+ce)(this.onInput,this,this.enabledDisposables),V(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var W;const V=this.list.getFocus();if(V.length>0&&V[0]===this.previouslyFocused){const G=(W=this.list.options.accessibilityProvider)===null||W===void 0?void 0:W.getAriaLabel(this.list.element(V[0]));G&&(0,S.alert)(G)}this.previouslyFocused=-1}onInput(W){if(!W){this.state=E.Idle,this.triggered=!1;return}const V=this.list.getFocus(),G=V.length>0?V[0]:0,oe=this.state===E.Idle?1:0;this.state=E.Typing;for(let ce=0;ce<this.list.length;ce++){const ie=(G+ce+oe)%this.list.length,de=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ie)),q=de&&de.toString();if(typeof q=="undefined"||(0,n.matchesPrefix)(W,q)){this.previouslyFocused=G,this.list.setFocus([ie]),this.list.reveal(ie);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class k{constructor(W,V){this.list=W,this.view=V,this.disposables=new a.DisposableStore,i.Event.chain(this.disposables.add(new C.DomEmitter(V.domNode,"keydown")).event).filter(oe=>!f(oe.target)).map(oe=>new N.StandardKeyboardEvent(oe)).filter(oe=>oe.keyCode===2&&!oe.ctrlKey&&!oe.metaKey&&!oe.shiftKey&&!oe.altKey).on(this.onTab,this,this.disposables)}onTab(W){if(W.target!==this.view.domNode)return;const V=this.list.getFocus();if(V.length===0)return;const G=this.view.domElement(V[0]);if(!G)return;const oe=G.querySelector("[tabIndex]");if(!oe||!(oe instanceof HTMLElement)||oe.tabIndex===-1)return;const ce=window.getComputedStyle(oe);ce.visibility==="hidden"||ce.display==="none"||(W.preventDefault(),W.stopPropagation(),oe.focus())}dispose(){this.disposables.dispose()}}function A(j){return s.isMacintosh?j.browserEvent.metaKey:j.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=A;function P(j){return j.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function F(j){return j instanceof MouseEvent&&j.button===2}const R={isSelectionSingleChangeEvent:A,isSelectionRangeChangeEvent:P};class M{constructor(W){this.list=W,this.disposables=new a.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,W.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=typeof W.options.mouseSupport=="undefined"||!!W.options.mouseSupport,this.mouseSupport&&(W.onMouseDown(this.onMouseDown,this,this.disposables),W.onContextMenu(this.onContextMenu,this,this.disposables),W.onMouseDblClick(this.onDoubleClick,this,this.disposables),W.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(W.getHTMLElement()))),i.Event.any(W.onMouseClick,W.onMouseMiddleClick,W.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,W.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(W):!1}isSelectionRangeChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(W):!1}isSelectionChangeEvent(W){return this.isSelectionSingleChangeEvent(W)||this.isSelectionRangeChangeEvent(W)}onMouseDown(W){_(W.browserEvent.target)||document.activeElement!==W.browserEvent.target&&this.list.domFocus()}onContextMenu(W){if(_(W.browserEvent.target))return;const V=typeof W.index=="undefined"?[]:[W.index];this.list.setFocus(V,W.browserEvent)}onViewPointer(W){if(!this.mouseSupport||f(W.browserEvent.target)||_(W.browserEvent.target))return;const V=W.index;if(typeof V=="undefined"){this.list.setFocus([],W.browserEvent),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(W))return this.changeSelection(W);if(this.isSelectionChangeEvent(W))return this.changeSelection(W);this.list.setFocus([V],W.browserEvent),this.list.setAnchor(V),F(W.browserEvent)||this.list.setSelection([V],W.browserEvent),this._onPointer.fire(W)}onDoubleClick(W){if(f(W.browserEvent.target)||_(W.browserEvent.target)||this.isSelectionChangeEvent(W))return;const V=this.list.getFocus();this.list.setSelection(V,W.browserEvent)}changeSelection(W){const V=W.index;let G=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(W)){if(typeof G=="undefined"){const $=this.list.getFocus()[0];G=$??V,this.list.setAnchor(G)}const oe=Math.min(G,V),ce=Math.max(G,V),ie=(0,v.range)(oe,ce+1),de=this.list.getSelection(),q=x(U(de,[G]),G);if(q.length===0)return;const z=U(ie,K(de,q));this.list.setSelection(z,W.browserEvent),this.list.setFocus([V],W.browserEvent)}else if(this.isSelectionSingleChangeEvent(W)){const oe=this.list.getSelection(),ce=oe.filter(ie=>ie!==V);this.list.setFocus([V]),this.list.setAnchor(V),oe.length===ce.length?this.list.setSelection([...ce,V],W.browserEvent):this.list.setSelection(ce,W.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=M;class O{constructor(W,V){this.styleElement=W,this.selectorSuffix=V}style(W){const V=this.selectorSuffix&&`.${this.selectorSuffix}`,G=[];W.listBackground&&(W.listBackground.isOpaque()?G.push(`.monaco-list${V} .monaco-list-rows { background: ${W.listBackground}; }`):s.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),W.listFocusBackground&&(G.push(`.monaco-list${V}:focus .monaco-list-row.focused { background-color: ${W.listFocusBackground}; }`),G.push(`.monaco-list${V}:focus .monaco-list-row.focused:hover { background-color: ${W.listFocusBackground}; }`)),W.listFocusForeground&&G.push(`.monaco-list${V}:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),W.listActiveSelectionBackground&&(G.push(`.monaco-list${V}:focus .monaco-list-row.selected { background-color: ${W.listActiveSelectionBackground}; }`),G.push(`.monaco-list${V}:focus .monaco-list-row.selected:hover { background-color: ${W.listActiveSelectionBackground}; }`)),W.listActiveSelectionForeground&&G.push(`.monaco-list${V}:focus .monaco-list-row.selected { color: ${W.listActiveSelectionForeground}; }`),W.listActiveSelectionIconForeground&&G.push(`.monaco-list${V}:focus .monaco-list-row.selected .codicon { color: ${W.listActiveSelectionIconForeground}; }`),W.listFocusAndSelectionBackground&&G.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { background-color: ${W.listFocusAndSelectionBackground}; }
			`),W.listFocusAndSelectionForeground&&G.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { color: ${W.listFocusAndSelectionForeground}; }
			`),W.listInactiveFocusForeground&&(G.push(`.monaco-list${V} .monaco-list-row.focused { color:  ${W.listInactiveFocusForeground}; }`),G.push(`.monaco-list${V} .monaco-list-row.focused:hover { color:  ${W.listInactiveFocusForeground}; }`)),W.listInactiveSelectionIconForeground&&G.push(`.monaco-list${V} .monaco-list-row.focused .codicon { color:  ${W.listInactiveSelectionIconForeground}; }`),W.listInactiveFocusBackground&&(G.push(`.monaco-list${V} .monaco-list-row.focused { background-color:  ${W.listInactiveFocusBackground}; }`),G.push(`.monaco-list${V} .monaco-list-row.focused:hover { background-color:  ${W.listInactiveFocusBackground}; }`)),W.listInactiveSelectionBackground&&(G.push(`.monaco-list${V} .monaco-list-row.selected { background-color:  ${W.listInactiveSelectionBackground}; }`),G.push(`.monaco-list${V} .monaco-list-row.selected:hover { background-color:  ${W.listInactiveSelectionBackground}; }`)),W.listInactiveSelectionForeground&&G.push(`.monaco-list${V} .monaco-list-row.selected { color: ${W.listInactiveSelectionForeground}; }`),W.listHoverBackground&&G.push(`.monaco-list${V}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${W.listHoverBackground}; }`),W.listHoverForeground&&G.push(`.monaco-list${V} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${W.listHoverForeground}; }`),W.listSelectionOutline&&G.push(`.monaco-list${V} .monaco-list-row.selected { outline: 1px dotted ${W.listSelectionOutline}; outline-offset: -1px; }`),W.listFocusOutline&&G.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${V}.last-focused .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
			`),W.listInactiveFocusOutline&&G.push(`.monaco-list${V} .monaco-list-row.focused { outline: 1px dotted ${W.listInactiveFocusOutline}; outline-offset: -1px; }`),W.listHoverOutline&&G.push(`.monaco-list${V} .monaco-list-row:hover { outline: 1px dashed ${W.listHoverOutline}; outline-offset: -1px; }`),W.listDropBackground&&G.push(`
				.monaco-list${V}.drop-target,
				.monaco-list${V} .monaco-list-rows.drop-target,
				.monaco-list${V} .monaco-list-row.drop-target { background-color: ${W.listDropBackground} !important; color: inherit !important; }
			`),W.listFilterWidgetBackground&&G.push(`.monaco-list-type-filter { background-color: ${W.listFilterWidgetBackground} }`),W.listFilterWidgetOutline&&G.push(`.monaco-list-type-filter { border: 1px solid ${W.listFilterWidgetOutline}; }`),W.listFilterWidgetNoMatchesOutline&&G.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${W.listFilterWidgetNoMatchesOutline}; }`),W.listMatchesShadow&&G.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${W.listMatchesShadow}; }`),W.tableColumnsBorder&&G.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${W.tableColumnsBorder};
			}`),W.tableOddRowsBackgroundColor&&G.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${W.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=G.join(`
`)}}e.DefaultStyleController=O;const L={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},B={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function x(j,W){const V=j.indexOf(W);if(V===-1)return[];const G=[];let oe=V-1;for(;oe>=0&&j[oe]===W-(V-oe);)G.push(j[oe--]);for(G.reverse(),oe=V;oe<j.length&&j[oe]===W+(oe-V);)G.push(j[oe++]);return G}function U(j,W){const V=[];let G=0,oe=0;for(;G<j.length||oe<W.length;)if(G>=j.length)V.push(W[oe++]);else if(oe>=W.length)V.push(j[G++]);else if(j[G]===W[oe]){V.push(j[G]),G++,oe++;continue}else j[G]<W[oe]?V.push(j[G++]):V.push(W[oe++]);return V}function K(j,W){const V=[];let G=0,oe=0;for(;G<j.length||oe<W.length;)if(G>=j.length)V.push(W[oe++]);else if(oe>=W.length)V.push(j[G++]);else if(j[G]===W[oe]){G++,oe++;continue}else j[G]<W[oe]?V.push(j[G++]):oe++;return V}const Z=(j,W)=>j-W;class ee{constructor(W,V){this._templateId=W,this.renderers=V}get templateId(){return this._templateId}renderTemplate(W){return this.renderers.map(V=>V.renderTemplate(W))}renderElement(W,V,G,oe){let ce=0;for(const ie of this.renderers)ie.renderElement(W,V,G[ce++],oe)}disposeElement(W,V,G,oe){let ce=0;for(const ie of this.renderers)ie.disposeElement&&ie.disposeElement(W,V,G[ce],oe),ce+=1}disposeTemplate(W){let V=0;for(const G of this.renderers)G.disposeTemplate(W[V++])}}class X{constructor(W){this.accessibilityProvider=W,this.templateId="a18n"}renderTemplate(W){return W}renderElement(W,V,G){const oe=this.accessibilityProvider.getAriaLabel(W);oe?G.setAttribute("aria-label",oe):G.removeAttribute("aria-label");const ce=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(W);typeof ce=="number"?G.setAttribute("aria-level",`${ce}`):G.removeAttribute("aria-level")}disposeTemplate(W){}}class ne{constructor(W,V){this.list=W,this.dnd=V}getDragElements(W){const V=this.list.getSelectedElements();return V.indexOf(W)>-1?V:[W]}getDragURI(W){return this.dnd.getDragURI(W)}getDragLabel(W,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W,V)}onDragStart(W,V){this.dnd.onDragStart&&this.dnd.onDragStart(W,V)}onDragOver(W,V,G,oe){return this.dnd.onDragOver(W,V,G,oe)}onDragLeave(W,V,G,oe){var ce,ie;(ie=(ce=this.dnd).onDragLeave)===null||ie===void 0||ie.call(ce,W,V,G,oe)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}drop(W,V,G,oe){this.dnd.drop(W,V,G,oe)}}class Y{constructor(W,V,G,oe,ce=B){var ie;this.user=W,this._options=ce,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new a.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ie=this._options.accessibilityProvider)===null||ie===void 0?void 0:ie.getWidgetRole():"list";this.selection=new y(de!=="listbox"),(0,d.mixin)(ce,L,!1);const q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ce.accessibilityProvider,this.accessibilityProvider&&(q.push(new X(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),oe=oe.map($=>new ee($.templateId,[...q,$]));const z=Object.assign(Object.assign({},ce),{dnd:ce.dnd&&new ne(this,ce.dnd)});if(this.view=new l.ListView(V,G,oe,z),this.view.domNode.setAttribute("role",de),ce.styleController)this.styleController=ce.styleController(this.view.domId);else{const $=(0,w.createStyleSheet)(this.view.domNode);this.styleController=new O($,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new p(this.focus,this.view,ce.identityProvider),new p(this.selection,this.view,ce.identityProvider),new p(this.anchor,this.view,ce.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new k(this,this.view)),(typeof ce.keyboardSupport!="boolean"||ce.keyboardSupport)&&(this.keyboardController=new I(this,this.view,ce),this.disposables.add(this.keyboardController)),ce.keyboardNavigationLabelProvider){const $=ce.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new T(this,this.view,ce.keyboardNavigationLabelProvider,$),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ce),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),W=>this.toListEvent(W))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),W=>this.toListEvent(W))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let W=!1;const V=i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).map(ce=>new N.StandardKeyboardEvent(ce)).filter(ce=>W=ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(C.stopEvent).filter(()=>!1).event,G=i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>W=!1).map(ce=>new N.StandardKeyboardEvent(ce)).filter(ce=>ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(C.stopEvent).map(({browserEvent:ce})=>{const ie=this.getFocus(),de=ie.length?ie[0]:void 0,q=typeof de!="undefined"?this.view.element(de):void 0,z=typeof de!="undefined"?this.view.domElement(de):this.view.domNode;return{index:de,element:q,anchor:z,browserEvent:ce}}).event,oe=i.Event.chain(this.view.onContextMenu).filter(ce=>!W).map(({element:ce,index:ie,browserEvent:de})=>({element:ce,index:ie,anchor:{x:de.pageX+1,y:de.pageY},browserEvent:de})).event;return i.Event.any(V,G,oe)}get onKeyDown(){return this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new C.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(W){return new M(this)}updateOptions(W={}){var V;this._options=Object.assign(Object.assign({},this._options),W),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(W),(V=this.keyboardController)===null||V===void 0||V.updateOptions(W),this.view.updateOptions(W)}get options(){return this._options}splice(W,V,G=[]){if(W<0||W>this.view.length)throw new o.ListError(this.user,`Invalid start index: ${W}`);if(V<0)throw new o.ListError(this.user,`Invalid delete count: ${V}`);V===0&&G.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(W,V,G))}rerender(){this.view.rerender()}element(W){return this.view.element(W)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(W){this.view.setScrollTop(W)}get ariaLabel(){return this._ariaLabel}set ariaLabel(W){this._ariaLabel=W,this.view.domNode.setAttribute("aria-label",W)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(W,V){this.view.layout(W,V)}setSelection(W,V){for(const G of W)if(G<0||G>=this.length)throw new o.ListError(this.user,`Invalid index ${G}`);this.selection.set(W,V)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(W=>this.view.element(W))}setAnchor(W){if(typeof W=="undefined"){this.anchor.set([]);return}if(W<0||W>=this.length)throw new o.ListError(this.user,`Invalid index ${W}`);this.anchor.set([W])}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const W=this.getAnchor();return typeof W=="undefined"?void 0:this.element(W)}setFocus(W,V){for(const G of W)if(G<0||G>=this.length)throw new o.ListError(this.user,`Invalid index ${G}`);this.focus.set(W,V)}focusNext(W=1,V=!1,G,oe){if(this.length===0)return;const ce=this.focus.get(),ie=this.findNextIndex(ce.length>0?ce[0]+W:0,V,oe);ie>-1&&this.setFocus([ie],G)}focusPrevious(W=1,V=!1,G,oe){if(this.length===0)return;const ce=this.focus.get(),ie=this.findPreviousIndex(ce.length>0?ce[0]-W:0,V,oe);ie>-1&&this.setFocus([ie],G)}focusNextPage(W,V){return De(this,void 0,void 0,function*(){let G=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);G=G===0?0:G-1;const oe=this.view.element(G),ce=this.getFocusedElements()[0];if(ce!==oe){const ie=this.findPreviousIndex(G,!1,V);ie>-1&&ce!==this.view.element(ie)?this.setFocus([ie],W):this.setFocus([G],W)}else{const ie=this.view.getScrollTop();this.view.setScrollTop(ie+this.view.renderHeight-this.view.elementHeight(G)),this.view.getScrollTop()!==ie&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(W,V))}})}focusPreviousPage(W,V){return De(this,void 0,void 0,function*(){let G;const oe=this.view.getScrollTop();oe===0?G=this.view.indexAt(oe):G=this.view.indexAfter(oe-1);const ce=this.view.element(G),ie=this.getFocusedElements()[0];if(ie!==ce){const de=this.findNextIndex(G,!1,V);de>-1&&ie!==this.view.element(de)?this.setFocus([de],W):this.setFocus([G],W)}else{const de=oe;this.view.setScrollTop(oe-this.view.renderHeight),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(W,V))}})}focusLast(W,V){if(this.length===0)return;const G=this.findPreviousIndex(this.length-1,!1,V);G>-1&&this.setFocus([G],W)}focusFirst(W,V){this.focusNth(0,W,V)}focusNth(W,V,G){if(this.length===0)return;const oe=this.findNextIndex(W,!1,G);oe>-1&&this.setFocus([oe],V)}findNextIndex(W,V=!1,G){for(let oe=0;oe<this.length;oe++){if(W>=this.length&&!V)return-1;if(W=W%this.length,!G||G(this.element(W)))return W;W++}return-1}findPreviousIndex(W,V=!1,G){for(let oe=0;oe<this.length;oe++){if(W<0&&!V)return-1;if(W=(this.length+W%this.length)%this.length,!G||G(this.element(W)))return W;W--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(W=>this.view.element(W))}reveal(W,V){if(W<0||W>=this.length)throw new o.ListError(this.user,`Invalid index ${W}`);const G=this.view.getScrollTop(),oe=this.view.elementTop(W),ce=this.view.elementHeight(W);if((0,r.isNumber)(V)){const ie=ce-this.view.renderHeight;this.view.setScrollTop(ie*(0,c.clamp)(V,0,1)+oe)}else{const ie=oe+ce,de=G+this.view.renderHeight;oe<G&&ie>=de||(oe<G||ie>=de&&ce>=this.view.renderHeight?this.view.setScrollTop(oe):ie>=de&&this.view.setScrollTop(ie-this.view.renderHeight))}}getRelativeTop(W){if(W<0||W>=this.length)throw new o.ListError(this.user,`Invalid index ${W}`);const V=this.view.getScrollTop(),G=this.view.elementTop(W),oe=this.view.elementHeight(W);if(G<V||G+oe>V+this.view.renderHeight)return null;const ce=oe-this.view.renderHeight;return Math.abs((V-G)/ce)}getHTMLElement(){return this.view.domNode}style(W){this.styleController.style(W)}toListEvent({indexes:W,browserEvent:V}){return{indexes:W,elements:W.map(G=>this.view.element(G)),browserEvent:V}}_onFocusChange(){const W=this.focus.get();this.view.domNode.classList.toggle("element-focused",W.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var W;const V=this.focus.get();if(V.length>0){let G;((W=this.accessibilityProvider)===null||W===void 0?void 0:W.getActiveDescendantId)&&(G=this.accessibilityProvider.getActiveDescendantId(this.view.element(V[0]))),this.view.domNode.setAttribute("aria-activedescendant",G||this.view.getElementDomId(V[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const W=this.selection.get();this.view.domNode.classList.toggle("selection-none",W.length===0),this.view.domNode.classList.toggle("selection-single",W.length===1),this.view.domNode.classList.toggle("selection-multiple",W.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Be([t.memoize],Y.prototype,"onDidChangeFocus",null),Be([t.memoize],Y.prototype,"onDidChangeSelection",null),Be([t.memoize],Y.prototype,"onContextMenu",null),Be([t.memoize],Y.prototype,"onKeyDown",null),Be([t.memoize],Y.prototype,"onDidFocus",null),e.List=Y}),define(Q[341],J([0,1,19,23,4,2,111,222]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{constructor(i,n){this.renderer=i,this.modelProvider=n}get templateId(){return this.renderer.templateId}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:D.Disposable.None}}renderElement(i,n,a,c){if(a.disposable&&a.disposable.dispose(),!a.data)return;const d=this.modelProvider();if(d.isResolved(i))return this.renderer.renderElement(d.get(i),i,a.data,c);const s=new C.CancellationTokenSource,r=d.resolve(i,s.token);a.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(i,a.data),r.then(o=>this.renderer.renderElement(o,i,a.data,c))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class v{constructor(i,n){this.modelProvider=i,this.accessibilityProvider=n}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const n=this.modelProvider();return n.isResolved(i)?this.accessibilityProvider.getAriaLabel(n.get(i)):null}}function u(t,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new v(t,i.accessibilityProvider)})}class g{constructor(i,n,a,c,d={}){const s=()=>this.model,r=c.map(o=>new b(o,s));this.list=new S.List(i,n,a,r,u(s,d))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return N.Event.map(this.list.onMouseDblClick,({element:i,index:n,browserEvent:a})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:a}))}get onPointer(){return N.Event.map(this.list.onPointer,({element:i,index:n,browserEvent:a})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:a}))}get onDidChangeSelection(){return N.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:n,browserEvent:a})=>({elements:i.map(c=>this._model.get(c)),indexes:n,browserEvent:a}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,w.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=g}),define(Q[342],J([12]),{}),define(Q[224],J([0,1,7,110,65,19,30,4,2,107,136,20,342]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:S.Color.transparent};class n{constructor(l,h,m,y){this.container=l,this.view=h,this.disposable=y,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(l,h){l!==this.visible&&(l?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof h=="number"?h:this.size,this.size=0),this.container.classList.toggle("visible",l),this.view.setVisible&&this.view.setVisible(l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}layout(l,h){this.layoutContainer(l),this.view.layout(this.size,l,h)}dispose(){return this.disposable.dispose(),this.view}}class a extends n{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class c extends n{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var d;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(d||(d={}));var s;(function(o){o.Distribute={type:"distribute"};function l(m){return{type:"split",index:m}}o.Split=l;function h(m){return{type:"invisible",cachedVisibleSize:m}}o.Invisible=h})(s=e.Sizing||(e.Sizing={}));class r extends v.Disposable{constructor(l,h={}){var m,y,p,f,_;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=d.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(m=h.orientation)!==null&&m!==void 0?m:0,this.inverseAltBehavior=(y=h.inverseAltBehavior)!==null&&y!==void 0?y:!1,this.proportionalLayout=(p=h.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=h.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,w.append)(this.el,(0,w.$)(".sash-container")),this.viewContainer=(0,w.$)(".split-view-container"),this.scrollable=new g.Scrollable(125,w.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new N.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(f=h.scrollbarVisibility)!==null&&f!==void 0?f:1:2,horizontal:this.orientation===1?(_=h.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{this.viewContainer.scrollTop=I.scrollTop,this.viewContainer.scrollLeft=I.scrollLeft})),(0,w.append)(this.el,this.scrollableElement.getDomNode()),this.style(h.styles||i),h.descriptor&&(this.size=h.descriptor.size,h.descriptor.views.forEach((I,E)=>{const T=t.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},k=I.view;this.doAddView(k,T,E,!0)}),this.contentSize=this.viewItems.reduce((I,E)=>I+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const h of this.sashItems)h.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const h of this.sashItems)h.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,h,m=this.viewItems.length,y){this.doAddView(l,h,m,y)}layout(l,h){const m=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=h,this.proportions)for(let y=0;y<this.viewItems.length;y++){const p=this.viewItems[y];p.size=(0,u.clamp)(Math.round(this.proportions[y]*l),p.minimumSize,p.maximumSize)}else{const y=(0,D.range)(this.viewItems.length),p=y.filter(_=>this.viewItems[_].priority===1),f=y.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,l-m,void 0,p,f)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.size/this.contentSize))}onSashStart({sash:l,start:h,alt:m}){for(const _ of this.viewItems)_.enabled=!1;const y=this.sashItems.findIndex(_=>_.sash===l),p=(0,v.combinedDisposable)((0,w.addDisposableListener)(document.body,"keydown",_=>f(this.sashDragState.current,_.altKey)),(0,w.addDisposableListener)(document.body,"keyup",()=>f(this.sashDragState.current,!1))),f=(_,I)=>{const E=this.viewItems.map(F=>F.size);let T=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(I=!I),I)if(y===this.sashItems.length-1){const R=this.viewItems[y];T=(R.minimumSize-R.size)/2,k=(R.maximumSize-R.size)/2}else{const R=this.viewItems[y+1];T=(R.size-R.maximumSize)/2,k=(R.size-R.minimumSize)/2}let A,P;if(!I){const F=(0,D.range)(y,-1),R=(0,D.range)(y+1,this.viewItems.length),M=F.reduce((ee,X)=>ee+(this.viewItems[X].minimumSize-E[X]),0),O=F.reduce((ee,X)=>ee+(this.viewItems[X].viewMaximumSize-E[X]),0),L=R.length===0?Number.POSITIVE_INFINITY:R.reduce((ee,X)=>ee+(E[X]-this.viewItems[X].minimumSize),0),B=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((ee,X)=>ee+(E[X]-this.viewItems[X].viewMaximumSize),0),x=Math.max(M,B),U=Math.min(L,O),K=this.findFirstSnapIndex(F),Z=this.findFirstSnapIndex(R);if(typeof K=="number"){const ee=this.viewItems[K],X=Math.floor(ee.viewMinimumSize/2);A={index:K,limitDelta:ee.visible?x-X:x+X,size:ee.size}}if(typeof Z=="number"){const ee=this.viewItems[Z],X=Math.floor(ee.viewMinimumSize/2);P={index:Z,limitDelta:ee.visible?U+X:U-X,size:ee.size}}}this.sashDragState={start:_,current:_,index:y,sizes:E,minDelta:T,maxDelta:k,alt:I,snapBefore:A,snapAfter:P,disposable:p}};f(h,m)}onSashChange({current:l}){const{index:h,start:m,sizes:y,alt:p,minDelta:f,maxDelta:_,snapBefore:I,snapAfter:E}=this.sashDragState;this.sashDragState.current=l;const T=l-m,k=this.resize(h,T,y,void 0,void 0,f,_,I,E);if(p){const A=h===this.sashItems.length-1,P=this.viewItems.map(B=>B.size),F=A?h:h+1,R=this.viewItems[F],M=R.size-R.maximumSize,O=R.size-R.minimumSize,L=A?h-1:h+1;this.resize(L,-k,P,void 0,void 0,M,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const h of this.viewItems)h.enabled=!0}onViewChange(l,h){const m=this.viewItems.indexOf(l);m<0||m>=this.viewItems.length||(h=typeof h=="number"?h:l.size,h=(0,u.clamp)(h,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((l.size-h)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=h,this.relayout([m],void 0)))}resizeView(l,h){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,l<0||l>=this.viewItems.length)return;const m=(0,D.range)(this.viewItems.length).filter(_=>_!==l),y=[...m.filter(_=>this.viewItems[_].priority===1),l],p=m.filter(_=>this.viewItems[_].priority===2),f=this.viewItems[l];h=Math.round(h),h=(0,u.clamp)(h,f.minimumSize,Math.min(f.maximumSize,this.size)),f.size=h,this.relayout(y,p),this.state=d.Idle}distributeViewSizes(){const l=[];let h=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(l.push(_),h+=_.size);const m=Math.floor(h/l.length);for(const _ of l)_.size=(0,u.clamp)(m,_.minimumSize,_.maximumSize);const y=(0,D.range)(this.viewItems.length),p=y.filter(_=>this.viewItems[_].priority===1),f=y.filter(_=>this.viewItems[_].priority===2);this.relayout(p,f)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,h,m=this.viewItems.length,y){if(this.state!==d.Idle)throw new Error("Cant modify splitview");this.state=d.Busy;const p=(0,w.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(m));const f=l.onDidChange(A=>this.onViewChange(T,A)),_=(0,v.toDisposable)(()=>this.viewContainer.removeChild(p)),I=(0,v.combinedDisposable)(f,_);let E;typeof h=="number"?E=h:h.type==="split"?E=this.getViewSize(h.index)/2:h.type==="invisible"?E={cachedVisibleSize:h.cachedVisibleSize}:E=l.minimumSize;const T=this.orientation===0?new a(p,l,E,I):new c(p,l,E,I);if(this.viewItems.splice(m,0,T),this.viewItems.length>1){let A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const P=this.orientation===0?new C.Sash(this.sashContainer,{getHorizontalSashTop:ee=>this.getSashPosition(ee),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new C.Sash(this.sashContainer,{getVerticalSashLeft:ee=>this.getSashPosition(ee),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),F=this.orientation===0?ee=>({sash:P,start:ee.startY,current:ee.currentY,alt:ee.altKey}):ee=>({sash:P,start:ee.startX,current:ee.currentX,alt:ee.altKey}),M=b.Event.map(P.onDidStart,F)(this.onSashStart,this),L=b.Event.map(P.onDidChange,F)(this.onSashChange,this),x=b.Event.map(P.onDidEnd,()=>this.sashItems.findIndex(ee=>ee.sash===P))(this.onSashEnd,this),U=P.onDidReset(()=>{const ee=this.sashItems.findIndex(W=>W.sash===P),X=(0,D.range)(ee,-1),ne=(0,D.range)(ee+1,this.viewItems.length),Y=this.findFirstSnapIndex(X),j=this.findFirstSnapIndex(ne);typeof Y=="number"&&!this.viewItems[Y].visible||typeof j=="number"&&!this.viewItems[j].visible||this._onDidSashReset.fire(ee)}),K=(0,v.combinedDisposable)(M,L,x,U,P),Z={sash:P,disposable:K};this.sashItems.splice(m-1,0,Z)}p.appendChild(l.element);let k;typeof h!="number"&&h.type==="split"&&(k=[h.index]),y||this.relayout([m],k),this.state=d.Idle,!y&&typeof h!="number"&&h.type==="distribute"&&this.distributeViewSizes()}relayout(l,h){const m=this.viewItems.reduce((y,p)=>y+p.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,l,h),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,h,m=this.viewItems.map(T=>T.size),y,p,f=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,I,E){if(l<0||l>=this.viewItems.length)return 0;const T=(0,D.range)(l,-1),k=(0,D.range)(l+1,this.viewItems.length);if(p)for(const Z of p)(0,D.pushToStart)(T,Z),(0,D.pushToStart)(k,Z);if(y)for(const Z of y)(0,D.pushToEnd)(T,Z),(0,D.pushToEnd)(k,Z);const A=T.map(Z=>this.viewItems[Z]),P=T.map(Z=>m[Z]),F=k.map(Z=>this.viewItems[Z]),R=k.map(Z=>m[Z]),M=T.reduce((Z,ee)=>Z+(this.viewItems[ee].minimumSize-m[ee]),0),O=T.reduce((Z,ee)=>Z+(this.viewItems[ee].maximumSize-m[ee]),0),L=k.length===0?Number.POSITIVE_INFINITY:k.reduce((Z,ee)=>Z+(m[ee]-this.viewItems[ee].minimumSize),0),B=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((Z,ee)=>Z+(m[ee]-this.viewItems[ee].maximumSize),0),x=Math.max(M,B,f),U=Math.min(L,O,_);let K=!1;if(I){const Z=this.viewItems[I.index],ee=h>=I.limitDelta;K=ee!==Z.visible,Z.setVisible(ee,I.size)}if(!K&&E){const Z=this.viewItems[E.index],ee=h<E.limitDelta;K=ee!==Z.visible,Z.setVisible(ee,E.size)}if(K)return this.resize(l,h,m,y,p,f,_);h=(0,u.clamp)(h,x,U);for(let Z=0,ee=h;Z<A.length;Z++){const X=A[Z],ne=(0,u.clamp)(P[Z]+ee,X.minimumSize,X.maximumSize);ee-=ne-P[Z],X.size=ne}for(let Z=0,ee=h;Z<F.length;Z++){const X=F[Z],ne=(0,u.clamp)(R[Z]-ee,X.minimumSize,X.maximumSize);ee+=ne-R[Z],X.size=ne}return h}distributeEmptySpace(l){const h=this.viewItems.reduce((_,I)=>_+I.size,0);let m=this.size-h;const y=(0,D.range)(this.viewItems.length-1,-1),p=y.filter(_=>this.viewItems[_].priority===1),f=y.filter(_=>this.viewItems[_].priority===2);for(const _ of f)(0,D.pushToStart)(y,_);for(const _ of p)(0,D.pushToEnd)(y,_);typeof l=="number"&&(0,D.pushToEnd)(y,l);for(let _=0;m!==0&&_<y.length;_++){const I=this.viewItems[y[_]],E=(0,u.clamp)(I.size+m,I.minimumSize,I.maximumSize);m-=E-I.size,I.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((h,m)=>h+m.size,0);let l=0;for(const h of this.viewItems)h.layout(l,this.layoutContext),l+=h.size;this.sashItems.forEach(h=>h.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const h=this.viewItems.map(I=>l=I.size-I.minimumSize>0||l);l=!1;const m=this.viewItems.map(I=>l=I.maximumSize-I.size>0||l),y=[...this.viewItems].reverse();l=!1;const p=y.map(I=>l=I.size-I.minimumSize>0||l).reverse();l=!1;const f=y.map(I=>l=I.maximumSize-I.size>0||l).reverse();let _=0;for(let I=0;I<this.sashItems.length;I++){const{sash:E}=this.sashItems[I];_+=this.viewItems[I].size;const k=!(h[I]&&f[I+1]),A=!(m[I]&&p[I+1]);if(k&&A){const P=(0,D.range)(I,-1),F=(0,D.range)(I+1,this.viewItems.length),R=this.findFirstSnapIndex(P),M=this.findFirstSnapIndex(F),O=typeof R=="number"&&!this.viewItems[R].visible,L=typeof M=="number"&&!this.viewItems[M].visible;O&&p[I]&&(_>0||this.startSnappingEnabled)?E.state=1:L&&h[I]&&(_<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else k&&!A?E.state=1:!k&&A?E.state=2:E.state=3}}getSashPosition(l){let h=0;for(let m=0;m<this.sashItems.length;m++)if(h+=this.viewItems[m].size,this.sashItems[m].sash===l)return h;return 0}findFirstSnapIndex(l){for(const h of l){const m=this.viewItems[h];if(!!m.visible&&m.snap)return h}for(const h of l){const m=this.viewItems[h];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return h}}dispose(){super.dispose(),this.viewItems.forEach(l=>l.dispose()),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[]}}e.SplitView=r}),define(Q[343],J([12]),{}),define(Q[344],J([0,1,7,111,224,4,2,343]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(i,n,a){this.columns=i,this.getColumnSize=a,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const c=new Map(n.map(d=>[d.templateId,d]));this.renderers=[];for(const d of i){const s=c.get(d.templateId);if(!s)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(s)}}renderTemplate(i){const n=(0,w.append)(i,(0,w.$)(".monaco-table-tr")),a=[],c=[];for(let s=0;s<this.columns.length;s++){const r=this.renderers[s],o=(0,w.append)(n,(0,w.$)(".monaco-table-td",{"data-col-index":s}));o.style.width=`${this.getColumnSize(s)}px`,a.push(o),c.push(r.renderTemplate(o))}const d={container:i,cellContainers:a,cellTemplateData:c};return this.renderedTemplates.add(d),d}renderElement(i,n,a,c){for(let d=0;d<this.columns.length;d++){const r=this.columns[d].project(i);this.renderers[d].renderElement(r,n,a.cellTemplateData[d],c)}}disposeElement(i,n,a,c){for(let d=0;d<this.columns.length;d++){const s=this.renderers[d];if(s.disposeElement){const o=this.columns[d].project(i);s.disposeElement(o,n,a.cellTemplateData[d],c)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,w.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:a}of this.renderedTemplates)a[i].style.width=`${n}px`}}b.TemplateId="row";function v(t){return{getHeight(i){return t.getHeight(i)},getTemplateId(){return b.TemplateId}}}class u{constructor(i,n){this.column=i,this.index=n,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":n,title:i.tooltip},i.label)}get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:D.Event.None}layout(i){this._onDidLayout.fire([this.index,i])}}class g{constructor(i,n,a,c,d,s){this.virtualDelegate=a,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,w.append)(n,(0,w.$)(`.monaco-table.${this.domId}`));const r=c.map((h,m)=>new u(h,m)),o={size:r.reduce((h,m)=>h+m.column.weight,0),views:r.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new N.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:o})),this.splitview.el.style.height=`${a.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${a.headerRowHeight}px`;const l=new b(c,d,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new C.List(i,this.domNode,v(a),[l],s)),D.Event.any(...r.map(h=>h.onDidLayout))(([h,m])=>l.layoutColumn(h,m),null,this.disposables),this.splitview.onDidSashReset(h=>{const m=c.reduce((p,f)=>p+f.weight,0),y=c[h].weight/m*this.cachedWidth;this.splitview.resizeView(h,y)},null,this.disposables),this.styleElement=(0,w.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(i){this.list.updateOptions(i)}splice(i,n,a=[]){this.list.splice(i,n,a)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(Q[345],J([12]),{}),define(Q[141],J([12]),{}),define(Q[225],J([0,1,7,132,141]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const N={},D=new C.IdGenerator("quick-input-button-icon-");function S(b){if(!b)return;let v;const u=b.dark.toString();return N[u]?v=N[u]:(v=D.nextId(),w.createCSSRule(`.${v}`,`background-image: ${w.asCSSUrl(b.light||b.dark)}`),w.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${w.asCSSUrl(b.dark)}`),N[u]=v),v}e.getIconClass=S}),define(Q[346],J([12]),{}),define(Q[347],J([12]),{}),define(Q[348],J([12]),{}),define(Q[349],J([12]),{}),define(Q[350],J([12]),{}),define(Q[351],J([12]),{}),define(Q[352],J([12]),{}),define(Q[353],J([12]),{}),define(Q[354],J([12]),{}),define(Q[355],J([12]),{}),define(Q[356],J([12]),{}),define(Q[357],J([12]),{}),define(Q[358],J([12]),{}),define(Q[359],J([12]),{}),define(Q[360],J([12]),{}),define(Q[361],J([12]),{}),define(Q[362],J([12]),{}),define(Q[363],J([12]),{}),define(Q[364],J([12]),{}),define(Q[365],J([12]),{}),define(Q[366],J([12]),{}),define(Q[367],J([12]),{}),define(Q[368],J([12]),{}),define(Q[369],J([12]),{}),define(Q[370],J([12]),{}),define(Q[371],J([12]),{}),define(Q[372],J([12]),{}),define(Q[373],J([12]),{}),define(Q[374],J([12]),{}),define(Q[375],J([12]),{}),define(Q[376],J([12]),{}),define(Q[377],J([12]),{}),define(Q[378],J([12]),{}),define(Q[379],J([12]),{}),define(Q[380],J([12]),{}),define(Q[381],J([12]),{}),define(Q[382],J([12]),{}),define(Q[383],J([12]),{}),define(Q[384],J([12]),{}),define(Q[385],J([12]),{}),define(Q[386],J([12]),{}),define(Q[387],J([12]),{}),define(Q[388],J([12]),{}),define(Q[389],J([12]),{}),define(Q[390],J([12]),{}),define(Q[391],J([12]),{}),define(Q[392],J([12]),{}),define(Q[226],J([0,1,2,4]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends w.Disposable{constructor(S,b){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(S=>{S&&S[0]&&S[0].contentRect?this.observe({width:S[0].contentRect.width,height:S[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,b){let v=0,u=0;b?(v=b.width,u=b.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),v=Math.max(5,v),u=Math.max(5,u),(this._width!==v||this._height!==u)&&(this._width=v,this._height=u,S&&this._onDidChange.fire())}}e.ElementSizeObserver=N}),define(Q[393],J([0,1,210]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=void 0;function C(N){const D=N.wordWrap;D===!0?N.wordWrap="on":D===!1&&(N.wordWrap="off");const S=N.lineNumbers;S===!0?N.lineNumbers="on":S===!1&&(N.lineNumbers="off"),N.autoClosingBrackets===!1&&(N.autoClosingBrackets="never",N.autoClosingQuotes="never",N.autoSurround="never"),N.cursorBlinking==="visible"&&(N.cursorBlinking="solid");const u=N.renderWhitespace;u===!0?N.renderWhitespace="boundary":u===!1&&(N.renderWhitespace="none");const g=N.renderLineHighlight;g===!0?N.renderLineHighlight="line":g===!1&&(N.renderLineHighlight="none");const t=N.acceptSuggestionOnEnter;t===!0?N.acceptSuggestionOnEnter="on":t===!1&&(N.acceptSuggestionOnEnter="off");const i=N.tabCompletion;i===!1?N.tabCompletion="off":i===!0&&(N.tabCompletion="onlySnippets");const n=N.suggest;if(n&&typeof n.filteredTypes=="object"&&n.filteredTypes){const l={};l.method="showMethods",l.function="showFunctions",l.constructor="showConstructors",l.deprecated="showDeprecated",l.field="showFields",l.variable="showVariables",l.class="showClasses",l.struct="showStructs",l.interface="showInterfaces",l.module="showModules",l.property="showProperties",l.event="showEvents",l.operator="showOperators",l.unit="showUnits",l.value="showValues",l.constant="showConstants",l.enum="showEnums",l.enumMember="showEnumMembers",l.keyword="showKeywords",l.text="showWords",l.color="showColors",l.file="showFiles",l.reference="showReferences",l.folder="showFolders",l.typeParameter="showTypeParameters",l.snippet="showSnippets",(0,w.forEach)(l,h=>{const m=n.filteredTypes[h.key];m===!1&&(n[h.value]=m)})}const a=N.hover;a===!0?N.hover={enabled:!0}:a===!1&&(N.hover={enabled:!1});const c=N.parameterHints;c===!0?N.parameterHints={enabled:!0}:c===!1&&(N.parameterHints={enabled:!1});const d=N.autoIndent;d===!0?N.autoIndent="full":d===!1&&(N.autoIndent="advanced");const s=N.matchBrackets;s===!0?N.matchBrackets="always":s===!1&&(N.matchBrackets="never");const{renderIndentGuides:r,highlightActiveIndentGuide:o}=N;N.guides||(N.guides={}),r!==void 0&&(N.guides.indentation=!!r),o!==void 0&&(N.guides.highlightActiveIndentation=!!o)}e.migrateOptions=C}),define(Q[227],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class C{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new w.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new C}),define(Q[228],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class w{constructor(N){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=N}emitKeyDown(N){this.onKeyDown&&this.onKeyDown(N)}emitKeyUp(N){this.onKeyUp&&this.onKeyUp(N)}emitContextMenu(N){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(N))}emitMouseMove(N){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(N))}emitMouseLeave(N){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(N))}emitMouseDown(N){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(N))}emitMouseUp(N){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(N))}emitMouseDrag(N){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(N))}emitMouseDrop(N){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(N))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(N){this.onMouseWheel&&this.onMouseWheel(N)}_convertViewToModelMouseEvent(N){return N.target?{event:N.event,target:this._convertViewToModelMouseTarget(N.target)}:N}_convertViewToModelMouseTarget(N){return w.convertViewToModelMouseTarget(N,this._coordinatesConverter)}static convertViewToModelMouseTarget(N,D){const S=Object.assign({},N);return S.position&&(S.position=D.convertViewPositionToModelPosition(S.position)),S.range&&(S.range=D.convertViewRangeToModelRange(S.range)),S}}e.ViewUserInputEvents=w}),define(Q[229],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const C=[];for(let N=32;N<=126;N++)C.push(N);return C.push(65533),C})();const w=(C,N)=>(C-=32,C<0||C>96?N<=2?(C+96)%96:96-1:C);e.getCharIndex=w}),define(Q[394],J([0,1,229,138]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class N{constructor(S,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=N.soften(S,12/15),this.charDataLight=N.soften(S,50/60)}static soften(S,b){const v=new Uint8ClampedArray(S.length);for(let u=0,g=S.length;u<g;u++)v[u]=(0,C.toUint8)(S[u]*b);return v}renderChar(S,b,v,u,g,t,i,n,a,c,d){const s=1*this.scale,r=2*this.scale,o=d?1:r;if(b+s>S.width||v+o>S.height){console.warn("bad render request outside image data");return}const l=c?this.charDataLight:this.charDataNormal,h=(0,w.getCharIndex)(u,a),m=S.width*4,y=i.r,p=i.g,f=i.b,_=g.r-y,I=g.g-p,E=g.b-f,T=Math.max(t,n),k=S.data;let A=h*s*r,P=v*m+b*4;for(let F=0;F<o;F++){let R=P;for(let M=0;M<s;M++){const O=l[A++]/255*(t/255);k[R++]=y+_*O,k[R++]=p+I*O,k[R++]=f+E*O,k[R++]=T}P+=m}}blockRenderChar(S,b,v,u,g,t,i,n){const a=1*this.scale,c=2*this.scale,d=n?1:c;if(b+a>S.width||v+d>S.height){console.warn("bad render request outside image data");return}const s=S.width*4,r=.5*(g/255),o=t.r,l=t.g,h=t.b,m=u.r-o,y=u.g-l,p=u.b-h,f=o+m*r,_=l+y*r,I=h+p*r,E=Math.max(g,i),T=S.data;let k=v*s+b*4;for(let A=0;A<d;A++){let P=k;for(let F=0;F<a;F++)T[P++]=f,T[P++]=_,T[P++]=I,T[P++]=E;k+=s}}}e.MinimapCharRenderer=N}),define(Q[395],J([0,1,86]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const C={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},N=D=>{const S=new Uint8ClampedArray(D.length/2);for(let b=0;b<D.length;b+=2)S[b>>1]=C[D[b]]<<4|C[D[b+1]]&15;return S};e.prebakedMiniMaps={1:(0,w.once)(()=>N("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,w.once)(()=>N("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(Q[396],J([0,1,394,229,395,138]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(v,u){if(this.lastCreated&&v===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let g;return N.prebakedMiniMaps[v]?g=new w.MinimapCharRenderer(N.prebakedMiniMaps[v](),v):g=S.createFromSampleData(S.createSampleData(u).data,v),this.lastFontFamily=u,this.lastCreated=g,g}static createSampleData(v){const u=document.createElement("canvas"),g=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${v}`,g.textBaseline="middle";let t=0;for(const i of C.allCharCodes)g.fillText(String.fromCharCode(i),t,16/2),t+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(v,u){const g=16*10*4*96;if(v.length!==g)throw new Error("Unexpected source in MinimapCharRenderer");const t=S._downsample(v,u);return new w.MinimapCharRenderer(t,u)}static _downsampleChar(v,u,g,t,i){const n=1*i,a=2*i;let c=t,d=0;for(let s=0;s<a;s++){const r=s/a*16,o=(s+1)/a*16;for(let l=0;l<n;l++){const h=l/n*10,m=(l+1)/n*10;let y=0,p=0;for(let _=r;_<o;_++){const I=u+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let T=h;T<m;T++){const k=1-(T-Math.floor(T)),A=I+Math.floor(T)*4,P=k*E;p+=P,y+=v[A]*v[A+3]/255*P}}const f=y/p;d=Math.max(d,f),g[c++]=(0,D.toUint8)(f)}}return d}static _downsample(v,u){const g=2*u*1*u,t=g*96,i=new Uint8ClampedArray(t);let n=0,a=0,c=0;for(let d=0;d<96;d++)c=Math.max(c,this._downsampleChar(v,a,i,n,u)),n+=g,a+=10*4;if(c>0){const d=255/c;for(let s=0;s<t;s++)i[s]*=d}return i}}e.MinimapCharRendererFactory=S}),define(Q[142],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new w.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(C){C=Math.min(Math.max(-5,C),20),this._zoomLevel!==C&&(this._zoomLevel=C,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(Q[173],J([0,1,17,142]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const N=w.isMacintosh?1.5:1.35,D=8;class S{constructor(u){this._bareFontInfoBrand=void 0,this.zoomLevel=u.zoomLevel,this.pixelRatio=u.pixelRatio,this.fontFamily=String(u.fontFamily),this.fontWeight=String(u.fontWeight),this.fontSize=u.fontSize,this.fontFeatureSettings=u.fontFeatureSettings,this.lineHeight=u.lineHeight|0,this.letterSpacing=u.letterSpacing}static createFromValidatedSettings(u,g,t,i){const n=u.get(42),a=u.get(46),c=u.get(45),d=u.get(44),s=u.get(58),r=u.get(55);return S._create(n,a,c,d,s,r,g,t,i)}static _create(u,g,t,i,n,a,c,d,s){n===0?n=N*t:n<D&&(n=n*t),n=Math.round(n),n<D&&(n=D);const r=1+(s?0:C.EditorZoom.getZoomLevel()*.1);return t*=r,n*=r,new S({zoomLevel:c,pixelRatio:d,fontFamily:u,fontWeight:g,fontSize:t,fontFeatureSettings:i,lineHeight:n,letterSpacing:a})}getId(){return`${this.zoomLevel}-${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(u){const g=S._wrapInQuotes(this.fontFamily);return u&&this.fontFamily!==u?`${g}, ${u}`:g}static _wrapInQuotes(u){return/[,"']/.test(u)?u:/[+ ]/.test(u)?`"${u}"`:u}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends S{constructor(u,g){super(u);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=g,this.isMonospace=u.isMonospace,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=u.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.maxDigitWidth=u.maxDigitWidth}equals(u){return this.fontFamily===u.fontFamily&&this.fontWeight===u.fontWeight&&this.fontSize===u.fontSize&&this.fontFeatureSettings===u.fontFeatureSettings&&this.lineHeight===u.lineHeight&&this.letterSpacing===u.letterSpacing&&this.typicalHalfwidthCharacterWidth===u.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===u.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===u.canUseHalfwidthRightwardsArrow&&this.spaceWidth===u.spaceWidth&&this.middotWidth===u.middotWidth&&this.wsmiddotWidth===u.wsmiddotWidth&&this.maxDigitWidth===u.maxDigitWidth}}e.FontInfo=b}),define(Q[112],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class C{static _nextVisibleColumn(D,S,b){return D===9?C.nextRenderTabStop(S,b):w.isFullWidthCharacter(D)||w.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,b){const v=Math.min(S-1,D.length),u=D.substring(0,v),g=new w.GraphemeIterator(u);let t=0;for(;!g.eol();){const i=w.getNextCodePoint(u,v,g.offset);g.nextGraphemeLength(),t=this._nextVisibleColumn(i,t,b)}return t}static columnFromVisibleColumn(D,S,b){if(S<=0)return 1;const v=D.length,u=new w.GraphemeIterator(D);let g=0,t=1;for(;!u.eol();){const i=w.getNextCodePoint(D,v,u.offset);u.nextGraphemeLength();const n=this._nextVisibleColumn(i,g,b),a=u.offset+1;if(n>=S){const c=S-g;return n-S<c?a:t}g=n,t=a}return v+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=C}),define(Q[97],J([0,1,138]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class C{constructor(S){const b=(0,w.toUint8)(S);this._defaultValue=b,this._asciiMap=C._createAsciiMap(b),this._map=new Map}static _createAsciiMap(S){const b=new Uint8Array(256);for(let v=0;v<256;v++)b[v]=S;return b}set(S,b){const v=(0,w.toUint8)(b);S>=0&&S<256?this._asciiMap[S]=v:this._map.set(S,v)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=C;class N{constructor(){this._actual=new C(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=N}),define(Q[113],J([0,1,97]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class C extends w.CharacterClassifier{constructor(S){super(0);for(let b=0,v=S.length;b<v;b++)this.set(S.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=C;function N(D){const S={};return b=>(S.hasOwnProperty(b)||(S[b]=D(b)),S[b])}e.getMapForWordSeparators=N(D=>new C(D))}),define(Q[11],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(N,D){this.lineNumber=N,this.column=D}with(N=this.lineNumber,D=this.column){return N===this.lineNumber&&D===this.column?this:new w(N,D)}delta(N=0,D=0){return this.with(this.lineNumber+N,this.column+D)}equals(N){return w.equals(this,N)}static equals(N,D){return!N&&!D?!0:!!N&&!!D&&N.lineNumber===D.lineNumber&&N.column===D.column}isBefore(N){return w.isBefore(this,N)}static isBefore(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<D.column}isBeforeOrEqual(N){return w.isBeforeOrEqual(this,N)}static isBeforeOrEqual(N,D){return N.lineNumber<D.lineNumber?!0:D.lineNumber<N.lineNumber?!1:N.column<=D.column}static compare(N,D){const S=N.lineNumber|0,b=D.lineNumber|0;if(S===b){const v=N.column|0,u=D.column|0;return v-u}return S-b}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(N){return new w(N.lineNumber,N.column)}static isIPosition(N){return N&&typeof N.lineNumber=="number"&&typeof N.column=="number"}}e.Position=w}),define(Q[3],J([0,1,11]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class C{constructor(D,S,b,v){D>b||D===b&&S>v?(this.startLineNumber=b,this.startColumn=v,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=b,this.endColumn=v)}isEmpty(){return C.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return C.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return C.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return C.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return C.plusRange(this,D)}static plusRange(D,S){let b,v,u,g;return S.startLineNumber<D.startLineNumber?(b=S.startLineNumber,v=S.startColumn):S.startLineNumber===D.startLineNumber?(b=S.startLineNumber,v=Math.min(S.startColumn,D.startColumn)):(b=D.startLineNumber,v=D.startColumn),S.endLineNumber>D.endLineNumber?(u=S.endLineNumber,g=S.endColumn):S.endLineNumber===D.endLineNumber?(u=S.endLineNumber,g=Math.max(S.endColumn,D.endColumn)):(u=D.endLineNumber,g=D.endColumn),new C(b,v,u,g)}intersectRanges(D){return C.intersectRanges(this,D)}static intersectRanges(D,S){let b=D.startLineNumber,v=D.startColumn,u=D.endLineNumber,g=D.endColumn,t=S.startLineNumber,i=S.startColumn,n=S.endLineNumber,a=S.endColumn;return b<t?(b=t,v=i):b===t&&(v=Math.max(v,i)),u>n?(u=n,g=a):u===n&&(g=Math.min(g,a)),b>u||b===u&&v>g?null:new C(b,v,u,g)}equalsRange(D){return C.equalsRange(this,D)}static equalsRange(D,S){return!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return C.getEndPosition(this)}static getEndPosition(D){return new w.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return C.getStartPosition(this)}static getStartPosition(D){return new w.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new C(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new C(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return C.collapseToStart(this)}static collapseToStart(D){return new C(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}static fromPositions(D,S=D){return new C(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new C(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const u=D.startLineNumber|0,g=S.startLineNumber|0;if(u===g){const t=D.startColumn|0,i=S.startColumn|0;if(t===i){const n=D.endLineNumber|0,a=S.endLineNumber|0;if(n===a){const c=D.endColumn|0,d=S.endColumn|0;return c-d}return n-a}return t-i}return u-g}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}}e.Range=C}),define(Q[230],J([0,1,8,11,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(v,u,g,t,i){this.value=v,this.selectionStart=u,this.selectionEnd=g,this.selectionStartPosition=t,this.selectionEndPosition=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v){return new D(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,u,g){e._debugComposition&&console.log(`writeToTextArea ${v}: ${this.toString()}`),u.setValue(v,this.value),g&&u.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const t=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(v>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const u=this.value.substring(this.selectionStart,v);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const g=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(v,u,g){let t=0,i=-1;for(;(i=u.indexOf(`
`,i+1))!==-1;)t++;return[v,g*u.length,t]}static deduceInput(v,u,g){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const t=Math.min(w.commonPrefixLength(v.value,u.value),v.selectionStart,u.selectionStart),i=Math.min(w.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd,u.value.length-u.selectionEnd),n=v.value.substring(t,v.value.length-i),a=u.value.substring(t,u.value.length-i),c=v.selectionStart-t,d=v.selectionEnd-t,s=u.selectionStart-t,r=u.selectionEnd-t;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${c}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${s}, selectionEnd: ${r}`)),s===r){const l=v.selectionStart-t;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:a,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const o=d-c;return{text:a,replacePrevCharCnt:o,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,u){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),v.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-v.selectionEnd};const g=Math.min(w.commonPrefixLength(v.value,u.value),v.selectionEnd),t=Math.min(w.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd),i=v.value.substring(g,v.value.length-t),n=u.value.substring(g,u.value.length-t),a=v.selectionStart-g,c=v.selectionEnd-g,d=u.selectionStart-g,s=u.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${a}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${d}, selectionEnd: ${s}`)),{text:n,replacePrevCharCnt:c,replaceNextCharCnt:i.length-c,positionDelta:s-n.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,null);class S{static _getPageOfLine(v,u){return Math.floor((v-1)/u)}static _getRangeForPage(v,u){const g=v*u,t=g+1,i=g+u;return new N.Range(t,1,i+1,1)}static fromEditorSelection(v,u,g,t,i){const n=S._getPageOfLine(g.startLineNumber,t),a=S._getRangeForPage(n,t),c=S._getPageOfLine(g.endLineNumber,t),d=S._getRangeForPage(c,t),s=a.intersectRanges(new N.Range(1,1,g.startLineNumber,g.startColumn));let r=u.getValueInRange(s,1);const o=u.getLineCount(),l=u.getLineMaxColumn(o),h=d.intersectRanges(new N.Range(g.endLineNumber,g.endColumn,o,l));let m=u.getValueInRange(h,1),y;if(n===c||n+1===c)y=u.getValueInRange(g,1);else{const p=a.intersectRanges(g),f=d.intersectRanges(g);y=u.getValueInRange(p,1)+String.fromCharCode(8230)+u.getValueInRange(f,1)}if(i){const p=500;r.length>p&&(r=r.substring(r.length-p,r.length)),m.length>p&&(m=m.substring(0,p)),y.length>2*p&&(y=y.substring(0,p)+String.fromCharCode(8230)+y.substring(y.length-p,y.length))}return new D(r+y+m,r.length,r.length+y.length,new C.Position(g.startLineNumber,g.startColumn),new C.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=S}),define(Q[231],J([0,1,209,4,2,38,3]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends N.Disposable{constructor(g,t={}){super();this._onDidUpdate=this._register(new C.Emitter),this._editor=g,this._options=D.mixin(t,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new S.Range(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>S.Range.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(g){let t=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,a=this.ranges.length;n<a&&!t;n++){const c=this.ranges[n].range;i.isBeforeOrEqual(c.getStartPosition())&&(this.nextIdx=n+(g?0:-1),t=!0)}t||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,t){if(w.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(Q[59],J([0,1,3]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class C{static insert(D,S){return{range:new w.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=C}),define(Q[397],J([0,1,8,59,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(v,u){this._selection=v,this._cursors=u,this._selectionId=null}getEditOperations(v,u){const g=S(v,this._cursors);for(let t=0,i=g.length;t<i;t++){const n=g[t];u.addEditOperation(n.range,n.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(v,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(b,v){v.sort((n,a)=>n.lineNumber===a.lineNumber?n.column-a.column:n.lineNumber-a.lineNumber);for(let n=v.length-2;n>=0;n--)v[n].lineNumber===v[n+1].lineNumber&&v.splice(n,1);const u=[];let g=0,t=0;const i=v.length;for(let n=1,a=b.getLineCount();n<=a;n++){const c=b.getLineContent(n),d=c.length+1;let s=0;if(t<i&&v[t].lineNumber===n&&(s=v[t].column,t++,s===d)||c.length===0)continue;const r=w.lastNonWhitespaceIndex(c);let o=0;if(r===-1)o=1;else if(r!==c.length-1)o=r+2;else continue;o=Math.max(s,o),u[g++]=C.EditOperation.delete(new N.Range(n,o,n,d))}return u}e.trimTrailingWhitespace=S}),define(Q[232],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class w{constructor(N,D,S,b){this._rgba8Brand=void 0,this.r=w._clamp(N),this.g=w._clamp(D),this.b=w._clamp(S),this.a=w._clamp(b)}equals(N){return this.r===N.r&&this.g===N.g&&this.b===N.b&&this.a===N.a}static _clamp(N){return N<0?0:N>255?255:N|0}}e.RGBA8=w,w.Empty=new w(0,0,0,0)}),define(Q[21],J([0,1,11,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class N extends C.Range{constructor(S,b,v,u){super(S,b,v,u);this.selectionStartLineNumber=S,this.selectionStartColumn=b,this.positionLineNumber=v,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return N.selectionsEqual(this,S)}static selectionsEqual(S,b){return S.selectionStartLineNumber===b.selectionStartLineNumber&&S.selectionStartColumn===b.selectionStartColumn&&S.positionLineNumber===b.positionLineNumber&&S.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,b){return this.getDirection()===0?new N(this.startLineNumber,this.startColumn,S,b):new N(S,b,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,b){return this.getDirection()===0?new N(S,b,this.endLineNumber,this.endColumn):new N(this.endLineNumber,this.endColumn,S,b)}static fromPositions(S,b=S){return new N(S.lineNumber,S.column,b.lineNumber,b.column)}static fromRange(S,b){return b===0?new N(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new N(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new N(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,b){if(S&&!b||!S&&b)return!1;if(!S&&!b)return!0;if(S.length!==b.length)return!1;for(let v=0,u=S.length;v<u;v++)if(!this.selectionsEqual(S[v],b[v]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,b,v,u,g){return g===0?new N(S,b,v,u):new N(v,u,S,b)}}e.Selection=N}),define(Q[174],J([0,1,33,7,46,10,4,2,134,8,230,21]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var i;(function(r){r.Tap="-monaco-textarea-synthetic-tap"})(i=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class n{constructor(){this._lastState=null}set(o,l){this._lastState={lastCopiedValue:o,data:l}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=n,n.INSTANCE=new n;class a{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const l={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,l}}class c extends b.Disposable{constructor(o,l,h,m){super();this._host=o,this._textArea=l,this._OS=h,this._browser=m,this._onFocus=this._register(new S.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new S.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new S.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new S.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new S.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new S.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new S.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new S.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new S.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new S.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new D.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new D.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=g.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let y=null;this._register(this._textArea.onKeyDown(p=>{const f=new N.StandardKeyboardEvent(p);(f.keyCode===109||this._currentComposition&&f.keyCode===1)&&f.stopPropagation(),f.equals(9)&&f.preventDefault(),y=f,this._onKeyDown.fire(f)})),this._register(this._textArea.onKeyUp(p=>{const f=new N.StandardKeyboardEvent(p);this._onKeyUp.fire(f)})),this._register(this._textArea.onCompositionStart(p=>{g._debugComposition&&console.log("[compositionstart]",p);const f=new a;if(this._currentComposition){this._currentComposition=f;return}if(this._currentComposition=f,this._OS===2&&y&&y.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(y.code==="ArrowRight"||y.code==="ArrowLeft")){g._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),f.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{g._debugComposition&&console.log("[compositionupdate]",p);const f=this._currentComposition;if(!f)return;if(this._browser.isAndroid){const I=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,I);this._textAreaState=I,this._onType.fire(E),this._onCompositionUpdate.fire(p);return}const _=f.handleCompositionUpdate(p.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{g._debugComposition&&console.log("[compositionend]",p);const f=this._currentComposition;if(!f)return;if(this._currentComposition=null,this._browser.isAndroid){const I=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,I);this._textAreaState=I,this._onType.fire(E),this._onCompositionEnd.fire();return}const _=f.handleCompositionUpdate(p.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(g._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const f=g.TextAreaState.readFromTextArea(this._textArea),_=g.TextAreaState.deduceInput(this._textAreaState,f,this._OS===2);_.replacePrevCharCnt===0&&_.text.length===1&&u.isHighSurrogate(_.text.charCodeAt(0))||(this._textAreaState=f,(_.text!==""||_.replacePrevCharCnt!==0||_.replaceNextCharCnt!==0||_.positionDelta!==0)&&this._onType.fire(_))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[f,_]=d.getTextData(p.clipboardData);!f||(_=_||n.INSTANCE.get(f),this._onPaste.fire({text:f,metadata:_}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return C.addDisposableListener(document,"selectionchange",l=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const h=Date.now(),m=h-o;if(o=h,m<5)return;const y=h-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),y<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const f=this._textArea.getSelectionStart(),_=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===f&&this._textAreaState.selectionEnd===_)return;const I=this._textAreaState.deduceEditorPosition(f),E=this._host.deduceModelPosition(I[0],I[1],I[2]),T=this._textAreaState.deduceEditorPosition(_),k=this._host.deduceModelPosition(T[0],T[1],T[2]),A=new t.Selection(E.lineNumber,E.column,k.lineNumber,k.column);this._onSelectionChangeRequest.fire(A)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,l){this._hasFocus||(l=l.collapseSelection()),l.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=l}writeScreenReaderContent(o){this._currentComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(o){const l=this._host.getDataToCopy(),h={version:1,isFromEmptySelection:l.isFromEmptySelection,multicursorText:l.multicursorText,mode:l.mode};n.INSTANCE.set(this._browser.isFirefox?l.text.replace(/\r\n/g,`
`):l.text,h),o.preventDefault(),o.clipboardData&&d.setTextData(o.clipboardData,l.text,l.html,h)}}e.TextAreaInput=c;class d{static getTextData(o){const l=o.getData(v.Mimes.text);let h=null;const m=o.getData("vscode-editor-data");if(typeof m=="string")try{h=JSON.parse(m),h.version!==1&&(h=null)}catch{}return[l,h]}static setTextData(o,l,h,m){o.setData(v.Mimes.text,l),typeof h=="string"&&o.setData("text/html",h),o.setData("vscode-editor-data",JSON.stringify(m))}}class s extends b.Disposable{constructor(o){super();this._actual=o,this.onKeyDown=this._register(C.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(C.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(C.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(C.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(C.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(C.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(C.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(C.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(C.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(C.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(C.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new S.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(C.addDisposableListener(this._actual,i.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=C.getShadowRoot(this._actual);return o?o.activeElement===this._actual:C.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,l){const h=this._actual;h.value!==l&&(this.setIgnoreSelectionChangeTime("setValue"),h.value=l)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,l,h){const m=this._actual;let y=null;const p=C.getShadowRoot(m);p?y=p.activeElement:y=document.activeElement;const f=y===m,_=m.selectionStart,I=m.selectionEnd;if(f&&_===l&&I===h){w.isFirefox&&window.parent!==window&&m.focus();return}if(f){this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(l,h),w.isFirefox&&window.parent!==window&&m.focus();return}try{const E=C.saveParentsScrollTop(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(l,h),C.restoreParentsScrollTop(m,E)}catch{}}}e.TextAreaWrapper=s}),define(Q[98],J([0,1,21]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class C{constructor(u,g,t=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=C;class N{constructor(u,g){this._range=u,this._text=g}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=N;class D{constructor(u,g,t=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(u,g,t,i,n=!1){this._range=u,this._text=g,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=t,this.insertsAutoWhitespace=n}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class b{constructor(u,g,t,i=!1){this._range=u,this._text=g,this._initialSelection=t,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(u,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(Q[398],J([0,1,3,21]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class N{constructor(S,b,v){this._range=S,this._charBeforeSelection=b,this._charAfterSelection=v}getEditOperations(S,b){b.addTrackedEditOperation(new w.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),b.addTrackedEditOperation(new w.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,b){const v=b.getInverseEditOperations(),u=v[0].range,g=v[1].range;return new C.Selection(u.endLineNumber,u.endColumn,g.endLineNumber,g.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=N}),define(Q[89],J([0,1,8,17,106]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let b;function v(){return b||(b=new TextDecoder("UTF-16BE")),b}let u;function g(){return u||(u=C.isLittleEndian()?S():v()),u}e.getPlatformTextDecoder=g,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=c=>new n(c),e.decodeUTF16LE=t):(e.createStringBuilder=c=>new a,e.decodeUTF16LE=i);function t(c,d,s){const r=new Uint16Array(c.buffer,d,s);return s>0&&(r[0]===65279||r[0]===65534)?i(c,d,s):S().decode(r)}function i(c,d,s){const r=[];let o=0;for(let l=0;l<s;l++){const h=N.readUInt16LE(c,d);d+=2,r[o++]=String.fromCharCode(h)}return r.join("")}class n{constructor(d){this._capacity=d|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const d=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(d)}_flushBuffer(){const d=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[d]:this._completedStrings[this._completedStrings.length]=d}write1(d){const s=this._capacity-this._bufferLength;s<=1&&(s===0||w.isHighSurrogate(d))&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCII(d){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCIIString(d){const s=d.length;if(this._bufferLength+s>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=d;return}for(let r=0;r<s;r++)this._buffer[this._bufferLength++]=d.charCodeAt(r)}}class a{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCII(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCIIString(d){this._pieces[this._piecesLen++]=d}}}),define(Q[175],J([0,1,31,89]),function(H,e,w,C){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class D{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,g){this._lines=g,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const g=u-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(u,g){if(this.getCount()===0)return null;const t=this.getStartLineNumber(),i=this.getEndLineNumber();if(g<t){const d=g-u+1;return this._rendLineNumberStart-=d,null}if(u>i)return null;let n=0,a=0;for(let d=t;d<=i;d++){const s=d-this._rendLineNumberStart;u<=d&&d<=g&&(a===0?(n=s,a=1):a++)}if(u<t){let d=0;g<t?d=g-u+1:d=t-u,this._rendLineNumberStart-=d}return this._lines.splice(n,a)}onLinesChanged(u,g){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let a=u;a<=g;a++)a>=t&&a<=i&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(u,g){if(this.getCount()===0)return null;const t=g-u+1,i=this.getStartLineNumber(),n=this.getEndLineNumber();if(u<=i)return this._rendLineNumberStart+=t,null;if(u>n)return null;if(t+u>n)return this._lines.splice(u-this._rendLineNumberStart,n-u+1);const a=[];for(let o=0;o<t;o++)a[o]=this._createLine();const c=u-this._rendLineNumberStart,d=this._lines.slice(0,c),s=this._lines.slice(c,this._lines.length-t),r=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=d.concat(a).concat(s),r}onTokensChanged(u){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),t=this.getEndLineNumber();let i=!1;for(let n=0,a=u.length;n<a;n++){const c=u[n];if(c.toLineNumber<g||c.fromLineNumber>t)continue;const d=Math.max(g,c.fromLineNumber),s=Math.min(t,c.toLineNumber);for(let r=d;r<=s;r++){const o=r-this._rendLineNumberStart;this._lines[o].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=D;class S{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new D(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,w.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(130)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.toLineNumber)}onLinesDeleted(u){const g=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onLinesInserted(u){const g=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const g=this._linesCollection._get(),t=new b(this.domNode.domNode,this._host,u),i={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},n=t.render(i,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)}}e.VisibleLinesCollection=S;class b{constructor(u,g,t){this.domNode=u,this.host=g,this.viewportData=t}render(u,g,t,i){const n={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(n.rendLineNumberStart+n.linesLength-1<g||t<n.rendLineNumberStart){n.rendLineNumberStart=g,n.linesLength=t-g+1,n.lines=[];for(let a=g;a<=t;a++)n.lines[a-g]=this.host.createVisibleLine();return this._finishRendering(n,!0,i),n}if(this._renderUntouchedLines(n,Math.max(g-n.rendLineNumberStart,0),Math.min(t-n.rendLineNumberStart,n.linesLength-1),i,g),n.rendLineNumberStart>g){const a=g,c=Math.min(t,n.rendLineNumberStart-1);a<=c&&(this._insertLinesBefore(n,a,c,i,g),n.linesLength+=c-a+1)}else if(n.rendLineNumberStart<g){const a=Math.min(n.linesLength,g-n.rendLineNumberStart);a>0&&(this._removeLinesBefore(n,a),n.linesLength-=a)}if(n.rendLineNumberStart=g,n.rendLineNumberStart+n.linesLength-1<t){const a=n.rendLineNumberStart+n.linesLength,c=t;a<=c&&(this._insertLinesAfter(n,a,c,i,g),n.linesLength+=c-a+1)}else if(n.rendLineNumberStart+n.linesLength-1>t){const a=Math.max(0,t-n.rendLineNumberStart+1),d=n.linesLength-1-a+1;d>0&&(this._removeLinesAfter(n,d),n.linesLength-=d)}return this._finishRendering(n,!1,i),n}_renderUntouchedLines(u,g,t,i,n){const a=u.rendLineNumberStart,c=u.lines;for(let d=g;d<=t;d++){const s=a+d;c[d].layoutLine(s,i[s-n])}}_insertLinesBefore(u,g,t,i,n){const a=[];let c=0;for(let d=g;d<=t;d++)a[c++]=this.host.createVisibleLine();u.lines=a.concat(u.lines)}_removeLinesBefore(u,g){for(let t=0;t<g;t++){const i=u.lines[t].getDomNode();i&&this.domNode.removeChild(i)}u.lines.splice(0,g)}_insertLinesAfter(u,g,t,i,n){const a=[];let c=0;for(let d=g;d<=t;d++)a[c++]=this.host.createVisibleLine();u.lines=u.lines.concat(a)}_removeLinesAfter(u,g){const t=u.linesLength-g;for(let i=0;i<g;i++){const n=u.lines[t+i].getDomNode();n&&this.domNode.removeChild(n)}u.lines.splice(t,g)}_finishRenderingNewLines(u,g,t,i){b._ttPolicy&&(t=b._ttPolicy.createHTML(t));const n=this.domNode.lastChild;g||!n?this.domNode.innerHTML=t:n.insertAdjacentHTML("afterend",t);let a=this.domNode.lastChild;for(let c=u.linesLength-1;c>=0;c--){const d=u.lines[c];i[c]&&(d.setDomNode(a),a=a.previousSibling)}}_finishRenderingInvalidLines(u,g,t){const i=document.createElement("div");b._ttPolicy&&(g=b._ttPolicy.createHTML(g)),i.innerHTML=g;for(let n=0;n<u.linesLength;n++){const a=u.lines[n];if(t[n]){const c=i.firstChild,d=a.getDomNode();d.parentNode.replaceChild(c,d),a.setDomNode(c)}}}_finishRendering(u,g,t){const i=b._sb,n=u.linesLength,a=u.lines,c=u.rendLineNumberStart,d=[];{i.reset();let s=!1;for(let r=0;r<n;r++){const o=a[r];d[r]=!1,!(o.getDomNode()||!o.renderLine(r+c,t[r],this.viewportData,i))&&(d[r]=!0,s=!0)}s&&this._finishRenderingNewLines(u,g,i.build(),d)}{i.reset();let s=!1;const r=[];for(let o=0;o<n;o++){const l=a[o];r[o]=!1,!(d[o]||!l.renderLine(o+c,t[o],this.viewportData,i))&&(r[o]=!0,s=!0)}s&&this._finishRenderingInvalidLines(u,i.build(),r)}}}b._ttPolicy=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("editorViewLayer",{createHTML:v=>v}),b._sb=(0,C.createStringBuilder)(1e5)}),define(Q[143],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class w{constructor(S,b,v){this._tokenBrand=void 0,this.offset=S,this.type=b,this.language=v}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=w;class C{constructor(S,b){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=b}}e.TokenizationResult=C;class N{constructor(S,b){this._encodedTokenizationResultBrand=void 0,this.tokens=S,this.endState=b}}e.EncodedTokenizationResult=N}),define(Q[399],J([0,1,137,8]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const N=3;function D(c,d,s,r){return new w.LcsDiff(c,d,s).ComputeDiff(r)}class S{constructor(d){const s=[],r=[];for(let o=0,l=d.length;o<l;o++)s[o]=i(d[o],1),r[o]=n(d[o],1);this.lines=d,this._startColumns=s,this._endColumns=r}getElements(){const d=[];for(let s=0,r=this.lines.length;s<r;s++)d[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,s,r){const o=[],l=[],h=[];let m=0;for(let y=s;y<=r;y++){const p=this.lines[y],f=d?this._startColumns[y]:1,_=d?this._endColumns[y]:p.length+1;for(let I=f;I<_;I++)o[m]=p.charCodeAt(I-1),l[m]=y+1,h[m]=I,m++}return new b(o,l,h)}}class b{constructor(d,s,r){this._charCodes=d,this._lineNumbers=s,this._columns=r}getElements(){return this._charCodes}getStartLineNumber(d){return this._lineNumbers[d]}getStartColumn(d){return this._columns[d]}getEndLineNumber(d){return this._lineNumbers[d]}getEndColumn(d){return this._columns[d]+1}}class v{constructor(d,s,r,o,l,h,m,y){this.originalStartLineNumber=d,this.originalStartColumn=s,this.originalEndLineNumber=r,this.originalEndColumn=o,this.modifiedStartLineNumber=l,this.modifiedStartColumn=h,this.modifiedEndLineNumber=m,this.modifiedEndColumn=y}static createFromDiffChange(d,s,r){let o,l,h,m,y,p,f,_;return d.originalLength===0?(o=0,l=0,h=0,m=0):(o=s.getStartLineNumber(d.originalStart),l=s.getStartColumn(d.originalStart),h=s.getEndLineNumber(d.originalStart+d.originalLength-1),m=s.getEndColumn(d.originalStart+d.originalLength-1)),d.modifiedLength===0?(y=0,p=0,f=0,_=0):(y=r.getStartLineNumber(d.modifiedStart),p=r.getStartColumn(d.modifiedStart),f=r.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),_=r.getEndColumn(d.modifiedStart+d.modifiedLength-1)),new v(o,l,h,m,y,p,f,_)}}function u(c){if(c.length<=1)return c;const d=[c[0]];let s=d[0];for(let r=1,o=c.length;r<o;r++){const l=c[r],h=l.originalStart-(s.originalStart+s.originalLength),m=l.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(h,m)<N?(s.originalLength=l.originalStart+l.originalLength-s.originalStart,s.modifiedLength=l.modifiedStart+l.modifiedLength-s.modifiedStart):(d.push(l),s=l)}return d}class g{constructor(d,s,r,o,l){this.originalStartLineNumber=d,this.originalEndLineNumber=s,this.modifiedStartLineNumber=r,this.modifiedEndLineNumber=o,this.charChanges=l}static createFromDiffResult(d,s,r,o,l,h,m){let y,p,f,_,I;if(s.originalLength===0?(y=r.getStartLineNumber(s.originalStart)-1,p=0):(y=r.getStartLineNumber(s.originalStart),p=r.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(f=o.getStartLineNumber(s.modifiedStart)-1,_=0):(f=o.getStartLineNumber(s.modifiedStart),_=o.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),h&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&l()){const E=r.createCharSequence(d,s.originalStart,s.originalStart+s.originalLength-1),T=o.createCharSequence(d,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);let k=D(E,T,l,!0).changes;m&&(k=u(k)),I=[];for(let A=0,P=k.length;A<P;A++)I.push(v.createFromDiffChange(k[A],E,T))}return new g(y,p,f,_,I)}}class t{constructor(d,s,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges,this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=r.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=s,this.original=new S(d),this.modified=new S(s),this.continueLineDiff=a(r.maxComputationTime),this.continueCharDiff=a(r.maxComputationTime===0?0:Math.min(r.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const d=D(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=d.changes,r=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let y=0,p=s.length;y<p;y++)m.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[y],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:r,changes:m}}const o=[];let l=0,h=0;for(let m=-1,y=s.length;m<y;m++){const p=m+1<y?s[m+1]:null,f=p?p.originalStart:this.originalLines.length,_=p?p.modifiedStart:this.modifiedLines.length;for(;l<f&&h<_;){const I=this.originalLines[l],E=this.modifiedLines[h];if(I!==E){{let T=i(I,1),k=i(E,1);for(;T>1&&k>1;){const A=I.charCodeAt(T-2),P=E.charCodeAt(k-2);if(A!==P)break;T--,k--}(T>1||k>1)&&this._pushTrimWhitespaceCharChange(o,l+1,1,T,h+1,1,k)}{let T=n(I,1),k=n(E,1);const A=I.length+1,P=E.length+1;for(;T<A&&k<P;){const F=I.charCodeAt(T-1),R=I.charCodeAt(k-1);if(F!==R)break;T++,k++}(T<A||k<P)&&this._pushTrimWhitespaceCharChange(o,l+1,T,A,h+1,k,P)}}l++,h++}p&&(o.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,p,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),l+=p.originalLength,h+=p.modifiedLength)}return{quitEarly:r,changes:o}}_pushTrimWhitespaceCharChange(d,s,r,o,l,h,m){if(this._mergeTrimWhitespaceCharChange(d,s,r,o,l,h,m))return;let y;this.shouldComputeCharChanges&&(y=[new v(s,r,s,o,l,h,l,m)]),d.push(new g(s,s,l,l,y))}_mergeTrimWhitespaceCharChange(d,s,r,o,l,h,m){const y=d.length;if(y===0)return!1;const p=d[y-1];return p.originalEndLineNumber===0||p.modifiedEndLineNumber===0?!1:p.originalEndLineNumber+1===s&&p.modifiedEndLineNumber+1===l?(p.originalEndLineNumber=s,p.modifiedEndLineNumber=l,this.shouldComputeCharChanges&&p.charChanges&&p.charChanges.push(new v(s,r,s,o,l,h,l,m)),!0):!1}}e.DiffComputer=t;function i(c,d){const s=C.firstNonWhitespaceIndex(c);return s===-1?d:s+1}function n(c,d){const s=C.lastNonWhitespaceIndex(c);return s===-1?d:s+2}function a(c){if(c===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<c}}),define(Q[233],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class w{constructor(N,D,S,b,v,u){this.id=N,this.label=D,this.alias=S,this._precondition=b,this._run=v,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=w}),define(Q[144],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(Q[145],J([0,1,144]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function C(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===w.EditorType.ICodeEditor:!1}e.isCodeEditor=C;function N(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===w.EditorType.IDiffEditor:!1}e.isDiffEditor=N;function D(S){return C(S)?S:N(S)?S.getModifiedEditor():null}e.getCodeEditor=D}),define(Q[114],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class C{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let v=0,u=b.notIn.length;v<u;v++)switch(b.notIn[v]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,v){if(b.getTokenCount()===0)return!0;const u=b.findTokenIndexAtOffset(v-2),g=b.getStandardTokenType(u);return this.isOK(g)}_findNeutralCharacterInRange(b,v){for(let u=b;u<=v;u++){const g=String.fromCharCode(u);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=C;class N{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of b)D(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),D(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),D(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),D(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&D(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=N;function D(S,b,v){S.has(b)?S.get(b).push(v):S.set(b,[v])}}),define(Q[400],J([0,1,211,79]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function N(D,S,b,v){if(Array.isArray(D)){let u=0;for(const g of D){const t=N(g,S,b,v);if(t===10)return t;t>u&&(u=t)}return u}else{if(typeof D=="string")return v?D==="*"?5:D===b?10:0:0;if(D){const{language:u,pattern:g,scheme:t,hasAccessToAllModels:i}=D;if(!v&&!i)return 0;let n=0;if(t)if(t===S.scheme)n=10;else if(t==="*")n=5;else return 0;if(u)if(u===b)n=10;else if(u==="*")n=Math.max(n,5);else return 0;if(g){let a;if(typeof g=="string"?a=g:a=Object.assign(Object.assign({},g),{base:(0,C.normalize)(g.base)}),a===S.fsPath||(0,w.match)(a,S.fsPath))n=10;else return 0}return n}else return 0}}e.score=N}),define(Q[401],J([0,1,97]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class C{constructor(i,n,a){const c=new Uint8Array(i*n);for(let d=0,s=i*n;d<s;d++)c[d]=a;this._data=c,this.rows=i,this.cols=n}get(i,n){return this._data[i*this.cols+n]}set(i,n,a){this._data[i*this.cols+n]=a}}e.Uint8Matrix=C;class N{constructor(i){let n=0,a=0;for(let d=0,s=i.length;d<s;d++){const[r,o,l]=i[d];o>n&&(n=o),r>a&&(a=r),l>a&&(a=l)}n++,a++;const c=new C(a,n,0);for(let d=0,s=i.length;d<s;d++){const[r,o,l]=i[d];c.set(r,o,l)}this._states=c,this._maxCharCode=n}nextState(i,n){return n<0||n>=this._maxCharCode?0:this._states.get(i,n)}}e.StateMachine=N;let D=null;function S(){return D===null&&(D=new N([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let b=null;function v(){if(b===null){b=new w.CharacterClassifier(0);const t=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<t.length;n++)b.set(t.charCodeAt(n),1);const i=".,;";for(let n=0;n<i.length;n++)b.set(i.charCodeAt(n),2)}return b}class u{static _createLink(i,n,a,c,d){let s=d-1;do{const r=n.charCodeAt(s);if(i.get(r)!==2)break;s--}while(s>c);if(c>0){const r=n.charCodeAt(c-1),o=n.charCodeAt(s);(r===40&&o===41||r===91&&o===93||r===123&&o===125)&&s--}return{range:{startLineNumber:a,startColumn:c+1,endLineNumber:a,endColumn:s+2},url:n.substring(c,s+1)}}static computeLinks(i,n=S()){const a=v(),c=[];for(let d=1,s=i.getLineCount();d<=s;d++){const r=i.getLineContent(d),o=r.length;let l=0,h=0,m=0,y=1,p=!1,f=!1,_=!1,I=!1;for(;l<o;){let E=!1;const T=r.charCodeAt(l);if(y===13){let k;switch(T){case 40:p=!0,k=0;break;case 41:k=p?0:1;break;case 91:_=!0,f=!0,k=0;break;case 93:_=!1,k=f?0:1;break;case 123:I=!0,k=0;break;case 125:k=I?0:1;break;case 39:k=m===34||m===96?0:1;break;case 34:k=m===39||m===96?0:1;break;case 96:k=m===39||m===34?0:1;break;case 42:k=m===42?1:0;break;case 124:k=m===124?1:0;break;case 32:k=_?0:1;break;default:k=a.get(T)}k===1&&(c.push(u._createLink(a,r,d,h,l)),E=!0)}else if(y===12){let k;T===91?(f=!0,k=0):k=a.get(T),k===1?E=!0:y=13}else y=n.nextState(y,T),y===0&&(E=!0);E&&(y=1,p=!1,f=!1,I=!1,h=l+1,m=T),l++}y===13&&c.push(u._createLink(a,r,d,h,o))}return c}}e.LinkComputer=u;function g(t){return!t||typeof t.getLineCount!="function"||typeof t.getLineContent!="function"?[]:u.computeLinks(t)}e.computeLinks=g}),define(Q[115],J([0,1,143]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function C(D,S){return new w.TokenizationResult([new w.Token(0,"",D)],S)}e.nullTokenize=C;function N(D,S){const b=new Uint32Array(2);return b[0]=0,b[1]=(D<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new w.EncodedTokenizationResult(b,S===null?e.NullState:S)}e.nullTokenizeEncoded=N}),define(Q[116],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function w(D,S){const b=D.getCount(),v=D.findTokenIndexAtOffset(S),u=D.getLanguageId(v);let g=v;for(;g+1<b&&D.getLanguageId(g+1)===u;)g++;let t=v;for(;t>0&&D.getLanguageId(t-1)===u;)t--;return new C(D,u,t,g+1,D.getStartOffset(t),D.getEndOffset(g))}e.createScopedLineTokens=w;class C{constructor(S,b,v,u,g,t){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=b,this._firstTokenIndex=v,this._lastTokenIndex=u,this.firstCharOffset=g,this._lastCharOffset=t}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=C;function N(D){return(D&3)!=0}e.ignoreBracketsInToken=N}),define(Q[402],J([0,1,114]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class C{constructor(S){if(S.autoClosingPairs?this._autoClosingPairs=S.autoClosingPairs.map(b=>new w.StandardAutoClosingPairConditional(b)):S.brackets?this._autoClosingPairs=S.brackets.map(b=>new w.StandardAutoClosingPairConditional({open:b[0],close:b[1]})):this._autoClosingPairs=[],S.colorizedBracketPairs?this._colorizedBracketPairs=N(S.colorizedBracketPairs.map(b=>[b[0],b[1]])):S.brackets?this._colorizedBracketPairs=N(S.brackets.map(b=>[b[0],b[1]]).filter(b=>!(b[0]==="<"&&b[1]===">"))):this._colorizedBracketPairs=[],S.__electricCharacterSupport&&S.__electricCharacterSupport.docComment){const b=S.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w.StandardAutoClosingPairConditional({open:b.open,close:b.close||""}))}this._autoCloseBefore=typeof S.autoCloseBefore=="string"?S.autoCloseBefore:C.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=S.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=C,C.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function N(D){return D.filter(([S,b])=>S!==""&&b!=="")}}),define(Q[403],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function w(N){return N.global&&(N.lastIndex=0),!0}class C{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&w(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&w(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&w(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&w(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=C}),define(Q[404],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(N,D,S,b,v){if(N&&D){const u=this.doNavigateValueSet(D,v);if(u)return{range:N,value:u}}if(S&&b){const u=this.doNavigateValueSet(b,v);if(u)return{range:S,value:u}}return null}doNavigateValueSet(N,D){const S=this.numberReplace(N,D);return S!==null?S:this.textReplace(N,D)}numberReplace(N,D){const S=Math.pow(10,N.length-(N.lastIndexOf(".")+1));let b=Number(N),v=parseFloat(N);return!isNaN(b)&&!isNaN(v)&&b===v?b===0&&!D?null:(b=Math.floor(b*S),b+=D?S:-S,String(b/S)):null}textReplace(N,D){return this.valueSetsReplace(this._defaultValueSet,N,D)}valueSetsReplace(N,D,S){let b=null;for(let v=0,u=N.length;b===null&&v<u;v++)b=this.valueSetReplace(N[v],D,S);return b}valueSetReplace(N,D,S){let b=N.indexOf(D);return b>=0?(b+=S?1:-1,b<0?b=N.length-1:b%=N.length,N[b]):null}}e.BasicInplaceReplace=w,w.INSTANCE=new w}),define(Q[405],J([0,1,14,8,114]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(v=>{const u=D._createOpenBracketRegExp(v[0]),g=D._createCloseBracketRegExp(v[1]);u&&g&&this._brackets.push({open:v[0],openRegExp:u,close:v[1],closeRegExp:g})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,v,u,g){if(b>=3)for(let t=0,i=this._regExpRules.length;t<i;t++){const n=this._regExpRules[t];if([{reg:n.beforeText,text:u},{reg:n.afterText,text:g},{reg:n.previousLineText,text:v}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return n.action}if(b>=2&&u.length>0&&g.length>0)for(let t=0,i=this._brackets.length;t<i;t++){const n=this._brackets[t];if(n.openRegExp.test(u)&&n.closeRegExp.test(g))return{indentAction:N.IndentAction.IndentOutdent}}if(b>=2&&u.length>0){for(let t=0,i=this._brackets.length;t<i;t++)if(this._brackets[t].openRegExp.test(u))return{indentAction:N.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let v=C.escapeRegExpCharacters(b);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",D._safeRegExp(v)}static _createCloseBracketRegExp(b){let v=C.escapeRegExpCharacters(b);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,D._safeRegExp(v)}static _safeRegExp(b){try{return new RegExp(b)}catch(v){return(0,w.onUnexpectedError)(v),null}}}e.OnEnterSupport=D}),define(Q[176],J([0,1,8,89,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(l,h,m,y,p,f){this._richEditBracketBrand=void 0,this.languageId=l,this.index=h,this.open=m,this.close=y,this.forwardRegex=p,this.reversedRegex=f,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const h=new Set;for(const m of l)h.add(m);return h}}e.RichEditBracket=D;function S(o){const l=o.length;o=o.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const h=[];for(let f=0;f<l;f++)h[f]=f;const m=(f,_)=>{const[I,E]=f,[T,k]=_;return I===T||I===k||E===T||E===k},y=(f,_)=>{const I=Math.min(f,_),E=Math.max(f,_);for(let T=0;T<l;T++)h[T]===E&&(h[T]=I)};for(let f=0;f<l;f++){const _=o[f];for(let I=f+1;I<l;I++){const E=o[I];m(_,E)&&y(h[f],h[I])}}const p=[];for(let f=0;f<l;f++){const _=[],I=[];for(let E=0;E<l;E++)if(h[E]===f){const[T,k]=o[E];_.push(T),I.push(k)}_.length>0&&p.push({open:_,close:I})}return p}class b{constructor(l,h){this._richEditBracketsBrand=void 0;const m=S(h);this.brackets=m.map((y,p)=>new D(l,p,y.open,y.close,t(y.open,y.close,m,p),i(y.open,y.close,m,p))),this.forwardRegex=n(this.brackets),this.reversedRegex=a(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const y of this.brackets){for(const p of y.open)this.textIsBracket[p]=y,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length);for(const p of y.close)this.textIsBracket[p]=y,this.textIsOpenBracket[p]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}}e.RichEditBrackets=b;function v(o,l,h,m){for(let y=0,p=l.length;y<p;y++){if(y===h)continue;const f=l[y];for(const _ of f.open)_.indexOf(o)>=0&&m.push(_);for(const _ of f.close)_.indexOf(o)>=0&&m.push(_)}}function u(o,l){return o.length-l.length}function g(o){if(o.length<=1)return o;const l=[],h=new Set;for(const m of o)h.has(m)||(l.push(m),h.add(m));return l}function t(o,l,h,m){let y=[];y=y.concat(o),y=y.concat(l);for(let p=0,f=y.length;p<f;p++)v(y[p],h,m,y);return y=g(y),y.sort(u),y.reverse(),d(y)}function i(o,l,h,m){let y=[];y=y.concat(o),y=y.concat(l);for(let p=0,f=y.length;p<f;p++)v(y[p],h,m,y);return y=g(y),y.sort(u),y.reverse(),d(y.map(s))}function n(o){let l=[];for(const h of o){for(const m of h.open)l.push(m);for(const m of h.close)l.push(m)}return l=g(l),d(l)}function a(o){let l=[];for(const h of o){for(const m of h.open)l.push(m);for(const m of h.close)l.push(m)}return l=g(l),d(l.map(s))}function c(o){const l=/^[\w ]+$/.test(o);return o=w.escapeRegExpCharacters(o),l?`\\b${o}\\b`:o}function d(o){const l=`(${o.map(c).join(")|(")})`;return w.createRegExp(l,!0)}const s=function(){function o(m){if(C.hasTextDecoder){const y=new Uint16Array(m.length);let p=0;for(let f=m.length-1;f>=0;f--)y[p++]=m.charCodeAt(f);return C.getPlatformTextDecoder().decode(y)}else{const y=[];let p=0;for(let f=m.length-1;f>=0;f--)y[p++]=m.charAt(f);return y.join("")}}let l=null,h=null;return function(y){return l!==y&&(l=y,h=o(l)),h}}();class r{static _findPrevBracketInText(l,h,m,y){const p=m.match(l);if(!p)return null;const f=m.length-(p.index||0),_=p[0].length,I=y+f;return new N.Range(h,I-_+1,h,I+1)}static findPrevBracketInRange(l,h,m,y,p){const _=s(m).substring(m.length-p,m.length-y);return this._findPrevBracketInText(l,h,_,y)}static findNextBracketInText(l,h,m,y){const p=m.match(l);if(!p)return null;const f=p.index||0,_=p[0].length;if(_===0)return null;const I=y+f;return new N.Range(h,I+1,h,I+1+_)}static findNextBracketInRange(l,h,m,y,p){const f=m.substring(y,p);return this.findNextBracketInText(l,h,f,y)}}e.BracketsUtils=r}),define(Q[406],J([0,1,19,116,176]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const v of this._richEditBrackets.brackets)for(const u of v.close){const g=u.charAt(u.length-1);b.push(g)}return(0,w.distinct)(b)}onElectricCharacter(b,v,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=v.findTokenIndexAtOffset(u-1);if((0,C.ignoreBracketsInToken)(v.getStandardTokenType(g)))return null;const t=this._richEditBrackets.reversedRegex,i=v.getLineContent().substring(0,u-1)+b,n=N.BracketsUtils.findPrevBracketInRange(t,1,i,0,i.length);if(!n)return null;const a=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const d=v.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:a}:null}}e.BracketElectricCharacterSupport=D}),define(Q[407],J([0,1,30]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class C{constructor(d,s,r,o,l){this._parsedThemeRuleBrand=void 0,this.token=d,this.index=s,this.fontStyle=r,this.foreground=o,this.background=l}}e.ParsedTokenThemeRule=C;function N(c){if(!c||!Array.isArray(c))return[];const d=[];let s=0;for(let r=0,o=c.length;r<o;r++){const l=c[r];let h=-1;if(typeof l.fontStyle=="string"){h=0;const p=l.fontStyle.split(" ");for(let f=0,_=p.length;f<_;f++)switch(p[f]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let m=null;typeof l.foreground=="string"&&(m=l.foreground);let y=null;typeof l.background=="string"&&(y=l.background),d[s++]=new C(l.token||"",r,h,m,y)}return d}e.parseTokenTheme=N;function D(c,d){c.sort((f,_)=>{const I=t(f.token,_.token);return I!==0?I:f.index-_.index});let s=0,r="000000",o="ffffff";for(;c.length>=1&&c[0].token==="";){const f=c.shift();f.fontStyle!==-1&&(s=f.fontStyle),f.foreground!==null&&(r=f.foreground),f.background!==null&&(o=f.background)}const l=new b;for(let f of d)l.getId(f);const h=l.getId(r),m=l.getId(o),y=new i(s,h,m),p=new n(y);for(let f=0,_=c.length;f<_;f++){const I=c[f];p.insert(I.token,I.fontStyle,l.getId(I.foreground),l.getId(I.background))}return new v(l,p)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(d){if(d===null)return 0;const s=d.match(S);if(!s)throw new Error("Illegal value for token color: "+d);d=s[1].toUpperCase();let r=this._color2id.get(d);return r||(r=++this._lastColorId,this._color2id.set(d,r),this._id2color[r]=w.Color.fromHex("#"+d),r)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class v{constructor(d,s){this._colorMap=d,this._root=s,this._cache=new Map}static createFromRawTokenTheme(d,s){return this.createFromParsedTokenTheme(N(d),s)}static createFromParsedTokenTheme(d,s){return D(d,s)}getColorMap(){return this._colorMap.getColorMap()}_match(d){return this._root.match(d)}match(d,s){let r=this._cache.get(s);if(typeof r=="undefined"){const o=this._match(s),l=g(s);r=(o.metadata|l<<8)>>>0,this._cache.set(s,r)}return(r|d<<0)>>>0}}e.TokenTheme=v;const u=/\b(comment|string|regex|regexp)\b/;function g(c){const d=c.match(u);if(!d)return 0;switch(d[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function t(c,d){return c<d?-1:c>d?1:0}e.strcmp=t;class i{constructor(d,s,r){this._themeTrieElementRuleBrand=void 0,this._fontStyle=d,this._foreground=s,this._background=r,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(d,s,r){d!==-1&&(this._fontStyle=d),s!==0&&(this._foreground=s),r!==0&&(this._background=r),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=i;class n{constructor(d){this._themeTrieElementBrand=void 0,this._mainRule=d,this._children=new Map}match(d){if(d==="")return this._mainRule;const s=d.indexOf(".");let r,o;s===-1?(r=d,o=""):(r=d.substring(0,s),o=d.substring(s+1));const l=this._children.get(r);return typeof l!="undefined"?l.match(o):this._mainRule}insert(d,s,r,o){if(d===""){this._mainRule.acceptOverwrite(s,r,o);return}const l=d.indexOf(".");let h,m;l===-1?(h=d,m=""):(h=d.substring(0,l),m=d.substring(l+1));let y=this._children.get(h);typeof y=="undefined"&&(y=new n(this._mainRule.clone()),this._children.set(h,y)),y.insert(m,s,r,o)}}e.ThemeTrieElement=n;function a(c){const d=[];for(let s=1,r=c.length;s<r;s++){const o=c[s];d[s]=`.mtk${s} { color: ${o}; }`}return d.push(".mtki { font-style: italic; }"),d.push(".mtkb { font-weight: bold; }"),d.push(".mtku { text-decoration: underline; text-underline-position: under; }"),d.push(".mtks { text-decoration: line-through; }"),d.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),d.join(`
`)}e.generateTokensCSSForColorMap=a}),define(Q[408],J([0,1,4,2]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class N{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,v){return this._map.set(b,v),this.fire([b]),(0,C.toDisposable)(()=>{this._map.get(b)===v&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,v){var u;(u=this._factories.get(b))===null||u===void 0||u.dispose();const g=new D(this,b,v);return this._factories.set(b,g),(0,C.toDisposable)(()=>{const t=this._factories.get(b);!t||t!==g||(this._factories.delete(b),t.dispose())})}getOrCreate(b){return De(this,void 0,void 0,function*(){const v=this.get(b);if(v)return v;const u=this._factories.get(b);return!u||u.isResolved?null:(yield u.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const u=this._factories.get(b);return!!(!u||u.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=N;class D extends C.Disposable{constructor(b,v,u){super();this._registry=b,this._languageId=v,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return De(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return De(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(Q[53],J([0,1,38]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var C;(function(u){u[u.Left=1]="Left",u[u.Center=2]="Center",u[u.Right=4]="Right",u[u.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var N;(function(u){u[u.Inline=1]="Inline",u[u.Gutter=2]="Gutter"})(N=e.MinimapPosition||(e.MinimapPosition={}));class D{constructor(g){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,g.tabSize|0),this.indentSize=g.tabSize|0,this.insertSpaces=Boolean(g.insertSpaces),this.defaultEOL=g.defaultEOL|0,this.trimAutoWhitespace=Boolean(g.trimAutoWhitespace),this.bracketPairColorizationOptions=g.bracketPairColorizationOptions}equals(g){return this.tabSize===g.tabSize&&this.indentSize===g.indentSize&&this.insertSpaces===g.insertSpaces&&this.defaultEOL===g.defaultEOL&&this.trimAutoWhitespace===g.trimAutoWhitespace&&(0,w.equals)(this.bracketPairColorizationOptions,g.bracketPairColorizationOptions)}createChangeEvent(g){return{tabSize:this.tabSize!==g.tabSize,indentSize:this.indentSize!==g.indentSize,insertSpaces:this.insertSpaces!==g.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==g.trimAutoWhitespace}}}e.TextModelResolvedOptions=D;class S{constructor(g,t){this._findMatchBrand=void 0,this.range=g,this.matches=t}}e.FindMatch=S;class b{constructor(g,t,i,n,a,c){this.identifier=g,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=a,this._isTracked=c}}e.ValidAnnotatedEditOperation=b;class v{constructor(g,t,i){this.reverseEdits=g,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}e.ApplyEditsResult=v}),define(Q[409],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class w{constructor(S,b,v){this.range=S,this.nestingLevel=b,this.isInvalid=v}}e.BracketInfo=w;class C{constructor(S,b,v,u){this.range=S,this.openingBracketRange=b,this.closingBracketRange=v,this.nestingLevel=u}}e.BracketPairInfo=C;class N extends C{constructor(S,b,v,u,g){super(S,b,v,u);this.minVisibleColumnIndentation=g}}e.BracketPairWithMinIndentationInfo=N}),define(Q[90],J([0,1,8,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class N{constructor(m,y){this.lineCount=m,this.columnCount=y}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=N,N.zero=new N(0,0);function D(h,m,y,p){return h!==y?v(y-h,p):v(0,p-m)}e.lengthDiff=D,e.lengthZero=0;function S(h){return h===0}e.lengthIsZero=S;const b=Math.pow(2,26);function v(h,m){return h*b+m}e.toLength=v;function u(h){const m=h,y=Math.floor(m/b),p=m-y*b;return new N(y,p)}e.lengthToObj=u;function g(h){return Math.floor(h/b)}e.lengthGetLineCount=g;function t(h){return h}e.lengthGetColumnCountIfZeroLineCount=t;function i(h,m){return m<b?h+m:h-h%b+m}e.lengthAdd=i;function n(h,m){const y=h,p=m;if(p-y<=0)return e.lengthZero;const _=Math.floor(y/b),I=Math.floor(p/b),E=p-I*b;if(_===I){const T=y-_*b;return v(0,E-T)}else return v(I-_,E)}e.lengthDiffNonNegative=n;function a(h,m){return h<m}e.lengthLessThan=a;function c(h,m){return h<=m}e.lengthLessThanEqual=c;function d(h,m){return h>=m}e.lengthGreaterThanEqual=d;function s(h){return v(h.lineNumber-1,h.column-1)}e.positionToLength=s;function r(h,m){const y=h,p=Math.floor(y/b),f=y-p*b,_=m,I=Math.floor(_/b),E=_-I*b;return new C.Range(p+1,f+1,I+1,E+1)}e.lengthsToRange=r;function o(h){const m=(0,w.splitLines)(h);return v(m.length-1,m[m.length-1].length)}e.lengthOfString=o;function l(h){return h}e.lengthHash=l}),define(Q[234],J([0,1,90]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class C{constructor(b,v,u){this.startOffset=b,this.endOffset=v,this.newLength=u}}e.TextEditInfo=C;class N{constructor(b,v){this.documentLength=v,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(u=>D.from(u))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const v=this.edits[this.nextEditIdx],u=v?this.translateOldToCur(v.offsetObj):this.documentLength;return(0,w.lengthDiffNonNegative)(b,u)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const v=(0,w.lengthToObj)(b);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,w.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,w.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],u=this.translateOldToCur(v.endOffsetAfterObj);if((0,w.lengthLessThanEqual)(u,b)){this.nextEditIdx++;const g=(0,w.lengthToObj)(u),t=(0,w.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),i=g.lineCount-t.lineCount;this.deltaOldToNewLineCount+=i;const n=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=g.columnCount-t.columnCount;this.deltaOldToNewColumnCount=n+a,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=N;class D{constructor(b,v,u){this.endOffsetBeforeObj=(0,w.lengthToObj)(v),this.endOffsetAfterObj=(0,w.lengthToObj)((0,w.lengthAdd)(b,u)),this.offsetObj=(0,w.lengthToObj)(b)}static from(b){return new D(b.startOffset,b.endOffset,b.newLength)}}}),define(Q[410],J([0,1,90]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class C{constructor(b){this.lastOffset=w.lengthZero,this.nextNodes=[b],this.offsets=[w.lengthZero],this.idxs=[]}readLongestNodeAt(b,v){if((0,w.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const u=D(this.nextNodes);if(!u)return;const g=D(this.offsets);if((0,w.lengthLessThan)(b,g))return;if((0,w.lengthLessThan)(g,b))if((0,w.lengthAdd)(g,u.length)<=b)this.nextNodeAfterCurrent();else{const t=N(u);t!==-1?(this.nextNodes.push(u.getChild(t)),this.offsets.push(g),this.idxs.push(t)):this.nextNodeAfterCurrent()}else{if(v(u))return this.nextNodeAfterCurrent(),u;{const t=N(u);if(t===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(t)),this.offsets.push(g),this.idxs.push(t)}}}}nextNodeAfterCurrent(){for(;;){const b=D(this.offsets),v=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=D(this.nextNodes),g=N(u,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(u.getChild(g)),this.offsets.push((0,w.lengthAdd)(b,v.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=C;function N(S,b=-1){for(;;){if(b++,b>=S.childrenLength)return-1;if(S.getChild(b))return b}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(Q[117],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const w=new Array;class C{constructor(S,b){this.items=S,this.additionalItems=b}static create(S,b){if(S<=128&&b.length===0){let v=C.cache[S];return v||(v=new C(S,b),C.cache[S]=v),v}return new C(S,b)}static getEmpty(){return this.empty}add(S,b){const v=b.getKey(S);let u=v>>5;if(u===0){const t=1<<v|this.items;return t===this.items?this:C.create(t,this.additionalItems)}u--;const g=this.additionalItems.slice(0);for(;g.length<u;)g.push(0);return g[u]|=1<<(v&31),C.create(this.items,g)}merge(S){const b=this.items|S.items;if(this.additionalItems===w&&S.additionalItems===w)return b===this.items?this:b===S.items?S:C.create(b,w);const v=new Array;for(let u=0;u<Math.max(this.additionalItems.length,S.additionalItems.length);u++){const g=this.additionalItems[u]||0,t=S.additionalItems[u]||0;v.push(g|t)}return C.create(b,v)}intersects(S){if((this.items&S.items)!=0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,S.additionalItems.length);b++)if((this.additionalItems[b]&S.additionalItems[b])!=0)return!0;return!1}}e.SmallImmutableSet=C,C.cache=new Array(129),C.empty=C.create(0,w),e.identityKeyProvider={getKey(D){return D}};class N{constructor(){this.items=new Map}getKey(S){let b=this.items.get(S);return b===void 0&&(b=this.items.size,this.items.set(S,b)),b}}e.DenseKeyProvider=N}),define(Q[146],J([0,1,112,90,117]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class D{constructor(r){this._length=r}get length(){return this._length}}class S extends D{constructor(r,o,l,h,m){super(r);this.openingBracket=o,this.child=l,this.closingBracket=h,this.missingOpeningBracketIds=m}static create(r,o,l){let h=r.length;return o&&(h=(0,C.lengthAdd)(h,o.length)),l&&(h=(0,C.lengthAdd)(h,l.length)),new S(h,r,o,l,o?o.missingOpeningBracketIds:N.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(r){switch(r){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const r=new Array;return r.push(this.openingBracket),this.child&&r.push(this.child),this.closingBracket&&r.push(this.closingBracket),r}canBeReused(r){return!(this.closingBracket===null||r.intersects(this.missingOpeningBracketIds))}deepClone(){return new S(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(r,o){return this.child?this.child.computeMinIndentation((0,C.lengthAdd)(r,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=S;class b extends D{constructor(r,o,l){super(r);this.listHeight=o,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}static create23(r,o,l,h=!1){let m=r.length,y=r.missingOpeningBracketIds;if(r.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(m=(0,C.lengthAdd)(m,o.length),y=y.merge(o.missingOpeningBracketIds),l){if(r.listHeight!==l.listHeight)throw new Error("Invalid list heights");m=(0,C.lengthAdd)(m,l.length),y=y.merge(l.missingOpeningBracketIds)}return h?new u(m,r.listHeight+1,r,o,l,y):new v(m,r.listHeight+1,r,o,l,y)}static getEmpty(){return new t(C.lengthZero,0,[],N.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const r=this.childrenLength;if(r===0)return;const o=this.getChild(r-1),l=o.kind===4?o.toMutable():o;return o!==l&&this.setChild(r-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const o=this.getChild(0),l=o.kind===4?o.toMutable():o;return o!==l&&this.setChild(0,l),l}canBeReused(r){if(r.intersects(this.missingOpeningBracketIds))return!1;let o=this,l;for(;o.kind===4&&(l=o.childrenLength)>0;)o=o.getChild(l-1);return o.canBeReused(r)}handleChildrenChanged(){this.throwIfImmutable();const r=this.childrenLength;let o=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let h=1;h<r;h++){const m=this.getChild(h);o=(0,C.lengthAdd)(o,m.length),l=l.merge(m.missingOpeningBracketIds)}this._length=o,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(r,o){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,h=r;for(let m=0;m<this.childrenLength;m++){const y=this.getChild(m);y&&(l=Math.min(l,y.computeMinIndentation(h,o)),h=(0,C.lengthAdd)(h,y.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=b;class v extends b{constructor(r,o,l,h,m,y){super(r,o,y);this._item1=l,this._item2=h,this._item3=m}get childrenLength(){return this._item3!==null?3:2}getChild(r){switch(r){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(r,o){switch(r){case 0:this._item1=o;return;case 1:this._item2=o;return;case 2:this._item3=o;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=r,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item3;return this._item3=null,this.handleChildrenChanged(),r}prependChildOfSameHeight(r){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=r,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),r}toMutable(){return this}}class u extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends b{constructor(r,o,l,h){super(r,o,h);this._children=l}get childrenLength(){return this._children.length}getChild(r){return this._children[r]}setChild(r,o){this._children[r]=o}get children(){return this._children}deepClone(){const r=new Array(this._children.length);for(let o=0;o<this._children.length;o++)r[o]=this._children[o].deepClone();return new g(this.length,this.listHeight,r,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){this.throwIfImmutable(),this._children.push(r),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const r=this._children.pop();return this.handleChildrenChanged(),r}prependChildOfSameHeight(r){this.throwIfImmutable(),this._children.unshift(r),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const r=this._children.shift();return this.handleChildrenChanged(),r}toMutable(){return this}}class t extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class n extends D{get listHeight(){return 0}get childrenLength(){return 0}getChild(r){return null}get children(){return i}deepClone(){return this}}class a extends n{get kind(){return 0}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(r){return!0}computeMinIndentation(r,o){const l=(0,C.lengthToObj)(r),h=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,m=(0,C.lengthGetLineCount)((0,C.lengthAdd)(r,this.length))+1;let y=Number.MAX_SAFE_INTEGER;for(let p=h;p<=m;p++){const f=o.getLineFirstNonWhitespaceColumn(p),_=o.getLineContent(p);if(f===0)continue;const I=w.CursorColumns.visibleColumnFromColumn(_,f,o.getOptions().tabSize);y=Math.min(y,I)}return y}}e.TextAstNode=a;class c extends n{constructor(r){super(r)}static create(r){const o=(0,C.lengthHash)(r),l=c.cacheByLength.get(o);if(l)return l;const h=new c(r);return c.cacheByLength.set(o,h),h}get kind(){return 1}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(r){return!1}computeMinIndentation(r,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=c,c.cacheByLength=new Map;class d extends n{constructor(r,o){super(o);this.missingOpeningBracketIds=r}get kind(){return 3}canBeReused(r){return!r.intersects(this.missingOpeningBracketIds)}computeMinIndentation(r,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=d}),define(Q[411],J([0,1,146]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function C(u){if(u.length===0)return null;if(u.length===1)return u[0];let g=0;function t(){if(g>=u.length)return null;const c=g,d=u[c].listHeight;for(g++;g<u.length&&u[g].listHeight===d;)g++;return g-c>=2?N(c===0&&g===u.length?u:u.slice(c,g),!1):u[c]}let i=t(),n=t();if(!n)return i;for(let c=t();c;c=t())D(i,n)<=D(n,c)?(i=S(i,n),n=c):n=S(n,c);return S(i,n)}e.concat23Trees=C;function N(u,g=!1){if(u.length===0)return null;if(u.length===1)return u[0];let t=u.length;for(;t>3;){const i=t>>1;for(let n=0;n<i;n++){const a=n<<1;u[n]=w.ListAstNode.create23(u[a],u[a+1],a+3===t?u[a+2]:null,g)}t=i}return w.ListAstNode.create23(u[0],u[1],t>=3?u[2]:null,g)}e.concat23TreesOfSameHeight=N;function D(u,g){return Math.abs(u.listHeight-g.listHeight)}function S(u,g){return u.listHeight===g.listHeight?w.ListAstNode.create23(u,g,null,!1):u.listHeight>g.listHeight?b(u,g):v(g,u)}function b(u,g){u=u.toMutable();let t=u;const i=new Array;let n;for(;;){if(g.listHeight===t.listHeight){n=g;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let a=i.length-1;a>=0;a--){const c=i[a];n?c.childrenLength>=3?n=w.ListAstNode.create23(c.unappendChild(),n,null,!1):(c.appendChildOfSameHeight(n),n=void 0):c.handleChildrenChanged()}return n?w.ListAstNode.create23(u,n,null,!1):u}function v(u,g){u=u.toMutable();let t=u;const i=new Array;for(;g.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=g;for(let a=i.length-1;a>=0;a--){const c=i[a];n?c.childrenLength>=3?n=w.ListAstNode.create23(n,c.unprependChild(),null,!1):(c.prependChildOfSameHeight(n),n=void 0):c.handleChildrenChanged()}return n?w.ListAstNode.create23(n,u,null,!1):u}}),define(Q[412],J([0,1,146,234,117,90,411,410]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function v(g,t,i,n){return new u(g,t,i,n).parseDocument()}e.parseDocument=v;class u{constructor(t,i,n,a){if(this.tokenizer=t,this.createImmutableLists=a,this._itemsConstructed=0,this._itemsFromCache=0,n&&a)throw new Error("Not supported");this.oldNodeReader=n?new b.NodeReader(n):void 0,this.positionMapper=new C.BeforeEditPositionMapper(i,t.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let t=this.parseList(N.SmallImmutableSet.getEmpty());return t||(t=w.ListAstNode.getEmpty()),t}parseList(t){const i=new Array;for(;;){const a=this.tokenizer.peek();if(!a||a.kind===2&&a.bracketIds.intersects(t))break;const c=this.parseChild(t);c.kind===4&&c.childrenLength===0||i.push(c)}return this.oldNodeReader?(0,S.concat23Trees)(i):(0,S.concat23TreesOfSameHeight)(i,this.createImmutableLists)}parseChild(t){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,D.lengthIsZero)(n)){const a=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),c=>(0,D.lengthLessThan)(c.length,n)?c.canBeReused(t):!1);if(a)return this._itemsFromCache++,this.tokenizer.skip(a.length),a}}this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new w.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{const n=t.merge(i.bracketIds),a=this.parseList(n),c=this.tokenizer.peek();return c&&c.kind===2&&(c.bracketId===i.bracketId||c.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),w.PairAstNode.create(i.astNode,a,c.astNode)):w.PairAstNode.create(i.astNode,a,null)}default:throw new Error("unexpected")}}}}),define(Q[413],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class w{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function C(D,S,b,v,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let g;for(g=0;g<S&&g<v;g++){const s=D.charCodeAt(g),r=b.charCodeAt(g);if(s!==r)break}let t=0,i=0;for(let s=g;s<S;s++)D.charCodeAt(s)===32?t++:i++;let n=0,a=0;for(let s=g;s<v;s++)b.charCodeAt(s)===32?n++:a++;if(t>0&&i>0||n>0&&a>0)return;const c=Math.abs(i-a),d=Math.abs(t-n);if(c===0){u.spacesDiff=d,d>0&&0<=n-1&&n-1<D.length&&n<b.length&&b.charCodeAt(n)!==32&&D.charCodeAt(n-1)===32&&D.charCodeAt(D.length-1)===44&&(u.looksLikeAlignment=!0);return}if(d%c==0){u.spacesDiff=d/c;return}}function N(D,S,b){const v=Math.min(D.getLineCount(),1e4);let u=0,g=0,t="",i=0;const n=[2,4,6,8,3,5,7],a=8,c=[0,0,0,0,0,0,0,0,0],d=new w;for(let o=1;o<=v;o++){const l=D.getLineLength(o),h=D.getLineContent(o),m=l<=65536;let y=!1,p=0,f=0,_=0;for(let E=0,T=l;E<T;E++){const k=m?h.charCodeAt(E):D.getLineCharCode(o,E);if(k===9)_++;else if(k===32)f++;else{y=!0,p=E;break}}if(!y||(_>0?u++:f>1&&g++,C(t,i,h,p,d),d.looksLikeAlignment&&!(b&&S===d.spacesDiff)))continue;const I=d.spacesDiff;I<=a&&c[I]++,t=h,i=p}let s=b;u!==g&&(s=u<g);let r=S;if(s){let o=s?0:.1*v;n.forEach(l=>{const h=c[l];h>o&&(o=h,r=l)}),r===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(r=2)}return{insertSpaces:s,tabSize:r}}e.guessIndentation=N}),define(Q[414],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function w(R){return(R.metadata&1)>>>0}e.getNodeColor=w;function C(R,M){R.metadata=R.metadata&254|M<<0}function N(R){return(R.metadata&2)>>>1==1}function D(R,M){R.metadata=R.metadata&253|(M?1:0)<<1}function S(R){return(R.metadata&4)>>>2==1}function b(R,M){R.metadata=R.metadata&251|(M?1:0)<<2}function v(R){return(R.metadata&24)>>>3}function u(R,M){R.metadata=R.metadata&231|M<<3}function g(R){return(R.metadata&32)>>>5==1}function t(R,M){R.metadata=R.metadata&223|(M?1:0)<<5}class i{constructor(M,O,L){this.metadata=0,this.parent=this,this.left=this,this.right=this,C(this,1),this.start=O,this.end=L,this.delta=0,this.maxEnd=L,this.id=M,this.ownerId=0,this.options=null,b(this,!1),u(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=L,this.range=null,D(this,!1)}reset(M,O,L,B){this.start=O,this.end=L,this.maxEnd=L,this.cachedVersionId=M,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=L,this.range=B}setOptions(M){this.options=M;const O=this.options.className;b(this,O==="squiggly-error"||O==="squiggly-warning"||O==="squiggly-info"),u(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(M,O,L){this.cachedVersionId!==L&&(this.range=null),this.cachedVersionId=L,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=O}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,C(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(M,O,L,B,x){return this.root===e.SENTINEL?[]:m(this,M,O,L,B,x)}search(M,O,L){return this.root===e.SENTINEL?[]:h(this,M,O,L)}collectNodesFromOwner(M){return o(this,M)}collectNodesPostOrder(){return l(this)}insert(M){y(this,M),this._normalizeDeltaIfNecessary()}delete(M){f(this,M),this._normalizeDeltaIfNecessary()}resolveNode(M,O){const L=M;let B=0;for(;M!==this.root;)M===M.parent.right&&(B+=M.parent.delta),M=M.parent;const x=L.start+B,U=L.end+B;L.setCachedOffsets(x,U,O)}acceptReplace(M,O,L,B){const x=s(this,M,M+O);for(let U=0,K=x.length;U<K;U++){const Z=x[U];f(this,Z)}this._normalizeDeltaIfNecessary(),r(this,M,M+O,L),this._normalizeDeltaIfNecessary();for(let U=0,K=x.length;U<K;U++){const Z=x[U];Z.start=Z.cachedAbsoluteStart,Z.end=Z.cachedAbsoluteEnd,d(Z,M,M+O,L,B),Z.maxEnd=Z.end,y(this,Z)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,a(this))}}e.IntervalTree=n;function a(R){let M=R.root,O=0;for(;M!==e.SENTINEL;){if(M.left!==e.SENTINEL&&!N(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!N(M.right)){O+=M.delta,M=M.right;continue}M.start=O+M.start,M.end=O+M.end,M.delta=0,A(M),D(M,!0),D(M.left,!1),D(M.right,!1),M===M.parent.right&&(O-=M.parent.delta),M=M.parent}D(R.root,!1)}function c(R,M,O,L){return R<O?!0:R>O||L===1?!1:L===2?!0:M}function d(R,M,O,L,B){const x=v(R),U=x===0||x===2,K=x===1||x===2,Z=O-M,ee=L,X=Math.min(Z,ee),ne=R.start;let Y=!1;const j=R.end;let W=!1;M<=ne&&j<=O&&g(R)&&(R.start=M,Y=!0,R.end=M,W=!0);{const G=B?1:Z>0?2:0;!Y&&c(ne,U,M,G)&&(Y=!0),!W&&c(j,K,M,G)&&(W=!0)}if(X>0&&!B){const G=Z>ee?2:0;!Y&&c(ne,U,M+X,G)&&(Y=!0),!W&&c(j,K,M+X,G)&&(W=!0)}{const G=B?1:0;!Y&&c(ne,U,O,G)&&(R.start=M+ee,Y=!0),!W&&c(j,K,O,G)&&(R.end=M+ee,W=!0)}const V=ee-Z;Y||(R.start=Math.max(0,ne+V)),W||(R.end=Math.max(0,j+V)),R.start>R.end&&(R.end=R.start)}e.nodeAcceptEdit=d;function s(R,M,O){let L=R.root,B=0,x=0,U=0,K=0;const Z=[];let ee=0;for(;L!==e.SENTINEL;){if(N(L)){D(L.left,!1),D(L.right,!1),L===L.parent.right&&(B-=L.parent.delta),L=L.parent;continue}if(!N(L.left)){if(x=B+L.maxEnd,x<M){D(L,!0);continue}if(L.left!==e.SENTINEL){L=L.left;continue}}if(U=B+L.start,U>O){D(L,!0);continue}if(K=B+L.end,K>=M&&(L.setCachedOffsets(U,K,0),Z[ee++]=L),D(L,!0),L.right!==e.SENTINEL&&!N(L.right)){B+=L.delta,L=L.right;continue}}return D(R.root,!1),Z}function r(R,M,O,L){let B=R.root,x=0,U=0,K=0;const Z=L-(O-M);for(;B!==e.SENTINEL;){if(N(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&(x-=B.parent.delta),A(B),B=B.parent;continue}if(!N(B.left)){if(U=x+B.maxEnd,U<M){D(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(K=x+B.start,K>O){B.start+=Z,B.end+=Z,B.delta+=Z,(B.delta<-1073741824||B.delta>1073741824)&&(R.requestNormalizeDelta=!0),D(B,!0);continue}if(D(B,!0),B.right!==e.SENTINEL&&!N(B.right)){x+=B.delta,B=B.right;continue}}D(R.root,!1)}function o(R,M){let O=R.root;const L=[];let B=0;for(;O!==e.SENTINEL;){if(N(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!N(O.left)){O=O.left;continue}if(O.ownerId===M&&(L[B++]=O),D(O,!0),O.right!==e.SENTINEL&&!N(O.right)){O=O.right;continue}}return D(R.root,!1),L}function l(R){let M=R.root;const O=[];let L=0;for(;M!==e.SENTINEL;){if(N(M)){D(M.left,!1),D(M.right,!1),M=M.parent;continue}if(M.left!==e.SENTINEL&&!N(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!N(M.right)){M=M.right;continue}O[L++]=M,D(M,!0)}return D(R.root,!1),O}function h(R,M,O,L){let B=R.root,x=0,U=0,K=0;const Z=[];let ee=0;for(;B!==e.SENTINEL;){if(N(B)){D(B.left,!1),D(B.right,!1),B===B.parent.right&&(x-=B.parent.delta),B=B.parent;continue}if(B.left!==e.SENTINEL&&!N(B.left)){B=B.left;continue}U=x+B.start,K=x+B.end,B.setCachedOffsets(U,K,L);let X=!0;if(M&&B.ownerId&&B.ownerId!==M&&(X=!1),O&&S(B)&&(X=!1),X&&(Z[ee++]=B),D(B,!0),B.right!==e.SENTINEL&&!N(B.right)){x+=B.delta,B=B.right;continue}}return D(R.root,!1),Z}function m(R,M,O,L,B,x){let U=R.root,K=0,Z=0,ee=0,X=0;const ne=[];let Y=0;for(;U!==e.SENTINEL;){if(N(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(K-=U.parent.delta),U=U.parent;continue}if(!N(U.left)){if(Z=K+U.maxEnd,Z<M){D(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(ee=K+U.start,ee>O){D(U,!0);continue}if(X=K+U.end,X>=M){U.setCachedOffsets(ee,X,x);let j=!0;L&&U.ownerId&&U.ownerId!==L&&(j=!1),B&&S(U)&&(j=!1),j&&(ne[Y++]=U)}if(D(U,!0),U.right!==e.SENTINEL&&!N(U.right)){K+=U.delta,U=U.right;continue}}return D(R.root,!1),ne}function y(R,M){if(R.root===e.SENTINEL)return M.parent=e.SENTINEL,M.left=e.SENTINEL,M.right=e.SENTINEL,C(M,0),R.root=M,R.root;p(R,M),P(M.parent);let O=M;for(;O!==R.root&&w(O.parent)===1;)if(O.parent===O.parent.parent.left){const L=O.parent.parent.right;w(L)===1?(C(O.parent,0),C(L,0),C(O.parent.parent,1),O=O.parent.parent):(O===O.parent.right&&(O=O.parent,E(R,O)),C(O.parent,0),C(O.parent.parent,1),T(R,O.parent.parent))}else{const L=O.parent.parent.left;w(L)===1?(C(O.parent,0),C(L,0),C(O.parent.parent,1),O=O.parent.parent):(O===O.parent.left&&(O=O.parent,T(R,O)),C(O.parent,0),C(O.parent.parent,1),E(R,O.parent.parent))}return C(R.root,0),M}function p(R,M){let O=0,L=R.root;const B=M.start,x=M.end;for(;;)if(F(B,x,L.start+O,L.end+O)<0)if(L.left===e.SENTINEL){M.start-=O,M.end-=O,M.maxEnd-=O,L.left=M;break}else L=L.left;else if(L.right===e.SENTINEL){M.start-=O+L.delta,M.end-=O+L.delta,M.maxEnd-=O+L.delta,L.right=M;break}else O+=L.delta,L=L.right;M.parent=L,M.left=e.SENTINEL,M.right=e.SENTINEL,C(M,1)}function f(R,M){let O,L;if(M.left===e.SENTINEL?(O=M.right,L=M,O.delta+=M.delta,(O.delta<-1073741824||O.delta>1073741824)&&(R.requestNormalizeDelta=!0),O.start+=M.delta,O.end+=M.delta):M.right===e.SENTINEL?(O=M.left,L=M):(L=_(M.right),O=L.right,O.start+=L.delta,O.end+=L.delta,O.delta+=L.delta,(O.delta<-1073741824||O.delta>1073741824)&&(R.requestNormalizeDelta=!0),L.start+=M.delta,L.end+=M.delta,L.delta=M.delta,(L.delta<-1073741824||L.delta>1073741824)&&(R.requestNormalizeDelta=!0)),L===R.root){R.root=O,C(O,0),M.detach(),I(),A(O),R.root.parent=e.SENTINEL;return}const B=w(L)===1;if(L===L.parent.left?L.parent.left=O:L.parent.right=O,L===M?O.parent=L.parent:(L.parent===M?O.parent=L:O.parent=L.parent,L.left=M.left,L.right=M.right,L.parent=M.parent,C(L,w(M)),M===R.root?R.root=L:M===M.parent.left?M.parent.left=L:M.parent.right=L,L.left!==e.SENTINEL&&(L.left.parent=L),L.right!==e.SENTINEL&&(L.right.parent=L)),M.detach(),B){P(O.parent),L!==M&&(P(L),P(L.parent)),I();return}P(O),P(O.parent),L!==M&&(P(L),P(L.parent));let x;for(;O!==R.root&&w(O)===0;)O===O.parent.left?(x=O.parent.right,w(x)===1&&(C(x,0),C(O.parent,1),E(R,O.parent),x=O.parent.right),w(x.left)===0&&w(x.right)===0?(C(x,1),O=O.parent):(w(x.right)===0&&(C(x.left,0),C(x,1),T(R,x),x=O.parent.right),C(x,w(O.parent)),C(O.parent,0),C(x.right,0),E(R,O.parent),O=R.root)):(x=O.parent.left,w(x)===1&&(C(x,0),C(O.parent,1),T(R,O.parent),x=O.parent.left),w(x.left)===0&&w(x.right)===0?(C(x,1),O=O.parent):(w(x.left)===0&&(C(x.right,0),C(x,1),E(R,x),x=O.parent.left),C(x,w(O.parent)),C(O.parent,0),C(x.left,0),T(R,O.parent),O=R.root));C(O,0),I()}function _(R){for(;R.left!==e.SENTINEL;)R=R.left;return R}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(R,M){const O=M.right;O.delta+=M.delta,(O.delta<-1073741824||O.delta>1073741824)&&(R.requestNormalizeDelta=!0),O.start+=M.delta,O.end+=M.delta,M.right=O.left,O.left!==e.SENTINEL&&(O.left.parent=M),O.parent=M.parent,M.parent===e.SENTINEL?R.root=O:M===M.parent.left?M.parent.left=O:M.parent.right=O,O.left=M,M.parent=O,A(M),A(O)}function T(R,M){const O=M.left;M.delta-=O.delta,(M.delta<-1073741824||M.delta>1073741824)&&(R.requestNormalizeDelta=!0),M.start-=O.delta,M.end-=O.delta,M.left=O.right,O.right!==e.SENTINEL&&(O.right.parent=M),O.parent=M.parent,M.parent===e.SENTINEL?R.root=O:M===M.parent.right?M.parent.right=O:M.parent.left=O,O.right=M,M.parent=O,A(M),A(O)}function k(R){let M=R.end;if(R.left!==e.SENTINEL){const O=R.left.maxEnd;O>M&&(M=O)}if(R.right!==e.SENTINEL){const O=R.right.maxEnd+R.delta;O>M&&(M=O)}return M}function A(R){R.maxEnd=k(R)}e.recomputeMaxEnd=A;function P(R){for(;R!==e.SENTINEL;){const M=k(R);if(R.maxEnd===M)return;R.maxEnd=M,R=R.parent}}function F(R,M,O,L){return R===O?M-L:R-O}e.intervalCompare=F}),define(Q[118],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function w(C){let N=0,D=0,S=0,b=0;for(let v=0,u=C.length;v<u;v++){const g=C.charCodeAt(v);g===13?(N===0&&(D=v),N++,v+1<u&&C.charCodeAt(v+1)===10?(b|=2,v++):b|=3,S=v+1):g===10&&(b|=1,N===0&&(D=v),N++,S=v+1)}return N===0&&(D=C.length),[N,D,C.length-S,b]}e.countEOL=w}),define(Q[415],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class w{constructor(c,d){this.piece=c,this.color=d,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return C(this.right);let c=this;for(;c.parent!==e.SENTINEL&&c.parent.left!==c;)c=c.parent;return c.parent===e.SENTINEL?e.SENTINEL:c.parent}prev(){if(this.left!==e.SENTINEL)return N(this.left);let c=this;for(;c.parent!==e.SENTINEL&&c.parent.right!==c;)c=c.parent;return c.parent===e.SENTINEL?e.SENTINEL:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=w,e.SENTINEL=new w(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function C(a){for(;a.left!==e.SENTINEL;)a=a.left;return a}e.leftest=C;function N(a){for(;a.right!==e.SENTINEL;)a=a.right;return a}e.righttest=N;function D(a){return a===e.SENTINEL?0:a.size_left+a.piece.length+D(a.right)}e.calculateSize=D;function S(a){return a===e.SENTINEL?0:a.lf_left+a.piece.lineFeedCnt+S(a.right)}e.calculateLF=S;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function v(a,c){const d=c.right;d.size_left+=c.size_left+(c.piece?c.piece.length:0),d.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=d.left,d.left!==e.SENTINEL&&(d.left.parent=c),d.parent=c.parent,c.parent===e.SENTINEL?a.root=d:c.parent.left===c?c.parent.left=d:c.parent.right=d,d.left=c,c.parent=d}e.leftRotate=v;function u(a,c){const d=c.left;c.left=d.right,d.right!==e.SENTINEL&&(d.right.parent=c),d.parent=c.parent,c.size_left-=d.size_left+(d.piece?d.piece.length:0),c.lf_left-=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),c.parent===e.SENTINEL?a.root=d:c===c.parent.right?c.parent.right=d:c.parent.left=d,d.right=c,c.parent=d}e.rightRotate=u;function g(a,c){let d,s;if(c.left===e.SENTINEL?(s=c,d=s.right):c.right===e.SENTINEL?(s=c,d=s.left):(s=C(c.right),d=s.right),s===a.root){a.root=d,d.color=0,c.detach(),b(),a.root.parent=e.SENTINEL;return}const r=s.color===1;if(s===s.parent.left?s.parent.left=d:s.parent.right=d,s===c?(d.parent=s.parent,n(a,d)):(s.parent===c?d.parent=s:d.parent=s.parent,n(a,d),s.left=c.left,s.right=c.right,s.parent=c.parent,s.color=c.color,c===a.root?a.root=s:c===c.parent.left?c.parent.left=s:c.parent.right=s,s.left!==e.SENTINEL&&(s.left.parent=s),s.right!==e.SENTINEL&&(s.right.parent=s),s.size_left=c.size_left,s.lf_left=c.lf_left,n(a,s)),c.detach(),d.parent.left===d){const l=D(d),h=S(d);if(l!==d.parent.size_left||h!==d.parent.lf_left){const m=l-d.parent.size_left,y=h-d.parent.lf_left;d.parent.size_left=l,d.parent.lf_left=h,i(a,d.parent,m,y)}}if(n(a,d.parent),r){b();return}let o;for(;d!==a.root&&d.color===0;)d===d.parent.left?(o=d.parent.right,o.color===1&&(o.color=0,d.parent.color=1,v(a,d.parent),o=d.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,d=d.parent):(o.right.color===0&&(o.left.color=0,o.color=1,u(a,o),o=d.parent.right),o.color=d.parent.color,d.parent.color=0,o.right.color=0,v(a,d.parent),d=a.root)):(o=d.parent.left,o.color===1&&(o.color=0,d.parent.color=1,u(a,d.parent),o=d.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,d=d.parent):(o.left.color===0&&(o.right.color=0,o.color=1,v(a,o),o=d.parent.left),o.color=d.parent.color,d.parent.color=0,o.left.color=0,u(a,d.parent),d=a.root));d.color=0,b()}e.rbDelete=g;function t(a,c){for(n(a,c);c!==a.root&&c.parent.color===1;)if(c.parent===c.parent.parent.left){const d=c.parent.parent.right;d.color===1?(c.parent.color=0,d.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&(c=c.parent,v(a,c)),c.parent.color=0,c.parent.parent.color=1,u(a,c.parent.parent))}else{const d=c.parent.parent.left;d.color===1?(c.parent.color=0,d.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&(c=c.parent,u(a,c)),c.parent.color=0,c.parent.parent.color=1,v(a,c.parent.parent))}a.root.color=0}e.fixInsert=t;function i(a,c,d,s){for(;c!==a.root&&c!==e.SENTINEL;)c.parent.left===c&&(c.parent.size_left+=d,c.parent.lf_left+=s),c=c.parent}e.updateTreeMetadata=i;function n(a,c){let d=0,s=0;if(c!==a.root){for(;c!==a.root&&c===c.parent.right;)c=c.parent;if(c!==a.root)for(c=c.parent,d=D(c.left)-c.size_left,s=S(c.left)-c.lf_left,c.size_left+=d,c.lf_left+=s;c!==a.root&&(d!==0||s!==0);)c.parent.left===c&&(c.parent.size_left+=d,c.parent.lf_left+=s),c=c.parent}}e.recomputeTreeMetadata=n}),define(Q[235],J([0,1,106,89]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function N(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{constructor(u,g,t,i){this.oldPosition=u,this.oldText=g,this.newPosition=t,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${N(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${N(this.oldText)}")`:`(replace@${this.oldPosition} "${N(this.oldText)}" with "${N(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,g,t){const i=g.length;w.writeUInt32BE(u,i,t),t+=4;for(let n=0;n<i;n++)w.writeUInt16LE(u,g.charCodeAt(n),t),t+=2;return t}static _readString(u,g){const t=w.readUInt32BE(u,g);return g+=4,(0,C.decodeUTF16LE)(u,g,t)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(u,g){return w.writeUInt32BE(u,this.oldPosition,g),g+=4,w.writeUInt32BE(u,this.newPosition,g),g+=4,g=D._writeString(u,this.oldText,g),g=D._writeString(u,this.newText,g),g}static read(u,g,t){const i=w.readUInt32BE(u,g);g+=4;const n=w.readUInt32BE(u,g);g+=4;const a=D._readString(u,g);g+=D._writeStringSize(a);const c=D._readString(u,g);return g+=D._writeStringSize(c),t.push(new D(i,a,n,c)),g}}e.TextChange=D;function S(v,u){return v===null||v.length===0?u:new b(v,u).compress()}e.compressConsecutiveTextChanges=S;class b{constructor(u,g){this._prevEdits=u,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,g=0,t=this._getPrev(u),i=this._getCurr(g);for(;u<this._prevLen||g<this._currLen;){if(t===null){this._acceptCurr(i),i=this._getCurr(++g);continue}if(i===null){this._acceptPrev(t),t=this._getPrev(++u);continue}if(i.oldEnd<=t.newPosition){this._acceptCurr(i),i=this._getCurr(++g);continue}if(t.newEnd<=i.oldPosition){this._acceptPrev(t),t=this._getPrev(++u);continue}if(i.oldPosition<t.newPosition){const[s,r]=b._splitCurr(i,t.newPosition-i.oldPosition);this._acceptCurr(s),i=r;continue}if(t.newPosition<i.oldPosition){const[s,r]=b._splitPrev(t,i.oldPosition-t.newPosition);this._acceptPrev(s),t=r;continue}let c,d;if(i.oldEnd===t.newEnd)c=t,d=i,t=this._getPrev(++u),i=this._getCurr(++g);else if(i.oldEnd<t.newEnd){const[s,r]=b._splitPrev(t,i.oldLength);c=s,d=i,t=r,i=this._getCurr(++g)}else{const[s,r]=b._splitCurr(i,t.newLength);c=t,d=s,t=this._getPrev(++u),i=r}this._result[this._resultLen++]=new D(c.oldPosition,c.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=c.newLength-c.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const n=b._merge(this._result);return b._removeNoOps(n)}_acceptCurr(u){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,g){return new D(g.oldPosition-u,g.oldText,g.newPosition,g.newText)}static _rebasePrev(u,g){return new D(g.oldPosition,g.oldText,g.newPosition+u,g.newText)}static _splitPrev(u,g){const t=u.newText.substr(0,g),i=u.newText.substr(g);return[new D(u.oldPosition,u.oldText,u.newPosition,t),new D(u.oldEnd,"",u.newPosition+g,i)]}static _splitCurr(u,g){const t=u.oldText.substr(0,g),i=u.oldText.substr(g);return[new D(u.oldPosition,t,u.newPosition,u.newText),new D(u.oldPosition+g,i,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const g=[];let t=0,i=u[0];for(let n=1;n<u.length;n++){const a=u[n];i.oldEnd===a.oldPosition?i=new D(i.oldPosition,i.oldText+a.oldText,i.newPosition,i.newText+a.newText):(g[t++]=i,i=a)}return g[t++]=i,g}static _removeNoOps(u){if(u.length===0)return u;const g=[];let t=0;for(let i=0;i<u.length;i++){const n=u[i];n.oldText!==n.newText&&(g[t++]=n)}return g}}}),define(Q[91],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class w{constructor(){this.changeType=1}}e.ModelRawFlush=w;class C{constructor(i,n,a,c,d){this.ownerId=i,this.lineNumber=n,this.column=a,this.options=c,this.order=d}static applyInjectedText(i,n){if(!n||n.length===0)return i;let a="",c=0;for(const d of n)a+=i.substring(c,d.column-1),c=d.column-1,a+=d.options.content;return a+=i.substring(c),a}static fromDecorations(i){const n=[];for(const a of i)a.options.before&&a.options.before.content.length>0&&n.push(new C(a.ownerId,a.range.startLineNumber,a.range.startColumn,a.options.before,0)),a.options.after&&a.options.after.content.length>0&&n.push(new C(a.ownerId,a.range.endLineNumber,a.range.endColumn,a.options.after,1));return n.sort((a,c)=>a.lineNumber===c.lineNumber?a.column===c.column?a.order-c.order:a.column-c.column:a.lineNumber-c.lineNumber),n}}e.LineInjectedText=C;class N{constructor(i,n,a){this.changeType=2,this.lineNumber=i,this.detail=n,this.injectedText=a}}e.ModelRawLineChanged=N;class D{constructor(i,n){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=n}}e.ModelRawLinesDeleted=D;class S{constructor(i,n,a,c){this.changeType=4,this.injectedTexts=c,this.fromLineNumber=i,this.toLineNumber=n,this.detail=a}}e.ModelRawLinesInserted=S;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class v{constructor(i,n,a,c){this.changes=i,this.versionId=n,this.isUndoing=a,this.isRedoing=c,this.resultingSelection=null}containsEvent(i){for(let n=0,a=this.changes.length;n<a;n++)if(this.changes[n].changeType===i)return!0;return!1}static merge(i,n){const a=[].concat(i.changes).concat(n.changes),c=n.versionId,d=i.isUndoing||n.isUndoing,s=i.isRedoing||n.isRedoing;return new v(a,c,d,s)}}e.ModelRawContentChangedEvent=v;class u{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=u;class g{constructor(i,n){this.rawContentChangedEvent=i,this.contentChangedEvent=n}merge(i){const n=v.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),a=g._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new g(n,a)}static _mergeChangeEvents(i,n){const a=[].concat(i.changes).concat(n.changes),c=n.eol,d=n.versionId,s=i.isUndoing||n.isUndoing,r=i.isRedoing||n.isRedoing,o=i.isFlush||n.isFlush;return{changes:a,eol:c,versionId:d,isUndoing:s,isRedoing:r,isFlush:o}}}e.InternalModelContentChangeEvent=g}),define(Q[416],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class w{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=w}),define(Q[147],J([0,1,8,113,11,3,53]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class v{constructor(o,l,h,m){this.searchString=o,this.isRegex=l,this.matchCase=h,this.wordSeparators=m}parseSearchRequest(){if(this.searchString==="")return null;let o;this.isRegex?o=u(this.searchString):o=this.searchString.indexOf(`
`)>=0;let l=null;try{l=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:o,global:!0,unicode:!0})}catch{return null}if(!l)return null;let h=!this.isRegex&&!o;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new g(l,this.wordSeparators?(0,C.getMapForWordSeparators)(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=v;function u(r){if(!r||r.length===0)return!1;for(let o=0,l=r.length;o<l;o++)if(r.charCodeAt(o)===92){if(o++,o>=l)break;const m=r.charCodeAt(o);if(m===110||m===114||m===87)return!0}return!1}e.isMultilineRegexSource=u;class g{constructor(o,l,h){this.regex=o,this.wordSeparators=l,this.simpleSearch=h}}e.SearchData=g;function t(r,o,l){if(!l)return new S.FindMatch(r,null);const h=[];for(let m=0,y=o.length;m<y;m++)h[m]=o[m];return new S.FindMatch(r,h)}e.createFindMatch=t;class i{constructor(o){const l=[];let h=0;for(let m=0,y=o.length;m<y;m++)o.charCodeAt(m)===10&&(l[h++]=m);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(o){const l=this._lineFeedsOffsets;let h=0,m=l.length-1;if(m===-1||o<=l[0])return 0;for(;h<m;){const y=h+((m-h)/2>>0);l[y]>=o?m=y-1:l[y+1]>=o?(h=y,m=y):h=y+1}return h+1}}class n{static findMatches(o,l,h,m,y){const p=l.parseSearchRequest();return p?p.regex.multiline?this._doFindMatchesMultiline(o,h,new s(p.wordSeparators,p.regex),m,y):this._doFindMatchesLineByLine(o,h,p,m,y):[]}static _getMultilineMatchRange(o,l,h,m,y,p){let f,_=0;m?(_=m.findLineFeedCountBeforeOffset(y),f=l+y+_):f=l+y;let I;if(m){const A=m.findLineFeedCountBeforeOffset(y+p.length)-_;I=f+p.length+A}else I=f+p.length;const E=o.getPositionAt(f),T=o.getPositionAt(I);return new D.Range(E.lineNumber,E.column,T.lineNumber,T.column)}static _doFindMatchesMultiline(o,l,h,m,y){const p=o.getOffsetAt(l.getStartPosition()),f=o.getValueInRange(l,1),_=o.getEOL()===`\r
`?new i(f):null,I=[];let E=0,T;for(h.reset(0);T=h.next(f);)if(I[E++]=t(this._getMultilineMatchRange(o,p,f,_,T.index,T[0]),T,m),E>=y)return I;return I}static _doFindMatchesLineByLine(o,l,h,m,y){const p=[];let f=0;if(l.startLineNumber===l.endLineNumber){const I=o.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return f=this._findMatchesInLine(h,I,l.startLineNumber,l.startColumn-1,f,p,m,y),p}const _=o.getLineContent(l.startLineNumber).substring(l.startColumn-1);f=this._findMatchesInLine(h,_,l.startLineNumber,l.startColumn-1,f,p,m,y);for(let I=l.startLineNumber+1;I<l.endLineNumber&&f<y;I++)f=this._findMatchesInLine(h,o.getLineContent(I),I,0,f,p,m,y);if(f<y){const I=o.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);f=this._findMatchesInLine(h,I,l.endLineNumber,0,f,p,m,y)}return p}static _findMatchesInLine(o,l,h,m,y,p,f,_){const I=o.wordSeparators;if(!f&&o.simpleSearch){const k=o.simpleSearch,A=k.length,P=l.length;let F=-A;for(;(F=l.indexOf(k,F+A))!==-1;)if((!I||d(I,l,P,F,A))&&(p[y++]=new S.FindMatch(new D.Range(h,F+1+m,h,F+1+A+m),null),y>=_))return y;return y}const E=new s(o.wordSeparators,o.regex);let T;E.reset(0);do if(T=E.next(l),T&&(p[y++]=t(new D.Range(h,T.index+1+m,h,T.index+1+T[0].length+m),T,f),y>=_))return y;while(T);return y}static findNextMatch(o,l,h,m){const y=l.parseSearchRequest();if(!y)return null;const p=new s(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(o,h,p,m):this._doFindNextMatchLineByLine(o,h,p,m)}static _doFindNextMatchMultiline(o,l,h,m){const y=new N.Position(l.lineNumber,1),p=o.getOffsetAt(y),f=o.getLineCount(),_=o.getValueInRange(new D.Range(y.lineNumber,y.column,f,o.getLineMaxColumn(f)),1),I=o.getEOL()===`\r
`?new i(_):null;h.reset(l.column-1);let E=h.next(_);return E?t(this._getMultilineMatchRange(o,p,_,I,E.index,E[0]),E,m):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(o,new N.Position(1,1),h,m):null}static _doFindNextMatchLineByLine(o,l,h,m){const y=o.getLineCount(),p=l.lineNumber,f=o.getLineContent(p),_=this._findFirstMatchInLine(h,f,p,l.column,m);if(_)return _;for(let I=1;I<=y;I++){const E=(p+I-1)%y,T=o.getLineContent(E+1),k=this._findFirstMatchInLine(h,T,E+1,1,m);if(k)return k}return null}static _findFirstMatchInLine(o,l,h,m,y){o.reset(m-1);const p=o.next(l);return p?t(new D.Range(h,p.index+1,h,p.index+1+p[0].length),p,y):null}static findPreviousMatch(o,l,h,m){const y=l.parseSearchRequest();if(!y)return null;const p=new s(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(o,h,p,m):this._doFindPreviousMatchLineByLine(o,h,p,m)}static _doFindPreviousMatchMultiline(o,l,h,m){const y=this._doFindMatchesMultiline(o,new D.Range(1,1,l.lineNumber,l.column),h,m,10*b);if(y.length>0)return y[y.length-1];const p=o.getLineCount();return l.lineNumber!==p||l.column!==o.getLineMaxColumn(p)?this._doFindPreviousMatchMultiline(o,new N.Position(p,o.getLineMaxColumn(p)),h,m):null}static _doFindPreviousMatchLineByLine(o,l,h,m){const y=o.getLineCount(),p=l.lineNumber,f=o.getLineContent(p).substring(0,l.column-1),_=this._findLastMatchInLine(h,f,p,m);if(_)return _;for(let I=1;I<=y;I++){const E=(y+p-I-1)%y,T=o.getLineContent(E+1),k=this._findLastMatchInLine(h,T,E+1,m);if(k)return k}return null}static _findLastMatchInLine(o,l,h,m){let y=null,p;for(o.reset(0);p=o.next(l);)y=t(new D.Range(h,p.index+1,h,p.index+1+p[0].length),p,m);return y}}e.TextModelSearch=n;function a(r,o,l,h,m){if(h===0)return!0;const y=o.charCodeAt(h-1);if(r.get(y)!==0||y===13||y===10)return!0;if(m>0){const p=o.charCodeAt(h);if(r.get(p)!==0)return!0}return!1}function c(r,o,l,h,m){if(h+m===l)return!0;const y=o.charCodeAt(h+m);if(r.get(y)!==0||y===13||y===10)return!0;if(m>0){const p=o.charCodeAt(h+m-1);if(r.get(p)!==0)return!0}return!1}function d(r,o,l,h,m){return a(r,o,l,h,m)&&c(r,o,l,h,m)}e.isValidMatch=d;class s{constructor(o,l){this._wordSeparators=o,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(o){this._searchRegex.lastIndex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(o){const l=o.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(h=this._searchRegex.exec(o),!h))return null;const m=h.index,y=h[0].length;if(m===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){w.getNextCodePoint(o,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=m,this._prevMatchLength=y,!this._wordSeparators||d(this._wordSeparators,o,l,m,y))return h}while(h);return null}}e.Searcher=s}),define(Q[236],J([0,1,3,147,8,20]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class S{static computeUnicodeHighlights(g,t,i){const n=i?i.startLineNumber:1,a=i?i.endLineNumber:g.getLineCount(),c=new v(t),d=c.getCandidateCodePoints();let s;d==="allNonBasicAscii"?s=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):s=new RegExp(`${b(Array.from(d))}`,"g");const r=new C.Searcher(null,s),o=[];let l=!1,h,m=0,y=0,p=0;e:for(let f=n,_=a;f<=_;f++){const I=g.getLineContent(f),E=I.length;r.reset(0);do if(h=r.next(I),h){let T=h.index,k=h.index+h[0].length;if(T>0){const F=I.charCodeAt(T-1);N.isHighSurrogate(F)&&T--}if(k+1<E){const F=I.charCodeAt(k-1);N.isHighSurrogate(F)&&k++}const A=I.substring(T,k),P=c.shouldHighlightNonBasicASCII(A);if(P!==0){P===3?m++:P===2?y++:P===1?p++:(0,D.assertNever)(P);const F=1e3;if(o.length>=F){l=!0;break e}o.push(new w.Range(f,T+1,f,k+1))}}while(h)}return{ranges:o,hasMore:l,ambiguousCharacterCount:m,invisibleCharacterCount:y,nonBasicAsciiCharacterCount:p}}static computeUnicodeHighlightReason(g,t){const i=new v(t);switch(i.shouldHighlightNonBasicASCII(g)){case 0:return null;case 2:return{kind:1};case 3:{const a=g.codePointAt(0),c=i.ambiguousCharacters.getPrimaryConfusable(a),d=N.AmbiguousCharacters.getLocales().filter(s=>!N.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,s])).isAmbiguous(a));return{kind:0,confusableWith:String.fromCodePoint(c),notAmbiguousInLocales:d}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=S;function b(u,g){return`[${N.escapeRegExpCharacters(u.map(i=>String.fromCodePoint(i)).join(""))}]`}class v{constructor(g){this.options=g,this.allowedCodePoints=new Set(g.allowedCodePoints),this.ambiguousCharacters=N.AmbiguousCharacters.getInstance(new Set(g.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const g=new Set;if(this.options.invisibleCharacters)for(const t of N.InvisibleCharacters.codePoints)g.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())g.add(t);for(const t of this.allowedCodePoints)g.delete(t);return g}shouldHighlightNonBasicASCII(g){const t=g.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(g===" "||g===`
`||g==="	")&&N.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}}),define(Q[237],J([0,1,11,3,53,415,147]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(d){let s;return d[d.length-1]<65536?s=new Uint16Array(d.length):s=new Uint32Array(d.length),s.set(d,0),s}e.createUintArray=b;class v{constructor(s,r,o,l,h){this.lineStarts=s,this.cr=r,this.lf=o,this.crlf=l,this.isBasicASCII=h}}e.LineStarts=v;function u(d,s=!0){const r=[0];let o=1;for(let l=0,h=d.length;l<h;l++){const m=d.charCodeAt(l);m===13?l+1<h&&d.charCodeAt(l+1)===10?(r[o++]=l+2,l++):r[o++]=l+1:m===10&&(r[o++]=l+1)}return s?b(r):r}e.createLineStartsFast=u;function g(d,s){d.length=0,d[0]=0;let r=1,o=0,l=0,h=0,m=!0;for(let p=0,f=s.length;p<f;p++){const _=s.charCodeAt(p);_===13?p+1<f&&s.charCodeAt(p+1)===10?(h++,d[r++]=p+2,p++):(o++,d[r++]=p+1):_===10?(l++,d[r++]=p+1):m&&_!==9&&(_<32||_>126)&&(m=!1)}const y=new v(b(d),o,l,h,m);return d.length=0,y}e.createLineStarts=g;class t{constructor(s,r,o,l,h){this.bufferIndex=s,this.start=r,this.end=o,this.lineFeedCnt=l,this.length=h}}e.Piece=t;class i{constructor(s,r){this.buffer=s,this.lineStarts=r}}e.StringBuffer=i;class n{constructor(s,r){this._pieces=[],this._tree=s,this._BOM=r,this._index=0,s.root!==D.SENTINEL&&s.iterate(s.root,o=>(o!==D.SENTINEL&&this._pieces.push(o.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class a{constructor(s){this._limit=s,this._cache=[]}get(s){for(let r=this._cache.length-1;r>=0;r--){const o=this._cache[r];if(o.nodeStartOffset<=s&&o.nodeStartOffset+o.node.piece.length>=s)return o}return null}get2(s){for(let r=this._cache.length-1;r>=0;r--){const o=this._cache[r];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<s&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=s)return o}return null}set(s){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(s)}validate(s){let r=!1;const o=this._cache;for(let l=0;l<o.length;l++){const h=o[l];if(h.node.parent===null||h.nodeStartOffset>=s){o[l]=null,r=!0;continue}}if(r){const l=[];for(const h of o)h!==null&&l.push(h);this._cache=l}}}class c{constructor(s,r,o){this.create(s,r,o)}create(s,r,o){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=r,this._EOLLength=r.length,this._EOLNormalized=o;let l=null;for(let h=0,m=s.length;h<m;h++)if(s[h].buffer.length>0){s[h].lineStarts||(s[h].lineStarts=u(s[h].buffer));const y=new t(h+1,{line:0,column:0},{line:s[h].lineStarts.length-1,column:s[h].buffer.length-s[h].lineStarts[s[h].lineStarts.length-1]},s[h].lineStarts.length-1,s[h].buffer.length);this._buffers.push(s[h]),l=this.rbInsertRight(l,y)}this._searchCache=new a(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(s){const r=e.AverageBufferSize,o=r-Math.floor(r/3),l=o*2;let h="",m=0;const y=[];if(this.iterate(this.root,p=>{const f=this.getNodeContent(p),_=f.length;if(m<=o||m+_<l)return h+=f,m+=_,!0;const I=h.replace(/\r\n|\r|\n/g,s);return y.push(new i(I,u(I))),h=f,m=_,!0}),m>0){const p=h.replace(/\r\n|\r|\n/g,s);y.push(new i(p,u(p)))}this.create(y,s,!0)}getEOL(){return this._EOL}setEOL(s){this._EOL=s,this._EOLLength=this._EOL.length,this.normalizeEOL(s)}createSnapshot(s){return new n(this,s)}getOffsetAt(s,r){let o=0,l=this.root;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left+1>=s)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=s)return o+=l.size_left,o+=this.getAccumulatedValue(l,s-l.lf_left-2)+r-1;s-=l.lf_left+l.piece.lineFeedCnt,o+=l.size_left+l.piece.length,l=l.right}return o}getPositionAt(s){s=Math.floor(s),s=Math.max(0,s);let r=this.root,o=0;const l=s;for(;r!==D.SENTINEL;)if(r.size_left!==0&&r.size_left>=s)r=r.left;else if(r.size_left+r.piece.length>=s){const h=this.getIndexOf(r,s-r.size_left);if(o+=r.lf_left+h.index,h.index===0){const m=this.getOffsetAt(o+1,1),y=l-m;return new w.Position(o+1,y+1)}return new w.Position(o+1,h.remainder+1)}else if(s-=r.size_left+r.piece.length,o+=r.lf_left+r.piece.lineFeedCnt,r.right===D.SENTINEL){const h=this.getOffsetAt(o+1,1),m=l-s-h;return new w.Position(o+1,m+1)}else r=r.right;return new w.Position(1,1)}getValueInRange(s,r){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return"";const o=this.nodeAt2(s.startLineNumber,s.startColumn),l=this.nodeAt2(s.endLineNumber,s.endColumn),h=this.getValueInRange2(o,l);return r?r!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,r):h}getValueInRange2(s,r){if(s.node===r.node){const y=s.node,p=this._buffers[y.piece.bufferIndex].buffer,f=this.offsetInBuffer(y.piece.bufferIndex,y.piece.start);return p.substring(f+s.remainder,f+r.remainder)}let o=s.node;const l=this._buffers[o.piece.bufferIndex].buffer,h=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);let m=l.substring(h+s.remainder,h+o.piece.length);for(o=o.next();o!==D.SENTINEL;){const y=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===r.node){m+=y.substring(p,p+r.remainder);break}else m+=y.substr(p,o.piece.length);o=o.next()}return m}getLinesContent(){const s=[];let r=0,o="",l=!1;return this.iterate(this.root,h=>{if(h===D.SENTINEL)return!0;const m=h.piece;let y=m.length;if(y===0)return!0;const p=this._buffers[m.bufferIndex].buffer,f=this._buffers[m.bufferIndex].lineStarts,_=m.start.line,I=m.end.line;let E=f[_]+m.start.column;if(l&&(p.charCodeAt(E)===10&&(E++,y--),s[r++]=o,o="",l=!1,y===0))return!0;if(_===I)return!this._EOLNormalized&&p.charCodeAt(E+y-1)===13?(l=!0,o+=p.substr(E,y-1)):o+=p.substr(E,y),!0;o+=this._EOLNormalized?p.substring(E,Math.max(E,f[_+1]-this._EOLLength)):p.substring(E,f[_+1]).replace(/(\r\n|\r|\n)$/,""),s[r++]=o;for(let T=_+1;T<I;T++)o=this._EOLNormalized?p.substring(f[T],f[T+1]-this._EOLLength):p.substring(f[T],f[T+1]).replace(/(\r\n|\r|\n)$/,""),s[r++]=o;return!this._EOLNormalized&&p.charCodeAt(f[I]+m.end.column-1)===13?(l=!0,m.end.column===0?r--:o=p.substr(f[I],m.end.column-1)):o=p.substr(f[I],m.end.column),!0}),l&&(s[r++]=o,o=""),s[r++]=o,s}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(s){return this._lastVisitedLine.lineNumber===s?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=s,s===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(s):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(s,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(s).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(s){if(s.remainder===s.node.piece.length){const r=s.node.next();if(!r)return 0;const o=this._buffers[r.piece.bufferIndex],l=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return o.buffer.charCodeAt(l)}else{const r=this._buffers[s.node.piece.bufferIndex],l=this.offsetInBuffer(s.node.piece.bufferIndex,s.node.piece.start)+s.remainder;return r.buffer.charCodeAt(l)}}getLineCharCode(s,r){const o=this.nodeAt2(s,r+1);return this._getCharCode(o)}getLineLength(s){if(s===this.getLineCount()){const r=this.getOffsetAt(s,1);return this.getLength()-r}return this.getOffsetAt(s+1,1)-this.getOffsetAt(s,1)-this._EOLLength}findMatchesInNode(s,r,o,l,h,m,y,p,f,_,I){const E=this._buffers[s.piece.bufferIndex],T=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),k=this.offsetInBuffer(s.piece.bufferIndex,h),A=this.offsetInBuffer(s.piece.bufferIndex,m);let P;const F={line:0,column:0};let R,M;r._wordSeparators?(R=E.buffer.substring(k,A),M=O=>O+k,r.reset(0)):(R=E.buffer,M=O=>O,r.reset(k));do if(P=r.next(R),P){if(M(P.index)>=A)return _;this.positionInBuffer(s,M(P.index)-T,F);const O=this.getLineFeedCnt(s.piece.bufferIndex,h,F),L=F.line===h.line?F.column-h.column+l:F.column+1,B=L+P[0].length;if(I[_++]=(0,S.createFindMatch)(new C.Range(o+O,L,o+O,B),P,p),M(P.index)+P[0].length>=A||_>=f)return _}while(P);return _}findMatchesLineByLine(s,r,o,l){const h=[];let m=0;const y=new S.Searcher(r.wordSeparators,r.regex);let p=this.nodeAt2(s.startLineNumber,s.startColumn);if(p===null)return[];const f=this.nodeAt2(s.endLineNumber,s.endColumn);if(f===null)return[];let _=this.positionInBuffer(p.node,p.remainder);const I=this.positionInBuffer(f.node,f.remainder);if(p.node===f.node)return this.findMatchesInNode(p.node,y,s.startLineNumber,s.startColumn,_,I,r,o,l,m,h),h;let E=s.startLineNumber,T=p.node;for(;T!==f.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,_,T.piece.end);if(A>=1){const F=this._buffers[T.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),M=F[_.line+A],O=E===s.startLineNumber?s.startColumn:1;if(m=this.findMatchesInNode(T,y,E,O,_,this.positionInBuffer(T,M-R),r,o,l,m,h),m>=l)return h;E+=A}const P=E===s.startLineNumber?s.startColumn-1:0;if(E===s.endLineNumber){const F=this.getLineContent(E).substring(P,s.endColumn-1);return m=this._findMatchesInLine(r,y,F,s.endLineNumber,P,m,h,o,l),h}if(m=this._findMatchesInLine(r,y,this.getLineContent(E).substr(P),E,P,m,h,o,l),m>=l)return h;E++,p=this.nodeAt2(E,1),T=p.node,_=this.positionInBuffer(p.node,p.remainder)}if(E===s.endLineNumber){const A=E===s.startLineNumber?s.startColumn-1:0,P=this.getLineContent(E).substring(A,s.endColumn-1);return m=this._findMatchesInLine(r,y,P,s.endLineNumber,A,m,h,o,l),h}const k=E===s.startLineNumber?s.startColumn:1;return m=this.findMatchesInNode(f.node,y,E,k,_,I,r,o,l,m,h),h}_findMatchesInLine(s,r,o,l,h,m,y,p,f){const _=s.wordSeparators;if(!p&&s.simpleSearch){const E=s.simpleSearch,T=E.length,k=o.length;let A=-T;for(;(A=o.indexOf(E,A+T))!==-1;)if((!_||(0,S.isValidMatch)(_,o,k,A,T))&&(y[m++]=new N.FindMatch(new C.Range(l,A+1+h,l,A+1+T+h),null),m>=f))return m;return m}let I;r.reset(0);do if(I=r.next(o),I&&(y[m++]=(0,S.createFindMatch)(new C.Range(l,I.index+1+h,l,I.index+1+I[0].length+h),I,p),m>=f))return m;while(I);return m}insert(s,r,o=!1){if(this._EOLNormalized=this._EOLNormalized&&o,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:l,remainder:h,nodeStartOffset:m}=this.nodeAt(s),y=l.piece,p=y.bufferIndex,f=this.positionInBuffer(l,h);if(l.piece.bufferIndex===0&&y.end.line===this._lastChangeBufferPos.line&&y.end.column===this._lastChangeBufferPos.column&&m+y.length===s&&r.length<e.AverageBufferSize){this.appendToNode(l,r),this.computeBufferMetadata();return}if(m===s)this.insertContentToNodeLeft(r,l),this._searchCache.validate(s);else if(m+l.piece.length>s){const _=[];let I=new t(y.bufferIndex,f,y.end,this.getLineFeedCnt(y.bufferIndex,f,y.end),this.offsetInBuffer(p,y.end)-this.offsetInBuffer(p,f));if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.nodeCharCodeAt(l,h)===10){const A={line:I.start.line+1,column:0};I=new t(I.bufferIndex,A,I.end,this.getLineFeedCnt(I.bufferIndex,A,I.end),I.length-1),r+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(r))if(this.nodeCharCodeAt(l,h-1)===13){const A=this.positionInBuffer(l,h-1);this.deleteNodeTail(l,A),r="\r"+r,l.piece.length===0&&_.push(l)}else this.deleteNodeTail(l,f);else this.deleteNodeTail(l,f);const E=this.createNewPieces(r);I.length>0&&this.rbInsertRight(l,I);let T=l;for(let k=0;k<E.length;k++)T=this.rbInsertRight(T,E[k]);this.deleteNodes(_)}else this.insertContentToNodeRight(r,l)}else{const l=this.createNewPieces(r);let h=this.rbInsertLeft(null,l[0]);for(let m=1;m<l.length;m++)h=this.rbInsertRight(h,l[m])}this.computeBufferMetadata()}delete(s,r){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",r<=0||this.root===D.SENTINEL)return;const o=this.nodeAt(s),l=this.nodeAt(s+r),h=o.node,m=l.node;if(h===m){const E=this.positionInBuffer(h,o.remainder),T=this.positionInBuffer(h,l.remainder);if(o.nodeStartOffset===s){if(r===h.piece.length){const k=h.next();(0,D.rbDelete)(this,h),this.validateCRLFWithPrevNode(k),this.computeBufferMetadata();return}this.deleteNodeHead(h,T),this._searchCache.validate(s),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(o.nodeStartOffset+h.piece.length===s+r){this.deleteNodeTail(h,E),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,E,T),this.computeBufferMetadata();return}const y=[],p=this.positionInBuffer(h,o.remainder);this.deleteNodeTail(h,p),this._searchCache.validate(s),h.piece.length===0&&y.push(h);const f=this.positionInBuffer(m,l.remainder);this.deleteNodeHead(m,f),m.piece.length===0&&y.push(m);const _=h.next();for(let E=_;E!==D.SENTINEL&&E!==m;E=E.next())y.push(E);const I=h.piece.length===0?h.prev():h;this.deleteNodes(y),this.validateCRLFWithNextNode(I),this.computeBufferMetadata()}insertContentToNodeLeft(s,r){const o=[];if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.startWithLF(r)){const m=r.piece,y={line:m.start.line+1,column:0},p=new t(m.bufferIndex,y,m.end,this.getLineFeedCnt(m.bufferIndex,y,m.end),m.length-1);r.piece=p,s+=`
`,(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&o.push(r)}const l=this.createNewPieces(s);let h=this.rbInsertLeft(r,l[l.length-1]);for(let m=l.length-2;m>=0;m--)h=this.rbInsertLeft(h,l[m]);this.validateCRLFWithPrevNode(h),this.deleteNodes(o)}insertContentToNodeRight(s,r){this.adjustCarriageReturnFromNext(s,r)&&(s+=`
`);const o=this.createNewPieces(s),l=this.rbInsertRight(r,o[0]);let h=l;for(let m=1;m<o.length;m++)h=this.rbInsertRight(h,o[m]);this.validateCRLFWithPrevNode(l)}positionInBuffer(s,r,o){const l=s.piece,h=s.piece.bufferIndex,m=this._buffers[h].lineStarts,p=m[l.start.line]+l.start.column+r;let f=l.start.line,_=l.end.line,I=0,E=0,T=0;for(;f<=_&&(I=f+(_-f)/2|0,T=m[I],I!==_);)if(E=m[I+1],p<T)_=I-1;else if(p>=E)f=I+1;else break;return o?(o.line=I,o.column=p-T,null):{line:I,column:p-T}}getLineFeedCnt(s,r,o){if(o.column===0)return o.line-r.line;const l=this._buffers[s].lineStarts;if(o.line===l.length-1)return o.line-r.line;const h=l[o.line+1],m=l[o.line]+o.column;if(h>m+1)return o.line-r.line;const y=m-1;return this._buffers[s].buffer.charCodeAt(y)===13?o.line-r.line+1:o.line-r.line}offsetInBuffer(s,r){return this._buffers[s].lineStarts[r.line]+r.column}deleteNodes(s){for(let r=0;r<s.length;r++)(0,D.rbDelete)(this,s[r])}createNewPieces(s){if(s.length>e.AverageBufferSize){const _=[];for(;s.length>e.AverageBufferSize;){const E=s.charCodeAt(e.AverageBufferSize-1);let T;E===13||E>=55296&&E<=56319?(T=s.substring(0,e.AverageBufferSize-1),s=s.substring(e.AverageBufferSize-1)):(T=s.substring(0,e.AverageBufferSize),s=s.substring(e.AverageBufferSize));const k=u(T);_.push(new t(this._buffers.length,{line:0,column:0},{line:k.length-1,column:T.length-k[k.length-1]},k.length-1,T.length)),this._buffers.push(new i(T,k))}const I=u(s);return _.push(new t(this._buffers.length,{line:0,column:0},{line:I.length-1,column:s.length-I[I.length-1]},I.length-1,s.length)),this._buffers.push(new i(s,I)),_}let r=this._buffers[0].buffer.length;const o=u(s,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===r&&r!==0&&this.startWithLF(s)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let _=0;_<o.length;_++)o[_]+=r+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+s,r+=1}else{if(r!==0)for(let _=0;_<o.length;_++)o[_]+=r;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=s}const h=this._buffers[0].buffer.length,m=this._buffers[0].lineStarts.length-1,y=h-this._buffers[0].lineStarts[m],p={line:m,column:y},f=new t(0,l,p,this.getLineFeedCnt(0,l,p),h-r);return this._lastChangeBufferPos=p,[f]}getLineRawContent(s,r=0){let o=this.root,l="";const h=this._searchCache.get2(s);if(h){o=h.node;const m=this.getAccumulatedValue(o,s-h.nodeStartLineNumber-1),y=this._buffers[o.piece.bufferIndex].buffer,p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(h.nodeStartLineNumber+o.piece.lineFeedCnt===s)l=y.substring(p+m,p+o.piece.length);else{const f=this.getAccumulatedValue(o,s-h.nodeStartLineNumber);return y.substring(p+m,p+f-r)}}else{let m=0;const y=s;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=s-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>s-1){const p=this.getAccumulatedValue(o,s-o.lf_left-2),f=this.getAccumulatedValue(o,s-o.lf_left-1),_=this._buffers[o.piece.bufferIndex].buffer,I=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return m+=o.size_left,this._searchCache.set({node:o,nodeStartOffset:m,nodeStartLineNumber:y-(s-1-o.lf_left)}),_.substring(I+p,I+f-r)}else if(o.lf_left+o.piece.lineFeedCnt===s-1){const p=this.getAccumulatedValue(o,s-o.lf_left-2),f=this._buffers[o.piece.bufferIndex].buffer,_=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);l=f.substring(_+p,_+o.piece.length);break}else s-=o.lf_left+o.piece.lineFeedCnt,m+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==D.SENTINEL;){const m=this._buffers[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const y=this.getAccumulatedValue(o,0),p=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return l+=m.substring(p,p+y-r),l}else{const y=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);l+=m.substr(y,o.piece.length)}o=o.next()}return l}computeBufferMetadata(){let s=this.root,r=1,o=0;for(;s!==D.SENTINEL;)r+=s.lf_left+s.piece.lineFeedCnt,o+=s.size_left+s.piece.length,s=s.right;this._lineCnt=r,this._length=o,this._searchCache.validate(this._length)}getIndexOf(s,r){const o=s.piece,l=this.positionInBuffer(s,r),h=l.line-o.start.line;if(this.offsetInBuffer(o.bufferIndex,o.end)-this.offsetInBuffer(o.bufferIndex,o.start)===r){const m=this.getLineFeedCnt(s.piece.bufferIndex,o.start,l);if(m!==h)return{index:m,remainder:0}}return{index:h,remainder:l.column}}getAccumulatedValue(s,r){if(r<0)return 0;const o=s.piece,l=this._buffers[o.bufferIndex].lineStarts,h=o.start.line+r+1;return h>o.end.line?l[o.end.line]+o.end.column-l[o.start.line]-o.start.column:l[h]-l[o.start.line]-o.start.column}deleteNodeTail(s,r){const o=s.piece,l=o.lineFeedCnt,h=this.offsetInBuffer(o.bufferIndex,o.end),m=r,y=this.offsetInBuffer(o.bufferIndex,m),p=this.getLineFeedCnt(o.bufferIndex,o.start,m),f=p-l,_=y-h,I=o.length+_;s.piece=new t(o.bufferIndex,o.start,m,p,I),(0,D.updateTreeMetadata)(this,s,_,f)}deleteNodeHead(s,r){const o=s.piece,l=o.lineFeedCnt,h=this.offsetInBuffer(o.bufferIndex,o.start),m=r,y=this.getLineFeedCnt(o.bufferIndex,m,o.end),p=this.offsetInBuffer(o.bufferIndex,m),f=y-l,_=h-p,I=o.length+_;s.piece=new t(o.bufferIndex,m,o.end,y,I),(0,D.updateTreeMetadata)(this,s,_,f)}shrinkNode(s,r,o){const l=s.piece,h=l.start,m=l.end,y=l.length,p=l.lineFeedCnt,f=r,_=this.getLineFeedCnt(l.bufferIndex,l.start,f),I=this.offsetInBuffer(l.bufferIndex,r)-this.offsetInBuffer(l.bufferIndex,h);s.piece=new t(l.bufferIndex,l.start,f,_,I),(0,D.updateTreeMetadata)(this,s,I-y,_-p);const E=new t(l.bufferIndex,o,m,this.getLineFeedCnt(l.bufferIndex,o,m),this.offsetInBuffer(l.bufferIndex,m)-this.offsetInBuffer(l.bufferIndex,o)),T=this.rbInsertRight(s,E);this.validateCRLFWithPrevNode(T)}appendToNode(s,r){this.adjustCarriageReturnFromNext(r,s)&&(r+=`
`);const o=this.shouldCheckCRLF()&&this.startWithLF(r)&&this.endWithCR(s),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=r;const h=u(r,!1);for(let T=0;T<h.length;T++)h[T]+=l;if(o){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const m=this._buffers[0].lineStarts.length-1,y=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],p={line:m,column:y},f=s.piece.length+r.length,_=s.piece.lineFeedCnt,I=this.getLineFeedCnt(0,s.piece.start,p),E=I-_;s.piece=new t(s.piece.bufferIndex,s.piece.start,p,I,f),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,s,r.length,E)}nodeAt(s){let r=this.root;const o=this._searchCache.get(s);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:s-o.nodeStartOffset};let l=0;for(;r!==D.SENTINEL;)if(r.size_left>s)r=r.left;else if(r.size_left+r.piece.length>=s){l+=r.size_left;const h={node:r,remainder:s-r.size_left,nodeStartOffset:l};return this._searchCache.set(h),h}else s-=r.size_left+r.piece.length,l+=r.size_left+r.piece.length,r=r.right;return null}nodeAt2(s,r){let o=this.root,l=0;for(;o!==D.SENTINEL;)if(o.left!==D.SENTINEL&&o.lf_left>=s-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>s-1){const h=this.getAccumulatedValue(o,s-o.lf_left-2),m=this.getAccumulatedValue(o,s-o.lf_left-1);return l+=o.size_left,{node:o,remainder:Math.min(h+r-1,m),nodeStartOffset:l}}else if(o.lf_left+o.piece.lineFeedCnt===s-1){const h=this.getAccumulatedValue(o,s-o.lf_left-2);if(h+r-1<=o.piece.length)return{node:o,remainder:h+r-1,nodeStartOffset:l};r-=o.piece.length-h;break}else s-=o.lf_left+o.piece.lineFeedCnt,l+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==D.SENTINEL;){if(o.piece.lineFeedCnt>0){const h=this.getAccumulatedValue(o,0),m=this.offsetOfNode(o);return{node:o,remainder:Math.min(r-1,h),nodeStartOffset:m}}else if(o.piece.length>=r-1){const h=this.offsetOfNode(o);return{node:o,remainder:r-1,nodeStartOffset:h}}else r-=o.piece.length;o=o.next()}return null}nodeCharCodeAt(s,r){if(s.piece.lineFeedCnt<1)return-1;const o=this._buffers[s.piece.bufferIndex],l=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start)+r;return o.buffer.charCodeAt(l)}offsetOfNode(s){if(!s)return 0;let r=s.size_left;for(;s!==this.root;)s.parent.right===s&&(r+=s.parent.size_left+s.parent.piece.length),s=s.parent;return r}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(s){if(typeof s=="string")return s.charCodeAt(0)===10;if(s===D.SENTINEL||s.piece.lineFeedCnt===0)return!1;const r=s.piece,o=this._buffers[r.bufferIndex].lineStarts,l=r.start.line,h=o[l]+r.start.column;return l===o.length-1||o[l+1]>h+1?!1:this._buffers[r.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(s){return typeof s=="string"?s.charCodeAt(s.length-1)===13:s===D.SENTINEL||s.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(s,s.piece.length-1)===13}validateCRLFWithPrevNode(s){if(this.shouldCheckCRLF()&&this.startWithLF(s)){const r=s.prev();this.endWithCR(r)&&this.fixCRLF(r,s)}}validateCRLFWithNextNode(s){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const r=s.next();this.startWithLF(r)&&this.fixCRLF(s,r)}}fixCRLF(s,r){const o=[],l=this._buffers[s.piece.bufferIndex].lineStarts;let h;s.piece.end.column===0?h={line:s.piece.end.line-1,column:l[s.piece.end.line]-l[s.piece.end.line-1]-1}:h={line:s.piece.end.line,column:s.piece.end.column-1};const m=s.piece.length-1,y=s.piece.lineFeedCnt-1;s.piece=new t(s.piece.bufferIndex,s.piece.start,h,y,m),(0,D.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&o.push(s);const p={line:r.piece.start.line+1,column:0},f=r.piece.length-1,_=this.getLineFeedCnt(r.piece.bufferIndex,p,r.piece.end);r.piece=new t(r.piece.bufferIndex,p,r.piece.end,_,f),(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&o.push(r);const I=this.createNewPieces(`\r
`);this.rbInsertRight(s,I[0]);for(let E=0;E<o.length;E++)(0,D.rbDelete)(this,o[E])}adjustCarriageReturnFromNext(s,r){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const o=r.next();if(this.startWithLF(o)){if(s+=`
`,o.piece.length===1)(0,D.rbDelete)(this,o);else{const l=o.piece,h={line:l.start.line+1,column:0},m=l.length-1,y=this.getLineFeedCnt(l.bufferIndex,h,l.end);o.piece=new t(l.bufferIndex,h,l.end,y,m),(0,D.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(s,r){if(s===D.SENTINEL)return r(D.SENTINEL);const o=this.iterate(s.left,r);return o&&r(s)&&this.iterate(s.right,r)}getNodeContent(s){if(s===D.SENTINEL)return"";const r=this._buffers[s.piece.bufferIndex];let o;const l=s.piece,h=this.offsetInBuffer(l.bufferIndex,l.start),m=this.offsetInBuffer(l.bufferIndex,l.end);return o=r.buffer.substring(h,m),o}getPieceContent(s){const r=this._buffers[s.bufferIndex],o=this.offsetInBuffer(s.bufferIndex,s.start),l=this.offsetInBuffer(s.bufferIndex,s.end);return r.buffer.substring(o,l)}rbInsertRight(s,r){const o=new D.TreeNode(r,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(s.right===D.SENTINEL)s.right=o,o.parent=s;else{const h=(0,D.leftest)(s.right);h.left=o,o.parent=h}return(0,D.fixInsert)(this,o),o}rbInsertLeft(s,r){const o=new D.TreeNode(r,1);if(o.left=D.SENTINEL,o.right=D.SENTINEL,o.parent=D.SENTINEL,o.size_left=0,o.lf_left=0,this.root===D.SENTINEL)this.root=o,o.color=0;else if(s.left===D.SENTINEL)s.left=o,o.parent=s;else{const l=(0,D.righttest)(s.left);l.right=o,o.parent=l}return(0,D.fixInsert)(this,o),o}}e.PieceTreeBase=c}),define(Q[238],J([0,1,4,8,3,53,237,118,235,2]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends u.Disposable{constructor(i,n,a,c,d,s,r){super();this._onDidChangeContent=this._register(new w.Emitter),this._BOM=n,this._mightContainNonBasicASCII=!s,this._mightContainRTL=c,this._mightContainUnusualLineTerminators=d,this._pieceTree=new S.PieceTreeBase(i,a,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,n){return this._pieceTree.getOffsetAt(i,n)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,n){const a=i+n,c=this.getPositionAt(i),d=this.getPositionAt(a);return new N.Range(c.lineNumber,c.column,d.lineNumber,d.column)}getValueInRange(i,n=0){if(i.isEmpty())return"";const a=this._getEndOfLine(n);return this._pieceTree.getValueInRange(i,a)}getValueLengthInRange(i,n=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const a=this.getOffsetAt(i.startLineNumber,i.startColumn);return this.getOffsetAt(i.endLineNumber,i.endColumn)-a}getCharacterCountInRange(i,n=0){if(this._mightContainNonBasicASCII){let a=0;const c=i.startLineNumber,d=i.endLineNumber;for(let s=c;s<=d;s++){const r=this.getLineContent(s),o=s===c?i.startColumn-1:0,l=s===d?i.endColumn-1:r.length;for(let h=o;h<l;h++)C.isHighSurrogate(r.charCodeAt(h))?(a=a+1,h=h+1):a=a+1}return a+=this._getEndOfLine(n).length*(d-c),a}return this.getValueLengthInRange(i,n)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,n){return this._pieceTree.getLineCharCode(i,n)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const n=C.firstNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(i){const n=C.lastNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,n,a){let c=this._mightContainRTL,d=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,r=!0,o=[];for(let _=0;_<i.length;_++){const I=i[_];r&&I._isTracked&&(r=!1);const E=I.range;if(I.text){let F=!0;s||(F=!C.isBasicASCII(I.text),s=F),!c&&F&&(c=C.containsRTL(I.text)),!d&&F&&(d=C.containsUnusualLineTerminators(I.text))}let T="",k=0,A=0,P=0;if(I.text){let F;[k,A,P,F]=(0,b.countEOL)(I.text);const R=this.getEOL();F===0||F===(R===`\r
`?2:1)?T=I.text:T=I.text.replace(/\r\n|\r|\n/g,R)}o[_]={sortIndex:_,identifier:I.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:T,eolCount:k,firstLineLength:A,lastLineLength:P,forceMoveMarkers:Boolean(I.forceMoveMarkers),isAutoWhitespaceEdit:I.isAutoWhitespaceEdit||!1}}o.sort(g._sortOpsAscending);let l=!1;for(let _=0,I=o.length-1;_<I;_++){const E=o[_].range.getEndPosition(),T=o[_+1].range.getStartPosition();if(T.isBeforeOrEqual(E)){if(T.isBefore(E))throw new Error("Overlapping ranges are not allowed!");l=!0}}r&&(o=this._reduceOperations(o));const h=a||n?g._getInverseEditRanges(o):[],m=[];if(n)for(let _=0;_<o.length;_++){const I=o[_],E=h[_];if(I.isAutoWhitespaceEdit&&I.range.isEmpty())for(let T=E.startLineNumber;T<=E.endLineNumber;T++){let k="";T===E.startLineNumber&&(k=this.getLineContent(I.range.startLineNumber),C.firstNonWhitespaceIndex(k)!==-1)||m.push({lineNumber:T,oldContent:k})}}let y=null;if(a){let _=0;y=[];for(let I=0;I<o.length;I++){const E=o[I],T=h[I],k=this.getValueInRange(E.range),A=E.rangeOffset+_;_+=E.text.length-k.length,y[I]={sortIndex:E.sortIndex,identifier:E.identifier,range:T,text:k,textChange:new v.TextChange(E.rangeOffset,k,A,E.text)}}l||y.sort((I,E)=>I.sortIndex-E.sortIndex)}this._mightContainRTL=c,this._mightContainUnusualLineTerminators=d,this._mightContainNonBasicASCII=s;const p=this._doApplyEdits(o);let f=null;if(n&&m.length>0){m.sort((_,I)=>I.lineNumber-_.lineNumber),f=[];for(let _=0,I=m.length;_<I;_++){const E=m[_].lineNumber;if(_>0&&m[_-1].lineNumber===E)continue;const T=m[_].oldContent,k=this.getLineContent(E);k.length===0||k===T||C.firstNonWhitespaceIndex(k)!==-1||f.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(y,p,f)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let n=!1;const a=i[0].range,c=i[i.length-1].range,d=new N.Range(a.startLineNumber,a.startColumn,c.endLineNumber,c.endColumn);let s=a.startLineNumber,r=a.startColumn;const o=[];for(let p=0,f=i.length;p<f;p++){const _=i[p],I=_.range;n=n||_.forceMoveMarkers,o.push(this.getValueInRange(new N.Range(s,r,I.startLineNumber,I.startColumn))),_.text.length>0&&o.push(_.text),s=I.endLineNumber,r=I.endColumn}const l=o.join(""),[h,m,y]=(0,b.countEOL)(l);return{sortIndex:0,identifier:i[0].identifier,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d,0),text:l,eolCount:h,firstLineLength:m,lastLineLength:y,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(g._sortOpsDescending);const n=[];for(let a=0;a<i.length;a++){const c=i[a],d=c.range.startLineNumber,s=c.range.startColumn,r=c.range.endLineNumber,o=c.range.endColumn;if(d===r&&s===o&&c.text.length===0)continue;c.text?(this._pieceTree.delete(c.rangeOffset,c.rangeLength),this._pieceTree.insert(c.rangeOffset,c.text,!0)):this._pieceTree.delete(c.rangeOffset,c.rangeLength);const l=new N.Range(d,s,r,o);n.push({range:l,rangeLength:c.rangeLength,text:c.text,rangeOffset:c.rangeOffset,forceMoveMarkers:c.forceMoveMarkers})}return n}findMatchesLineByLine(i,n,a,c){return this._pieceTree.findMatchesLineByLine(i,n,a,c)}static _getInverseEditRanges(i){const n=[];let a=0,c=0,d=null;for(let s=0,r=i.length;s<r;s++){const o=i[s];let l,h;d?d.range.endLineNumber===o.range.startLineNumber?(l=a,h=c+(o.range.startColumn-d.range.endColumn)):(l=a+(o.range.startLineNumber-d.range.endLineNumber),h=o.range.startColumn):(l=o.range.startLineNumber,h=o.range.startColumn);let m;if(o.text.length>0){const y=o.eolCount+1;y===1?m=new N.Range(l,h,l,h+o.firstLineLength):m=new N.Range(l,h,l+y-1,o.lastLineLength+1)}else m=new N.Range(l,h,l,h);a=m.endLineNumber,c=m.endColumn,n.push(m),d=o}return n}static _sortOpsAscending(i,n){const a=N.Range.compareRangesUsingEnds(i.range,n.range);return a===0?i.sortIndex-n.sortIndex:a}static _sortOpsDescending(i,n){const a=N.Range.compareRangesUsingEnds(i.range,n.range);return a===0?n.sortIndex-i.sortIndex:-a}}e.PieceTreeTextBuffer=g}),define(Q[417],J([0,1,8,237,238]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class D{constructor(v,u,g,t,i,n,a,c,d){this._chunks=v,this._bom=u,this._cr=g,this._lf=t,this._crlf=i,this._containsRTL=n,this._containsUnusualLineTerminators=a,this._isBasicASCII=c,this._normalizeEOL=d}_getEOL(v){const u=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return u===0?v===1?`
`:`\r
`:g>u/2?`\r
`:`
`}create(v){const u=this._getEOL(v),g=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,n=g.length;i<n;i++){const a=g[i].buffer.replace(/\r\n|\r|\n/g,u),c=(0,C.createLineStartsFast)(a);g[i]=new C.StringBuffer(a,c)}const t=new N.PieceTreeTextBuffer(g,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:t,disposable:t}}}e.PieceTreeTextBufferFactory=D;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&w.startsWithUTF8BOM(v)&&(this.BOM=w.UTF8_BOM_CHARACTER,v=v.substr(1));const u=v.charCodeAt(v.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(v,u){!u&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const u=(0,C.createLineStarts)(this._tmpLineStarts,v);this.chunks.push(new C.StringBuffer(v,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=w.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=w.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);const u=(0,C.createLineStartsFast)(v.buffer);v.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(Q[418],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class w{constructor(N,D){this._startLineNumber=N,this._tokens=D}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}e.ContiguousMultilineTokens=w}),define(Q[419],J([0,1,418]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class C{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===D){b.appendLineTokens(S);return}}this._tokens.push(new w.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=C}),define(Q[420],J([0,1,11,3,118]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{constructor(u,g){this._startLineNumber=u,this._tokens=g,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,g){return new D(u,new S(g))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new C.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const g=u.startLineNumber-this._startLineNumber,t=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(g,u.startColumn-1,t,u.endColumn-1),this._updateEndLineNumber()}split(u){const g=u.startLineNumber-this._startLineNumber,t=u.endLineNumber-this._startLineNumber,[i,n,a]=this._tokens.split(g,u.startColumn-1,t,u.endColumn-1);return[new D(this._startLineNumber,i),new D(this._startLineNumber+a,n)]}applyEdit(u,g){const[t,i,n]=(0,N.countEOL)(g);this.acceptEdit(u,t,i,n,g.length>0?g.charCodeAt(0):0)}acceptEdit(u,g,t,i,n){this._acceptDeleteRange(u),this._acceptInsertText(new w.Position(u.startLineNumber,u.startColumn),g,t,i,n),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const g=u.startLineNumber-this._startLineNumber,t=u.endLineNumber-this._startLineNumber;if(t<0){const n=t-g;this._startLineNumber-=n;return}const i=this._tokens.getMaxDeltaLine();if(!(g>=i+1)){if(g<0&&t>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(g<0){const n=-g;this._startLineNumber-=n,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,t,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,g,u.startColumn-1,t,u.endColumn-1)}}_acceptInsertText(u,g,t,i,n){if(g===0&&t===0)return;const a=u.lineNumber-this._startLineNumber;if(a<0){this._startLineNumber+=g;return}const c=this._tokens.getMaxDeltaLine();a>=c+1||this._tokens.acceptInsertText(a,u.column-1,g,t,i,n)}}e.SparseMultilineTokens=D;class S{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const g=[];for(let t=0;t<this._tokenCount;t++)g.push(`(${this._getDeltaLine(t)+u},${this._getStartCharacter(t)}-${this._getEndCharacter(t)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const g=this._getStartCharacter(0),t=this._getDeltaLine(u-1),i=this._getEndCharacter(u-1);return new C.Range(0,g+1,t,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let g=0,t=this._getTokenCount()-1;for(;g<t;){const i=g+Math.floor((t-g)/2),n=this._getDeltaLine(i);if(n<u)g=i+1;else if(n>u)t=i-1;else{let a=i;for(;a>g&&this._getDeltaLine(a-1)===u;)a--;let c=i;for(;c<t&&this._getDeltaLine(c+1)===u;)c++;return new b(this._tokens.subarray(4*a,4*c+4))}}return this._getDeltaLine(g)===u?new b(this._tokens.subarray(4*g,4*g+4)):null}clear(){this._tokenCount=0}removeTokens(u,g,t,i){const n=this._tokens,a=this._tokenCount;let c=0,d=!1,s=0;for(let r=0;r<a;r++){const o=4*r,l=n[o],h=n[o+1],m=n[o+2],y=n[o+3];if((l>u||l===u&&m>=g)&&(l<t||l===t&&h<=i))d=!0;else{if(c===0&&(s=l),d){const p=4*c;n[p]=l-s,n[p+1]=h,n[p+2]=m,n[p+3]=y}c++}}return this._tokenCount=c,s}split(u,g,t,i){const n=this._tokens,a=this._tokenCount,c=[],d=[];let s=c,r=0,o=0;for(let l=0;l<a;l++){const h=4*l,m=n[h],y=n[h+1],p=n[h+2],f=n[h+3];if(m>u||m===u&&p>=g){if(m<t||m===t&&y<=i)continue;s!==d&&(s=d,r=0,o=m)}s[r++]=m-o,s[r++]=y,s[r++]=p,s[r++]=f}return[new S(new Uint32Array(c)),new S(new Uint32Array(d)),o]}acceptDeleteRange(u,g,t,i,n){const a=this._tokens,c=this._tokenCount,d=i-g;let s=0,r=!1;for(let o=0;o<c;o++){const l=4*o;let h=a[l],m=a[l+1],y=a[l+2];const p=a[l+3];if(h<g||h===g&&y<=t){s++;continue}else if(h===g&&m<t)h===i&&y>n?y-=n-t:y=t;else if(h===g&&m===t)if(h===i&&y>n)y-=n-t;else{r=!0;continue}else if(h<i||h===i&&m<n)if(h===i&&y>n)h===g?(m=t,y=m+(y-n)):(m=0,y=m+(y-n));else{r=!0;continue}else if(h>i){if(d===0&&!r){s=c;break}h-=d}else if(h===i&&m>=n)u&&h===0&&(m+=u,y+=u),h-=d,m-=n-t,y-=n-t;else throw new Error("Not possible!");const f=4*s;a[f]=h,a[f+1]=m,a[f+2]=y,a[f+3]=p,s++}this._tokenCount=s}acceptInsertText(u,g,t,i,n,a){const c=t===0&&i===1&&(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122),d=this._tokens,s=this._tokenCount;for(let r=0;r<s;r++){const o=4*r;let l=d[o],h=d[o+1],m=d[o+2];if(!(l<u||l===u&&m<g)){if(l===u&&m===g)if(c)m+=1;else continue;else if(l===u&&h<g&&g<m)t===0?m+=i:m=g;else{if(l===u&&h===g&&c)continue;if(l===u)if(l+=t,t===0)h+=i,m+=i;else{const y=m-h;h=n+(h-g),m=h+y}else l+=t}d[o]=l,d[o+1]=h,d[o+2]=m}}}}class b{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=b}),define(Q[177],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function w(C,N){let D=0,S=0;const b=C.length;for(;S<b;){const v=C.charCodeAt(S);if(v===32)D++;else if(v===9)D=D-D%N+N;else break;S++}return S===b?-1:D}e.computeIndentLevel=w}),define(Q[178],J([0,1,19,8,112,3,416,177]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var v;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(v=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class u{constructor(a,c,d){this.visibleColumn=a,this.className=c,this.horizontalLine=d}}e.IndentGuide=u;class g{constructor(a,c){this.top=a,this.endColumn=c}}e.IndentGuideHorizontalLine=g;class t extends S.TextModelPart{constructor(a,c){super();this.textModel=a,this.languageConfigurationService=c}getLanguageConfiguration(a){return this.languageConfigurationService.getLanguageConfiguration(a)}_computeIndentLevel(a){return(0,b.computeIndentLevel)(this.textModel.getLineContent(a+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(a,c,d){this.assertNotDisposed();const s=this.textModel.getLineCount();if(a<1||a>s)throw new Error("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(r&&r.offSide);let l=-2,h=-1,m=-2,y=-1;const p=O=>{if(l!==-1&&(l===-2||l>O-1)){l=-1,h=-1;for(let L=O-2;L>=0;L--){const B=this._computeIndentLevel(L);if(B>=0){l=L,h=B;break}}}if(m===-2){m=-1,y=-1;for(let L=O;L<s;L++){const B=this._computeIndentLevel(L);if(B>=0){m=L,y=B;break}}}};let f=-2,_=-1,I=-2,E=-1;const T=O=>{if(f===-2){f=-1,_=-1;for(let L=O-2;L>=0;L--){const B=this._computeIndentLevel(L);if(B>=0){f=L,_=B;break}}}if(I!==-1&&(I===-2||I<O-1)){I=-1,E=-1;for(let L=O;L<s;L++){const B=this._computeIndentLevel(L);if(B>=0){I=L,E=B;break}}}};let k=0,A=!0,P=0,F=!0,R=0,M=0;for(let O=0;A||F;O++){const L=a-O,B=a+O;O>1&&(L<1||L<c)&&(A=!1),O>1&&(B>s||B>d)&&(F=!1),O>5e4&&(A=!1,F=!1);let x=-1;if(A&&L>=1){const K=this._computeIndentLevel(L-1);K>=0?(m=L-1,y=K,x=Math.ceil(K/this.textModel.getOptions().indentSize)):(p(L),x=this._getIndentLevelForWhitespaceLine(o,h,y))}let U=-1;if(F&&B<=s){const K=this._computeIndentLevel(B-1);K>=0?(f=B-1,_=K,U=Math.ceil(K/this.textModel.getOptions().indentSize)):(T(B),U=this._getIndentLevelForWhitespaceLine(o,_,E))}if(O===0){M=x;continue}if(O===1){if(B<=s&&U>=0&&M+1===U){A=!1,k=B,P=B,R=U;continue}if(L>=1&&x>=0&&x-1===M){F=!1,k=L,P=L,R=x;continue}if(k=a,P=a,R=M,R===0)return{startLineNumber:k,endLineNumber:P,indent:R}}A&&(x>=R?k=L:A=!1),F&&(U>=R?P=B:F=!1)}return{startLineNumber:k,endLineNumber:P,indent:R}}getLinesBracketGuides(a,c,d,s){var r,o,l,h,m;const y=[],p=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(a,1,c,this.textModel.getLineMaxColumn(c)));let f;if(d&&p.length>0){const k=a<=d.lineNumber&&d.lineNumber<=c?p.filter(A=>D.Range.strictContainsPosition(A.range,d)):this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(d));f=(r=(0,w.findLast)(k,A=>A.range.startLineNumber!==A.range.endLineNumber))===null||r===void 0?void 0:r.range}const _=new w.ArrayQueue(p),I=new Array,E=new Array,T=new i;for(let k=a;k<=c;k++){let A=new Array;E.length>0&&(A=A.concat(E),E.length=0),y.push(A);for(const F of _.takeWhile(R=>R.openingBracketRange.startLineNumber<=k)||[]){if(F.range.startLineNumber===F.range.endLineNumber)continue;const R=Math.min(this.getVisibleColumnFromPosition(F.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((l=(o=F.closingBracketRange)===null||o===void 0?void 0:o.getStartPosition())!==null&&l!==void 0?l:F.range.getEndPosition()),F.minVisibleColumnIndentation+1);let M=!1;F.closingBracketRange&&C.firstNonWhitespaceIndex(this.textModel.getLineContent(F.closingBracketRange.startLineNumber))<F.closingBracketRange.startColumn-1&&(M=!0);const O=F.openingBracketRange.getStartPosition(),L=(m=(h=F.closingBracketRange)===null||h===void 0?void 0:h.getStartPosition())!==null&&m!==void 0?m:F.range.getEndPosition();F.closingBracketRange===void 0?I[F.nestingLevel]=null:I[F.nestingLevel]={nestingLevel:F.nestingLevel,guideVisibleColumn:R,start:O,visibleStartColumn:this.getVisibleColumnFromPosition(O),end:L,visibleEndColumn:this.getVisibleColumnFromPosition(L),bracketPair:F,renderHorizontalEndLineAtTheBottom:M}}for(const F of I){if(!F)continue;const R=f&&F.bracketPair.range.equalsRange(f),M=T.getInlineClassNameOfLevel(F.nestingLevel)+(s.highlightActive&&R?" "+T.activeClassName:"");(R&&s.horizontalGuides!==v.Disabled||s.includeInactive&&s.horizontalGuides===v.Enabled)&&(F.start.lineNumber===k&&F.guideVisibleColumn<F.visibleStartColumn&&A.push(new u(F.guideVisibleColumn,M,new g(!1,F.start.column))),F.end.lineNumber===k+1&&F.guideVisibleColumn<F.visibleEndColumn&&E.push(new u(F.guideVisibleColumn,M,new g(!F.renderHorizontalEndLineAtTheBottom,F.end.column))))}let P=Number.MAX_SAFE_INTEGER;for(let F=I.length-1;F>=0;F--){const R=I[F];if(!R)continue;const M=s.highlightActive&&f&&R.bracketPair.range.equalsRange(f),O=T.getInlineClassNameOfLevel(R.nestingLevel)+(M?" "+T.activeClassName:"");(M||s.includeInactive)&&R.renderHorizontalEndLineAtTheBottom&&R.end.lineNumber===k+1&&E.push(new u(R.guideVisibleColumn,O,null)),!(R.end.lineNumber<=k||R.start.lineNumber>=k)&&(R.guideVisibleColumn>=P&&!M||(P=R.guideVisibleColumn,(M||s.includeInactive)&&A.push(new u(R.guideVisibleColumn,O,null))))}A.sort((F,R)=>F.visibleColumn-R.visibleColumn)}return y}getVisibleColumnFromPosition(a){return N.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(a.lineNumber),a.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(a,c){this.assertNotDisposed();const d=this.textModel.getLineCount();if(a<1||a>d)throw new Error("Illegal value for startLineNumber");if(c<1||c>d)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(r&&r.offSide),l=new Array(c-a+1);let h=-2,m=-1,y=-2,p=-1;for(let f=a;f<=c;f++){const _=f-a,I=this._computeIndentLevel(f-1);if(I>=0){h=f-1,m=I,l[_]=Math.ceil(I/s.indentSize);continue}if(h===-2){h=-1,m=-1;for(let E=f-2;E>=0;E--){const T=this._computeIndentLevel(E);if(T>=0){h=E,m=T;break}}}if(y!==-1&&(y===-2||y<f-1)){y=-1,p=-1;for(let E=f;E<d;E++){const T=this._computeIndentLevel(E);if(T>=0){y=E,p=T;break}}}l[_]=this._getIndentLevelForWhitespaceLine(o,m,p)}return l}_getIndentLevelForWhitespaceLine(a,c,d){const s=this.textModel.getOptions();return c===-1||d===-1?0:c<d?1+Math.floor(c/s.indentSize):c===d||a?Math.ceil(d/s.indentSize):1+Math.floor(d/s.indentSize)}}e.GuidesTextModelPart=t;class i{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(a){return`bracket-indent-guide lvl-${a%30}`}}e.BracketPairGuidesClassNames=i}),define(Q[148],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function w(b=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const u of e.USUAL_WORD_SEPARATORS)b.indexOf(u)>=0||(v+="\\"+u);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=w();function C(b){let v=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)v=b;else{let u="g";b.ignoreCase&&(u+="i"),b.multiline&&(u+="m"),b.unicode&&(u+="u"),v=new RegExp(b.source,u)}return v.lastIndex=0,v}e.ensureValidWordDefinition=C;const N={maxLen:1e3,windowSize:15,timeBudget:150};function D(b,v,u,g,t=N){if(u.length>t.maxLen){let d=b-t.maxLen/2;return d<0?d=0:g+=d,u=u.substring(d,b+t.maxLen/2),D(b,v,u,g,t)}const i=Date.now(),n=b-1-g;let a=-1,c=null;for(let d=1;!(Date.now()-i>=t.timeBudget);d++){const s=n-t.windowSize*d;v.lastIndex=Math.max(0,s);const r=S(v,u,n,a);if(!r&&c||(c=r,s<=0))break;a=s}if(c){const d={word:c[0],startColumn:g+1+c.index,endColumn:g+1+c.index+c[0].length};return v.lastIndex=0,d}return null}e.getWordAtText=D;function S(b,v,u,g){let t;for(;t=b.exec(v);){const i=t.index||0;if(i<=u&&b.lastIndex>=u)return t;if(g>0&&i>g)return null}return null}}),define(Q[421],J([0,1,211,134,48,79,41,8]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMimeTypes=e.clearLanguageAssociations=e.registerLanguageAssociation=void 0;let v=[],u=[],g=[];function t(s,r=!1){const o=i(s);v.push(o),o.userConfigured?g.push(o):u.push(o),r&&!o.userConfigured&&v.forEach(l=>{l.mime===o.mime||l.userConfigured||(o.extension&&l.extension===o.extension&&console.warn(`Overwriting extension <<${o.extension}>> to now point to mime <<${o.mime}>>`),o.filename&&l.filename===o.filename&&console.warn(`Overwriting filename <<${o.filename}>> to now point to mime <<${o.mime}>>`),o.filepattern&&l.filepattern===o.filepattern&&console.warn(`Overwriting filepattern <<${o.filepattern}>> to now point to mime <<${o.mime}>>`),o.firstline&&l.firstline===o.firstline&&console.warn(`Overwriting firstline <<${o.firstline}>> to now point to mime <<${o.mime}>>`))})}e.registerLanguageAssociation=t;function i(s){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:s.userConfigured,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?(0,w.parse)(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(D.posix.sep)>=0:!1}}function n(s){s?(v=v.filter(r=>!r.userConfigured),g=[]):(v=[],u=[],g=[])}e.clearLanguageAssociations=n;function a(s,r){let o;if(s)switch(s.scheme){case N.Schemas.file:o=s.fsPath;break;case N.Schemas.data:{o=S.DataUri.parseMetaData(s).get(S.DataUri.META_DATA_LABEL);break}default:o=s.path}if(!o)return[C.Mimes.unknown];o=o.toLowerCase();const l=(0,D.basename)(o),h=c(o,l,g);if(h)return[h,C.Mimes.text];const m=c(o,l,u);if(m)return[m,C.Mimes.text];if(r){const y=d(r);if(y)return[y,C.Mimes.text]}return[C.Mimes.unknown]}e.getMimeTypes=a;function c(s,r,o){var l;let h,m,y;for(let p=o.length-1;p>=0;p--){const f=o[p];if(r===f.filenameLowercase){h=f;break}if(f.filepattern&&(!m||f.filepattern.length>m.filepattern.length)){const _=f.filepatternOnPath?s:r;((l=f.filepatternLowercase)===null||l===void 0?void 0:l.call(f,_))&&(m=f)}f.extension&&(!y||f.extension.length>y.extension.length)&&r.endsWith(f.extensionLowercase)&&(y=f)}if(h)return h.mime;if(m)return m.mime;if(y)return y.mime}function d(s){if((0,b.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let r=v.length-1;r>=0;r--){const o=v[r];if(!o.firstline)continue;const l=s.match(o.firstline);if(l&&l.length>0)return o.mime}}}),define(Q[422],J([0,1,106,17]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function N(v){for(let u=0,g=v.length;u<g;u+=4){const t=v[u+0],i=v[u+1],n=v[u+2],a=v[u+3];v[u+0]=a,v[u+1]=n,v[u+2]=i,v[u+3]=t}}function D(v){const u=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return C.isLittleEndian()||N(u),w.VSBuffer.wrap(u)}function S(v){const u=new Uint32Array(b(v));let g=0;if(u[g++]=v.id,v.type==="full")u[g++]=1,u[g++]=v.data.length,u.set(v.data,g),g+=v.data.length;else{u[g++]=2,u[g++]=v.deltas.length;for(const t of v.deltas)u[g++]=t.start,u[g++]=t.deleteCount,t.data?(u[g++]=t.data.length,u.set(t.data,g),g+=t.data.length):u[g++]=0}return D(u)}e.encodeSemanticTokensDto=S;function b(v){let u=0;if(u+=1+1,v.type==="full")u+=1+v.data.length;else{u+=1,u+=(1+1+1)*v.deltas.length;for(const g of v.deltas)g.data&&(u+=g.data.length)}return u}}),define(Q[179],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var w;(function(L){L[L.Unknown=0]="Unknown",L[L.Disabled=1]="Disabled",L[L.Enabled=2]="Enabled"})(w=e.AccessibilitySupport||(e.AccessibilitySupport={}));var C;(function(L){L[L.KeepWhitespace=1]="KeepWhitespace",L[L.InsertAsSnippet=4]="InsertAsSnippet"})(C=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var N;(function(L){L[L.Method=0]="Method",L[L.Function=1]="Function",L[L.Constructor=2]="Constructor",L[L.Field=3]="Field",L[L.Variable=4]="Variable",L[L.Class=5]="Class",L[L.Struct=6]="Struct",L[L.Interface=7]="Interface",L[L.Module=8]="Module",L[L.Property=9]="Property",L[L.Event=10]="Event",L[L.Operator=11]="Operator",L[L.Unit=12]="Unit",L[L.Value=13]="Value",L[L.Constant=14]="Constant",L[L.Enum=15]="Enum",L[L.EnumMember=16]="EnumMember",L[L.Keyword=17]="Keyword",L[L.Text=18]="Text",L[L.Color=19]="Color",L[L.File=20]="File",L[L.Reference=21]="Reference",L[L.Customcolor=22]="Customcolor",L[L.Folder=23]="Folder",L[L.TypeParameter=24]="TypeParameter",L[L.User=25]="User",L[L.Issue=26]="Issue",L[L.Snippet=27]="Snippet"})(N=e.CompletionItemKind||(e.CompletionItemKind={}));var D;(function(L){L[L.Deprecated=1]="Deprecated"})(D=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(L){L[L.Invoke=0]="Invoke",L[L.TriggerCharacter=1]="TriggerCharacter",L[L.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var b;(function(L){L[L.EXACT=0]="EXACT",L[L.ABOVE=1]="ABOVE",L[L.BELOW=2]="BELOW"})(b=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(L){L[L.NotSet=0]="NotSet",L[L.ContentFlush=1]="ContentFlush",L[L.RecoverFromMarkers=2]="RecoverFromMarkers",L[L.Explicit=3]="Explicit",L[L.Paste=4]="Paste",L[L.Undo=5]="Undo",L[L.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var u;(function(L){L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(u=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var g;(function(L){L[L.Text=0]="Text",L[L.Read=1]="Read",L[L.Write=2]="Write"})(g=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var t;(function(L){L[L.None=0]="None",L[L.Keep=1]="Keep",L[L.Brackets=2]="Brackets",L[L.Advanced=3]="Advanced",L[L.Full=4]="Full"})(t=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var i;(function(L){L[L.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",L[L.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",L[L.accessibilitySupport=2]="accessibilitySupport",L[L.accessibilityPageSize=3]="accessibilityPageSize",L[L.ariaLabel=4]="ariaLabel",L[L.autoClosingBrackets=5]="autoClosingBrackets",L[L.autoClosingDelete=6]="autoClosingDelete",L[L.autoClosingOvertype=7]="autoClosingOvertype",L[L.autoClosingQuotes=8]="autoClosingQuotes",L[L.autoIndent=9]="autoIndent",L[L.automaticLayout=10]="automaticLayout",L[L.autoSurround=11]="autoSurround",L[L.bracketPairColorization=12]="bracketPairColorization",L[L.guides=13]="guides",L[L.codeLens=14]="codeLens",L[L.codeLensFontFamily=15]="codeLensFontFamily",L[L.codeLensFontSize=16]="codeLensFontSize",L[L.colorDecorators=17]="colorDecorators",L[L.columnSelection=18]="columnSelection",L[L.comments=19]="comments",L[L.contextmenu=20]="contextmenu",L[L.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",L[L.cursorBlinking=22]="cursorBlinking",L[L.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",L[L.cursorStyle=24]="cursorStyle",L[L.cursorSurroundingLines=25]="cursorSurroundingLines",L[L.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",L[L.cursorWidth=27]="cursorWidth",L[L.disableLayerHinting=28]="disableLayerHinting",L[L.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",L[L.domReadOnly=30]="domReadOnly",L[L.dragAndDrop=31]="dragAndDrop",L[L.emptySelectionClipboard=32]="emptySelectionClipboard",L[L.extraEditorClassName=33]="extraEditorClassName",L[L.fastScrollSensitivity=34]="fastScrollSensitivity",L[L.find=35]="find",L[L.fixedOverflowWidgets=36]="fixedOverflowWidgets",L[L.folding=37]="folding",L[L.foldingStrategy=38]="foldingStrategy",L[L.foldingHighlight=39]="foldingHighlight",L[L.foldingImportsByDefault=40]="foldingImportsByDefault",L[L.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",L[L.fontFamily=42]="fontFamily",L[L.fontInfo=43]="fontInfo",L[L.fontLigatures=44]="fontLigatures",L[L.fontSize=45]="fontSize",L[L.fontWeight=46]="fontWeight",L[L.formatOnPaste=47]="formatOnPaste",L[L.formatOnType=48]="formatOnType",L[L.glyphMargin=49]="glyphMargin",L[L.gotoLocation=50]="gotoLocation",L[L.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",L[L.hover=52]="hover",L[L.inDiffEditor=53]="inDiffEditor",L[L.inlineSuggest=54]="inlineSuggest",L[L.letterSpacing=55]="letterSpacing",L[L.lightbulb=56]="lightbulb",L[L.lineDecorationsWidth=57]="lineDecorationsWidth",L[L.lineHeight=58]="lineHeight",L[L.lineNumbers=59]="lineNumbers",L[L.lineNumbersMinChars=60]="lineNumbersMinChars",L[L.linkedEditing=61]="linkedEditing",L[L.links=62]="links",L[L.matchBrackets=63]="matchBrackets",L[L.minimap=64]="minimap",L[L.mouseStyle=65]="mouseStyle",L[L.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",L[L.mouseWheelZoom=67]="mouseWheelZoom",L[L.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",L[L.multiCursorModifier=69]="multiCursorModifier",L[L.multiCursorPaste=70]="multiCursorPaste",L[L.occurrencesHighlight=71]="occurrencesHighlight",L[L.overviewRulerBorder=72]="overviewRulerBorder",L[L.overviewRulerLanes=73]="overviewRulerLanes",L[L.padding=74]="padding",L[L.parameterHints=75]="parameterHints",L[L.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",L[L.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",L[L.quickSuggestions=78]="quickSuggestions",L[L.quickSuggestionsDelay=79]="quickSuggestionsDelay",L[L.readOnly=80]="readOnly",L[L.renameOnType=81]="renameOnType",L[L.renderControlCharacters=82]="renderControlCharacters",L[L.renderFinalNewline=83]="renderFinalNewline",L[L.renderLineHighlight=84]="renderLineHighlight",L[L.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",L[L.renderValidationDecorations=86]="renderValidationDecorations",L[L.renderWhitespace=87]="renderWhitespace",L[L.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",L[L.roundedSelection=89]="roundedSelection",L[L.rulers=90]="rulers",L[L.scrollbar=91]="scrollbar",L[L.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",L[L.scrollBeyondLastLine=93]="scrollBeyondLastLine",L[L.scrollPredominantAxis=94]="scrollPredominantAxis",L[L.selectionClipboard=95]="selectionClipboard",L[L.selectionHighlight=96]="selectionHighlight",L[L.selectOnLineNumbers=97]="selectOnLineNumbers",L[L.showFoldingControls=98]="showFoldingControls",L[L.showUnused=99]="showUnused",L[L.snippetSuggestions=100]="snippetSuggestions",L[L.smartSelect=101]="smartSelect",L[L.smoothScrolling=102]="smoothScrolling",L[L.stickyTabStops=103]="stickyTabStops",L[L.stopRenderingLineAfter=104]="stopRenderingLineAfter",L[L.suggest=105]="suggest",L[L.suggestFontSize=106]="suggestFontSize",L[L.suggestLineHeight=107]="suggestLineHeight",L[L.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",L[L.suggestSelection=109]="suggestSelection",L[L.tabCompletion=110]="tabCompletion",L[L.tabIndex=111]="tabIndex",L[L.unicodeHighlighting=112]="unicodeHighlighting",L[L.unusualLineTerminators=113]="unusualLineTerminators",L[L.useShadowDOM=114]="useShadowDOM",L[L.useTabStops=115]="useTabStops",L[L.wordSeparators=116]="wordSeparators",L[L.wordWrap=117]="wordWrap",L[L.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",L[L.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",L[L.wordWrapColumn=120]="wordWrapColumn",L[L.wordWrapOverride1=121]="wordWrapOverride1",L[L.wordWrapOverride2=122]="wordWrapOverride2",L[L.wrappingIndent=123]="wrappingIndent",L[L.wrappingStrategy=124]="wrappingStrategy",L[L.showDeprecated=125]="showDeprecated",L[L.inlayHints=126]="inlayHints",L[L.editorClassName=127]="editorClassName",L[L.pixelRatio=128]="pixelRatio",L[L.tabFocusMode=129]="tabFocusMode",L[L.layoutInfo=130]="layoutInfo",L[L.wrappingInfo=131]="wrappingInfo"})(i=e.EditorOption||(e.EditorOption={}));var n;(function(L){L[L.TextDefined=0]="TextDefined",L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(n=e.EndOfLinePreference||(e.EndOfLinePreference={}));var a;(function(L){L[L.LF=0]="LF",L[L.CRLF=1]="CRLF"})(a=e.EndOfLineSequence||(e.EndOfLineSequence={}));var c;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(c=e.IndentAction||(e.IndentAction={}));var d;(function(L){L[L.Other=0]="Other",L[L.Type=1]="Type",L[L.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(L){L[L.Automatic=0]="Automatic",L[L.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var r;(function(L){L[L.DependsOnKbLayout=-1]="DependsOnKbLayout",L[L.Unknown=0]="Unknown",L[L.Backspace=1]="Backspace",L[L.Tab=2]="Tab",L[L.Enter=3]="Enter",L[L.Shift=4]="Shift",L[L.Ctrl=5]="Ctrl",L[L.Alt=6]="Alt",L[L.PauseBreak=7]="PauseBreak",L[L.CapsLock=8]="CapsLock",L[L.Escape=9]="Escape",L[L.Space=10]="Space",L[L.PageUp=11]="PageUp",L[L.PageDown=12]="PageDown",L[L.End=13]="End",L[L.Home=14]="Home",L[L.LeftArrow=15]="LeftArrow",L[L.UpArrow=16]="UpArrow",L[L.RightArrow=17]="RightArrow",L[L.DownArrow=18]="DownArrow",L[L.Insert=19]="Insert",L[L.Delete=20]="Delete",L[L.Digit0=21]="Digit0",L[L.Digit1=22]="Digit1",L[L.Digit2=23]="Digit2",L[L.Digit3=24]="Digit3",L[L.Digit4=25]="Digit4",L[L.Digit5=26]="Digit5",L[L.Digit6=27]="Digit6",L[L.Digit7=28]="Digit7",L[L.Digit8=29]="Digit8",L[L.Digit9=30]="Digit9",L[L.KeyA=31]="KeyA",L[L.KeyB=32]="KeyB",L[L.KeyC=33]="KeyC",L[L.KeyD=34]="KeyD",L[L.KeyE=35]="KeyE",L[L.KeyF=36]="KeyF",L[L.KeyG=37]="KeyG",L[L.KeyH=38]="KeyH",L[L.KeyI=39]="KeyI",L[L.KeyJ=40]="KeyJ",L[L.KeyK=41]="KeyK",L[L.KeyL=42]="KeyL",L[L.KeyM=43]="KeyM",L[L.KeyN=44]="KeyN",L[L.KeyO=45]="KeyO",L[L.KeyP=46]="KeyP",L[L.KeyQ=47]="KeyQ",L[L.KeyR=48]="KeyR",L[L.KeyS=49]="KeyS",L[L.KeyT=50]="KeyT",L[L.KeyU=51]="KeyU",L[L.KeyV=52]="KeyV",L[L.KeyW=53]="KeyW",L[L.KeyX=54]="KeyX",L[L.KeyY=55]="KeyY",L[L.KeyZ=56]="KeyZ",L[L.Meta=57]="Meta",L[L.ContextMenu=58]="ContextMenu",L[L.F1=59]="F1",L[L.F2=60]="F2",L[L.F3=61]="F3",L[L.F4=62]="F4",L[L.F5=63]="F5",L[L.F6=64]="F6",L[L.F7=65]="F7",L[L.F8=66]="F8",L[L.F9=67]="F9",L[L.F10=68]="F10",L[L.F11=69]="F11",L[L.F12=70]="F12",L[L.F13=71]="F13",L[L.F14=72]="F14",L[L.F15=73]="F15",L[L.F16=74]="F16",L[L.F17=75]="F17",L[L.F18=76]="F18",L[L.F19=77]="F19",L[L.NumLock=78]="NumLock",L[L.ScrollLock=79]="ScrollLock",L[L.Semicolon=80]="Semicolon",L[L.Equal=81]="Equal",L[L.Comma=82]="Comma",L[L.Minus=83]="Minus",L[L.Period=84]="Period",L[L.Slash=85]="Slash",L[L.Backquote=86]="Backquote",L[L.BracketLeft=87]="BracketLeft",L[L.Backslash=88]="Backslash",L[L.BracketRight=89]="BracketRight",L[L.Quote=90]="Quote",L[L.OEM_8=91]="OEM_8",L[L.IntlBackslash=92]="IntlBackslash",L[L.Numpad0=93]="Numpad0",L[L.Numpad1=94]="Numpad1",L[L.Numpad2=95]="Numpad2",L[L.Numpad3=96]="Numpad3",L[L.Numpad4=97]="Numpad4",L[L.Numpad5=98]="Numpad5",L[L.Numpad6=99]="Numpad6",L[L.Numpad7=100]="Numpad7",L[L.Numpad8=101]="Numpad8",L[L.Numpad9=102]="Numpad9",L[L.NumpadMultiply=103]="NumpadMultiply",L[L.NumpadAdd=104]="NumpadAdd",L[L.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",L[L.NumpadSubtract=106]="NumpadSubtract",L[L.NumpadDecimal=107]="NumpadDecimal",L[L.NumpadDivide=108]="NumpadDivide",L[L.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",L[L.ABNT_C1=110]="ABNT_C1",L[L.ABNT_C2=111]="ABNT_C2",L[L.AudioVolumeMute=112]="AudioVolumeMute",L[L.AudioVolumeUp=113]="AudioVolumeUp",L[L.AudioVolumeDown=114]="AudioVolumeDown",L[L.BrowserSearch=115]="BrowserSearch",L[L.BrowserHome=116]="BrowserHome",L[L.BrowserBack=117]="BrowserBack",L[L.BrowserForward=118]="BrowserForward",L[L.MediaTrackNext=119]="MediaTrackNext",L[L.MediaTrackPrevious=120]="MediaTrackPrevious",L[L.MediaStop=121]="MediaStop",L[L.MediaPlayPause=122]="MediaPlayPause",L[L.LaunchMediaPlayer=123]="LaunchMediaPlayer",L[L.LaunchMail=124]="LaunchMail",L[L.LaunchApp2=125]="LaunchApp2",L[L.MAX_VALUE=126]="MAX_VALUE"})(r=e.KeyCode||(e.KeyCode={}));var o;(function(L){L[L.Hint=1]="Hint",L[L.Info=2]="Info",L[L.Warning=4]="Warning",L[L.Error=8]="Error"})(o=e.MarkerSeverity||(e.MarkerSeverity={}));var l;(function(L){L[L.Unnecessary=1]="Unnecessary",L[L.Deprecated=2]="Deprecated"})(l=e.MarkerTag||(e.MarkerTag={}));var h;(function(L){L[L.Inline=1]="Inline",L[L.Gutter=2]="Gutter"})(h=e.MinimapPosition||(e.MinimapPosition={}));var m;(function(L){L[L.UNKNOWN=0]="UNKNOWN",L[L.TEXTAREA=1]="TEXTAREA",L[L.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",L[L.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",L[L.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",L[L.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",L[L.CONTENT_TEXT=6]="CONTENT_TEXT",L[L.CONTENT_EMPTY=7]="CONTENT_EMPTY",L[L.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",L[L.CONTENT_WIDGET=9]="CONTENT_WIDGET",L[L.OVERVIEW_RULER=10]="OVERVIEW_RULER",L[L.SCROLLBAR=11]="SCROLLBAR",L[L.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",L[L.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(m=e.MouseTargetType||(e.MouseTargetType={}));var y;(function(L){L[L.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",L[L.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",L[L.TOP_CENTER=2]="TOP_CENTER"})(y=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var p;(function(L){L[L.Left=1]="Left",L[L.Center=2]="Center",L[L.Right=4]="Right",L[L.Full=7]="Full"})(p=e.OverviewRulerLane||(e.OverviewRulerLane={}));var f;(function(L){L[L.Off=0]="Off",L[L.On=1]="On",L[L.Relative=2]="Relative",L[L.Interval=3]="Interval",L[L.Custom=4]="Custom"})(f=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var _;(function(L){L[L.None=0]="None",L[L.Text=1]="Text",L[L.Blocks=2]="Blocks"})(_=e.RenderMinimap||(e.RenderMinimap={}));var I;(function(L){L[L.Smooth=0]="Smooth",L[L.Immediate=1]="Immediate"})(I=e.ScrollType||(e.ScrollType={}));var E;(function(L){L[L.Auto=1]="Auto",L[L.Hidden=2]="Hidden",L[L.Visible=3]="Visible"})(E=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var T;(function(L){L[L.LTR=0]="LTR",L[L.RTL=1]="RTL"})(T=e.SelectionDirection||(e.SelectionDirection={}));var k;(function(L){L[L.Invoke=1]="Invoke",L[L.TriggerCharacter=2]="TriggerCharacter",L[L.ContentChange=3]="ContentChange"})(k=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var A;(function(L){L[L.File=0]="File",L[L.Module=1]="Module",L[L.Namespace=2]="Namespace",L[L.Package=3]="Package",L[L.Class=4]="Class",L[L.Method=5]="Method",L[L.Property=6]="Property",L[L.Field=7]="Field",L[L.Constructor=8]="Constructor",L[L.Enum=9]="Enum",L[L.Interface=10]="Interface",L[L.Function=11]="Function",L[L.Variable=12]="Variable",L[L.Constant=13]="Constant",L[L.String=14]="String",L[L.Number=15]="Number",L[L.Boolean=16]="Boolean",L[L.Array=17]="Array",L[L.Object=18]="Object",L[L.Key=19]="Key",L[L.Null=20]="Null",L[L.EnumMember=21]="EnumMember",L[L.Struct=22]="Struct",L[L.Event=23]="Event",L[L.Operator=24]="Operator",L[L.TypeParameter=25]="TypeParameter"})(A=e.SymbolKind||(e.SymbolKind={}));var P;(function(L){L[L.Deprecated=1]="Deprecated"})(P=e.SymbolTag||(e.SymbolTag={}));var F;(function(L){L[L.Hidden=0]="Hidden",L[L.Blink=1]="Blink",L[L.Smooth=2]="Smooth",L[L.Phase=3]="Phase",L[L.Expand=4]="Expand",L[L.Solid=5]="Solid"})(F=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var R;(function(L){L[L.Line=1]="Line",L[L.Block=2]="Block",L[L.Underline=3]="Underline",L[L.LineThin=4]="LineThin",L[L.BlockOutline=5]="BlockOutline",L[L.UnderlineThin=6]="UnderlineThin"})(R=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var M;(function(L){L[L.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",L[L.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",L[L.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",L[L.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(M=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var O;(function(L){L[L.None=0]="None",L[L.Same=1]="Same",L[L.Indent=2]="Indent",L[L.DeepIndent=3]="DeepIndent"})(O=e.WrappingIndent||(e.WrappingIndent={}))}),define(Q[239],J([0,1,23,4,55,25,11,3,21,143,179]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class t{static chord(a,c){return(0,N.KeyChord)(a,c)}}e.KeyMod=t,t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.CancellationTokenSource,Emitter:C.Emitter,KeyCode:g.KeyCode,KeyMod:t,Position:S.Position,Range:b.Range,Selection:v.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:D.URI,Token:u.Token}}e.createMonacoBaseAPI=i}),define(Q[240],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class w{constructor(S,b,v){this._colorZoneBrand=void 0,this.from=S|0,this.to=b|0,this.colorId=v|0}static compare(S,b){return S.colorId===b.colorId?S.from===b.from?S.to-b.to:S.from-b.from:S.colorId-b.colorId}}e.ColorZone=w;class C{constructor(S,b,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=b,this.color=v,this._colorZone=null}static compare(S,b){return S.color===b.color?S.startLineNumber===b.startLineNumber?S.endLineNumber-b.endLineNumber:S.startLineNumber-b.startLineNumber:S.color<b.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=C;class N{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(C.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,b=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),g=v/u,t=Math.floor(4*this._pixelRatio/2),i=[];for(let n=0,a=this._zones.length;n<a;n++){const c=this._zones[n];if(!S){const y=c.getColorZones();if(y){i.push(y);continue}}const d=Math.floor(g*this._getVerticalOffsetForLine(c.startLineNumber)),s=Math.floor(g*(this._getVerticalOffsetForLine(c.endLineNumber)+b));let r=Math.floor((d+s)/2),o=s-r;o<t&&(o=t),r-o<0&&(r=o),r+o>v&&(r=v-o);const l=c.color;let h=this._color2Id[l];h||(h=++this._lastAssignedId,this._color2Id[l]=h,this._id2Color[h]=l);const m=new w(r-o,r+o,h);c.setColorZone(m),i.push(m)}return this._colorZonesInvalid=!1,i.sort(w.compare),i}}e.OverviewZoneManager=N}),define(Q[119],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class w{constructor(g,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g){return this._viewLayout.getVerticalOffsetForLineNumber(g)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=w;class C extends w{constructor(g,t,i){super(g,t);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(g,t){return this._viewLines.linesVisibleRangesForRange(g,t)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=C;class N{constructor(g,t,i){this.outsideRenderedLine=g,this.lineNumber=t,this.ranges=i}}e.LineVisibleRanges=N;class D{constructor(g,t){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(t)}static from(g){const t=new Array(g.length);for(let i=0,n=g.length;i<n;i++){const a=g[i];t[i]=new D(a.left,a.width)}return t}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(g,t){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(g,t){return g.left-t.left}}e.FloatHorizontalRange=S;class b{constructor(g,t){this.outsideRenderedLine=g,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class v{constructor(g,t){this.outsideRenderedLine=g,this.ranges=t}}e.VisibleRanges=v}),define(Q[423],J([0,1,119]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class C{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,b,v,u){const g=this._createRange();try{return g.setStart(D,S),g.setEnd(b,v),g.getClientRects()}catch{return null}finally{this._detachRange(g,u)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(w.FloatHorizontalRange.compare);const S=[];let b=0,v=D[0];for(let u=1,g=D.length;u<g;u++){const t=D[u];v.left+v.width+.9>=t.left?v.width=Math.max(v.width,t.left+t.width-v.left):(S[b++]=v,v=t)}return S[b++]=v,S}static _createHorizontalRangesFromClientRects(D,S,b){if(!D||D.length===0)return null;const v=[];for(let u=0,g=D.length;u<g;u++){const t=D[u];v[u]=new w.FloatHorizontalRange(Math.max(0,(t.left-S)/b),t.width/b)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(D,S,b,v,u,g,t,i){const n=0,a=D.children.length-1;if(n>a)return null;if(S=Math.min(a,Math.max(n,S)),v=Math.min(a,Math.max(n,v)),S===v&&b===u&&b===0&&!D.children[S].firstChild){const r=D.children[S].getClientRects();return this._createHorizontalRangesFromClientRects(r,g,t)}S!==v&&v>0&&u===0&&(v--,u=1073741824);let c=D.children[S].firstChild,d=D.children[v].firstChild;if((!c||!d)&&(!c&&b===0&&S>0&&(c=D.children[S-1].firstChild,b=1073741824),!d&&u===0&&v>0&&(d=D.children[v-1].firstChild,u=1073741824)),!c||!d)return null;b=Math.min(c.textContent.length,Math.max(0,b)),u=Math.min(d.textContent.length,Math.max(0,u));const s=this._readClientRects(c,b,d,u,i);return this._createHorizontalRangesFromClientRects(s,g,t)}}e.RangeUtil=C}),define(Q[424],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class w{constructor(D){this._theme=D}get type(){return this._theme.type}update(D){this._theme=D}getColor(D){return this._theme.getColor(D)}}e.EditorTheme=w;class C{constructor(D,S,b){this.configuration=D,this.theme=new w(S),this.model=b,this.viewLayout=b.viewLayout}addEventHandler(D){this.model.addViewEventHandler(D)}removeEventHandler(D){this.model.removeViewEventHandler(D)}}e.ViewContext=C}),define(Q[180],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class w{constructor(){this.type=0}}e.ViewCompositionStartEvent=w;class C{constructor(){this.type=1}}e.ViewCompositionEndEvent=C;class N{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=N;class D{constructor(h,m){this.type=3,this.selections=h,this.modelSelections=m}}e.ViewCursorStateChangedEvent=D;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class v{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=v;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class t{constructor(h,m){this.type=9,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesChangedEvent=t;class i{constructor(h,m){this.type=10,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesDeletedEvent=i;class n{constructor(h,m){this.type=11,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesInsertedEvent=n;class a{constructor(h,m,y,p,f,_){this.type=12,this.source=h,this.range=m,this.selections=y,this.verticalType=p,this.revealHorizontal=f,this.scrollType=_}}e.ViewRevealRangeRequestEvent=a;class c{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=c;class d{constructor(){this.type=14}}e.ViewThemeChangedEvent=d;class s{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=s;class r{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=r;class o{constructor(){this.type=17}}e.ViewZonesChangedEvent=o}),define(Q[149],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class C{constructor(v,u,g,t){this.startColumn=v,this.endColumn=u,this.className=g,this.type=t,this._lineDecorationBrand=void 0}static _equals(v,u){return v.startColumn===u.startColumn&&v.endColumn===u.endColumn&&v.className===u.className&&v.type===u.type}static equalsArr(v,u){const g=v.length,t=u.length;if(g!==t)return!1;for(let i=0;i<g;i++)if(!C._equals(v[i],u[i]))return!1;return!0}static extractWrapped(v,u,g){if(v.length===0)return v;const t=u+1,i=g+1,n=g-u,a=[];let c=0;for(const d of v)d.endColumn<=t||d.startColumn>=i||(a[c++]=new C(Math.max(1,d.startColumn-t+1),Math.min(n+1,d.endColumn-t+1),d.className,d.type));return a}static filter(v,u,g,t){if(v.length===0)return[];const i=[];let n=0;for(let a=0,c=v.length;a<c;a++){const d=v[a],s=d.range;if(s.endLineNumber<u||s.startLineNumber>u||s.isEmpty()&&(d.type===0||d.type===3))continue;const r=s.startLineNumber===u?s.startColumn:g,o=s.endLineNumber===u?s.endColumn:t;i[n++]=new C(r,o,d.inlineClassName,d.type)}return i}static _typeCompare(v,u){const g=[2,0,1,3];return g[v]-g[u]}static compare(v,u){if(v.startColumn!==u.startColumn)return v.startColumn-u.startColumn;if(v.endColumn!==u.endColumn)return v.endColumn-u.endColumn;const g=C._typeCompare(v.type,u.type);return g!==0?g:v.className!==u.className?v.className<u.className?-1:1:0}}e.LineDecoration=C;class N{constructor(v,u,g,t){this.startOffset=v,this.endOffset=u,this.className=g,this.metadata=t}}e.DecorationSegment=N;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let u=0;for(let g=0,t=v.length;g<t;g++)u|=v[g];return u}consumeLowerThan(v,u,g){for(;this.count>0&&this.stopOffsets[0]<v;){let t=0;for(;t+1<this.count&&this.stopOffsets[t]===this.stopOffsets[t+1];)t++;g.push(new N(u,this.stopOffsets[t],this.classNames.join(" "),D._metadata(this.metadata))),u=this.stopOffsets[t]+1,this.stopOffsets.splice(0,t+1),this.classNames.splice(0,t+1),this.metadata.splice(0,t+1),this.count-=t+1}return this.count>0&&u<v&&(g.push(new N(u,v-1,this.classNames.join(" "),D._metadata(this.metadata))),u=v),u}insert(v,u,g){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(u),this.metadata.push(g);else for(let t=0;t<this.count;t++)if(this.stopOffsets[t]>=v){this.stopOffsets.splice(t,0,v),this.classNames.splice(t,0,u),this.metadata.splice(t,0,g);break}this.count++}}class S{static normalize(v,u){if(u.length===0)return[];const g=[],t=new D;let i=0;for(let n=0,a=u.length;n<a;n++){const c=u[n];let d=c.startColumn,s=c.endColumn;const r=c.className,o=c.type===1?2:c.type===2?4:0;if(d>1){const m=v.charCodeAt(d-2);w.isHighSurrogate(m)&&d--}if(s>1){const m=v.charCodeAt(s-2);w.isHighSurrogate(m)&&s--}const l=d-1,h=s-2;i=t.consumeLowerThan(l,i,g),t.count===0&&(i=l),t.insert(h,r,o)}return t.consumeLowerThan(1073741824,i,g),g}}e.LineDecorationsNormalizer=S}),define(Q[425],J([0,1,8]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class C{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const v=this._inserts,u=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(v,u,g)}}class N{constructor(b,v,u,g,t){this.id=b,this.afterLineNumber=v,this.ordinal=u,this.height=g,this.minWidth=t,this.prefixSum=0}}e.EditorWhitespace=N;class D{constructor(b,v,u,g){this._instanceId=w.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new C,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=v,this._paddingTop=u,this._paddingBottom=g}static findInsertionIndex(b,v,u){let g=0,t=b.length;for(;g<t;){const i=g+t>>>1;v===b[i].afterLineNumber?u<b[i].ordinal?t=i:g=i+1:v<b[i].afterLineNumber?t=i:g=i+1}return g}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,v){this._paddingTop=b,this._paddingBottom=v}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let v=!1;try{b({insertWhitespace:(g,t,i,n)=>{v=!0,g=g|0,t=t|0,i=i|0,n=n|0;const a=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new N(a,g,t,i,n)),a},changeOneWhitespace:(g,t,i)=>{v=!0,t=t|0,i=i|0,this._pendingChanges.change({id:g,newAfterLineNumber:t,newHeight:i})},removeWhitespace:g=>{v=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(b,v,u){if((b.length>0||u.length>0)&&(this._minWidth=-1),b.length+v.length+u.length<=1){for(const a of b)this._insertWhitespace(a);for(const a of v)this._changeOneWhitespace(a.id,a.newAfterLineNumber,a.newHeight);for(const a of u){const c=this._findWhitespaceIndex(a.id);c!==-1&&this._removeWhitespace(c)}return}const g=new Set;for(const a of u)g.add(a.id);const t=new Map;for(const a of v)t.set(a.id,a);const i=a=>{const c=[];for(const d of a)if(!g.has(d.id)){if(t.has(d.id)){const s=t.get(d.id);d.afterLineNumber=s.newAfterLineNumber,d.height=s.newHeight}c.push(d)}return c},n=i(this._arr).concat(i(b));n.sort((a,c)=>a.afterLineNumber===c.afterLineNumber?a.ordinal-c.ordinal:a.afterLineNumber-c.afterLineNumber),this._arr=n,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const v=D.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(v,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(b){const v=this._arr;for(let u=0,g=v.length;u<g;u++)if(v[u].id===b)return u;return-1}_changeOneWhitespace(b,v,u){const g=this._findWhitespaceIndex(b);if(g!==-1&&(this._arr[g].height!==u&&(this._arr[g].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==v)){const t=this._arr[g];this._removeWhitespace(g),t.afterLineNumber=v,this._insertWhitespace(t)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount-=v-b+1;for(let u=0,g=this._arr.length;u<g;u++){const t=this._arr[u].afterLineNumber;b<=t&&t<=v?this._arr[u].afterLineNumber=b-1:t>v&&(this._arr[u].afterLineNumber-=v-b+1)}}onLinesInserted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount+=v-b+1;for(let u=0,g=this._arr.length;u<g;u++){const t=this._arr[u].afterLineNumber;b<=t&&(this._arr[u].afterLineNumber+=v-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let u=v;u<=b;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return b+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const v=this._findLastWhitespaceBeforeLineNumber(b);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const v=this._arr;let u=0,g=v.length-1;for(;u<=g;){const i=(g-u|0)/2|0,n=u+i|0;if(v[n].afterLineNumber<b){if(n+1>=v.length||v[n+1].afterLineNumber>=b)return n;u=n+1|0}else g=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const u=this._findLastWhitespaceBeforeLineNumber(b)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b){this._checkPendingChanges(),b=b|0;let v;b>1?v=this._lineHeight*(b-1):v=0;const u=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b);return v+u+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let v=0,u=this._arr.length;v<u;v++)b=Math.max(b,this._arr[v].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>v}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const v=this._lineCount|0,u=this._lineHeight;let g=1,t=v;for(;g<t;){const i=(g+t)/2|0,n=this.getVerticalOffsetForLineNumber(i)|0;if(b>=n+u)g=i+1;else{if(b>=n)return i;t=i}}return g>v?v:g}getLinesViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(b)|0,t=this.getVerticalOffsetForLineNumber(g)|0;let i=this._lineCount|0,n=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const a=this.getWhitespacesCount()|0;let c,d;n===-1?(n=a,d=i+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(n)|0,c=this.getHeightForWhitespaceIndex(n)|0);let s=t,r=s;const o=5e5;let l=0;t>=o&&(l=Math.floor(t/o)*o,l=Math.floor(l/u)*u,r-=l);const h=[],m=b+(v-b)/2;let y=-1;for(let I=g;I<=i;I++){if(y===-1){const E=s,T=s+u;(E<=m&&m<T||E>m)&&(y=I)}for(s+=u,h[I-g]=r,r+=u;d===I;)r+=c,s+=c,n++,n>=a?d=i+1:(d=this.getAfterLineNumberForWhitespaceIndex(n)|0,c=this.getHeightForWhitespaceIndex(n)|0);if(s>=v){i=I;break}}y===-1&&(y=i);const p=this.getVerticalOffsetForLineNumber(i)|0;let f=g,_=i;return f<_&&t<b&&f++,f<_&&p+u>v&&_--,{bigNumbersDelta:l,startLineNumber:g,endLineNumber:i,relativeVerticalOffset:h,centeredLineNumber:y,completelyVisibleStartLineNumber:f,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const v=this.getAfterLineNumberForWhitespaceIndex(b);let u;v>=1?u=this._lineHeight*v:u=0;let g;return b>0?g=this.getWhitespacesAccumulatedHeight(b-1):g=0,u+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let v=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(u),t=this.getHeightForWhitespaceIndex(u);if(b>=g+t)return-1;for(;v<u;){const i=Math.floor((v+u)/2),n=this.getVerticalOffsetForWhitespaceIndex(i),a=this.getHeightForWhitespaceIndex(i);if(b>=n+a)v=i+1;else{if(b>=n)return i;u=i}}return v}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(v<0||v>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(v);if(u>b)return null;const g=this.getHeightForWhitespaceIndex(v),t=this.getIdForWhitespaceIndex(v),i=this.getAfterLineNumberForWhitespaceIndex(v);return{id:t,afterLineNumber:i,verticalOffset:u,height:g}}getWhitespaceViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),g=this.getWhitespacesCount()-1;if(u<0)return[];const t=[];for(let i=u;i<=g;i++){const n=this.getVerticalOffsetForWhitespaceIndex(i),a=this.getHeightForWhitespaceIndex(i);if(n>=v)break;t.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:a})}return t}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(Q[120],J([0,1,8,89,149]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class D{constructor(f,_,I){this._linePartBrand=void 0,this.endIndex=f,this.type=_,this.metadata=I}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(f,_){this.startOffset=f,this.endOffset=_}equals(f){return this.startOffset===f.startOffset&&this.endOffset===f.endOffset}}e.LineRange=S;class b{constructor(f,_,I,E,T,k,A,P,F,R,M,O,L,B,x,U,K,Z,ee){this.useMonospaceOptimizations=f,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=I,this.continuesWithWrappedLine=E,this.isBasicASCII=T,this.containsRTL=k,this.fauxIndentLength=A,this.lineTokens=P,this.lineDecorations=F.sort(N.LineDecoration.compare),this.tabSize=R,this.startVisibleColumn=M,this.spaceWidth=O,this.stopRenderingLineAfter=x,this.renderWhitespace=U==="all"?4:U==="boundary"?1:U==="selection"?2:U==="trailing"?3:0,this.renderControlCharacters=K,this.fontLigatures=Z,this.selectionsOnLine=ee&&ee.sort((Y,j)=>Y.startOffset<j.startOffset?-1:1);const X=Math.abs(B-O),ne=Math.abs(L-O);X<ne?(this.renderSpaceWidth=B,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=L,this.renderSpaceCharCode=183)}sameSelection(f){if(this.selectionsOnLine===null)return f===null;if(f===null||f.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(f[_]))return!1;return!0}equals(f){return this.useMonospaceOptimizations===f.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===f.canUseHalfwidthRightwardsArrow&&this.lineContent===f.lineContent&&this.continuesWithWrappedLine===f.continuesWithWrappedLine&&this.isBasicASCII===f.isBasicASCII&&this.containsRTL===f.containsRTL&&this.fauxIndentLength===f.fauxIndentLength&&this.tabSize===f.tabSize&&this.startVisibleColumn===f.startVisibleColumn&&this.spaceWidth===f.spaceWidth&&this.renderSpaceWidth===f.renderSpaceWidth&&this.renderSpaceCharCode===f.renderSpaceCharCode&&this.stopRenderingLineAfter===f.stopRenderingLineAfter&&this.renderWhitespace===f.renderWhitespace&&this.renderControlCharacters===f.renderControlCharacters&&this.fontLigatures===f.fontLigatures&&N.LineDecoration.equalsArr(this.lineDecorations,f.lineDecorations)&&this.lineTokens.equals(f.lineTokens)&&this.sameSelection(f.selectionsOnLine)}}e.RenderLineInput=b;class v{constructor(f,_){this.partIndex=f,this.charIndex=_}}e.DomPosition=v;class u{constructor(f,_){this.length=f,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(f){return(f&4294901760)>>>16}static getCharIndex(f){return(f&65535)>>>0}setColumnInfo(f,_,I,E){const T=(_<<16|I<<0)>>>0;this._data[f-1]=T,this._absoluteOffsets[f-1]=E+I}getAbsoluteOffset(f){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[f-1]}charOffsetToPartData(f){return this.length===0?0:f<0?this._data[0]:f>=this.length?this._data[this.length-1]:this._data[f]}getDomPosition(f){const _=this.charOffsetToPartData(f-1),I=u.getPartIndex(_),E=u.getCharIndex(_);return new v(I,E)}getColumn(f,_){return this.partDataToCharOffset(f.partIndex,_,f.charIndex)+1}partDataToCharOffset(f,_,I){if(this.length===0)return 0;const E=(f<<16|I<<0)>>>0;let T=0,k=this.length-1;for(;T+1<k;){const x=T+k>>>1,U=this._data[x];if(U===E)return x;U>E?k=x:T=x}if(T===k)return T;const A=this._data[T],P=this._data[k];if(A===E)return T;if(P===E)return k;const F=u.getPartIndex(A),R=u.getCharIndex(A),M=u.getPartIndex(P);let O;F!==M?O=_:O=u.getCharIndex(P);const L=I-R,B=O-I;return L<=B?T:k}}e.CharacterMapping=u;class g{constructor(f,_,I){this._renderLineOutputBrand=void 0,this.characterMapping=f,this.containsRTL=_,this.containsForeignElements=I}}e.RenderLineOutput=g;function t(p,f){if(p.lineContent.length===0){if(p.lineDecorations.length>0){f.appendASCIIString("<span>");let _=0,I=0,E=0;for(const k of p.lineDecorations)(k.type===1||k.type===2)&&(f.appendASCIIString('<span class="'),f.appendASCIIString(k.className),f.appendASCIIString('"></span>'),k.type===1&&(E|=1,_++),k.type===2&&(E|=2,I++));f.appendASCIIString("</span>");const T=new u(1,_+I);return T.setColumnInfo(1,_,0,0),new g(T,!1,E)}return f.appendASCIIString("<span><span></span></span>"),new g(new u(0,0),!1,0)}return m(c(p),f)}e.renderViewLine=t;class i{constructor(f,_,I,E){this.characterMapping=f,this.html=_,this.containsRTL=I,this.containsForeignElements=E}}e.RenderLineOutput2=i;function n(p){const f=(0,C.createStringBuilder)(1e4),_=t(p,f);return new i(_.characterMapping,f.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=n;class a{constructor(f,_,I,E,T,k,A,P,F,R,M,O,L,B,x){this.fontIsMonospace=f,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=I,this.len=E,this.isOverflowing=T,this.parts=k,this.containsForeignElements=A,this.fauxIndentLength=P,this.tabSize=F,this.startVisibleColumn=R,this.containsRTL=M,this.spaceWidth=O,this.renderSpaceCharCode=L,this.renderWhitespace=B,this.renderControlCharacters=x}}function c(p){const f=p.lineContent;let _,I;p.stopRenderingLineAfter!==-1&&p.stopRenderingLineAfter<f.length?(_=!0,I=p.stopRenderingLineAfter):(_=!1,I=f.length);let E=d(p.lineTokens,p.fauxIndentLength,I);p.renderControlCharacters&&!p.isBasicASCII&&(E=o(f,E)),(p.renderWhitespace===4||p.renderWhitespace===1||p.renderWhitespace===2&&!!p.selectionsOnLine||p.renderWhitespace===3)&&(E=l(p,f,I,E));let T=0;if(p.lineDecorations.length>0){for(let k=0,A=p.lineDecorations.length;k<A;k++){const P=p.lineDecorations[k];P.type===3||P.type===1?T|=1:P.type===2&&(T|=2)}E=h(f,I,E,p.lineDecorations)}return p.containsRTL||(E=s(f,E,!p.isBasicASCII||p.fontLigatures)),new a(p.useMonospaceOptimizations,p.canUseHalfwidthRightwardsArrow,f,I,_,E,T,p.fauxIndentLength,p.tabSize,p.startVisibleColumn,p.containsRTL,p.spaceWidth,p.renderSpaceCharCode,p.renderWhitespace,p.renderControlCharacters)}function d(p,f,_){const I=[];let E=0;f>0&&(I[E++]=new D(f,"",0));for(let T=0,k=p.getCount();T<k;T++){const A=p.getEndOffset(T);if(A<=f)continue;const P=p.getClassName(T);if(A>=_){I[E++]=new D(_,P,0);break}I[E++]=new D(A,P,0)}return I}function s(p,f,_){let I=0;const E=[];let T=0;if(_)for(let k=0,A=f.length;k<A;k++){const P=f[k],F=P.endIndex;if(I+50<F){const R=P.type,M=P.metadata;let O=-1,L=I;for(let B=I;B<F;B++)p.charCodeAt(B)===32&&(O=B),O!==-1&&B-L>=50&&(E[T++]=new D(O+1,R,M),L=O+1,O=-1);L!==F&&(E[T++]=new D(F,R,M))}else E[T++]=P;I=F}else for(let k=0,A=f.length;k<A;k++){const P=f[k],F=P.endIndex,R=F-I;if(R>50){const M=P.type,O=P.metadata,L=Math.ceil(R/50);for(let B=1;B<L;B++){const x=I+B*50;E[T++]=new D(x,M,O)}E[T++]=new D(F,M,O)}else E[T++]=P;I=F}return E}function r(p){return p<32?p!==9:p===127||p>=8234&&p<=8238||p>=8294&&p<=8297||p>=8206&&p<=8207||p===1564}function o(p,f){const _=[];let I=new D(0,"",0),E=0;for(const T of f){const k=T.endIndex;for(;E<k;E++){const A=p.charCodeAt(E);r(A)&&(E>I.endIndex&&(I=new D(E,T.type,T.metadata),_.push(I)),I=new D(E+1,"mtkcontrol",T.metadata),_.push(I))}E>I.endIndex&&(I=new D(k,T.type,T.metadata),_.push(I))}return _}function l(p,f,_,I){const E=p.continuesWithWrappedLine,T=p.fauxIndentLength,k=p.tabSize,A=p.startVisibleColumn,P=p.useMonospaceOptimizations,F=p.selectionsOnLine,R=p.renderWhitespace===1,M=p.renderWhitespace===3,O=p.renderSpaceWidth!==p.spaceWidth,L=[];let B=0,x=0,U=I[x].type,K=I[x].endIndex;const Z=I.length;let ee=!1,X=w.firstNonWhitespaceIndex(f),ne;X===-1?(ee=!0,X=_,ne=_):ne=w.lastNonWhitespaceIndex(f);let Y=!1,j=0,W=F&&F[j],V=A%k;for(let oe=T;oe<_;oe++){const ce=f.charCodeAt(oe);W&&oe>=W.endOffset&&(j++,W=F&&F[j]);let ie;if(oe<X||oe>ne)ie=!0;else if(ce===9)ie=!0;else if(ce===32)if(R)if(Y)ie=!0;else{const de=oe+1<_?f.charCodeAt(oe+1):0;ie=de===32||de===9}else ie=!0;else ie=!1;if(ie&&F&&(ie=!!W&&W.startOffset<=oe&&W.endOffset>oe),ie&&M&&(ie=ee||oe>ne),Y){if(!ie||!P&&V>=k){if(O){const de=B>0?L[B-1].endIndex:T;for(let q=de+1;q<=oe;q++)L[B++]=new D(q,"mtkw",1)}else L[B++]=new D(oe,"mtkw",1);V=V%k}}else(oe===K||ie&&oe>T)&&(L[B++]=new D(oe,U,0),V=V%k);for(ce===9?V=k:w.isFullWidthCharacter(ce)?V+=2:V++,Y=ie;oe===K&&(x++,x<Z);)U=I[x].type,K=I[x].endIndex}let G=!1;if(Y)if(E&&R){const oe=_>0?f.charCodeAt(_-1):0,ce=_>1?f.charCodeAt(_-2):0;oe===32&&ce!==32&&ce!==9||(G=!0)}else G=!0;if(G)if(O){const oe=B>0?L[B-1].endIndex:T;for(let ce=oe+1;ce<=_;ce++)L[B++]=new D(ce,"mtkw",1)}else L[B++]=new D(_,"mtkw",1);else L[B++]=new D(_,U,0);return L}function h(p,f,_,I){I.sort(N.LineDecoration.compare);const E=N.LineDecorationsNormalizer.normalize(p,I),T=E.length;let k=0;const A=[];let P=0,F=0;for(let M=0,O=_.length;M<O;M++){const L=_[M],B=L.endIndex,x=L.type,U=L.metadata;for(;k<T&&E[k].startOffset<B;){const K=E[k];if(K.startOffset>F&&(F=K.startOffset,A[P++]=new D(F,x,U)),K.endOffset+1<=B)F=K.endOffset+1,A[P++]=new D(F,x+" "+K.className,U|K.metadata),k++;else{F=B,A[P++]=new D(F,x+" "+K.className,U|K.metadata);break}}B>F&&(F=B,A[P++]=new D(F,x,U))}const R=_[_.length-1].endIndex;if(k<T&&E[k].startOffset===R)for(;k<T&&E[k].startOffset===R;){const M=E[k];A[P++]=new D(F,M.className,M.metadata),k++}return A}function m(p,f){const _=p.fontIsMonospace,I=p.canUseHalfwidthRightwardsArrow,E=p.containsForeignElements,T=p.lineContent,k=p.len,A=p.isOverflowing,P=p.parts,F=p.fauxIndentLength,R=p.tabSize,M=p.startVisibleColumn,O=p.containsRTL,L=p.spaceWidth,B=p.renderSpaceCharCode,x=p.renderWhitespace,U=p.renderControlCharacters,K=new u(k+1,P.length);let Z=!1,ee=0,X=M,ne=0,Y=0,j=0,W=0;O?f.appendASCIIString('<span dir="ltr">'):f.appendASCIIString("<span>");for(let V=0,G=P.length;V<G;V++){W+=j;const oe=P[V],ce=oe.endIndex,ie=oe.type,de=x!==0&&oe.isWhitespace(),q=de&&!_&&(ie==="mtkw"||!E),z=ee===ce&&oe.isPseudoAfter();if(ne=0,f.appendASCIIString('<span class="'),f.appendASCIIString(q?"mtkz":ie),f.appendASCII(34),de){let $=0;{let se=ee,te=X;for(;se<ce;se++){const me=(T.charCodeAt(se)===9?R-te%R:1)|0;$+=me,se>=F&&(te+=me)}}for(q&&(f.appendASCIIString(' style="width:'),f.appendASCIIString(String(L*$)),f.appendASCIIString('px"')),f.appendASCII(62);ee<ce;ee++){K.setColumnInfo(ee+1,V-Y,ne,W),Y=0;const se=T.charCodeAt(ee);let te;if(se===9){te=R-X%R|0,!I||te>1?f.write1(8594):f.write1(65515);for(let ae=2;ae<=te;ae++)f.write1(160)}else te=1,f.write1(B);ne+=te,ee>=F&&(X+=te)}j=$}else{let $=0;for(f.appendASCII(62);ee<ce;ee++){K.setColumnInfo(ee+1,V-Y,ne,W),Y=0;const se=T.charCodeAt(ee);let te=1,ae=1;switch(se){case 9:te=R-X%R,ae=te;for(let me=1;me<=te;me++)f.write1(160);break;case 32:f.write1(160);break;case 60:f.appendASCIIString("&lt;");break;case 62:f.appendASCIIString("&gt;");break;case 38:f.appendASCIIString("&amp;");break;case 0:U?f.write1(9216):f.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:f.write1(65533);break;default:w.isFullWidthCharacter(se)&&ae++,U&&se<32?f.write1(9216+se):U&&se===127?f.write1(9249):U&&r(se)?(f.appendASCIIString("[U+"),f.appendASCIIString(y(se)),f.appendASCIIString("]"),te=8):f.write1(se)}ne+=te,$+=te,ee>=F&&(X+=ae)}j=$}z?Y++:Y=0,ee>=k&&!Z&&oe.isPseudoAfter()&&(Z=!0,K.setColumnInfo(ee+1,V,ne,W)),f.appendASCIIString("</span>")}return Z||K.setColumnInfo(k+1,P.length-1,ne,W),A&&f.appendASCIIString("<span>&hellip;</span>"),f.appendASCIIString("</span>"),new g(K,O,E)}function y(p){return p.toString(16).toUpperCase().padStart(4,"0")}}),define(Q[426],J([0,1,3]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class C{constructor(D,S,b,v){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=v,this.visibleRange=new w.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=C}),define(Q[241],J([0,1,11]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class C{constructor(b,v,u,g,t){this.injectionOffsets=b,this.injectionOptions=v,this.breakOffsets=u,this.breakOffsetsVisibleColumn=g,this.wrappedTextIndentLength=t}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(b){return b>0?this.wrappedTextIndentLength:0}getLineLength(b){const v=b>0?this.breakOffsets[b-1]:0;let g=this.breakOffsets[b]-v;return b>0&&(g+=this.wrappedTextIndentLength),g}getMaxOutputOffset(b){return this.getLineLength(b)}translateToInputOffset(b,v){b>0&&(v=Math.max(0,v-this.wrappedTextIndentLength));let g=b===0?v:this.breakOffsets[b-1]+v;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&g>this.injectionOffsets[t];t++)g<this.injectionOffsets[t]+this.injectionOptions[t].content.length?g=this.injectionOffsets[t]:g-=this.injectionOptions[t].content.length;return g}translateToOutputPosition(b,v=2){let u=b;if(this.injectionOffsets!==null)for(let g=0;g<this.injectionOffsets.length&&!(b<this.injectionOffsets[g]||v!==1&&b===this.injectionOffsets[g]);g++)u+=this.injectionOptions[g].content.length;return this.offsetInInputWithInjectionsToOutputPosition(u,v)}offsetInInputWithInjectionsToOutputPosition(b,v=2){let u=0,g=this.breakOffsets.length-1,t=0,i=0;for(;u<=g;){t=u+(g-u)/2|0;const a=this.breakOffsets[t];if(i=t>0?this.breakOffsets[t-1]:0,v===0)if(b<=i)g=t-1;else if(b>a)u=t+1;else break;else if(b<i)g=t-1;else if(b>=a)u=t+1;else break}let n=b-i;return t>0&&(n+=this.wrappedTextIndentLength),new D(t,n)}normalizeOutputPosition(b,v,u){if(this.injectionOffsets!==null){const g=this.outputPositionToOffsetInInputWithInjections(b,v),t=this.normalizeOffsetInInputWithInjectionsAroundInjections(g,u);if(t!==g)return this.offsetInInputWithInjectionsToOutputPosition(t,u)}if(u===0){if(b>0&&v===this.getMinOutputOffset(b))return new D(b-1,this.getMaxOutputOffset(b-1))}else if(u===1){const g=this.getOutputLineCount()-1;if(b<g&&v===this.getMaxOutputOffset(b))return new D(b+1,this.getMinOutputOffset(b+1))}return new D(b,v)}outputPositionToOffsetInInputWithInjections(b,v){return b>0&&(v=Math.max(0,v-this.wrappedTextIndentLength)),(b>0?this.breakOffsets[b-1]:0)+v}normalizeOffsetInInputWithInjectionsAroundInjections(b,v){const u=this.getInjectedTextAtOffset(b);if(!u)return b;if(v===2)return b===u.offsetInInputWithInjections+u.length?u.offsetInInputWithInjections+u.length:u.offsetInInputWithInjections;if(v===1){let i=u.offsetInInputWithInjections+u.length,n=u.injectedTextIndex;for(;n+1<this.injectionOffsets.length&&this.injectionOffsets[n+1]===this.injectionOffsets[n];)i+=this.injectionOptions[n+1].content.length,n++;return i}let g=u.offsetInInputWithInjections,t=u.injectedTextIndex;for(;t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t];)g-=this.injectionOptions[t-1].content.length,t++;return g}getInjectedText(b,v){const u=this.outputPositionToOffsetInInputWithInjections(b,v),g=this.getInjectedTextAtOffset(u);return g?{options:this.injectionOptions[g.injectedTextIndex]}:null}getInjectedTextAtOffset(b){const v=this.injectionOffsets,u=this.injectionOptions;if(v!==null){let g=0;for(let t=0;t<v.length;t++){const i=u[t].content.length,n=v[t]+g,a=v[t]+g+i;if(n>b)break;if(b<=a)return{injectedTextIndex:t,offsetInInputWithInjections:n,length:i};g+=i}}}}e.ModelLineProjectionData=C;class N{constructor(b){this.options=b}}e.InjectedText=N;class D{constructor(b,v){this.outputLineIndex=b,this.outputOffset=v}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(b){return new w.Position(b+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=D}),define(Q[427],J([0,1,8,97,91,241]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{constructor(s,r){this.classifier=new b(s,r)}static create(s){return new S(s.get(119),s.get(118))}createLineBreaksComputer(s,r,o,l){const h=[],m=[],y=[];return{addRequest:(p,f,_)=>{h.push(p),m.push(f),y.push(_)},finalize:()=>{const p=s.typicalFullwidthCharacterWidth/s.typicalHalfwidthCharacterWidth,f=[];for(let _=0,I=h.length;_<I;_++){const E=m[_],T=y[_];T&&!T.injectionOptions&&!E?f[_]=g(this.classifier,T,h[_],r,o,p,l):f[_]=t(this.classifier,h[_],E,r,o,p,l)}return v.length=0,u.length=0,f}}}}e.MonospaceLineBreaksComputerFactory=S;class b extends C.CharacterClassifier{constructor(s,r){super(0);for(let o=0;o<s.length;o++)this.set(s.charCodeAt(o),1);for(let o=0;o<r.length;o++)this.set(r.charCodeAt(o),2)}get(s){return s>=0&&s<256?this._asciiMap[s]:s>=12352&&s<=12543||s>=13312&&s<=19903||s>=19968&&s<=40959?3:this._map.get(s)||this._defaultValue}}let v=[],u=[];function g(d,s,r,o,l,h,m){if(l===-1)return null;const y=r.length;if(y<=1)return null;const p=s.breakOffsets,f=s.breakOffsetsVisibleColumn,_=c(r,o,l,h,m),I=l-_,E=v,T=u;let k=0,A=0,P=0,F=l;const R=p.length;let M=0;if(M>=0){let O=Math.abs(f[M]-F);for(;M+1<R;){const L=Math.abs(f[M+1]-F);if(L>=O)break;O=L,M++}}for(;M<R;){let O=M<0?0:p[M],L=M<0?0:f[M];A>O&&(O=A,L=P);let B=0,x=0,U=0,K=0;if(L<=F){let ee=L,X=O===0?0:r.charCodeAt(O-1),ne=O===0?0:d.get(X),Y=!0;for(let j=O;j<y;j++){const W=j,V=r.charCodeAt(j);let G,oe;if(w.isHighSurrogate(V)?(j++,G=0,oe=2):(G=d.get(V),oe=i(V,ee,o,h)),W>A&&a(X,ne,V,G)&&(B=W,x=ee),ee+=oe,ee>F){W>A?(U=W,K=ee-oe):(U=j+1,K=ee),ee-x>I&&(B=0),Y=!1;break}X=V,ne=G}if(Y){k>0&&(E[k]=p[p.length-1],T[k]=f[p.length-1],k++);break}}if(B===0){let ee=L,X=r.charCodeAt(O),ne=d.get(X),Y=!1;for(let j=O-1;j>=A;j--){const W=j+1,V=r.charCodeAt(j);if(V===9){Y=!0;break}let G,oe;if(w.isLowSurrogate(V)?(j--,G=0,oe=2):(G=d.get(V),oe=w.isFullWidthCharacter(V)?h:1),ee<=F){if(U===0&&(U=W,K=ee),ee<=F-I)break;if(a(V,G,X,ne)){B=W,x=ee;break}}ee-=oe,X=V,ne=G}if(B!==0){const j=I-(K-x);if(j<=o){const W=r.charCodeAt(U);let V;w.isHighSurrogate(W)?V=2:V=i(W,K,o,h),j-V<0&&(B=0)}}if(Y){M--;continue}}if(B===0&&(B=U,x=K),B<=A){const ee=r.charCodeAt(A);w.isHighSurrogate(ee)?(B=A+2,x=P+2):(B=A+1,x=P+i(ee,P,o,h))}for(A=B,E[k]=B,P=x,T[k]=x,k++,F=x+I;M<0||M<R&&f[M]<x;)M++;let Z=Math.abs(f[M]-F);for(;M+1<R;){const ee=Math.abs(f[M+1]-F);if(ee>=Z)break;Z=ee,M++}}return k===0?null:(E.length=k,T.length=k,v=s.breakOffsets,u=s.breakOffsetsVisibleColumn,s.breakOffsets=E,s.breakOffsetsVisibleColumn=T,s.wrappedTextIndentLength=_,s)}function t(d,s,r,o,l,h,m){const y=N.LineInjectedText.applyInjectedText(s,r);let p,f;if(r&&r.length>0?(p=r.map(x=>x.options),f=r.map(x=>x.column-1)):(p=null,f=null),l===-1)return p?new D.ModelLineProjectionData(f,p,[y.length],[],0):null;const _=y.length;if(_<=1)return p?new D.ModelLineProjectionData(f,p,[y.length],[],0):null;const I=c(y,o,l,h,m),E=l-I,T=[],k=[];let A=0,P=0,F=0,R=l,M=y.charCodeAt(0),O=d.get(M),L=i(M,0,o,h),B=1;w.isHighSurrogate(M)&&(L+=1,M=y.charCodeAt(1),O=d.get(M),B++);for(let x=B;x<_;x++){const U=x,K=y.charCodeAt(x);let Z,ee;w.isHighSurrogate(K)?(x++,Z=0,ee=2):(Z=d.get(K),ee=i(K,L,o,h)),a(M,O,K,Z)&&(P=U,F=L),L+=ee,L>R&&((P===0||L-F>E)&&(P=U,F=L-ee),T[A]=P,k[A]=F,A++,R=F+E,P=0),M=K,O=Z}return A===0&&(!r||r.length===0)?null:(T[A]=_,k[A]=L,new D.ModelLineProjectionData(f,p,T,k,I))}function i(d,s,r,o){return d===9?r-s%r:w.isFullWidthCharacter(d)||d<32?o:1}function n(d,s){return s-d%s}function a(d,s,r,o){return r!==32&&(s===2||s===3&&o!==2||o===1||o===3&&s!==1)}function c(d,s,r,o,l){let h=0;if(l!==0){const m=w.firstNonWhitespaceIndex(d);if(m!==-1){for(let p=0;p<m;p++)h+=d.charCodeAt(p)===9?n(h,s):1;const y=l===3?2:l===2?1:0;for(let p=0;p<y;p++)h+=n(h,s);h+o>r&&(h=0)}}return h}}),define(Q[242],J([0,1,19,138]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class N{constructor(v){this.values=v,this.prefixSum=new Uint32Array(v.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(v,u){v=(0,C.toUint32)(v);const g=this.values,t=this.prefixSum,i=u.length;return i===0?!1:(this.values=new Uint32Array(g.length+i),this.values.set(g.subarray(0,v),0),this.values.set(g.subarray(v),v+i),this.values.set(u,v),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(v,u){return v=(0,C.toUint32)(v),u=(0,C.toUint32)(u),this.values[v]===u?!1:(this.values[v]=u,v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),!0)}removeValues(v,u){v=(0,C.toUint32)(v),u=(0,C.toUint32)(u);const g=this.values,t=this.prefixSum;if(v>=g.length)return!1;const i=g.length-v;return u>=i&&(u=i),u===0?!1:(this.values=new Uint32Array(g.length-u),this.values.set(g.subarray(0,v),0),this.values.set(g.subarray(v+u),v),this.prefixSum=new Uint32Array(this.values.length),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(v){return v<0?0:(v=(0,C.toUint32)(v),this._getPrefixSum(v))}_getPrefixSum(v){if(v<=this.prefixSumValidIndex[0])return this.prefixSum[v];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),v>=this.values.length&&(v=this.values.length-1);for(let g=u;g<=v;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],v),this.prefixSum[v]}getIndexOf(v){v=Math.floor(v),this.getTotalSum();let u=0,g=this.values.length-1,t=0,i=0,n=0;for(;u<=g;)if(t=u+(g-u)/2|0,i=this.prefixSum[t],n=i-this.values[t],v<n)g=t-1;else if(v>=i)u=t+1;else break;return new S(t,v-n)}}e.PrefixSumComputer=N;class D{constructor(v){this._values=v,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(v){return this._ensureValid(),v===0?0:this._prefixSum[v-1]}getIndexOf(v){this._ensureValid();const u=this._indexBySum[v],g=u>0?this._prefixSum[u-1]:0;return new S(u,v-g)}removeValues(v,u){this._values.splice(v,u),this._invalidate(v)}insertValues(v,u){this._values=(0,w.arrayInsert)(this._values,v,u),this._invalidate(v)}_invalidate(v){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,v-1)}_ensureValid(){if(!this._isValid){for(let v=this._validEndIndex+1,u=this._values.length;v<u;v++){const g=this._values[v],t=v>0?this._prefixSum[v-1]:0;this._prefixSum[v]=t+g;for(let i=0;i<g;i++)this._indexBySum[t+i]=v}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(v,u){this._values[v]!==u&&(this._values[v]=u,this._invalidate(v))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(v,u){this.index=v,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=v,this.remainder=u}}e.PrefixSumIndexOfResult=S}),define(Q[428],J([0,1,8,11,242]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(b,v,u,g){this._uri=b,this._lines=v,this._eol=u,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const v=b.changes;for(const u of v)this._acceptDeleteRange(u.range),this._acceptInsertText(new C.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,v=this._lines.length,u=new Uint32Array(v);for(let g=0;g<v;g++)u[g]=this._lines[g].length+b;this._lineStarts=new N.PrefixSumComputer(u)}}_setLineText(b,v){this._lines[b]=v,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,v){if(v.length===0)return;const u=(0,w.splitLines)(v);if(u.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}u[u.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]);const g=new Uint32Array(u.length-1);for(let t=1;t<u.length;t++)this._lines.splice(b.lineNumber+t-1,0,u[t]),g[t-1]=u[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,g)}}e.MirrorTextModel=D}),define(Q[429],J([0,1,137,17,25,11,3,399,428,148,401,404,239,20,87,236]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class d extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,h){const m=(0,u.getWordAtText)(l.column,(0,u.ensureValidWordDefinition)(h),this._lines[l.lineNumber-1],0);return m?new S.Range(l.lineNumber,m.startColumn,l.lineNumber,m.endColumn):null}words(l){const h=this._lines,m=this._wordenize.bind(this);let y=0,p="",f=0,_=[];return{*[Symbol.iterator](){for(;;)if(f<_.length){const I=p.substring(_[f].start,_[f].end);f+=1,yield I}else if(y<h.length)p=h[y],_=m(p,l),f=0,y+=1;else break}}}getLineWords(l,h){const m=this._lines[l-1],y=this._wordenize(m,h),p=[];for(const f of y)p.push({word:m.substring(f.start,f.end),startColumn:f.start+1,endColumn:f.end+1});return p}_wordenize(l,h){const m=[];let y;for(h.lastIndex=0;(y=h.exec(l))&&y[0].length!==0;)m.push({start:y.index,end:y.index+y[0].length});return m}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const h=this._eol,m=l.startLineNumber-1,y=l.endLineNumber-1,p=[];p.push(this._lines[m].substring(l.startColumn-1));for(let f=m+1;f<y;f++)p.push(this._lines[f]);return p.push(this._lines[y].substring(0,l.endColumn-1)),p.join(h)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const h=this._lineStarts.getIndexOf(l),m=this._lines[h.index].length;return{lineNumber:1+h.index,column:1+Math.min(h.remainder,m)}}_validateRange(l){const h=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),m=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return h.lineNumber!==l.startLineNumber||h.column!==l.startColumn||m.lineNumber!==l.endLineNumber||m.column!==l.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:m.lineNumber,endColumn:m.column}:l}_validatePosition(l){if(!D.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:h,column:m}=l,y=!1;if(h<1)h=1,m=1,y=!0;else if(h>this._lines.length)h=this._lines.length,m=this._lines[h-1].length+1,y=!0;else{const p=this._lines[h-1].length+1;m<1?(m=1,y=!0):m>p&&(m=p,y=!0)}return y?{lineNumber:h,column:m}:l}}e.MirrorModel=d;class s{constructor(l,h){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=h,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(h=>l.push(this._models[h])),l}acceptNewModel(l){this._models[l.url]=new d(N.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,h){if(!this._models[l])return;this._models[l].onEvents(h)}acceptRemovedModel(l){!this._models[l]||delete this._models[l]}computeUnicodeHighlights(l,h,m){return De(this,void 0,void 0,function*(){const y=this._getModel(l);return y?c.UnicodeTextModelHighlighter.computeUnicodeHighlights(y,h,m):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(l,h,m,y){return De(this,void 0,void 0,function*(){const p=this._getModel(l),f=this._getModel(h);if(!p||!f)return null;const _=p.getLinesContent(),I=f.getLinesContent(),T=new b.DiffComputer(_,I,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:y}).computeDiff(),k=T.changes.length>0?!1:this._modelsAreIdentical(p,f);return{quitEarly:T.quitEarly,identical:k,changes:T.changes}})}_modelsAreIdentical(l,h){const m=l.getLineCount(),y=h.getLineCount();if(m!==y)return!1;for(let p=1;p<=m;p++){const f=l.getLineContent(p),_=h.getLineContent(p);if(f!==_)return!1}return!0}computeMoreMinimalEdits(l,h){return De(this,void 0,void 0,function*(){const m=this._getModel(l);if(!m)return h;const y=[];let p;h=h.slice(0).sort((f,_)=>{if(f.range&&_.range)return S.Range.compareRangesUsingStarts(f.range,_.range);const I=f.range?0:1,E=_.range?0:1;return I-E});for(let{range:f,text:_,eol:I}of h){if(typeof I=="number"&&(p=I),S.Range.isEmpty(f)&&!_)continue;const E=m.getValueInRange(f);if(_=_.replace(/\r\n|\n|\r/g,m.eol),E===_)continue;if(Math.max(_.length,E.length)>s._diffLimit){y.push({range:f,text:_});continue}const T=(0,w.stringDiff)(E,_,!1),k=m.offsetAt(S.Range.lift(f).getStartPosition());for(const A of T){const P=m.positionAt(k+A.originalStart),F=m.positionAt(k+A.originalStart+A.originalLength),R={text:_.substr(A.modifiedStart,A.modifiedLength),range:{startLineNumber:P.lineNumber,startColumn:P.column,endLineNumber:F.lineNumber,endColumn:F.column}};m.getValueInRange(R.range)!==R.text&&y.push(R)}}return typeof p=="number"&&y.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),y})}computeLinks(l){return De(this,void 0,void 0,function*(){const h=this._getModel(l);return h?(0,g.computeLinks)(h):null})}textualSuggest(l,h,m,y){return De(this,void 0,void 0,function*(){const p=new a.StopWatch(!0),f=new RegExp(m,y),_=new Set;e:for(let I of l){const E=this._getModel(I);if(!!E){for(let T of E.words(f))if(!(T===h||!isNaN(Number(T)))&&(_.add(T),_.size>s._suggestionsLimit))break e}}return{words:Array.from(_),duration:p.elapsed()}})}computeWordRanges(l,h,m,y){return De(this,void 0,void 0,function*(){const p=this._getModel(l);if(!p)return Object.create(null);const f=new RegExp(m,y),_=Object.create(null);for(let I=h.startLineNumber;I<h.endLineNumber;I++){const E=p.getLineWords(I,f);for(const T of E){if(!isNaN(Number(T.word)))continue;let k=_[T.word];k||(k=[],_[T.word]=k),k.push({startLineNumber:I,startColumn:T.startColumn,endLineNumber:I,endColumn:T.endColumn})}}return _})}navigateValueSet(l,h,m,y,p){return De(this,void 0,void 0,function*(){const f=this._getModel(l);if(!f)return null;const _=new RegExp(y,p);h.startColumn===h.endColumn&&(h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn+1});const I=f.getValueInRange(h),E=f.getWordAtPosition({lineNumber:h.startLineNumber,column:h.startColumn},_);if(!E)return null;const T=f.getValueInRange(E);return t.BasicInplaceReplace.INSTANCE.navigateValueSet(h,I,E,T,m)})}loadForeignModule(l,h,m){const y=(_,I)=>this._host.fhr(_,I),f={host:n.createProxyObject(m,y),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(f,h),Promise.resolve(n.getAllMethodNames(this._foreignModule))):new Promise((_,I)=>{H([l],E=>{this._foreignModule=E.create(f,h),_(n.getAllMethodNames(this._foreignModule))},I)})}fmr(l,h){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,h))}catch(m){return Promise.reject(m)}}}e.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4;function r(o){return new s(o,null)}e.create=r,typeof importScripts=="function"&&(C.globals.monaco=(0,i.createMonacoBaseAPI)())}),define(Q[121],J([0,1,2]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class C extends w.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let b=0,v=D.length;b<v;b++){const u=D[b];switch(u.type){case 0:this.onCompositionStart(u)&&(S=!0);break;case 1:this.onCompositionEnd(u)&&(S=!0);break;case 2:this.onConfigurationChanged(u)&&(S=!0);break;case 3:this.onCursorStateChanged(u)&&(S=!0);break;case 4:this.onDecorationsChanged(u)&&(S=!0);break;case 5:this.onFlushed(u)&&(S=!0);break;case 6:this.onFocusChanged(u)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(S=!0);break;case 8:this.onLineMappingChanged(u)&&(S=!0);break;case 9:this.onLinesChanged(u)&&(S=!0);break;case 10:this.onLinesDeleted(u)&&(S=!0);break;case 11:this.onLinesInserted(u)&&(S=!0);break;case 12:this.onRevealRangeRequest(u)&&(S=!0);break;case 13:this.onScrollChanged(u)&&(S=!0);break;case 15:this.onTokensChanged(u)&&(S=!0);break;case 14:this.onThemeChanged(u)&&(S=!0);break;case 16:this.onTokensColorsChanged(u)&&(S=!0);break;case 17:this.onZonesChanged(u)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(u)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=C}),define(Q[99],J([0,1,121]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class C extends w.ViewEventHandler{}e.DynamicViewOverlay=C}),define(Q[49],J([0,1,121]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class C extends w.ViewEventHandler{constructor(S){super();this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=C;class N{static write(S,b){S.setAttribute("data-mprt",String(b))}static read(S){const b=S.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(S,b){const v=[];let u=0;for(;S&&S!==document.body&&S!==b;)S.nodeType===S.ELEMENT_NODE&&(v[u++]=this.read(S)),S=S.parentElement;const g=new Uint8Array(u);for(let t=0;t<u;t++)g[t]=v[u-t-1];return g}}e.PartFingerprints=N}),define(Q[430],J([0,1,7,31,49]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D{constructor(g,t){this._coordinateBrand=void 0,this.top=g,this.left=t}}class S extends N.ViewPart{constructor(g,t){super(g);this._viewDomNode=t,this._widgets={},this.domNode=(0,C.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,C.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const t=new b(this._context,this._viewDomNode,g);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(g,t,i){this._widgets[g.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(g){const t=g.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(g)}prepareRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(g)}render(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(g)}}e.ViewContentWidgets=S;class b{constructor(g,t,i){this._context=g,this._viewDomNode=t,this._actual=i,this.domNode=(0,C.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,a=n.get(130);this._fixedOverflowWidgets=n.get(36),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this._lineHeight=n.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const t=this._context.configuration.options;if(this._lineHeight=t.get(58),g.hasChanged(130)){const i=t.get(130);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range)}_setPosition(g){if(this._range=g,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(g,t){this._setPosition(g),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(g,t,i,n,a){const c=g.top,d=c,s=t.top+this._lineHeight,r=a.viewportHeight-s,o=c-n,l=d>=n,h=s,m=r>=n;let y=g.left,p=t.left;return y+i>a.scrollLeft+a.viewportWidth&&(y=a.scrollLeft+a.viewportWidth-i),p+i>a.scrollLeft+a.viewportWidth&&(p=a.scrollLeft+a.viewportWidth-i),y<a.scrollLeft&&(y=a.scrollLeft),p<a.scrollLeft&&(p=a.scrollLeft),{fitsAbove:l,aboveTop:o,aboveLeft:y,fitsBelow:m,belowTop:h,belowLeft:p}}_layoutHorizontalSegmentInPage(g,t,i,n){const a=Math.max(0,t.left-n),c=Math.min(t.left+t.width+n,g.width);let d=t.left+i-w.StandardWindow.scrollX;if(d+n>c){const s=d-(c-n);d-=s,i-=s}if(d<a){const s=d-a;d-=s,i-=s}return[i,d]}_layoutBoxInPage(g,t,i,n,a){const c=g.top-n,d=t.top+this._lineHeight,s=w.getDomNodePagePosition(this._viewDomNode.domNode),r=s.top+c-w.StandardWindow.scrollY,o=s.top+d-w.StandardWindow.scrollY,l=w.getClientArea(document.body),[h,m]=this._layoutHorizontalSegmentInPage(l,s,g.left-a.scrollLeft+this._contentLeft,i),[y,p]=this._layoutHorizontalSegmentInPage(l,s,t.left-a.scrollLeft+this._contentLeft,i),f=22,_=22,I=r>=f,E=o+n<=l.height-_;return this._fixedOverflowWidgets?{fitsAbove:I,aboveTop:Math.max(r,f),aboveLeft:m,fitsBelow:E,belowTop:o,belowLeft:p}:{fitsAbove:I,aboveTop:c,aboveLeft:h,fitsBelow:E,belowTop:d,belowLeft:y}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new D(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const t=g.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(const l of t)l.lineNumber<i.lineNumber&&(i=l),l.lineNumber>n.lineNumber&&(n=l);let a=1073741824;for(const l of i.ranges)l.left<a&&(a=l.left);let c=1073741824;for(const l of n.ranges)l.left<c&&(c=l.left);const d=g.getVerticalOffsetForLineNumber(i.lineNumber)-g.scrollTop,s=new D(d,a),r=g.getVerticalOffsetForLineNumber(n.lineNumber)-g.scrollTop,o=new D(r,c);return[s,o]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[t,i]=this._getTopAndBottomLeft(g);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let a=null;if(typeof this._actual.beforeRender=="function"&&(a=v(this._actual.beforeRender,this._actual)),a)this._cachedDomNodeOffsetWidth=a.width,this._cachedDomNodeOffsetHeight=a.height;else{const c=this.domNode.domNode;this._cachedDomNodeOffsetWidth=c.offsetWidth,this._cachedDomNodeOffsetHeight=c.offsetHeight}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g);for(let a=1;a<=2;a++)for(const c of this._preference)if(c===1){if(!n)return null;if(a===2||n.fitsAbove)return{coordinate:new D(n.aboveTop,n.aboveLeft),position:1}}else if(c===2){if(!n)return null;if(a===2||n.fitsBelow)return{coordinate:new D(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(u,g,...t){try{return u.call(g,...t)}catch{return null}}}),define(Q[431],J([0,1,99,3,119,348]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends w.DynamicViewOverlay{constructor(b){super();this._context=b;const v=this._context.configuration.options;this._lineHeight=v.get(58),this._typicalHalfwidthCharacterWidth=v.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return this._lineHeight=v.get(58),this._typicalHalfwidthCharacterWidth=v.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const v=b.getDecorationsInViewport();let u=[],g=0;for(let a=0,c=v.length;a<c;a++){const d=v[a];d.options.className&&(u[g++]=d)}u=u.sort((a,c)=>{if(a.options.zIndex<c.options.zIndex)return-1;if(a.options.zIndex>c.options.zIndex)return 1;const d=a.options.className,s=c.options.className;return d<s?-1:d>s?1:C.Range.compareRangesUsingStarts(a.range,c.range)});const t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,n=[];for(let a=t;a<=i;a++){const c=a-t;n[c]=""}this._renderWholeLineDecorations(b,u,n),this._renderNormalDecorations(b,u,n),this._renderResult=n}_renderWholeLineDecorations(b,v,u){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber;for(let n=0,a=v.length;n<a;n++){const c=v[n];if(!c.options.isWholeLine)continue;const d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',s=Math.max(c.range.startLineNumber,t),r=Math.min(c.range.endLineNumber,i);for(let o=s;o<=r;o++){const l=o-t;u[l]+=d}}}_renderNormalDecorations(b,v,u){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber;let i=null,n=!1,a=null;for(let c=0,d=v.length;c<d;c++){const s=v[c];if(s.options.isWholeLine)continue;const r=s.options.className,o=Boolean(s.options.showIfCollapsed);let l=s.range;if(o&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new C.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.model.getLineMaxColumn(l.endLineNumber-1))),i===r&&n===o&&C.Range.areIntersectingOrTouching(a,l)){a=C.Range.plusRange(a,l);continue}i!==null&&this._renderNormalDecoration(b,a,i,n,g,t,u),i=r,n=o,a=l}i!==null&&this._renderNormalDecoration(b,a,i,n,g,t,u)}_renderNormalDecoration(b,v,u,g,t,i,n){const a=b.linesVisibleRangesForRange(v,u==="findMatch");if(!!a)for(let c=0,d=a.length;c<d;c++){const s=a[c];if(s.outsideRenderedLine)continue;const r=s.lineNumber-i;if(g&&s.ranges.length===1){const o=s.ranges[0];if(o.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(o.left+o.width/2),h=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));s.ranges[0]=new N.HorizontalRange(h,this._typicalHalfwidthCharacterWidth)}}for(let o=0,l=s.ranges.length;o<l;o++){const h=s.ranges[o],m='<div class="cdr '+u+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+t+'px;"></div>';n[r]+=m}}}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=D}),define(Q[181],J([0,1,99,349]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class C{constructor(b,v,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+v,this.className=String(u)}}e.DecorationToRender=C;class N extends w.DynamicViewOverlay{_render(b,v,u){const g=[];for(let n=b;n<=v;n++){const a=n-b;g[a]=[]}if(u.length===0)return g;u.sort((n,a)=>n.className===a.className?n.startLineNumber===a.startLineNumber?n.endLineNumber-a.endLineNumber:n.startLineNumber-a.startLineNumber:n.className<a.className?-1:1);let t=null,i=0;for(let n=0,a=u.length;n<a;n++){const c=u[n],d=c.className;let s=Math.max(c.startLineNumber,b)-b;const r=Math.min(c.endLineNumber,v)-b;t===d?(s=Math.max(i+1,s),i=Math.max(i,r)):(t=d,i=r);for(let o=s;o<=i;o++)g[o].push(t)}return g}}e.DedupOverlay=N;class D extends N{constructor(b){super();this._context=b;const v=this._context.configuration.options,u=v.get(130);this._lineHeight=v.get(58),this._glyphMargin=v.get(49),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options,u=v.get(130);return this._lineHeight=v.get(58),this._glyphMargin=v.get(49),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const v=b.getDecorationsInViewport(),u=[];let g=0;for(let t=0,i=v.length;t<i;t++){const n=v[t],a=n.options.glyphMarginClassName;a&&(u[g++]=new C(n.range.startLineNumber,n.range.endLineNumber,a))}return u}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const v=b.visibleRange.startLineNumber,u=b.visibleRange.endLineNumber,g=this._render(v,u,this._getDecorations(b)),t=this._lineHeight.toString(),i=this._glyphMarginLeft.toString(),n=this._glyphMarginWidth.toString(),a='" style="left:'+i+"px;width:"+n+"px;height:"+t+'px;"></div>',c=[];for(let d=v;d<=u;d++){const s=d-v,r=g[s];r.length===0?c[s]="":c[s]='<div class="cgmr codicon '+r.join(" ")+a}this._renderResult=c}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=D}),define(Q[432],J([0,1,181,353]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class C extends w.DedupOverlay{constructor(D){super();this._context=D;const b=this._context.configuration.options.get(130);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const b=this._context.configuration.options.get(130);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),b=[];let v=0;for(let u=0,g=S.length;u<g;u++){const t=S[u],i=t.options.linesDecorationsClassName;i&&(b[v++]=new w.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i));const n=t.options.firstLineDecorationClassName;n&&(b[v++]=new w.DecorationToRender(t.range.startLineNumber,t.range.startLineNumber,n))}return b}prepareRender(D){const S=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,v=this._render(S,b,this._getDecorations(D)),u=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),t='" style="left:'+u+"px;width:"+g+'px;"></div>',i=[];for(let n=S;n<=b;n++){const a=n-S,c=v[a];let d="";for(let s=0,r=c.length;s<r;s++)d+='<div class="cldr '+c[s]+t;i[a]=d}this._renderResult=i}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=C}),define(Q[243],J([0,1,31,49]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class N extends C.ViewPart{constructor(S){super(S);const b=this._context.configuration.options,v=b.get(130);this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(N.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(N.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const b=this._context.configuration.options,v=b.get(130);return this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-b);const v=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=N,N.CLASS_NAME="glyph-margin",N.OUTER_CLASS_NAME="margin"}),define(Q[433],J([0,1,181,354]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class C extends w.DedupOverlay{constructor(D){super();this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),b=[];let v=0;for(let u=0,g=S.length;u<g;u++){const t=S[u],i=t.options.marginClassName;i&&(b[v++]=new w.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i))}return b}prepareRender(D){const S=D.visibleRange.startLineNumber,b=D.visibleRange.endLineNumber,v=this._render(S,b,this._getDecorations(D)),u=[];for(let g=S;g<=b;g++){const t=g-S,i=v[t];let n="";for(let a=0,c=i.length;a<c;a++)n+='<div class="cmdr '+i[a]+'" style=""></div>';u[t]=n}this._renderResult=u}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=C}),define(Q[434],J([0,1,31,49,356]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class N extends C.ViewPart{constructor(S){super(S);const v=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),C.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const v=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(S){const b=(0,w.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",S.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(S,b){const v=this._widgets[S.getId()];return v.preference===b?!1:(v.preference=b,this.setShouldRender(),!0)}removeWidget(S){const b=S.getId();if(this._widgets.hasOwnProperty(b)){const u=this._widgets[b].domNode.domNode;delete this._widgets[b],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(S){const b=S.domNode;if(S.preference===null){b.unsetTop();return}if(S.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const v=b.domNode.clientHeight;b.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let v=0,u=b.length;v<u;v++){const g=b[v];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=N}),define(Q[435],J([0,1,31,240,121]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends N.ViewEventHandler{constructor(b,v){super();this._context=b;const u=this._context.configuration.options;this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new C.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(58)),this._zoneManager.setPixelRatio(u.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return b.hasChanged(58)&&(this._zoneManager.setLineHeight(v.get(58)),this._render()),b.hasChanged(128)&&(this._zoneManager.setPixelRatio(v.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let v=!1;v=this._zoneManager.setDOMWidth(b.width)||v,v=this._zoneManager.setDOMHeight(b.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),t=this._domNode.domNode.getContext("2d");return t.clearRect(0,0,b,v),u.length>0&&this._renderOneLane(t,u,g,b),!0}_renderOneLane(b,v,u,g){let t=0,i=0,n=0;for(const a of v){const c=a.colorId,d=a.from,s=a.to;c!==t?(b.fillRect(0,i,g,n-i),t=c,b.fillStyle=u[t],i=d,n=s):n>=d?n=Math.max(n,s):(b.fillRect(0,i,g,n-i),i=d,n=s)}b.fillRect(0,i,g,n-i)}}e.OverviewRuler=D}),define(Q[436],J([0,1,31,14,49,11]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class b extends N.ViewPart{constructor(g){super(g);const t=this._context.configuration.options,i=t.get(130);this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of g)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace(n=>{const a=Object.keys(this._zones);for(let c=0,d=a.length;c<d;c++){const s=a[c],r=this._zones[s],o=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=o.isInHiddenArea;const l=t.get(s);l&&(l.afterLineNumber!==o.afterViewLineNumber||l.height!==o.heightInPx)&&(n.changeOneWhitespace(s,o.afterViewLineNumber,o.heightInPx),this._safeCallOnComputedHeight(r.delegate,o.heightInPx),i=!0)}}),i}onConfigurationChanged(g){const t=this._context.configuration.options,i=t.get(130);return this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,g.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn!="undefined"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let t;if(typeof g.afterColumn!="undefined")t=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const c=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;t=new D.Position(c,this._context.model.getModelLineMaxColumn(c))}let i;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?i=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),a=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!a,afterViewLineNumber:n.lineNumber,heightInPx:a?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:a=>(t=!0,this._addZone(i,a)),removeZone:a=>{!a||(t=this._removeZone(i,a)||t)},layoutZone:a=>{!a||(t=this._layoutZone(i,a)||t)}};v(g,n),n.addZone=S,n.removeZone=S,n.layoutZone=S}),t}_addZone(g,t){const i=this._computeWhitespaceProps(t),a={whitespaceId:g.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,w.createFastDomNode)(t.domNode),marginDomNode:t.marginDomNode?(0,w.createFastDomNode)(t.marginDomNode):null};return this._safeCallOnComputedHeight(a.delegate,i.heightInPx),a.domNode.setPosition("absolute"),a.domNode.domNode.style.width="100%",a.domNode.setDisplay("none"),a.domNode.setAttribute("monaco-view-zone",a.whitespaceId),this.domNode.appendChild(a.domNode),a.marginDomNode&&(a.marginDomNode.setPosition("absolute"),a.marginDomNode.domNode.style.width="100%",a.marginDomNode.setDisplay("none"),a.marginDomNode.setAttribute("monaco-view-zone",a.whitespaceId),this.marginDomNode.appendChild(a.marginDomNode)),this._zones[a.whitespaceId]=a,this.setShouldRender(),a.whitespaceId}_removeZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],g.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,g.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const t=this._zones[g];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,t){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(t)}catch(i){(0,C.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(g,t){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(t)}catch(i){(0,C.onUnexpectedError)(i)}}prepareRender(g){}render(g){const t=g.viewportData.whitespaceViewportData,i={};let n=!1;for(const c of t)this._zones[c.id].isInHiddenArea||(i[c.id]=c,n=!0);const a=Object.keys(this._zones);for(let c=0,d=a.length;c<d;c++){const s=a[c],r=this._zones[s];let o=0,l=0,h="none";i.hasOwnProperty(s)?(o=i[s].verticalOffset-g.bigNumbersDelta,l=i[s].height,h="block",r.isVisible||(r.domNode.setAttribute("monaco-visible-view-zone","true"),r.isVisible=!0),this._safeCallOnDomNodeTop(r.delegate,g.getScrolledTopFromAbsoluteTop(i[s].verticalOffset))):(r.isVisible&&(r.domNode.removeAttribute("monaco-visible-view-zone"),r.isVisible=!1),this._safeCallOnDomNodeTop(r.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),r.domNode.setTop(o),r.domNode.setHeight(l),r.domNode.setDisplay(h),r.marginDomNode&&(r.marginDomNode.setTop(o),r.marginDomNode.setHeight(l),r.marginDomNode.setDisplay(h))}n&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function v(u,g){try{return u(g)}catch(t){(0,C.onUnexpectedError)(t)}}}),define(Q[66],J([0,1,8,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class N{constructor(n,a,c,d){this._viewportBrand=void 0,this.top=n|0,this.left=a|0,this.width=c|0,this.height=d|0}}e.Viewport=N;class D{constructor(n,a){this.tabSize=n,this.data=a}}e.MinimapLinesRenderingData=D;class S{constructor(n,a,c,d,s,r,o){this._viewLineDataBrand=void 0,this.content=n,this.continuesWithWrappedLine=a,this.minColumn=c,this.maxColumn=d,this.startVisibleColumn=s,this.tokens=r,this.inlineDecorations=o}}e.ViewLineData=S;class b{constructor(n,a,c,d,s,r,o,l,h,m){this.minColumn=n,this.maxColumn=a,this.content=c,this.continuesWithWrappedLine=d,this.isBasicASCII=b.isBasicASCII(c,r),this.containsRTL=b.containsRTL(c,this.isBasicASCII,s),this.tokens=o,this.inlineDecorations=l,this.tabSize=h,this.startVisibleColumn=m}static isBasicASCII(n,a){return a?w.isBasicASCII(n):!0}static containsRTL(n,a,c){return!a&&c?w.containsRTL(n):!1}}e.ViewLineRenderingData=b;class v{constructor(n,a,c){this.range=n,this.inlineClassName=a,this.type=c}}e.InlineDecoration=v;class u{constructor(n,a,c,d){this.startOffset=n,this.endOffset=a,this.inlineClassName=c,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(n){return new v(new C.Range(n,this.startOffset+1,n,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class g{constructor(n,a){this._viewModelDecorationBrand=void 0,this.range=n,this.options=a}}e.ViewModelDecoration=g;class t{constructor(n,a,c){this.color=n,this.zIndex=a,this.data=c}static cmp(n,a){return n.zIndex===a.zIndex?n.color<a.color?-1:n.color>a.color?1:0:n.zIndex-a.zIndex}}e.OverviewRulerDecorationsGroup=t}),define(Q[182],J([0,1,4,2]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class N extends C.Disposable{constructor(){super();this._onEvent=this._register(new w.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOutgoingEvents()}_addOutgoingEvent(a){for(let c=0,d=this._outgoingEvents.length;c<d;c++)if(this._outgoingEvents[c].kind===a.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(a);return}this._outgoingEvents.push(a)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let c=0,d=this._eventHandlers.length;c<d;c++)this._eventHandlers[c]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===a){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const d of a)this._addOutgoingEvent(d);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const d of c)d.handleEvents(a)}}}e.ViewModelEventDispatcher=N;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=D;class S{constructor(a,c,d,s){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=c,this.contentWidth=d,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(a){return a.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=S;class b{constructor(a,c){this.kind=1,this.oldHasFocus=a,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(a){return a.kind!==1?this:new b(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=b;class v{constructor(a,c,d,s,r,o,l,h){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=c,this._oldScrollHeight=d,this._oldScrollTop=s,this.scrollWidth=r,this.scrollLeft=o,this.scrollHeight=l,this.scrollTop=h,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(a){return a.kind!==2?this:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=v;class u{constructor(){this.kind=3}isNoOp(){return!1}merge(a){return this}}e.ViewZonesChangedEvent=u;class g{constructor(){this.kind=4}isNoOp(){return!1}merge(a){return this}}e.HiddenAreasChangedEvent=g;class t{constructor(a,c,d,s,r,o,l){this.kind=6,this.oldSelections=a,this.selections=c,this.oldModelVersionId=d,this.modelVersionId=s,this.source=r,this.reason=o,this.reachedMaxCursorCount=l}static _selectionsAreEqual(a,c){if(!a&&!c)return!0;if(!a||!c)return!1;const d=a.length,s=c.length;if(d!==s)return!1;for(let r=0;r<d;r++)if(!a[r].equalsSelection(c[r]))return!1;return!0}isNoOp(){return t._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(a){return a.kind!==6?this:new t(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=t;class i{constructor(){this.kind=5}isNoOp(){return!1}merge(a){return this}}e.ReadOnlyEditAttemptEvent=i}),define(Q[437],J([0,1,4,2,136,425,66,182]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class u{constructor(n,a,c,d){n=n|0,a=a|0,c=c|0,d=d|0,n<0&&(n=0),a<0&&(a=0),c<0&&(c=0),d<0&&(d=0),this.width=n,this.contentWidth=a,this.scrollWidth=Math.max(n,a),this.height=c,this.contentHeight=d,this.scrollHeight=Math.max(c,d)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class g extends C.Disposable{constructor(n,a){super();this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new N.Scrollable(n,a)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const a=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const c=a.contentWidth!==n.contentWidth,d=a.contentHeight!==n.contentHeight;(c||d)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(a.contentWidth,a.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}}class t extends C.Disposable{constructor(n,a,c){super();this._configuration=n;const d=this._configuration.options,s=d.get(130),r=d.get(74);this._linesLayout=new D.LinesLayout(a,d.get(58),r.top,r.bottom),this._scrollable=this._register(new g(0,c)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?v:0)}onConfigurationChanged(n){const a=this._configuration.options;if(n.hasChanged(58)&&this._linesLayout.setLineHeight(a.get(58)),n.hasChanged(74)){const c=a.get(74);this._linesLayout.setPadding(c.top,c.bottom)}if(n.hasChanged(130)){const c=a.get(130),d=c.contentWidth,s=c.height,r=this._scrollable.getScrollDimensions(),o=r.contentWidth;this._scrollable.setScrollDimensions(new u(d,r.contentWidth,s,this._getContentHeight(d,s,o)))}else this._updateHeight();n.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,a){this._linesLayout.onLinesDeleted(n,a)}onLinesInserted(n,a){this._linesLayout.onLinesInserted(n,a)}_getHorizontalScrollbarHeight(n,a){const d=this._configuration.options.get(91);return d.horizontal===2||n>=a?0:d.horizontalScrollbarSize}_getContentHeight(n,a,c){const d=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return d.get(93)?s+=Math.max(0,a-d.get(58)-d.get(74).bottom):s+=this._getHorizontalScrollbarHeight(n,c),s}_updateHeight(){const n=this._scrollable.getScrollDimensions(),a=n.width,c=n.height,d=n.contentWidth;this._scrollable.setScrollDimensions(new u(a,n.contentWidth,c,this._getContentHeight(a,c,d)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),a=this._scrollable.getCurrentScrollPosition();return new S.Viewport(a.scrollTop,a.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),a=this._scrollable.getFutureScrollPosition();return new S.Viewport(a.scrollTop,a.scrollLeft,n.width,n.height)}_computeContentWidth(n){const a=this._configuration.options,c=a.get(131),d=a.get(43);if(c.isViewportWrapping){const s=a.get(130),r=a.get(64);return n>s.contentWidth+d.typicalHalfwidthCharacterWidth&&r.enabled&&r.side==="right"?n+s.verticalScrollbarWidth:n}else{const s=a.get(92)*d.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(n+s,r)}}setMaxLineWidth(n){const a=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(a.width,this._computeContentWidth(n),a.height,a.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),a=n.scrollTop,c=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(a),d=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(c);return{scrollTop:a,scrollTopWithoutViewZones:a-d,scrollLeft:n.scrollLeft}}changeWhitespace(n){const a=this._linesLayout.changeWhitespace(n);return a&&this.onHeightMaybeChanged(),a}getVerticalOffsetForLineNumber(n){return this._linesLayout.getVerticalOffsetForLineNumber(n)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const a=this._scrollable.getScrollDimensions();return n+a.height>a.scrollHeight&&(n=a.scrollHeight-a.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+a.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,a){a===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}deltaScrollNow(n,a){const c=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:c.scrollLeft+n,scrollTop:c.scrollTop+a})}}e.ViewLayout=t}),define(Q[438],J([0,1,3,21]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class N{constructor(S,b){this._selection=S,this._isMovingLeft=b}getEditOperations(S,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,u=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&g===S.getLineMaxColumn(v)))if(this._isMovingLeft){const t=new w.Range(v,u-1,v,u),i=S.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new w.Range(v,g,v,g),i)}else{const t=new w.Range(v,g,v,g+1),i=S.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new w.Range(v,u,v,u),i)}}computeCursorState(S,b){return this._isMovingLeft?new C.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new C.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=N}),define(Q[150],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class w{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+w.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new w(this.value+w.sep+v)}}e.CodeActionKind=w,w.sep=".",w.None=new w("@@none@@"),w.Empty=new w(""),w.QuickFix=new w("quickfix"),w.Refactor=new w("refactor"),w.Source=new w("source"),w.SourceOrganizeImports=w.Source.append("organizeImports"),w.SourceFixAll=w.Source.append("fixAll");function C(b,v){return!(b.include&&!b.include.intersects(v)||b.excludes&&b.excludes.some(u=>D(v,u,b.include))||!b.includeSourceActions&&w.Source.contains(v))}e.mayIncludeActionsOfKind=C;function N(b,v){const u=v.kind?new w(v.kind):void 0;return!(b.include&&(!u||!b.include.contains(u))||b.excludes&&u&&b.excludes.some(g=>D(u,g,b.include))||!b.includeSourceActions&&u&&w.Source.contains(u)||b.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=N;function D(b,v,u){return!(!v.contains(b)||u&&v.contains(u))}class S{constructor(v,u,g){this.kind=v,this.apply=u,this.preferred=g}static fromUser(v,u){return!v||typeof v!="object"?new S(u.kind,u.apply,!1):new S(S.getKindFromUser(v,u.kind),S.getApplyFromUser(v,u.apply),S.getPreferredUser(v))}static getApplyFromUser(v,u){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return u}}static getKindFromUser(v,u){return typeof v.kind=="string"?new w(v.kind):u}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=S}),define(Q[439],J([0,1,4]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class C{constructor(D,S,b){this.presentationIndex=b,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new w.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new w.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){for(let b=0;b<this.colorPresentations.length;b++)if(S.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=C}),define(Q[244],J([0,1,59,11,3,21]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(v,u,g){this.languageConfigurationService=g,this._selection=v,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(v,u,g){if(g<0)return!1;const t=u.length,i=v.length;if(g+t>i)return!1;for(let n=0;n<t;n++){const a=v.charCodeAt(g+n),c=u.charCodeAt(n);if(a!==c&&!(a>=65&&a<=90&&a+32===c)&&!(c>=65&&c<=90&&c+32===a))return!1}return!0}_createOperationsForBlockComment(v,u,g,t,i,n){const a=v.startLineNumber,c=v.startColumn,d=v.endLineNumber,s=v.endColumn,r=i.getLineContent(a),o=i.getLineContent(d);let l=r.lastIndexOf(u,c-1+u.length),h=o.indexOf(g,s-1-g.length);if(l!==-1&&h!==-1)if(a===d)r.substring(l+u.length,h).indexOf(g)>=0&&(l=-1,h=-1);else{const y=r.substring(l+u.length),p=o.substring(0,h);(y.indexOf(g)>=0||p.indexOf(g)>=0)&&(l=-1,h=-1)}let m;l!==-1&&h!==-1?(t&&l+u.length<r.length&&r.charCodeAt(l+u.length)===32&&(u=u+" "),t&&h>0&&o.charCodeAt(h-1)===32&&(g=" "+g,h-=1),m=S._createRemoveBlockCommentOperations(new N.Range(a,l+u.length+1,d,h+1),u,g)):(m=S._createAddBlockCommentOperations(v,u,g,this._insertSpace),this._usedEndToken=m.length===1?g:null);for(const y of m)n.addTrackedEditOperation(y.range,y.text)}static _createRemoveBlockCommentOperations(v,u,g){let t=[];return N.Range.isEmpty(v)?t.push(w.EditOperation.delete(new N.Range(v.startLineNumber,v.startColumn-u.length,v.endLineNumber,v.endColumn+g.length))):(t.push(w.EditOperation.delete(new N.Range(v.startLineNumber,v.startColumn-u.length,v.startLineNumber,v.startColumn))),t.push(w.EditOperation.delete(new N.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn+g.length)))),t}static _createAddBlockCommentOperations(v,u,g,t){let i=[];return N.Range.isEmpty(v)?i.push(w.EditOperation.replace(new N.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn),u+"  "+g)):(i.push(w.EditOperation.insert(new C.Position(v.startLineNumber,v.startColumn),u+(t?" ":""))),i.push(w.EditOperation.insert(new C.Position(v.endLineNumber,v.endColumn),(t?" ":"")+g))),i}getEditOperations(v,u){const g=this._selection.startLineNumber,t=this._selection.startColumn;v.tokenizeIfCheap(g);const i=v.getLanguageIdAtPosition(g,t),n=this.languageConfigurationService.getLanguageConfiguration(i).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,v,u)}computeCursorState(v,u){const g=u.getInverseEditOperations();if(g.length===2){const t=g[0],i=g[1];return new D.Selection(t.range.endLineNumber,t.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const t=g[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(t.endLineNumber,t.endColumn+i,t.endLineNumber,t.endColumn+i)}}}e.BlockCommentCommand=S}),define(Q[440],J([0,1,3,21]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class N{constructor(S,b,v){this.selection=S,this.targetPosition=b,this.copy=v,this.targetSelection=null}getEditOperations(S,b){let v=S.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new w.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,b){return this.targetSelection}}e.DragAndDropCommand=N}),define(Q[441],J([0,1,3]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class C{constructor(D,S,b){this._editorSelection=D,this._ranges=S,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){let b=[];for(let g=0;g<this._ranges.length;g++)b.push({range:this._ranges[g],text:this._replaceStrings[g]});b.sort((g,t)=>w.Range.compareRangesUsingStarts(g.range,t.range));let v=[],u=b[0];for(let g=1;g<b.length;g++)u.range.endLineNumber===b[g].range.startLineNumber&&u.range.endColumn===b[g].range.startColumn?(u.range=u.range.plusRange(b[g].range),u.text=u.text+b[g].text):(v.push(u),u=b[g]);v.push(u);for(const g of v)S.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=C}),define(Q[442],J([0,1,316]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class C{constructor(g){this.staticValue=g,this.kind=0}}class N{constructor(g){this.pieces=g,this.kind=1}}class D{constructor(g){!g||g.length===0?this._state=new C(""):g.length===1&&g[0].staticValue!==null?this._state=new C(g[0].staticValue):this._state=new N(g)}static fromStaticValue(g){return new D([S.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(g,t){if(this._state.kind===0)return t?(0,w.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,a=this._state.pieces.length;n<a;n++){let c=this._state.pieces[n];if(c.staticValue!==null){i+=c.staticValue;continue}let d=D._substitute(c.matchIndex,g);if(c.caseOps!==null&&c.caseOps.length>0){let s=[],r=c.caseOps.length,o=0;for(let l=0,h=d.length;l<h;l++){if(o>=r){s.push(d.slice(l));break}switch(c.caseOps[o]){case"U":s.push(d[l].toUpperCase());break;case"u":s.push(d[l].toUpperCase()),o++;break;case"L":s.push(d[l].toLowerCase());break;case"l":s.push(d[l].toLowerCase()),o++;break;default:s.push(d[l])}}d=s.join("")}i+=d}return i}static _substitute(g,t){if(t===null)return"";if(g===0)return t[0];let i="";for(;g>0;){if(g<t.length)return(t[g]||"")+i;i=String(g%10)+i,g=Math.floor(g/10)}return"$"+i}}e.ReplacePattern=D;class S{constructor(g,t,i){this.staticValue=g,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(g){return new S(g,-1,null)}static caseOps(g,t){return new S(null,g,t)}}e.ReplacePiece=S;class b{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,t){this._emitStatic(g),this._lastCharIndex=t}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(g,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function v(u){if(!u||u.length===0)return new D(null);let g=[],t=new b(u);for(let i=0,n=u.length;i<n;i++){let a=u.charCodeAt(i);if(a===92){if(i++,i>=n)break;let c=u.charCodeAt(i);switch(c){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),g.push(String.fromCharCode(c));break}continue}if(a===36){if(i++,i>=n)break;let c=u.charCodeAt(i);if(c===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(c===48||c===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,g),g.length=0;continue}if(49<=c&&c<=57){let d=c-48;if(i+1<n){let s=u.charCodeAt(i+1);if(48<=s&&s<=57){i++,d=d*10+(s-48),t.emitUnchanged(i-2),t.emitMatchIndex(d,i+1,g),g.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(d,i+1,g),g.length=0;continue}}}return t.finalize()}e.parseReplaceString=v}),define(Q[183],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const w=4278190080;class C{constructor(S,b,v){if(S.length!==b.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=b,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],b=(v,u)=>{let g=S[S.length-1];return this.getStartLineNumber(g)<=v&&this.getEndLineNumber(g)>=u};for(let v=0,u=this._startIndexes.length;v<u;v++){let g=this._startIndexes[v],t=this._endIndexes[v];if(g>e.MAX_LINE_NUMBER||t>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!b(g,t);)S.pop();let i=S.length>0?S[S.length-1]:-1;S.push(v),this._startIndexes[v]=g+((i&255)<<24),this._endIndexes[v]=t+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let b=S/32|0,v=S%32;return(this._collapseStates[b]&1<<v)!=0}setCollapsed(S,b){let v=S/32|0,u=S%32,g=this._collapseStates[v];b?this._collapseStates[v]=g|1<<u:this._collapseStates[v]=g&~(1<<u)}setCollapsedAllOfType(S,b){let v=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===S&&(this.setCollapsed(u,b),v=!0);return v}toRegion(S){return new N(this,S)}getParentIndex(S){this.ensureParentIndices();let b=((this._startIndexes[S]&w)>>>24)+((this._endIndexes[S]&w)>>>16);return b===e.MAX_FOLDING_REGIONS?-1:b}contains(S,b){return this.getStartLineNumber(S)<=b&&this.getEndLineNumber(S)>=b}findIndex(S){let b=0,v=this._startIndexes.length;if(v===0)return-1;for(;b<v;){let u=Math.floor((b+v)/2);S<this.getStartLineNumber(u)?v=u:b=u+1}return b-1}findRange(S){let b=this.findIndex(S);if(b>=0){if(this.getEndLineNumber(b)>=S)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,S))return b;b=this.getParentIndex(b)}}return-1}toString(){let S=[];for(let b=0;b<this.length;b++)S[b]=`[${this.isCollapsed(b)?"+":"-"}] ${this.getStartLineNumber(b)}/${this.getEndLineNumber(b)}`;return S.join(", ")}}e.FoldingRegions=C;class N{constructor(S,b){this.ranges=S,this.index=b}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=N}),define(Q[443],J([0,1,4,183]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class N{constructor(s,r){this._updateEventEmitter=new w.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=s,this._decorationProvider=r,this._regions=new C.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(s){if(!s.length)return;s=s.sort((o,l)=>o.regionIndex-l.regionIndex);const r={};this._decorationProvider.changeDecorations(o=>{let l=0,h=-1,m=-1;const y=p=>{for(;l<p;){const f=this._regions.getEndLineNumber(l),_=this._regions.isCollapsed(l);f<=h&&o.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(_,f<=m)),_&&f>m&&(m=f),l++}};for(let p of s){let f=p.regionIndex,_=this._editorDecorationIds[f];if(_&&!r[_]){r[_]=!0,y(f);let I=!this._regions.isCollapsed(f);this._regions.setCollapsed(f,I),h=Math.max(h,this._regions.getEndLineNumber(f))}}y(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}update(s,r=[]){let o=[],l=(I,E)=>{for(let T of r)if(I<T&&T<=E)return!0;return!1},h=-1,m=(I,E)=>{const T=s.getStartLineNumber(I),k=s.getEndLineNumber(I);E||(E=s.isCollapsed(I)),E&&l(T,k)&&(E=!1),s.setCollapsed(I,E);const A=this._textModel.getLineMaxColumn(T),P={startLineNumber:T,startColumn:Math.max(A-1,1),endLineNumber:T,endColumn:A};o.push({range:P,options:this._decorationProvider.getDecorationOption(E,k<=h)}),E&&k>h&&(h=k)},y=0,p=()=>{for(;y<this._regions.length;){let I=this._regions.isCollapsed(y);if(y++,I)return y-1}return-1},f=0,_=p();for(;_!==-1&&f<s.length;){let I=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(I){let E=I.startLineNumber;if(I.startColumn===Math.max(I.endColumn-1,1)&&this._textModel.getLineMaxColumn(E)===I.endColumn)for(;f<s.length;){let T=s.getStartLineNumber(f);if(E>=T)m(f,E===T),f++;else break}}_=p()}for(;f<s.length;)m(f,!1),f++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,o),this._regions=s,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let s=[];for(let r=0;r<this._regions.length;r++)if(this._regions.isCollapsed(r)){let o=this._textModel.getDecorationRange(this._editorDecorationIds[r]);if(o){let l=o.startLineNumber,h=o.endLineNumber+this._regions.getEndLineNumber(r)-this._regions.getStartLineNumber(r);s.push({startLineNumber:l,endLineNumber:h})}}if(s.length>0)return s}applyMemento(s){if(!Array.isArray(s))return;let r=[];for(let o of s){let l=this.getRegionAtLine(o.startLineNumber);l&&!l.isCollapsed&&r.push(l)}this.toggleCollapseState(r)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(s,r){let o=[];if(this._regions){let l=this._regions.findRange(s),h=1;for(;l>=0;){let m=this._regions.toRegion(l);(!r||r(m,h))&&o.push(m),h++,l=m.parentIndex}}return o}getRegionAtLine(s){if(this._regions){let r=this._regions.findRange(s);if(r>=0)return this._regions.toRegion(r)}return null}getRegionsInside(s,r){let o=[],l=s?s.regionIndex+1:0,h=s?s.endLineNumber:Number.MAX_VALUE;if(r&&r.length===2){const m=[];for(let y=l,p=this._regions.length;y<p;y++){let f=this._regions.toRegion(y);if(this._regions.getStartLineNumber(y)<h){for(;m.length>0&&!f.containedBy(m[m.length-1]);)m.pop();m.push(f),r(f,m.length)&&o.push(f)}else break}}else for(let m=l,y=this._regions.length;m<y;m++){let p=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<h)(!r||r(p))&&o.push(p);else break}return o}}e.FoldingModel=N;function D(d,s,r){let o=[];for(let l of r){let h=d.getRegionAtLine(l);if(h){const m=!h.isCollapsed;if(o.push(h),s>1){let y=d.getRegionsInside(h,(p,f)=>p.isCollapsed!==m&&f<s);o.push(...y)}}}d.toggleCollapseState(o)}e.toggleCollapseState=D;function S(d,s,r=Number.MAX_VALUE,o){let l=[];if(o&&o.length>0)for(let h of o){let m=d.getRegionAtLine(h);if(m&&(m.isCollapsed!==s&&l.push(m),r>1)){let y=d.getRegionsInside(m,(p,f)=>p.isCollapsed!==s&&f<r);l.push(...y)}}else{let h=d.getRegionsInside(null,(m,y)=>m.isCollapsed!==s&&y<r);l.push(...h)}d.toggleCollapseState(l)}e.setCollapseStateLevelsDown=S;function b(d,s,r,o){let l=[];for(let h of o){let m=d.getAllRegionsAtLine(h,(y,p)=>y.isCollapsed!==s&&p<=r);l.push(...m)}d.toggleCollapseState(l)}e.setCollapseStateLevelsUp=b;function v(d,s,r){let o=[];for(let l of r){let h=d.getAllRegionsAtLine(l,m=>m.isCollapsed!==s);h.length>0&&o.push(h[0])}d.toggleCollapseState(o)}e.setCollapseStateUp=v;function u(d,s,r,o){let l=(m,y)=>y===s&&m.isCollapsed!==r&&!o.some(p=>m.containsLine(p)),h=d.getRegionsInside(null,l);d.toggleCollapseState(h)}e.setCollapseStateAtLevel=u;function g(d,s,r){let o=[];for(let m of r)o.push(d.getAllRegionsAtLine(m,void 0)[0]);let l=m=>o.every(y=>!y.containedBy(m)&&!m.containedBy(y))&&m.isCollapsed!==s,h=d.getRegionsInside(null,l);d.toggleCollapseState(h)}e.setCollapseStateForRest=g;function t(d,s,r){let o=d.textModel,l=d.regions,h=[];for(let m=l.length-1;m>=0;m--)if(r!==l.isCollapsed(m)){let y=l.getStartLineNumber(m);s.test(o.getLineContent(y))&&h.push(l.toRegion(m))}d.toggleCollapseState(h)}e.setCollapseStateForMatchingLines=t;function i(d,s,r){let o=d.regions,l=[];for(let h=o.length-1;h>=0;h--)r!==o.isCollapsed(h)&&s===o.getType(h)&&l.push(o.toRegion(h));d.toggleCollapseState(l)}e.setCollapseStateForType=i;function n(d,s){let r=null,o=s.getRegionAtLine(d);if(o!==null&&(r=o.startLineNumber,d===r)){let l=o.parentIndex;l!==-1?r=s.regions.getStartLineNumber(l):r=null}return r}e.getParentFoldLine=n;function a(d,s){let r=s.getRegionAtLine(d);if(r!==null&&r.startLineNumber===d){if(d!==r.startLineNumber)return r.startLineNumber;{let o=r.parentIndex,l=0;for(o!==-1&&(l=s.regions.getStartLineNumber(r.parentIndex));r!==null;)if(r.regionIndex>0){if(r=s.regions.toRegion(r.regionIndex-1),r.startLineNumber<=l)return null;if(r.parentIndex===o)return r.startLineNumber}else return null}}else if(s.regions.length>0)for(r=s.regions.toRegion(s.regions.length-1);r!==null;){if(r.startLineNumber<d)return r.startLineNumber;r.regionIndex>0?r=s.regions.toRegion(r.regionIndex-1):r=null}return null}e.getPreviousFoldLine=a;function c(d,s){let r=s.getRegionAtLine(d);if(r!==null&&r.startLineNumber===d){let o=r.parentIndex,l=0;if(o!==-1)l=s.regions.getEndLineNumber(r.parentIndex);else{if(s.regions.length===0)return null;l=s.regions.getEndLineNumber(s.regions.length-1)}for(;r!==null;)if(r.regionIndex<s.regions.length){if(r=s.regions.toRegion(r.regionIndex+1),r.startLineNumber>=l)return null;if(r.parentIndex===o)return r.startLineNumber}else return null}else if(s.regions.length>0)for(r=s.regions.toRegion(0);r!==null;){if(r.startLineNumber>d)return r.startLineNumber;r.regionIndex<s.regions.length?r=s.regions.toRegion(r.regionIndex+1):r=null}return null}e.getNextFoldLine=c}),define(Q[444],J([0,1,19,4,3,118]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{constructor(g){this._updateEventEmitter=new C.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,D.countEOL)(t.text)[0]!==0))}updateHiddenRanges(){let g=!1,t=[],i=0,n=0,a=Number.MAX_VALUE,c=-1,d=this._foldingModel.regions;for(;i<d.length;i++){if(!d.isCollapsed(i))continue;let s=d.getStartLineNumber(i)+1,r=d.getEndLineNumber(i);a<=s&&r<=c||(!g&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===s&&this._hiddenRanges[n].endLineNumber===r?(t.push(this._hiddenRanges[n]),n++):(g=!0,t.push(new N.Range(s,1,r,1))),a=s,c=r)}(this._hasLineChanges||g||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(g){if(!Array.isArray(g)||g.length===0)return!1;let t=[];for(let i of g){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new N.Range(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(g=>({startLineNumber:g.startLineNumber-1,endLineNumber:g.endLineNumber}))}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return v(this._hiddenRanges,g)!==null}adjustSelections(g){let t=!1,i=this._foldingModel.textModel,n=null,a=c=>((!n||!b(c,n))&&(n=v(this._hiddenRanges,c)),n?n.startLineNumber-1:null);for(let c=0,d=g.length;c<d;c++){let s=g[c],r=a(s.startLineNumber);r&&(s=s.setStartPosition(r,i.getLineMaxColumn(r)),t=!0);let o=a(s.endLineNumber);o&&(s=s.setEndPosition(o,i.getLineMaxColumn(o)),t=!0),g[c]=s}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function b(u,g){return u>=g.startLineNumber&&u<=g.endLineNumber}function v(u,g){let t=(0,w.findFirstInSorted)(u,i=>g<i.startLineNumber)-1;return t>=0&&u[t].endLineNumber>=g?u[t]:null}}),define(Q[445],J([0,1,177,183]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const N=5e3;e.ID_INDENT_PROVIDER="indent";class D{constructor(u,g){this.editorModel=u,this.languageConfigurationService=g,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u){let g=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,t=g&&!!g.offSide,i=g&&g.markers;return Promise.resolve(b(this.editorModel,t,i))}}e.IndentRangeProvider=D;class S{constructor(u){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,g,t){if(u>C.MAX_LINE_NUMBER||g>C.MAX_LINE_NUMBER)return;let i=this._length;this._startIndexes[i]=u,this._endIndexes[i]=g,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(u){if(this._length<=this._foldingRangesLimit){let g=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)g[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new C.FoldingRegions(g,t)}else{let g=0,t=this._indentOccurrences.length;for(let c=0;c<this._indentOccurrences.length;c++){let d=this._indentOccurrences[c];if(d){if(d+g>this._foldingRangesLimit){t=c;break}g+=d}}const i=u.getOptions().tabSize;let n=new Uint32Array(this._foldingRangesLimit),a=new Uint32Array(this._foldingRangesLimit);for(let c=this._length-1,d=0;c>=0;c--){let s=this._startIndexes[c],r=u.getLineContent(s),o=(0,w.computeIndentLevel)(r,i);(o<t||o===t&&g++<this._foldingRangesLimit)&&(n[d]=s,a[d]=this._endIndexes[c],d++)}return new C.FoldingRegions(n,a)}}}e.RangesCollector=S;function b(v,u,g,t=N){const i=v.getOptions().tabSize;let n=new S(t),a;g&&(a=new RegExp(`(${g.start.source})|(?:${g.end.source})`));let c=[],d=v.getLineCount()+1;c.push({indent:-1,endAbove:d,line:d});for(let s=v.getLineCount();s>0;s--){let r=v.getLineContent(s),o=(0,w.computeIndentLevel)(r,i),l=c[c.length-1];if(o===-1){u&&(l.endAbove=s);continue}let h;if(a&&(h=r.match(a)))if(h[1]){let m=c.length-1;for(;m>0&&c[m].indent!==-2;)m--;if(m>0){c.length=m+1,l=c[m],n.insertFirst(s,l.line,o),l.line=s,l.indent=o,l.endAbove=s;continue}}else{c.push({indent:-2,endAbove:s,line:s});continue}if(l.indent>o){do c.pop(),l=c[c.length-1];while(l.indent>o);let m=l.endAbove-1;m-s>=1&&n.insertFirst(s,m,o)}l.indent===o?l.endAbove=s:c.push({indent:o,endAbove:s,line:s})}return n.toIndentRanges(v)}e.computeRanges=b}),define(Q[245],J([0,1,14,2,183]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const D=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class b{constructor(i,n,a,c=D){this.editorModel=i,this.providers=n,this.limit=c,this.id=e.ID_SYNTAX_PROVIDER;for(const d of n)typeof d.onDidChange=="function"&&(this.disposables||(this.disposables=new C.DisposableStore),this.disposables.add(d.onDidChange(a)))}compute(i){return v(this.providers,this.editorModel,i).then(n=>n?g(n,this.limit):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}}e.SyntaxRangeProvider=b;function v(t,i,n){let a=null,c=t.map((d,s)=>Promise.resolve(d.provideFoldingRanges(i,S,n)).then(r=>{if(!n.isCancellationRequested&&Array.isArray(r)){Array.isArray(a)||(a=[]);let o=i.getLineCount();for(let l of r)l.start>0&&l.end>l.start&&l.end<=o&&a.push({start:l.start,end:l.end,rank:s,kind:l.kind})}},w.onUnexpectedExternalError));return Promise.all(c).then(d=>a)}class u{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,a,c){if(i>N.MAX_LINE_NUMBER||n>N.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=i,this._endIndexes[d]=n,this._nestingLevels[d]=c,this._types[d]=a,this._length++,c<30&&(this._nestingLevelCounts[c]=(this._nestingLevelCounts[c]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let a=0;a<this._length;a++)i[a]=this._startIndexes[a],n[a]=this._endIndexes[a];return new N.FoldingRegions(i,n,this._types)}else{let i=0,n=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let r=this._nestingLevelCounts[s];if(r){if(r+i>this._foldingRangesLimit){n=s;break}i+=r}}let a=new Uint32Array(this._foldingRangesLimit),c=new Uint32Array(this._foldingRangesLimit),d=[];for(let s=0,r=0;s<this._length;s++){let o=this._nestingLevels[s];(o<n||o===n&&i++<this._foldingRangesLimit)&&(a[r]=this._startIndexes[s],c[r]=this._endIndexes[s],d[r]=this._types[s],r++)}return new N.FoldingRegions(a,c,d)}}}e.RangesCollector=u;function g(t,i){let n=t.sort((s,r)=>{let o=s.start-r.start;return o===0&&(o=s.rank-r.rank),o}),a=new u(i),c,d=[];for(let s of n)if(!c)c=s,a.add(s.start,s.end,s.kind&&s.kind.value,d.length);else if(s.start>c.start)if(s.end<=c.end)d.push(c),c=s,a.add(s.start,s.end,s.kind&&s.kind.value,d.length);else{if(s.start>c.end){do c=d.pop();while(c&&s.start>c.end);c&&d.push(c),c=s}a.add(s.start,s.end,s.kind&&s.kind.value,d.length)}return a.toIndentRanges()}e.sanitizeRanges=g}),define(Q[446],J([0,1,245]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class C{constructor(D,S,b,v){if(this.editorModel=D,this.id=e.ID_INIT_PROVIDER,S.length){let u=g=>({range:{startLineNumber:g.startLineNumber,startColumn:0,endLineNumber:g.endLineNumber,endColumn:D.getLineLength(g.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=D.deltaDecorations([],S.map(u)),this.timeout=setTimeout(b,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(D){let S=[];if(this.decorationIds)for(let b of this.decorationIds){let v=this.editorModel.getDecorationRange(b);v&&S.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve((0,w.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=C}),define(Q[246],J([0,1,59,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class N{static _handleEolEdits(S,b){let v,u=[];for(let g of b)typeof g.eol=="number"&&(v=g.eol),g.range&&typeof g.text=="string"&&u.push(g);return typeof v=="number"&&S.hasModel()&&S.getModel().pushEOL(v),u}static _isFullModelReplaceEdit(S,b){if(!S.hasModel())return!1;const v=S.getModel(),u=v.validateRange(b.range);return v.getFullModelRange().equalsRange(u)}static execute(S,b,v){v&&S.pushUndoStop();const u=N._handleEolEdits(S,b);u.length===1&&N._isFullModelReplaceEdit(S,u[0])?S.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replace(C.Range.lift(g.range),g.text))):S.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replaceMove(C.Range.lift(g.range),g.text))),v&&S.pushUndoStop()}}e.FormattingEdit=N}),define(Q[184],J([0,1,4,2,17]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(t,i){return!!t[i]}class S{constructor(i,n){this.target=i.target,this.hasTriggerModifier=D(i.event,n.triggerModifier),this.hasSideBySideModifier=D(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=S;class b{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=D(i,n.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class v{constructor(i,n,a,c){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=a,this.triggerSideBySideModifier=c}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=v;function u(t){return t==="altKey"?N.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):N.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class g extends C.Disposable{constructor(i){super();this._onMouseMoveOrRelevantKeyDown=this._register(new w.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new w.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new w.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._opts=u(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(69)){const a=u(this._editor.getOption(69));if(this._opts.equals(a))return;this._opts=a,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new S(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new S(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new S(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new b(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new b(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const n=i.target.position?i.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var Ct=this&&this.__asyncValues||function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=H[Symbol.asyncIterator],w;return e?e.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(D){w[D]=H[D]&&function(S){return new Promise(function(b,v){S=H[D](S),N(b,v,S.done,S.value)})}}function N(D,S,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},S)}};define(Q[247],J([0,1,10,14,4,2]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(u,g,t){this.value=u,this.isComplete=g,this.hasLoadingMessage=t}}e.HoverResult=S;class b extends D.Disposable{constructor(u,g){super();this._editor=u,this._computer=g,this._onResult=this._register(new N.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(52).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,g=!0){this._state=u,g&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,w.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>De(this,void 0,void 0,function*(){var u,g;try{try{for(var t=Ct(this._asyncIterable),i;i=yield t.next(),!i.done;){const n=i.value;n&&(this._result.push(n),this._fireResult())}}catch(n){u={error:n}}finally{try{i&&!i.done&&(g=t.return)&&(yield g.call(t))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(n){(0,C.onUnexpectedError)(n)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,g=this._state===4;this._onResult.fire(new S(this._result.slice(0),u,g))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(Q[185],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class w{constructor(D,S){this.priority=D,this.range=S,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=w;class C{constructor(D,S,b){this.priority=D,this.owner=S,this.range=b,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=C}),define(Q[447],J([0,1,21]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class C{constructor(D,S,b){this._editRange=D,this._originalSelection=S,this._text=b}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const v=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new w.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new w.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=C}),define(Q[248],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function w(N,D){let S=0;for(let b=0;b<N.length;b++)N.charAt(b)==="	"?S+=D:S++;return S}e.getSpaceCnt=w;function C(N,D,S){N=N<0?0:N;let b="";if(!S){let v=Math.floor(N/D);N=N%D;for(let u=0;u<v;u++)b+="	"}for(let v=0;v<N;v++)b+=" ";return b}e.generateIndent=C}),define(Q[249],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(Q[186],J([0,1,4,2,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class D{constructor(t,i,n=0){this.lineNumber=t,this.parts=i,this.additionalReservedLineCount=n}renderForScreenReader(t){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=t.substr(0,i.column-1);return b(n,this.parts.map(c=>({range:{startLineNumber:1,endLineNumber:1,startColumn:c.column,endColumn:c.column},text:c.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=D;class S{constructor(t){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let i=0;i<t.length;i++)t.charAt(i)===`
`&&this.lineStartOffsetByLineIdx.push(i+1)}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}}function b(g,t){const i=new S(g),n=t.map(a=>{const c=N.Range.lift(a.range);return{startOffset:i.getOffset(c.getStartPosition()),endOffset:i.getOffset(c.getEndPosition()),text:a.text}});n.sort((a,c)=>c.startOffset-a.startOffset);for(const a of n)g=g.substring(0,a.startOffset)+a.text+g.substring(a.endOffset);return g}class v{constructor(t,i,n){this.column=t,this.lines=i,this.preview=n}}e.GhostTextPart=v;class u extends C.Disposable{constructor(t){super();this.editor=t,this._expanded=void 0,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(t.onDidChangeConfiguration(i=>{i.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(t){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=u}),define(Q[187],J([0,1,137,8,3,186]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=void 0;function S(t,i){return t===i?!0:!t||!i?!1:t.range.equalsRange(i.range)&&t.text===i.text&&t.command===i.command}e.normalizedInlineCompletionsEquals=S;function b(t,i,n,a,c=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const d=i.getLineContent(t.range.startLineNumber),s=C.getLeadingWhitespace(d).length;if(t.range.startColumn-1<=s){const p=C.getLeadingWhitespace(t.text).length,f=d.substring(t.range.startColumn-1,s),_=N.Range.fromPositions(t.range.getStartPosition().delta(0,f.length),t.range.getEndPosition()),I=t.text.startsWith(f)?t.text.substring(f.length):t.text.substring(p);t={range:_,text:I,command:t.command}}const o=i.getValueInRange(t.range),l=u(o,t.text);if(!l)return;const h=t.range.startLineNumber,m=new Array;if(n==="prefix"){const p=l.filter(f=>f.originalLength===0);if(p.length>1||p.length===1&&p[0].originalStart!==o.length)return}const y=t.text.length-c;for(const p of l){const f=t.range.startColumn+p.originalStart+p.originalLength;if(n==="subwordSmart"&&a&&a.lineNumber===t.range.startLineNumber&&f<a.column||p.originalLength>0)return;if(p.modifiedLength===0)continue;const _=p.modifiedStart+p.modifiedLength,I=Math.max(p.modifiedStart,Math.min(_,y)),E=t.text.substring(p.modifiedStart,I),T=t.text.substring(I,Math.max(p.modifiedStart,_));if(E.length>0){const k=C.splitLines(E);m.push(new D.GhostTextPart(f,k,!1))}if(T.length>0){const k=C.splitLines(T);m.push(new D.GhostTextPart(f,k,!0))}}return new D.GhostText(h,m,0)}e.inlineCompletionToGhostText=b;let v;function u(t,i){if((v==null?void 0:v.originalValue)===t&&(v==null?void 0:v.newValue)===i)return v==null?void 0:v.changes;{const n=g(t,i);return v={originalValue:t,newValue:i,changes:n},n}}function g(t,i){if(t.length>5e3||i.length>5e3)return;function n(o){let l=0;for(let h=0,m=o.length;h<m;h++){const y=o.charCodeAt(h);y>l&&(l=y)}return l}const a=Math.max(n(t),n(i));function c(o){if(o<0)throw new Error("unexpected");return a+o+1}function d(o){let l=0,h=0;const m=new Int32Array(o.length);for(let y=0,p=o.length;y<p;y++){const f=h*100+l;o[y]==="("?(m[y]=c(2*f),l++):o[y]===")"?(m[y]=c(2*f+1),l===1&&h++,l=Math.max(l-1,0)):m[y]=o.charCodeAt(y)}return m}const s=d(t),r=d(i);return new w.LcsDiff({getElements:()=>s},{getElements:()=>r}).ComputeDiff(!1).changes}}),define(Q[448],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDisposableRef=void 0;function w(C,N){return{object:C,dispose:()=>N==null?void 0:N.dispose()}}e.createDisposableRef=w}),define(Q[449],J([0,1,3,21]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class N{constructor(S,b,v){this._selection=S,this._isCopyingDown=b,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,b){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,S.getLineMaxColumn(v.endLineNumber-1)));let u=[];for(let t=v.startLineNumber;t<=v.endLineNumber;t++)u.push(S.getLineContent(t));const g=u.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new w.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new w.Range(v.startLineNumber,1,v.startLineNumber,1),g+`
`):b.addEditOperation(new w.Range(v.endLineNumber,S.getLineMaxColumn(v.endLineNumber),v.endLineNumber,S.getLineMaxColumn(v.endLineNumber)),`
`+g),this._selectionId=b.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,b){let v=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=v.startLineNumber,g=v.startColumn,t=v.endLineNumber,i=v.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(t=t+this._endLineNumberDelta,i=1),v=C.Selection.createWithDirection(u,g,t,i,this._selectionDirection)}return v}}e.CopyLinesCommand=N}),define(Q[450],J([0,1,59,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class N{constructor(v,u){this.selection=v,this.descending=u,this.selectionId=null}static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}getEditOperations(v,u){let g=S(v,this.selection,this.descending);g&&u.addEditOperation(g.range,g.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(v,u){return u.getTrackedSelection(this.selectionId)}static canRun(v,u,g){if(v===null)return!1;let t=D(v,u,g);if(!t)return!1;for(let i=0,n=t.before.length;i<n;i++)if(t.before[i]!==t.after[i])return!0;return!1}}e.SortLinesCommand=N,N._COLLATOR=null;function D(b,v,u){let g=v.startLineNumber,t=v.endLineNumber;if(v.endColumn===1&&t--,g>=t)return null;let i=[];for(let a=g;a<=t;a++)i.push(b.getLineContent(a));let n=i.slice(0);return n.sort(N.getCollator().compare),u===!0&&(n=n.reverse()),{startLineNumber:g,endLineNumber:t,before:i,after:n}}function S(b,v,u){let g=D(b,v,u);return g?w.EditOperation.replace(new C.Range(g.startLineNumber,1,g.endLineNumber,b.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(Q[250],J([0,1,78,11,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(b,v){return De(this,void 0,void 0,function*(){const u=[];for(const g of v){const t=[];u.push(t);const i=new Map;yield new Promise(n=>D._bracketsRightYield(n,0,b,g,i)),yield new Promise(n=>D._bracketsLeftYield(n,0,b,g,i,t))}return u})}static _bracketsRightYield(b,v,u,g,t){const i=new Map,n=Date.now();for(;;){if(v>=D._maxRounds){b();break}if(!g){b();break}let a=u.bracketPairs.findNextBracket(g);if(!a){b();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsRightYield(b,v+1,u,g,t));break}const d=a.close[0];if(a.isOpen){let s=i.has(d)?i.get(d):0;i.set(d,s+1)}else{let s=i.has(d)?i.get(d):0;if(s-=1,i.set(d,Math.max(0,s)),s<0){let r=t.get(d);r||(r=new w.LinkedList,t.set(d,r)),r.push(a.range)}}g=a.range.getEndPosition()}}static _bracketsLeftYield(b,v,u,g,t,i){const n=new Map,a=Date.now();for(;;){if(v>=D._maxRounds&&t.size===0){b();break}if(!g){b();break}let c=u.bracketPairs.findPrevBracket(g);if(!c){b();break}if(Date.now()-a>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(b,v+1,u,g,t,i));break}const s=c.close[0];if(c.isOpen){let r=n.has(s)?n.get(s):0;if(r-=1,n.set(s,Math.max(0,r)),r<0){let o=t.get(s);if(o){let l=o.shift();o.size===0&&t.delete(s);const h=N.Range.fromPositions(c.range.getEndPosition(),l.getStartPosition()),m=N.Range.fromPositions(c.range.getStartPosition(),l.getEndPosition());i.push({range:h}),i.push({range:m}),D._addBracketLeading(u,m,i)}}}else{let r=n.has(s)?n.get(s):0;n.set(s,r+1)}g=c.range.getStartPosition()}}static _addBracketLeading(b,v,u){if(v.startLineNumber===v.endLineNumber)return;const g=v.startLineNumber,t=b.getLineFirstNonWhitespaceColumn(g);t!==0&&t!==v.startColumn&&(u.push({range:N.Range.fromPositions(new C.Position(g,t),v.getEndPosition())}),u.push({range:N.Range.fromPositions(new C.Position(g,1),v.getEndPosition())}));const i=g-1;if(i>0){const n=b.getLineFirstNonWhitespaceColumn(i);n===v.startColumn&&n!==b.getLineLastNonWhitespaceColumn(i)&&(u.push({range:N.Range.fromPositions(new C.Position(i,n),v.getEndPosition())}),u.push({range:N.Range.fromPositions(new C.Position(i,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(Q[451],J([0,1,8,3]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class N{provideSelectionRanges(S,b){const v=[];for(const u of b){const g=[];v.push(g),this._addInWordRanges(g,S,u),this._addWordRanges(g,S,u),this._addWhitespaceLine(g,S,u),g.push({range:S.getFullModelRange()})}return v}_addInWordRanges(S,b,v){const u=b.getWordAtPosition(v);if(!u)return;let{word:g,startColumn:t}=u,i=v.column-t,n=i,a=i,c=0;for(;n>=0;n--){let d=g.charCodeAt(n);if(n!==i&&(d===95||d===45))break;if((0,w.isLowerAsciiLetter)(d)&&(0,w.isUpperAsciiLetter)(c))break;c=d}for(n+=1;a<g.length;a++){let d=g.charCodeAt(a);if((0,w.isUpperAsciiLetter)(d)&&(0,w.isLowerAsciiLetter)(c))break;if(d===95||d===45)break;c=d}n<a&&S.push({range:new C.Range(v.lineNumber,t+n,v.lineNumber,t+a)})}_addWordRanges(S,b,v){const u=b.getWordAtPosition(v);u&&S.push({range:new C.Range(v.lineNumber,u.startColumn,v.lineNumber,u.endColumn)})}_addWhitespaceLine(S,b,v){b.getLineLength(v.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&S.push({range:new C.Range(v.lineNumber,1,v.lineNumber,b.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=N}),define(Q[122],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(c){return c>=48&&c<=57}static isVariableCharacter(c){return c===95||c>=97&&c<=122||c>=65&&c<=90}text(c){this.value=c,this.pos=0}tokenText(c){return this.value.substr(c.pos,c.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let c=this.pos,d=0,s=this.value.charCodeAt(c),r;if(r=w._table[s],typeof r=="number")return this.pos+=1,{type:r,pos:c,len:1};if(w.isDigitCharacter(s)){r=8;do d+=1,s=this.value.charCodeAt(c+d);while(w.isDigitCharacter(s));return this.pos+=d,{type:r,pos:c,len:d}}if(w.isVariableCharacter(s)){r=9;do s=this.value.charCodeAt(c+ ++d);while(w.isVariableCharacter(s)||w.isDigitCharacter(s));return this.pos+=d,{type:r,pos:c,len:d}}r=10;do d+=1,s=this.value.charCodeAt(c+d);while(!isNaN(s)&&typeof w._table[s]=="undefined"&&!w.isDigitCharacter(s)&&!w.isVariableCharacter(s));return this.pos+=d,{type:r,pos:c,len:d}}}e.Scanner=w,w._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class C{constructor(){this._children=[]}appendChild(c){return c instanceof N&&this._children[this._children.length-1]instanceof N?this._children[this._children.length-1].value+=c.value:(c.parent=this,this._children.push(c)),this}replace(c,d){const{parent:s}=c,r=s.children.indexOf(c),o=s.children.slice(0);o.splice(r,1,...d),s._children=o,function l(h,m){for(const y of h)y.parent=m,l(y.children,y)}(d,s)}get children(){return this._children}get snippet(){let c=this;for(;;){if(!c)return;if(c instanceof i)return c;c=c.parent}}toString(){return this.children.reduce((c,d)=>c+d.toString(),"")}len(){return 0}}e.Marker=C;class N extends C{constructor(c){super();this.value=c}toString(){return this.value}len(){return this.value.length}clone(){return new N(this.value)}}e.Text=N;class D extends C{}e.TransformableMarker=D;class S extends D{constructor(c){super();this.index=c}static compareByIndex(c,d){return c.index===d.index?0:c.isFinalTabstop?1:d.isFinalTabstop||c.index<d.index?-1:c.index>d.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){let c=new S(this.index);return this.transform&&(c.transform=this.transform.clone()),c._children=this.children.map(d=>d.clone()),c}}e.Placeholder=S;class b extends C{constructor(){super(...arguments);this.options=[]}appendChild(c){return c instanceof N&&(c.parent=this,this.options.push(c)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let c=new b;return this.options.forEach(c.appendChild,c),c}}e.Choice=b;class v extends C{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(c){const d=this;let s=!1,r=c.replace(this.regexp,function(){return s=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!s&&this._children.some(o=>o instanceof u&&Boolean(o.elseValue))&&(r=this._replace([])),r}_replace(c){let d="";for(const s of this._children)if(s instanceof u){let r=c[s.index]||"";r=s.resolve(r),d+=r}else d+=s.toString();return d}toString(){return""}clone(){let c=new v;return c.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),c._children=this.children.map(d=>d.clone()),c}}e.Transform=v;class u extends C{constructor(c,d,s,r){super();this.index=c,this.shorthandName=d,this.ifValue=s,this.elseValue=r}resolve(c){return this.shorthandName==="upcase"?c?c.toLocaleUpperCase():"":this.shorthandName==="downcase"?c?c.toLocaleLowerCase():"":this.shorthandName==="capitalize"?c?c[0].toLocaleUpperCase()+c.substr(1):"":this.shorthandName==="pascalcase"?c?this._toPascalCase(c):"":this.shorthandName==="camelcase"?c?this._toCamelCase(c):"":Boolean(c)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(c)&&typeof this.elseValue=="string"?this.elseValue:c||""}_toPascalCase(c){const d=c.match(/[a-z0-9]+/gi);return d?d.map(s=>s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):c}_toCamelCase(c){const d=c.match(/[a-z0-9]+/gi);return d?d.map((s,r)=>r===0?s.toLowerCase():s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):c}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class g extends D{constructor(c){super();this.name=c}resolve(c){let d=c.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new N(d)],!0):!1}clone(){const c=new g(this.name);return this.transform&&(c.transform=this.transform.clone()),c._children=this.children.map(d=>d.clone()),c}}e.Variable=g;function t(a,c){const d=[...a];for(;d.length>0;){const s=d.shift();if(!c(s))break;d.unshift(...s.children)}}class i extends C{get placeholderInfo(){if(!this._placeholders){let c=[],d;this.walk(function(s){return s instanceof S&&(c.push(s),d=!d||d.index<s.index?s:d),!0}),this._placeholders={all:c,last:d}}return this._placeholders}get placeholders(){const{all:c}=this.placeholderInfo;return c}offset(c){let d=0,s=!1;return this.walk(r=>r===c?(s=!0,!1):(d+=r.len(),!0)),s?d:-1}fullLen(c){let d=0;return t([c],s=>(d+=s.len(),!0)),d}enclosingPlaceholders(c){let d=[],{parent:s}=c;for(;s;)s instanceof S&&d.push(s),s=s.parent;return d}resolveVariables(c){return this.walk(d=>(d instanceof g&&d.resolve(c)&&(this._placeholders=void 0),!0)),this}appendChild(c){return this._placeholders=void 0,super.appendChild(c)}replace(c,d){return this._placeholders=void 0,super.replace(c,d)}clone(){let c=new i;return this._children=this.children.map(d=>d.clone()),c}walk(c){t(this.children,c)}}e.TextmateSnippet=i;class n{constructor(){this._scanner=new w,this._token={type:14,pos:0,len:0}}static escape(c){return c.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(c){return/\${?CLIPBOARD/.test(c)}parse(c,d,s){this._scanner.text(c),this._token=this._scanner.next();const r=new i;for(;this._parse(r););const o=new Map,l=[];let h=0;r.walk(m=>(m instanceof S&&(h+=1,m.isFinalTabstop?o.set(0,void 0):!o.has(m.index)&&m.children.length>0?o.set(m.index,m.children):l.push(m)),!0));for(const m of l){const y=o.get(m.index);if(y){const p=new S(m.index);p.transform=m.transform;for(const f of y)p.appendChild(f.clone());r.replace(m,[p])}}return s||(s=h>0&&d),!o.has(0)&&s&&r.appendChild(new S(0)),r}_accept(c,d){if(c===void 0||this._token.type===c){let s=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),s}return!1}_backTo(c){return this._scanner.pos=c.pos+c.len,this._token=c,!1}_until(c){const d=this._token;for(;this._token.type!==c;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const s=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),s}_parse(c){return this._parseEscaped(c)||this._parseTabstopOrVariableName(c)||this._parseComplexPlaceholder(c)||this._parseComplexVariable(c)||this._parseAnything(c)}_parseEscaped(c){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,c.appendChild(new N(d)),!0):!1}_parseTabstopOrVariableName(c){let d;const s=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(c.appendChild(/^\d+$/.test(d)?new S(Number(d)):new g(d)),!0):this._backTo(s)}_parseComplexPlaceholder(c){let d;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(s);const o=new S(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return c.appendChild(o),!0;if(!this._parse(o))return c.appendChild(new N("${"+d+":")),o.children.forEach(c.appendChild,c),!0}else if(o.index>0&&this._accept(7)){const l=new b;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(l),this._accept(4)))return c.appendChild(o),!0}return this._backTo(s),!1}}else return this._accept(6)?this._parseTransform(o)?(c.appendChild(o),!0):(this._backTo(s),!1):this._accept(4)?(c.appendChild(o),!0):this._backTo(s)}_parseChoiceElement(c){const d=this._token,s=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(d),!1;s.push(r)}return s.length===0?(this._backTo(d),!1):(c.appendChild(new N(s.join(""))),!0)}_parseComplexVariable(c){let d;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(s);const o=new g(d);if(this._accept(1))for(;;){if(this._accept(4))return c.appendChild(o),!0;if(!this._parse(o))return c.appendChild(new N("${"+d+":")),o.children.forEach(c.appendChild,c),!0}else return this._accept(6)?this._parseTransform(o)?(c.appendChild(o),!0):(this._backTo(s),!1):this._accept(4)?(c.appendChild(o),!0):this._backTo(s)}_parseTransform(c){let d=new v,s="",r="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,s+=o;continue}if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,d.appendChild(new N(o));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(s,r)}catch{return!1}return c.transform=d,!0}_parseFormatString(c){const d=this._token;if(!this._accept(0))return!1;let s=!1;this._accept(3)&&(s=!0);let r=this._accept(8,!0);if(r)if(s){if(this._accept(4))return c.appendChild(new u(Number(r))),!0;if(!this._accept(1))return this._backTo(d),!1}else return c.appendChild(new u(Number(r))),!0;else return this._backTo(d),!1;if(this._accept(6)){let o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(d),!1):(c.appendChild(new u(Number(r),o)),!0)}else if(this._accept(11)){let o=this._until(4);if(o)return c.appendChild(new u(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){let o=this._until(4);if(o)return c.appendChild(new u(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){let o=this._until(1);if(o){let l=this._until(4);if(l)return c.appendChild(new u(Number(r),void 0,o,l)),!0}}else{let o=this._until(4);if(o)return c.appendChild(new u(Number(r),void 0,void 0,o)),!0}return this._backTo(d),!1}_parseAnything(c){return this._token.type!==14?(c.appendChild(new N(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=n}),define(Q[452],J([0,1,19,72,8]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(v,u){this.leadingLineContent=v,this.characterCountDelta=u}}e.LineContext=D;class S{constructor(v,u,g,t,i,n,a){this.clipboardText=a,this._snippetCompareFn=S._compareCompletionItems,this._items=v,this._column=u,this._wordDistance=t,this._options=i,this._refilterKind=1,this._lineContext=g,n==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:n==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(let[u,g]of this._providerInfo)g&&v.add(u);return v}adopt(v){let u=[];for(let g=0;g<this._items.length;)v.has(this._items[g].provider)?g++:(u.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:u,characterCountDelta:g}=this._lineContext;let t="",i="";const n=this._refilterKind===1?this._items:this._filteredItems,a=[],c=!this._options.filterGraceful||n.length>2e3?C.fuzzyScore:C.fuzzyScoreGracefulAggressive;for(let d=0;d<n.length;d++){const s=n[d];if(s.isInvalid)continue;this._providerInfo.set(s.provider,Boolean(s.container.incomplete));const r=s.position.column-s.editStart.column,o=r+g-(s.position.column-this._column);if(t.length!==o&&(t=o===0?"":u.slice(-o),i=t.toLowerCase()),s.word=t,o===0)s.score=C.FuzzyScore.Default;else{let l=0;for(;l<r;){const h=t.charCodeAt(l);if(h===32||h===9)l+=1;else break}if(l>=o)s.score=C.FuzzyScore.Default;else if(typeof s.completion.filterText=="string"){let h=c(t,i,l,s.completion.filterText,s.filterTextLow,0,!1);if(!h)continue;(0,N.compareIgnoreCase)(s.completion.filterText,s.textLabel)===0?s.score=h:(s.score=(0,C.anyScore)(t,i,l,s.textLabel,s.labelLow,0),s.score[0]=h[0])}else{let h=c(t,i,l,s.textLabel,s.labelLow,0,!1);if(!h)continue;s.score=h}}s.idx=d,s.distance=this._wordDistance.distance(s.position,s.completion),a.push(s),v.push(s.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?(0,w.quickSelect)(v.length-.85,v,(d,s)=>d-s):0}}static _compareCompletionItems(v,u){return v.score[0]>u.score[0]?-1:v.score[0]<u.score[0]?1:v.distance<u.distance?-1:v.distance>u.distance?1:v.idx<u.idx?-1:v.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return S._compareCompletionItems(v,u)}static _compareCompletionItemsSnippetsUp(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return S._compareCompletionItems(v,u)}}e.CompletionModel=S}),define(Q[251],J([0,1,7,110,4,2]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new N.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new N.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new w.Dimension(0,0),this._minSize=new w.Dimension(0,0),this._maxSize=new w.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new C.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new C.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new C.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:C.OrthogonalEdge.North}),this._southSash=new C.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:C.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,u=0,g=0;this._sashListener.add(N.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,u=0,g=0)})),this._sashListener.add(N.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,u=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(t=>{v&&(g=t.currentX-t.startX,this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(t=>{v&&(g=-(t.currentX-t.startX),this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(t=>{v&&(u=-(t.currentY-t.startY),this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(t=>{v&&(u=t.currentY-t.startY,this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(N.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(N.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,u,g,t){this._northSash.state=v?3:0,this._eastSash.state=u?3:0,this._southSash.state=g?3:0,this._westSash.state=t?3:0}layout(v=this.size.height,u=this.size.width){const{height:g,width:t}=this._minSize,{height:i,width:n}=this._maxSize;v=Math.max(g,Math.min(i,v)),u=Math.max(t,Math.min(n,u));const a=new w.Dimension(u,v);w.Dimension.equals(a,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=u+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(Q[453],J([0,1,19,2,97]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(b,v,u){this._disposables=new C.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(g=>{if(this._active&&!v.isFrozen()){const t=g.charCodeAt(g.length-1);this._active.acceptCharacters.has(t)&&b.getOption(0)&&u(this._active.item)}}))}_onItem(b){if(!b||!(0,w.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const v=new N.CharacterSet;for(const u of b.item.completion.commitCharacters)u.length>0&&v.add(u.charCodeAt(0));this._active={acceptCharacters:v,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(Q[454],J([0,1,2]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class C{constructor(D,S){this._disposables=new w.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(D.onWillType(()=>{if(!this._empty||!D.hasModel())return;const b=D.getSelections(),v=b.length;let u=!1;for(let t=0;t<v;t++)if(!b[t].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const g=D.getModel();for(let t=0;t<v;t++){const i=b[t];if(g.getValueLengthInRange(i)>C._maxSelectionLength)return;this._lastOvertyped[t]={value:g.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(D){if(!this._empty&&D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=C,C._maxSelectionLength=51200}),define(Q[455],J([0,1,19,3,250]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(b,v){return De(this,void 0,void 0,function*(){if(!v.getOption(105).localityBonus||!v.hasModel())return D.None;const u=v.getModel(),g=v.getPosition();if(!b.canComputeWordRanges(u.uri))return D.None;const[t]=yield new N.BracketSelectionRangeProvider().provideSelectionRanges(u,[g]);if(t.length===0)return D.None;const i=yield b.computeWordRanges(u.uri,t[0].range);if(!i)return D.None;const n=u.getWordUntilPosition(g);return delete i[n.word],new class extends D{distance(a,c){if(!g.equals(v.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,s=i[d];if((0,w.isFalsyOrEmpty)(s))return 2<<20;let r=(0,w.binarySearch)(s,C.Range.fromPositions(a),C.Range.compareRangesUsingStarts),o=r>=0?s[r]:s[Math.max(0,~r-1)],l=t.length;for(const h of t){if(!C.Range.containsRange(h.range,o))break;l-=1}return l}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(Q[252],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function w(a){return Array.isArray(a)}e.isFuzzyActionArr=w;function C(a){return!w(a)}e.isFuzzyAction=C;function N(a){return typeof a=="string"}e.isString=N;function D(a){return!N(a)}e.isIAction=D;function S(a){return!a}e.empty=S;function b(a,c){return a.ignoreCase&&c?c.toLowerCase():c}e.fixCase=b;function v(a){return a.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function u(a,c){console.log(`${a.languageId}: ${c}`)}e.log=u;function g(a,c){return new Error(`${a.languageId}: ${c}`)}e.createError=g;function t(a,c,d,s,r){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return c.replace(o,function(h,m,y,p,f,_,I,E,T){return S(y)?S(p)?!S(f)&&f<s.length?b(a,s[f]):!S(I)&&a&&typeof a[I]=="string"?a[I]:(l===null&&(l=r.split("."),l.unshift(r)),!S(_)&&_<l.length?b(a,l[_]):""):b(a,d):"$"})}e.substituteMatches=t;function i(a,c){let d=c;for(;d&&d.length>0;){const s=a.tokenizer[d];if(s)return s;const r=d.lastIndexOf(".");r<0?d=null:d=d.substr(0,r)}return null}e.findRules=i;function n(a,c){let d=c;for(;d&&d.length>0;){if(a.stateNames[d])return!0;const r=d.lastIndexOf(".");r<0?d=null:d=d.substr(0,r)}return!1}e.stateExists=n}),define(Q[456],J([0,1,252]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function C(a,c){if(!c||!Array.isArray(c))return!1;for(const d of c)if(!a(d))return!1;return!0}function N(a,c){return typeof a=="boolean"?a:c}function D(a,c){return typeof a=="string"?a:c}function S(a){const c={};for(const d of a)c[d]=!0;return c}function b(a,c=!1){c&&(a=a.map(function(s){return s.toLowerCase()}));const d=S(a);return c?function(s){return d[s.toLowerCase()]!==void 0&&d.hasOwnProperty(s.toLowerCase())}:function(s){return d[s]!==void 0&&d.hasOwnProperty(s)}}function v(a,c){c=c.replace(/@@/g,"");let d=0,s;do s=!1,c=c.replace(/@(\w+)/g,function(o,l){s=!0;let h="";if(typeof a[l]=="string")h=a[l];else if(a[l]&&a[l]instanceof RegExp)h=a[l].source;else throw a[l]===void 0?w.createError(a,"language definition does not contain attribute '"+l+"', used at: "+c):w.createError(a,"attribute reference '"+l+"' must be a string, used at: "+c);return w.empty(h)?"":"(?:"+h+")"}),d++;while(s&&d<5);c=c.replace(/\x01/g,"@");const r=(a.ignoreCase?"i":"")+(a.unicode?"u":"");return new RegExp(c,r)}function u(a,c,d,s){if(s<0)return a;if(s<c.length)return c[s];if(s>=100){s=s-100;const r=d.split(".");if(r.unshift(d),s<r.length)return r[s]}return null}function g(a,c,d,s){let r=-1,o=d,l=d.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(r=parseInt(l[3]),l[2]&&(r=r+100)),o=l[4]);let h="~",m=o;!o||o.length===0?(h="!=",m=""):/^\w*$/.test(m)?h="==":(l=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(h=l[1],m=l[2]));let y;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(m)){const p=b(m.split("|"),a.ignoreCase);y=function(f){return h==="~"?p(f):!p(f)}}else if(h==="@"||h==="!@"){const p=a[m];if(!p)throw w.createError(a,"the @ match target '"+m+"' is not defined, in rule: "+c);if(!C(function(_){return typeof _=="string"},p))throw w.createError(a,"the @ match target '"+m+"' must be an array of strings, in rule: "+c);const f=b(p,a.ignoreCase);y=function(_){return h==="@"?f(_):!f(_)}}else if(h==="~"||h==="!~")if(m.indexOf("$")<0){const p=v(a,"^"+m+"$");y=function(f){return h==="~"?p.test(f):!p.test(f)}}else y=function(p,f,_,I){return v(a,"^"+w.substituteMatches(a,m,f,_,I)+"$").test(p)};else if(m.indexOf("$")<0){const p=w.fixCase(a,m);y=function(f){return h==="=="?f===p:f!==p}}else{const p=w.fixCase(a,m);y=function(f,_,I,E,T){const k=w.substituteMatches(a,p,_,I,E);return h==="=="?f===k:f!==k}}return r===-1?{name:d,value:s,test:function(p,f,_,I){return y(p,p,f,_,I)}}:{name:d,value:s,test:function(p,f,_,I){const E=u(p,f,_,r);return y(E||"",p,f,_,I)}}}function t(a,c,d){if(d){if(typeof d=="string")return d;if(d.token||d.token===""){if(typeof d.token!="string")throw w.createError(a,"a 'token' attribute must be of type string, in rule: "+c);{const s={token:d.token};if(d.token.indexOf("$")>=0&&(s.tokenSubst=!0),typeof d.bracket=="string")if(d.bracket==="@open")s.bracket=1;else if(d.bracket==="@close")s.bracket=-1;else throw w.createError(a,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+c);if(d.next){if(typeof d.next!="string")throw w.createError(a,"the next state must be a string value in rule: "+c);{let r=d.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!w.stateExists(a,w.substituteMatches(a,r,"",[],""))))throw w.createError(a,"the next state '"+d.next+"' is not defined in rule: "+c);s.next=r}}return typeof d.goBack=="number"&&(s.goBack=d.goBack),typeof d.switchTo=="string"&&(s.switchTo=d.switchTo),typeof d.log=="string"&&(s.log=d.log),typeof d.nextEmbedded=="string"&&(s.nextEmbedded=d.nextEmbedded,a.usesEmbedded=!0),s}}else if(Array.isArray(d)){const s=[];for(let r=0,o=d.length;r<o;r++)s[r]=t(a,c,d[r]);return{group:s}}else if(d.cases){const s=[];for(let o in d.cases)if(d.cases.hasOwnProperty(o)){const l=t(a,c,d.cases[o]);o==="@default"||o==="@"||o===""?s.push({test:void 0,value:l,name:o}):o==="@eos"?s.push({test:function(h,m,y,p){return p},value:l,name:o}):s.push(g(a,c,o,l))}const r=a.defaultToken;return{test:function(o,l,h,m){for(const y of s)if(!y.test||y.test(o,l,h,m))return y.value;return r}}}else throw w.createError(a,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+c)}else return{token:""}}class i{constructor(c){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=c}setRegex(c,d){let s;if(typeof d=="string")s=d;else if(d instanceof RegExp)s=d.source;else throw w.createError(c,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=s.length>0&&s[0]==="^",this.name=this.name+": "+s,this.regex=v(c,"^(?:"+(this.matchOnlyAtLineStart?s.substr(1):s)+")")}setAction(c,d){this.action=t(c,this.name,d)}}function n(a,c){if(!c||typeof c!="object")throw new Error("Monarch: expecting a language definition object");const d={};d.languageId=a,d.includeLF=N(c.includeLF,!1),d.noThrow=!1,d.maxStack=100,d.start=typeof c.start=="string"?c.start:null,d.ignoreCase=N(c.ignoreCase,!1),d.unicode=N(c.unicode,!1),d.tokenPostfix=D(c.tokenPostfix,"."+d.languageId),d.defaultToken=D(c.defaultToken,"source"),d.usesEmbedded=!1;const s=c;s.languageId=a,s.includeLF=d.includeLF,s.ignoreCase=d.ignoreCase,s.unicode=d.unicode,s.noThrow=d.noThrow,s.usesEmbedded=d.usesEmbedded,s.stateNames=c.tokenizer,s.defaultToken=d.defaultToken;function r(l,h,m){for(const y of m){let p=y.include;if(p){if(typeof p!="string")throw w.createError(d,"an 'include' attribute must be a string at: "+l);if(p[0]==="@"&&(p=p.substr(1)),!c.tokenizer[p])throw w.createError(d,"include target '"+p+"' is not defined at: "+l);r(l+"."+p,h,c.tokenizer[p])}else{const f=new i(l);if(Array.isArray(y)&&y.length>=1&&y.length<=3)if(f.setRegex(s,y[0]),y.length>=3)if(typeof y[1]=="string")f.setAction(s,{token:y[1],next:y[2]});else if(typeof y[1]=="object"){const _=y[1];_.next=y[2],f.setAction(s,_)}else throw w.createError(d,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else f.setAction(s,y[1]);else{if(!y.regex)throw w.createError(d,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);y.name&&typeof y.name=="string"&&(f.name=y.name),y.matchOnlyAtStart&&(f.matchOnlyAtLineStart=N(y.matchOnlyAtLineStart,!1)),f.setRegex(s,y.regex),f.setAction(s,y.action)}h.push(f)}}}if(!c.tokenizer||typeof c.tokenizer!="object")throw w.createError(d,"a language definition must define the 'tokenizer' attribute as an object");d.tokenizer=[];for(let l in c.tokenizer)if(c.tokenizer.hasOwnProperty(l)){d.start||(d.start=l);const h=c.tokenizer[l];d.tokenizer[l]=new Array,r("tokenizer."+l,d.tokenizer[l],h)}if(d.usesEmbedded=s.usesEmbedded,c.brackets){if(!Array.isArray(c.brackets))throw w.createError(d,"the 'brackets' attribute must be defined as an array")}else c.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const o=[];for(let l of c.brackets){let h=l;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw w.createError(d,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")o.push({token:h.token+d.tokenPostfix,open:w.fixCase(d,h.open),close:w.fixCase(d,h.close)});else throw w.createError(d,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return d.brackets=o,d.noThrow=!0,d}e.compile=n}),define(Q[457],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(Q[458],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/findinput/findInput",e)}),define(Q[459],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(Q[253],J([0,1,171,27,459]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const D=N.localize(0,null),S=N.localize(1,null),b=N.localize(2,null);class v extends w.Checkbox{constructor(i){super({icon:C.Codicon.caseSensitive,title:D+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=v;class u extends w.Checkbox{constructor(i){super({icon:C.Codicon.wholeWord,title:S+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsCheckbox=u;class g extends w.Checkbox{constructor(i){super({icon:C.Codicon.regex,title:b+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexCheckbox=g}),define(Q[460],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(Q[461],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(Q[462],J([0,1,7,10,23,64,95,2,20,461]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(n,a){(0,v.isString)(a)?n.title=(0,S.stripIcons)(a):(a==null?void 0:a.markdownNotSupportedFallback)?n.title=a.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=g;class t{constructor(a,c,d){this.hoverDelegate=a,this.target=c,this.fadeInAnimation=d}update(a,c){var d;return De(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(a===void 0||(0,v.isString)(a)||a instanceof HTMLElement)s=a;else if(!(0,v.isFunction)(a.markdown))s=(d=a.markdown)!==null&&d!==void 0?d:a.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),c),this._cancellationTokenSource=new N.CancellationTokenSource;const r=this._cancellationTokenSource.token;if(s=yield a.markdown(r),this.isDisposed||r.isCancellationRequested)return}this.show(s,c)})}show(a,c){const d=this._hoverWidget;if(this.hasContent(a)){const s={content:a,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!d};this._hoverWidget=this.hoverDelegate.showHover(s,c)}d==null||d.dispose()}hasContent(a){return a?(0,D.isMarkdownString)(a)?!!a.value:!0:!1}get isDisposed(){var a;return(a=this._hoverWidget)===null||a===void 0?void 0:a.isDisposed}dispose(){var a,c;(a=this._hoverWidget)===null||a===void 0||a.dispose(),(c=this._cancellationTokenSource)===null||c===void 0||c.dispose(!0),this._cancellationTokenSource=void 0}}function i(n,a,c){let d,s;const r=(y,p)=>{var f;y&&(s==null||s.dispose(),s=void 0),p&&(d==null||d.dispose(),d=void 0),(f=n.onDidHideHover)===null||f===void 0||f.call(n)},o=(y,p,f)=>new C.TimeoutTimer(()=>De(this,void 0,void 0,function*(){(!s||s.isDisposed)&&(s=new t(n,f||a,y>0),yield s.update(c,p))}),y),l=()=>{if(d)return;const y=new b.DisposableStore,p=I=>r(!1,I.fromElement===a);y.add(w.addDisposableListener(a,w.EventType.MOUSE_LEAVE,p,!0));const f=()=>r(!0,!0);y.add(w.addDisposableListener(a,w.EventType.MOUSE_DOWN,f,!0));const _={targetElements:[a],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const I=E=>_.x=E.x+10;y.add(w.addDisposableListener(a,w.EventType.MOUSE_MOVE,I,!0))}y.add(o(n.delay,!1,_)),d=y},h=w.addDisposableListener(a,w.EventType.MOUSE_OVER,l,!0);return{show:y=>{r(!1,!0),o(0,y)},hide:()=>{r(!0,!0)},update:y=>De(this,void 0,void 0,function*(){c=y,yield s==null?void 0:s.update(c)}),dispose:()=>{h.dispose(),r(!0,!0)}}}e.setupCustomHover=i}),define(Q[188],J([0,1,7,213,462,2,38,135,333]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(a){this._element=a}get element(){return this._element}set textContent(a){this.disposed||a===this._textContent||(this._textContent=a,this._element.textContent=a)}set className(a){this.disposed||a===this._className||(this._className=a,this._element.className=a)}set empty(a){this.disposed||a===this._empty||(this._empty=a,this._element.style.marginLeft=a?"0":"")}dispose(){this.disposed=!0}}class u extends D.Disposable{constructor(a,c){super();this.customHovers=new Map,this.domNode=this._register(new v(w.append(a,w.$(".monaco-icon-label")))),this.labelContainer=w.append(this.domNode.element,w.$(".monaco-icon-label-container"));const d=w.append(this.labelContainer,w.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(w.append(this.labelContainer,w.$("span.monaco-icon-description-container")))),(c==null?void 0:c.supportHighlights)||(c==null?void 0:c.supportIcons)?this.nameNode=new i(d,!!c.supportIcons):this.nameNode=new g(d),(c==null?void 0:c.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new C.HighlightedLabel(w.append(this.descriptionContainer.element,w.$("span.label-description")),{supportIcons:!!c.supportIcons}):this.descriptionNodeFactory=()=>this._register(new v(w.append(this.descriptionContainer.element,w.$("span.label-description")))),this.hoverDelegate=c==null?void 0:c.hoverDelegate}get element(){return this.domNode.element}setLabel(a,c,d){const s=["monaco-icon-label"];d&&(d.extraClasses&&s.push(...d.extraClasses),d.italic&&s.push("italic"),d.strikethrough&&s.push("strikethrough")),this.domNode.className=s.join(" "),this.setupHover((d==null?void 0:d.descriptionTitle)?this.labelContainer:this.element,d==null?void 0:d.title),this.nameNode.setLabel(a,d),(c||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof C.HighlightedLabel?(this.descriptionNode.set(c||"",d?d.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,d==null?void 0:d.descriptionTitle)):(this.descriptionNode.textContent=c||"",this.setupHover(this.descriptionNode.element,(d==null?void 0:d.descriptionTitle)||""),this.descriptionNode.empty=!c))}setupHover(a,c){const d=this.customHovers.get(a);if(d&&(d.dispose(),this.customHovers.delete(a)),!c){a.removeAttribute("title");return}if(!this.hoverDelegate)(0,N.setupNativeHover)(a,c);else{const s=(0,N.setupCustomHover)(this.hoverDelegate,a,c);s&&this.customHovers.set(a,s)}}dispose(){super.dispose();for(const a of this.customHovers.values())a.dispose();this.customHovers.clear()}}e.IconLabel=u;class g{constructor(a){this.container=a,this.label=void 0,this.singleLabel=void 0}setLabel(a,c){if(!(this.label===a&&(0,S.equals)(this.options,c)))if(this.label=a,this.options=c,typeof a=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=w.append(this.container,w.$("a.label-name",{id:c==null?void 0:c.domId}))),this.singleLabel.textContent=a;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<a.length;d++){const s=a[d],r=(c==null?void 0:c.domId)&&`${c==null?void 0:c.domId}_${d}`;w.append(this.container,w.$("a.label-name",{id:r,"data-icon-label-count":a.length,"data-icon-label-index":d,role:"treeitem"},s)),d<a.length-1&&w.append(this.container,w.$("span.label-separator",void 0,(c==null?void 0:c.separator)||"/"))}}}}function t(n,a,c){if(!c)return;let d=0;return n.map(s=>{const r={start:d,end:d+s.length},o=c.map(l=>b.Range.intersect(r,l)).filter(l=>!b.Range.isEmpty(l)).map(({start:l,end:h})=>({start:l-d,end:h-d}));return d=r.end+a.length,o})}class i{constructor(a,c){this.container=a,this.supportIcons=c,this.label=void 0,this.singleLabel=void 0}setLabel(a,c){if(!(this.label===a&&(0,S.equals)(this.options,c)))if(this.label=a,this.options=c,typeof a=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new C.HighlightedLabel(w.append(this.container,w.$("a.label-name",{id:c==null?void 0:c.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(a,c==null?void 0:c.matches,void 0,c==null?void 0:c.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=(c==null?void 0:c.separator)||"/",s=t(a,d,c==null?void 0:c.matches);for(let r=0;r<a.length;r++){const o=a[r],l=s?s[r]:void 0,h=(c==null?void 0:c.domId)&&`${c==null?void 0:c.domId}_${r}`,m=w.$("a.label-name",{id:h,"data-icon-label-count":a.length,"data-icon-label-index":r,role:"treeitem"});new C.HighlightedLabel(w.append(this.container,m),{supportIcons:this.supportIcons}).set(o,l,void 0,c==null?void 0:c.labelEscapeNewLines),r<a.length-1&&w.append(m,w.$("span.label-separator",void 0,d))}}}}}),define(Q[463],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(Q[464],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(Q[465],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/menu/menu",e)}),define(Q[466],J([5,6]),function(H,e){return H.create("vs/base/browser/ui/tree/abstractTree",e)}),define(Q[189],J([0,1,163,7,88,46,172,111,166,105,19,10,27,210,4,72,2,107,17,466,345]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class l extends S.ElementsDragAndDropData{constructor(L){super(L.elements.map(B=>B.element));this.data=L}}function h(O){return O instanceof S.ElementsDragAndDropData?new l(O):O}class m{constructor(L,B){this.modelProvider=L,this.dnd=B,this.autoExpandDisposable=d.Disposable.None}getDragURI(L){return this.dnd.getDragURI(L.element)}getDragLabel(L,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(L.map(x=>x.element),B)}onDragStart(L,B){this.dnd.onDragStart&&this.dnd.onDragStart(h(L),B)}onDragOver(L,B,x,U,K=!0){const Z=this.dnd.onDragOver(h(L),B&&B.element,x,U),ee=this.autoExpandNode!==B;if(ee&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return Z;if(ee&&typeof Z!="boolean"&&Z.autoExpand&&(this.autoExpandDisposable=(0,t.disposableTimeout)(()=>{const W=this.modelProvider(),V=W.getNodeLocation(B);W.isCollapsed(V)&&W.setCollapsed(V,!1),this.autoExpandNode=void 0},500)),typeof Z=="boolean"||!Z.accept||typeof Z.bubble=="undefined"||Z.feedback){if(!K){const W=typeof Z=="boolean"?Z:Z.accept,V=typeof Z=="boolean"?void 0:Z.effect;return{accept:W,effect:V,feedback:[x]}}return Z}if(Z.bubble===1){const W=this.modelProvider(),V=W.getNodeLocation(B),G=W.getParentNodeLocation(V),oe=W.getNode(G),ce=G&&W.getListIndex(G);return this.onDragOver(L,oe,ce,U,!1)}const X=this.modelProvider(),ne=X.getNodeLocation(B),Y=X.getListIndex(ne),j=X.getListRenderCount(ne);return Object.assign(Object.assign({},Z),{feedback:(0,g.range)(Y,Y+j)})}drop(L,B,x,U){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(L),B&&B.element,x,U)}onDragEnd(L){this.dnd.onDragEnd&&this.dnd.onDragEnd(L)}}function y(O,L){return L&&Object.assign(Object.assign({},L),{identityProvider:L.identityProvider&&{getId(B){return L.identityProvider.getId(B.element)}},dnd:L.dnd&&new m(O,L.dnd),multipleSelectionController:L.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return L.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return L.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:L.accessibilityProvider&&Object.assign(Object.assign({},L.accessibilityProvider),{getSetSize(B){const x=O(),U=x.getNodeLocation(B),K=x.getParentNodeLocation(U);return x.getNode(K).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:L.accessibilityProvider&&L.accessibilityProvider.isChecked?B=>L.accessibilityProvider.isChecked(B.element):void 0,getRole:L.accessibilityProvider&&L.accessibilityProvider.getRole?B=>L.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return L.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return L.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:L.accessibilityProvider&&L.accessibilityProvider.getWidgetRole?()=>L.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:L.accessibilityProvider&&L.accessibilityProvider.getAriaLevel?B=>L.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:L.accessibilityProvider.getActiveDescendantId&&(B=>L.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:L.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},L.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return L.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),enableKeyboardNavigation:L.simpleKeyboardNavigation})}class p{constructor(L){this.delegate=L}getHeight(L){return this.delegate.getHeight(L.element)}getTemplateId(L){return this.delegate.getTemplateId(L.element)}hasDynamicHeight(L){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(L.element)}setDynamicHeight(L,B){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(L.element,B)}}e.ComposedTreeDelegate=p;var f;(function(O){O.None="none",O.OnHover="onHover",O.Always="always"})(f=e.RenderIndentGuides||(e.RenderIndentGuides={}));class _{constructor(L,B=[]){this._elements=B,this.onDidChange=a.Event.forEach(L,x=>this._elements=x)}get elements(){return this._elements}}class I{constructor(L,B,x,U,K={}){this.renderer=L,this.modelProvider=B,this.activeNodes=U,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=I.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new n.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=L.templateId,this.updateOptions(K),a.Event.map(x,Z=>Z.node)(this.onDidChangeNodeTwistieState,this,this.disposables),L.onDidChangeTwistieState&&L.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(L={}){if(typeof L.indent!="undefined"&&(this.indent=(0,s.clamp)(L.indent,0,40)),typeof L.renderIndentGuides!="undefined"){const B=L.renderIndentGuides!==f.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const x=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,x),this.indentGuidesDisposable=x,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof L.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=L.hideTwistiesOfChildlessElements)}renderTemplate(L){const B=(0,C.append)(L,(0,C.$)(".monaco-tl-row")),x=(0,C.append)(B,(0,C.$)(".monaco-tl-indent")),U=(0,C.append)(B,(0,C.$)(".monaco-tl-twistie")),K=(0,C.append)(B,(0,C.$)(".monaco-tl-contents")),Z=this.renderer.renderTemplate(K);return{container:L,indent:x,twistie:U,indentGuidesDisposable:d.Disposable.None,templateData:Z}}renderElement(L,B,x,U){typeof U=="number"&&(this.renderedNodes.set(L,{templateData:x,height:U}),this.renderedElements.set(L.element,L));const K=I.DefaultIndent+(L.depth-1)*this.indent;x.twistie.style.paddingLeft=`${K}px`,x.indent.style.width=`${K+this.indent-16}px`,this.renderTwistie(L,x),typeof U=="number"&&this.renderIndentGuides(L,x),this.renderer.renderElement(L,B,x.templateData,U)}disposeElement(L,B,x,U){x.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(L,B,x.templateData,U),typeof U=="number"&&(this.renderedNodes.delete(L),this.renderedElements.delete(L.element))}disposeTemplate(L){this.renderer.disposeTemplate(L.templateData)}onDidChangeTwistieState(L){const B=this.renderedElements.get(L);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(L){const B=this.renderedNodes.get(L);!B||(this.renderTwistie(L,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(L,B.templateData))}renderTwistie(L,B){B.twistie.classList.remove(...i.Codicon.treeItemExpanded.classNamesArray);let x=!1;this.renderer.renderTwistie&&(x=this.renderer.renderTwistie(L.element,B.twistie)),L.collapsible&&(!this.hideTwistiesOfChildlessElements||L.visibleChildrenCount>0)?(x||B.twistie.classList.add(...i.Codicon.treeItemExpanded.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",L.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),L.collapsible?B.container.setAttribute("aria-expanded",String(!L.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(L,B){if((0,C.clearNode)(B.indent),B.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const x=new d.DisposableStore,U=this.modelProvider();let K=L;for(;;){const Z=U.getNodeLocation(K),ee=U.getParentNodeLocation(Z);if(!ee)break;const X=U.getNode(ee),ne=(0,C.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(X)&&ne.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(ne):B.indent.insertBefore(ne,B.indent.firstElementChild),this.renderedIndentGuides.add(X,ne),x.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(X,ne))),K=X}B.indentGuidesDisposable=x}_onDidChangeActiveNodes(L){if(!this.shouldRenderIndentGuides)return;const B=new Set,x=this.modelProvider();L.forEach(U=>{const K=x.getNodeLocation(U);try{const Z=x.getParentNodeLocation(K);U.collapsible&&U.children.length>0&&!U.collapsed?B.add(U):Z&&B.add(x.getNode(Z))}catch{}}),this.activeIndentNodes.forEach(U=>{B.has(U)||this.renderedIndentGuides.forEach(U,K=>K.classList.remove("active"))}),B.forEach(U=>{this.activeIndentNodes.has(U)||this.renderedIndentGuides.forEach(U,K=>K.classList.add("active"))}),this.activeIndentNodes=B}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}I.DefaultIndent=8;class E{constructor(L,B,x){this.tree=L,this.keyboardNavigationLabelProvider=B,this._filter=x,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,L.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(L){this._pattern=L,this._lowercasePattern=L.toLowerCase()}filter(L,B){if(this._filter){const K=this._filter.filter(L,B);if(this.tree.options.simpleKeyboardNavigation)return K;let Z;if(typeof K=="boolean"?Z=K?1:0:(0,v.isFilterResult)(K)?Z=(0,v.getVisibleState)(K.visibility):Z=K,Z===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:c.FuzzyScore.Default,visibility:!0};const x=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(L),U=Array.isArray(x)?x:[x];for(const K of U){const Z=K&&K.toString();if(typeof Z=="undefined")return{data:c.FuzzyScore.Default,visibility:!0};const ee=(0,c.fuzzyScore)(this._pattern,this._lowercasePattern,0,Z,Z.toLowerCase(),0,!0);if(ee)return this._matchCount++,U.length===1?{data:ee,visibility:!0}:{data:{label:Z,score:ee},visibility:!0}}return this.tree.options.filterOnType?2:{data:c.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class T{constructor(L,B,x,U,K){this.tree=L,this.view=x,this.filter=U,this.keyboardNavigationDelegate=K,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new a.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new a.Emitter,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this.domNode=(0,C.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,C.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,C.append)(x.getHTMLElement(),(0,C.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,C.append)(this.domNode,(0,C.$)("span.label"));const Z=(0,C.append)(this.domNode,(0,C.$)(".controls"));this._filterOnType=!!L.options.filterOnType,this.filterOnTypeDomNode=(0,C.append)(Z,(0,C.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,C.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,C.append)(Z,(0,C.$)("button.clear"+i.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,o.localize)(0,null),this.keyboardNavigationEventFilter=L.options.keyboardNavigationEventFilter,B.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(L.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(L){L.simpleKeyboardNavigation?this.disable():this.enable(),typeof L.filterOnType!="undefined"&&(this._filterOnType=!!L.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof L.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=L.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const L=this.enabledDisposables.add(new N.DomEmitter(this.view.getHTMLElement(),"keydown")),B=a.Event.chain(L.event).filter(U=>!(0,b.isInputElement)(U.target)||U.target===this.filterOnTypeDomNode).filter(U=>U.key!=="Dead"&&!/^Media/.test(U.key)).map(U=>new D.StandardKeyboardEvent(U)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(U=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(U)&&!(U.keyCode===18||U.keyCode===16||U.keyCode===15||U.keyCode===17)||(this.pattern.length>0||this.triggered)&&(U.keyCode===9||U.keyCode===1)&&!U.altKey&&!U.ctrlKey&&!U.metaKey||U.keyCode===1&&(r.isMacintosh?U.altKey&&!U.metaKey:U.ctrlKey)&&!U.shiftKey).forEach(U=>{U.stopPropagation(),U.preventDefault()}).event,x=this.enabledDisposables.add(new N.DomEmitter(this.clearDomNode,"click"));a.Event.chain(a.Event.any(B,x.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(L){typeof L=="string"?this.onInput(L):L instanceof MouseEvent||L.keyCode===9||L.keyCode===1&&(r.isMacintosh?L.altKey:L.ctrlKey)?this.onInput(""):L.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+L.browserEvent.key)}onInput(L){const B=this.view.getHTMLElement();L&&!this.domNode.parentElement?B.append(this.domNode):!L&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=L,this._onDidChangePattern.fire(L),this.filter.pattern=L,this.tree.refilter(),L&&this.tree.focusNext(0,!0,void 0,U=>!c.FuzzyScore.isDefault(U.filterData));const x=this.tree.getFocus();if(x.length>0){const U=x[0];this.tree.getRelativeTop(U)===null&&this.tree.reveal(U,.5)}this.render(),L||(this.triggered=!1)}onDragStart(){const L=this.view.getHTMLElement(),{left:B}=(0,C.getDomNodePagePosition)(L),x=L.clientWidth,U=x/2,K=this.domNode.clientWidth,Z=new d.DisposableStore;let ee=this.positionClassName;const X=()=>{switch(ee){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${x-K-6}px`;break}},ne=j=>{j.preventDefault();const W=j.clientX-B;j.dataTransfer&&(j.dataTransfer.dropEffect="none"),W<U?ee="nw":ee="ne",X()},Y=()=>{this.positionClassName=ee,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,d.dispose)(Z)};X(),this.domNode.classList.remove(ee),this.domNode.classList.add("dragging"),Z.add((0,d.toDisposable)(()=>this.domNode.classList.remove("dragging"))),Z.add((0,C.addDisposableListener)(document,"dragover",j=>ne(j))),Z.add((0,C.addDisposableListener)(this.domNode,"dragend",()=>Y())),w.StaticDND.CurrentDragAndDropData=new w.DragAndDropData("vscode-ui"),Z.add((0,d.toDisposable)(()=>w.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...i.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,o.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...i.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,o.localize)(2,null))}render(){const L=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&L?(this.messageDomNode.textContent=(0,o.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",L),this.domNode.title=(0,o.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(L){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!c.FuzzyScore.isDefault(L.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,d.dispose)(this.disposables)}}function k(O){let L=u.TreeMouseEventTarget.Unknown;return(0,C.hasParentWithClass)(O.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?L=u.TreeMouseEventTarget.Twistie:(0,C.hasParentWithClass)(O.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(L=u.TreeMouseEventTarget.Element),{browserEvent:O.browserEvent,element:O.element?O.element.element:null,target:L}}function A(O,L){L(O),O.children.forEach(B=>A(B,L))}class P{constructor(L,B){this.getFirstViewElementWithTrait=L,this.identityProvider=B,this.nodes=[],this._onDidChange=new a.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(L,B){!(B==null?void 0:B.__forceEvent)&&(0,g.equals)(this.nodes,L)||this._set(L,!1,B)}_set(L,B,x){if(this.nodes=[...L],this.elements=void 0,this._nodeSet=void 0,!B){const U=this;this._onDidChange.fire({get elements(){return U.get()},browserEvent:x})}}get(){return this.elements||(this.elements=this.nodes.map(L=>L.element)),[...this.elements]}getNodes(){return this.nodes}has(L){return this.nodeSet.has(L)}onDidModelSplice({insertedNodes:L,deletedNodes:B}){if(!this.identityProvider){const X=this.createNodeSet(),ne=Y=>X.delete(Y);B.forEach(Y=>A(Y,ne)),this.set([...X.values()]);return}const x=new Set,U=X=>x.add(this.identityProvider.getId(X.element).toString());B.forEach(X=>A(X,U));const K=new Map,Z=X=>K.set(this.identityProvider.getId(X.element).toString(),X);L.forEach(X=>A(X,Z));const ee=[];for(const X of this.nodes){const ne=this.identityProvider.getId(X.element).toString();if(!x.has(ne))ee.push(X);else{const j=K.get(ne);j&&ee.push(j)}}if(this.nodes.length>0&&ee.length===0){const X=this.getFirstViewElementWithTrait();X&&ee.push(X)}this._set(ee,!0)}createNodeSet(){const L=new Set;for(const B of this.nodes)L.add(B);return L}}class F extends b.MouseController{constructor(L,B){super(L);this.tree=B}onViewPointer(L){if((0,b.isInputElement)(L.browserEvent.target)||(0,b.isMonacoEditor)(L.browserEvent.target))return;const B=L.element;if(!B)return super.onViewPointer(L);if(this.isSelectionRangeChangeEvent(L)||this.isSelectionSingleChangeEvent(L))return super.onViewPointer(L);const x=L.browserEvent.target,U=x.classList.contains("monaco-tl-twistie")||x.classList.contains("monaco-icon-label")&&x.classList.contains("folder-icon")&&L.browserEvent.offsetX<16;let K=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?K=this.tree.expandOnlyOnTwistieClick(B.element):K=!!this.tree.expandOnlyOnTwistieClick,K&&!U&&L.browserEvent.detail!==2)return super.onViewPointer(L);if(!this.tree.expandOnDoubleClick&&L.browserEvent.detail===2)return super.onViewPointer(L);if(B.collapsible){const Z=this.tree.model,ee=Z.getNodeLocation(B),X=L.browserEvent.altKey;if(this.tree.setFocus([ee]),Z.setCollapsed(ee,void 0,X),K&&U)return}super.onViewPointer(L)}onDoubleClick(L){L.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(L)}}class R extends b.List{constructor(L,B,x,U,K,Z,ee,X){super(L,B,x,U,X);this.focusTrait=K,this.selectionTrait=Z,this.anchorTrait=ee}createMouseController(L){return new F(this,L.tree)}splice(L,B,x=[]){if(super.splice(L,B,x),x.length===0)return;const U=[],K=[];let Z;x.forEach((ee,X)=>{this.focusTrait.has(ee)&&U.push(L+X),this.selectionTrait.has(ee)&&K.push(L+X),this.anchorTrait.has(ee)&&(Z=L+X)}),U.length>0&&super.setFocus((0,g.distinct)([...super.getFocus(),...U])),K.length>0&&super.setSelection((0,g.distinct)([...super.getSelection(),...K])),typeof Z=="number"&&super.setAnchor(Z)}setFocus(L,B,x=!1){super.setFocus(L,B),x||this.focusTrait.set(L.map(U=>this.element(U)),B)}setSelection(L,B,x=!1){super.setSelection(L,B),x||this.selectionTrait.set(L.map(U=>this.element(U)),B)}setAnchor(L,B=!1){super.setAnchor(L),B||(typeof L=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(L)]))}}class M{constructor(L,B,x,U,K={}){this._options=K,this.eventBufferer=new a.EventBufferer,this.disposables=new d.DisposableStore,this._onWillRefilter=new a.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new a.Emitter;const Z=new p(x),ee=new a.Relay,X=new a.Relay,ne=new _(X.event);this.renderers=U.map(W=>new I(W,()=>this.model,ee.event,ne,K));for(let W of this.renderers)this.disposables.add(W);let Y;K.keyboardNavigationLabelProvider&&(Y=new E(this,K.keyboardNavigationLabelProvider,K.filter),K=Object.assign(Object.assign({},K),{filter:Y}),this.disposables.add(Y)),this.focus=new P(()=>this.view.getFocusedElements()[0],K.identityProvider),this.selection=new P(()=>this.view.getSelectedElements()[0],K.identityProvider),this.anchor=new P(()=>this.view.getAnchorElement(),K.identityProvider),this.view=new R(L,B,Z,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},y(()=>this.model,K)),{tree:this})),this.model=this.createModel(L,this.view,K),ee.input=this.model.onDidChangeCollapseState;const j=a.Event.forEach(this.model.onDidSplice,W=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(W),this.selection.onDidModelSplice(W)})});if(j(()=>null,null,this.disposables),X.input=a.Event.chain(a.Event.any(j,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const W=new Set;for(const V of this.focus.getNodes())W.add(V);for(const V of this.selection.getNodes())W.add(V);return[...W.values()]}).event,K.keyboardSupport!==!1){const W=a.Event.chain(this.view.onKeyDown).filter(V=>!(0,b.isInputElement)(V.target)).map(V=>new D.StandardKeyboardEvent(V));W.filter(V=>V.keyCode===15).on(this.onLeftArrow,this,this.disposables),W.filter(V=>V.keyCode===17).on(this.onRightArrow,this,this.disposables),W.filter(V=>V.keyCode===10).on(this.onSpace,this,this.disposables)}if(K.keyboardNavigationLabelProvider){const W=K.keyboardNavigationDelegate||b.DefaultKeyboardNavigationDelegate;this.typeFilterController=new T(this,this.model,this.view,Y,W),this.focusNavigationFilter=V=>this.typeFilterController.shouldAllowFocus(V),this.disposables.add(this.typeFilterController)}this.styleElement=(0,C.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===f.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return a.Event.map(this.view.onMouseDblClick,k)}get onPointer(){return a.Event.map(this.view.onPointer,k)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return a.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(L={}){this._options=Object.assign(Object.assign({},this._options),L);for(const B of this.renderers)B.updateOptions(L);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===f.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(L){this.view.scrollTop=L}domFocus(){this.view.domFocus()}layout(L,B){this.view.layout(L,B)}style(L){const B=`.${this.view.domId}`,x=[];L.treeIndentGuidesStroke&&(x.push(`.monaco-list${B}:hover .monaco-tl-indent > .indent-guide, .monaco-list${B}.always .monaco-tl-indent > .indent-guide  { border-color: ${L.treeIndentGuidesStroke.transparent(.4)}; }`),x.push(`.monaco-list${B} .monaco-tl-indent > .indent-guide.active { border-color: ${L.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=x.join(`
`),this.view.style(L)}getParentElement(L){const B=this.model.getParentNodeLocation(L);return this.model.getNode(B).element}getFirstElementChild(L){return this.model.getFirstElementChild(L)}getNode(L){return this.model.getNode(L)}collapse(L,B=!1){return this.model.setCollapsed(L,!0,B)}expand(L,B=!1){return this.model.setCollapsed(L,!1,B)}isCollapsible(L){return this.model.isCollapsible(L)}setCollapsible(L,B){return this.model.setCollapsible(L,B)}isCollapsed(L){return this.model.isCollapsed(L)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(L,B){const x=L.map(K=>this.model.getNode(K));this.selection.set(x,B);const U=L.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setSelection(U,B,!0)}getSelection(){return this.selection.get()}setFocus(L,B){const x=L.map(K=>this.model.getNode(K));this.focus.set(x,B);const U=L.map(K=>this.model.getListIndex(K)).filter(K=>K>-1);this.view.setFocus(U,B,!0)}focusNext(L=1,B=!1,x,U=this.focusNavigationFilter){this.view.focusNext(L,B,x,U)}getFocus(){return this.focus.get()}reveal(L,B){this.model.expandTo(L);const x=this.model.getListIndex(L);x!==-1&&this.view.reveal(x,B)}getRelativeTop(L){const B=this.model.getListIndex(L);return B===-1?null:this.view.getRelativeTop(B)}onLeftArrow(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const x=B[0],U=this.model.getNodeLocation(x);if(!this.model.setCollapsed(U,!0)){const Z=this.model.getParentNodeLocation(U);if(!Z)return;const ee=this.model.getListIndex(Z);this.view.reveal(ee),this.view.setFocus([ee])}}onRightArrow(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const x=B[0],U=this.model.getNodeLocation(x);if(!this.model.setCollapsed(U,!1)){if(!x.children.some(X=>X.visible))return;const[Z]=this.view.getFocus(),ee=Z+1;this.view.reveal(ee),this.view.setFocus([ee])}}onSpace(L){L.preventDefault(),L.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const x=B[0],U=this.model.getNodeLocation(x),K=L.browserEvent.altKey;this.model.setCollapsed(U,void 0,K)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=M}),define(Q[467],J([0,1,189,167]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class N extends w.AbstractTree{constructor(S,b,v,u,g,t={}){super(S,b,v,u,t);this.user=S,this.dataSource=g,this.identityProvider=t.identityProvider}createModel(S,b,v){return new C.ObjectTreeModel(S,b,v)}}e.DataTree=N}),define(Q[254],J([0,1,189,314,167,93,54]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends w.AbstractTree{constructor(i,n,a,c,d={}){super(i,n,a,c,d)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(i,n=S.Iterable.empty(),a){this.model.setChildren(i,n,a)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,n,a){return new N.ObjectTreeModel(i,n,a)}}e.ObjectTree=b;class v{constructor(i,n){this._compressedTreeNodeProvider=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(i){const n=this.renderer.renderTemplate(i);return{compressedTreeNode:void 0,data:n}}renderElement(i,n,a,c){const d=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);d.element.elements.length===1?(a.compressedTreeNode=void 0,this.renderer.renderElement(i,n,a.data,c)):(a.compressedTreeNode=d,this.renderer.renderCompressedElements(d,n,a.data,c))}disposeElement(i,n,a,c){a.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(a.compressedTreeNode,n,a.data,c):this.renderer.disposeElement&&this.renderer.disposeElement(i,n,a.data,c)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,n){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,n):!1}}Be([D.memoize],v.prototype,"compressedTreeNodeProvider",null);function u(t,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let a;try{a=t().getCompressedTreeNode(n)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return a.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(a.element.elements)}}})}class g extends b{constructor(i,n,a,c,d={}){const s=()=>this,r=c.map(o=>new v(s,o));super(i,n,a,r,u(s,d))}setChildren(i,n=S.Iterable.empty(),a){this.model.setChildren(i,n,a)}createModel(i,n,a){return new C.CompressibleObjectTreeModel(i,n,a)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=g}),define(Q[468],J([0,1,172,189,166,254,105,10,27,14,4,54,2]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(A){return Object.assign(Object.assign({},A),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function a(A,P){return P.parent?P.parent===A?!0:a(A,P.parent):!1}function c(A,P){return A===P||a(A,P)||a(P,A)}class d{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new d(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(P,F,R){this.renderer=P,this.nodeMapper=F,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,F,R,M){this.renderer.renderElement(this.nodeMapper.map(P),F,R.templateData,M)}renderTwistie(P,F){return P.slow?(F.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(F.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,F,R,M){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),F,R.templateData,M)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function r(A){return{browserEvent:A.browserEvent,elements:A.elements.map(P=>P.element)}}function o(A){return{browserEvent:A.browserEvent,element:A.element&&A.element.element,target:A.target}}class l extends w.ElementsDragAndDropData{constructor(P){super(P.elements.map(F=>F.element));this.data=P}}function h(A){return A instanceof w.ElementsDragAndDropData?new l(A):A}class m{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,F){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(R=>R.element),F)}onDragStart(P,F){this.dnd.onDragStart&&this.dnd.onDragStart(h(P),F)}onDragOver(P,F,R,M,O=!0){return this.dnd.onDragOver(h(P),F&&F.element,R,M)}drop(P,F,R,M){this.dnd.drop(h(P),F&&F.element,R,M)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function y(A){return A&&Object.assign(Object.assign({},A),{collapseByDefault:!0,identityProvider:A.identityProvider&&{getId(P){return A.identityProvider.getId(P.element)}},dnd:A.dnd&&new m(A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:A.accessibilityProvider.getRole?P=>A.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:A.accessibilityProvider.isChecked?P=>{var F;return!!((F=A.accessibilityProvider)===null||F===void 0?void 0:F.isChecked(P.element))}:void 0,getAriaLabel(P){return A.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider.getAriaLevel&&(P=>A.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(P=>A.accessibilityProvider.getActiveDescendantId(P.element))}),filter:A.filter&&{filter(P,F){return A.filter.filter(P.element,F)}},keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof A.expandOnlyOnTwistieClick=="undefined"?void 0:typeof A.expandOnlyOnTwistieClick!="function"?A.expandOnlyOnTwistieClick:P=>A.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:A.additionalScrollHeight})}function p(A,P){P(A),A.children.forEach(F=>p(F,P))}class f{constructor(P,F,R,M,O,L={}){this.user=P,this.dataSource=O,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new S.WeakMapper(B=>new d(B)),this.disposables=new i.DisposableStore,this.identityProvider=L.identityProvider,this.autoExpandSingleChildren=typeof L.autoExpandSingleChildren=="undefined"?!1:L.autoExpandSingleChildren,this.sorter=L.sorter,this.collapseByDefault=L.collapseByDefault,this.tree=this.createTree(P,F,R,M,L),this.root=n({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,r)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,r)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,o)}get onPointer(){return g.Event.map(this.tree.onPointer,o)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(P,F,R,M,O){const L=new C.ComposedTreeDelegate(R),B=M.map(U=>new s(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),x=y(O)||{};return new D.ObjectTree(P,F,L,B,x)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,F){this.tree.layout(P,F)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,F){return De(this,void 0,void 0,function*(){this.refreshPromises.forEach(M=>M.cancel()),this.refreshPromises.clear(),this.root.element=P;const R=F&&{viewState:F,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,R),R&&(this.tree.setFocus(R.focus),this.tree.setSelection(R.selection)),F&&typeof F.scrollTop=="number"&&(this.scrollTop=F.scrollTop)})}_updateChildren(P=this.root.element,F=!0,R=!1,M,O){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const L=this.getDataNode(P);if(yield this.refreshAndRenderNode(L,F,M,O),R)try{this.tree.rerender(L)}catch{}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const F=this.getDataNode(P);this.tree.rerender(F)}getNode(P=this.root.element){const F=this.getDataNode(P),R=this.tree.getNode(F===this.root?null:F);return this.nodeMapper.map(R)}collapse(P,F=!1){const R=this.getDataNode(P);return this.tree.collapse(R===this.root?null:R,F)}expand(P,F=!1){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const R=this.getDataNode(P);if(this.tree.hasElement(R)&&!this.tree.isCollapsible(R)||(R.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),R!==this.root&&!R.refreshPromise&&!this.tree.isCollapsed(R)))return!1;const M=this.tree.expand(R===this.root?null:R,F);return R.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),M})}setSelection(P,F){const R=P.map(M=>this.getDataNode(M));this.tree.setSelection(R,F)}getSelection(){return this.tree.getSelection().map(F=>F.element)}setFocus(P,F){const R=P.map(M=>this.getDataNode(M));this.tree.setFocus(R,F)}getFocus(){return this.tree.getFocus().map(F=>F.element)}reveal(P,F){this.tree.reveal(this.getDataNode(P),F)}getParentElement(P){const F=this.tree.getParentElement(this.getDataNode(P));return F&&F.element}getFirstElementChild(P=this.root.element){const F=this.getDataNode(P),R=this.tree.getFirstElementChild(F===this.root?null:F);return R&&R.element}getDataNode(P){const F=this.nodes.get(P===this.root.element?null:P);if(!F)throw new S.TreeError(this.user,`Data tree node not found: ${P}`);return F}refreshAndRenderNode(P,F,R,M){return De(this,void 0,void 0,function*(){yield this.refreshNode(P,F,R),this.render(P,R,M)})}refreshNode(P,F,R){return De(this,void 0,void 0,function*(){let M;return this.subTreeRefreshPromises.forEach((O,L)=>{!M&&c(L,P)&&(M=O.then(()=>this.refreshNode(P,F,R)))}),M||this.doRefreshSubTree(P,F,R)})}doRefreshSubTree(P,F,R){return De(this,void 0,void 0,function*(){let M;P.refreshPromise=new Promise(O=>M=O),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const O=yield this.doRefreshNode(P,F,R);P.stale=!1,yield b.Promises.settled(O.map(L=>this.doRefreshSubTree(L,F,R)))}finally{M()}})}doRefreshNode(P,F,R){return De(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let M;if(!P.hasChildren)M=Promise.resolve(t.Iterable.empty());else{const O=(0,b.timeout)(800);O.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},L=>null),M=this.doGetChildren(P).finally(()=>O.cancel())}try{const O=yield M;return this.setChildren(P,O,F,R)}catch(O){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,u.isPromiseCanceledError)(O))return[];throw O}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let F=this.refreshPromises.get(P);return F||(F=(0,b.createCancelablePromise)(()=>De(this,void 0,void 0,function*(){const R=yield this.dataSource.getChildren(P.element);return this.processChildren(R)})),this.refreshPromises.set(P,F),F.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:F}){P.element!==null&&!P.collapsed&&P.element.stale&&(F?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(u.onUnexpectedError))}setChildren(P,F,R,M){const O=[...F];if(P.children.length===0&&O.length===0)return[];const L=new Map,B=new Map;for(const K of P.children)if(L.set(K.element,K),this.identityProvider){const Z=this.tree.isCollapsed(K);B.set(K.id,{node:K,collapsed:Z})}const x=[],U=O.map(K=>{const Z=!!this.dataSource.hasChildren(K);if(!this.identityProvider){const Y=n({element:K,parent:P,hasChildren:Z});return Z&&this.collapseByDefault&&!this.collapseByDefault(K)&&(Y.collapsedByDefault=!1,x.push(Y)),Y}const ee=this.identityProvider.getId(K).toString(),X=B.get(ee);if(X){const Y=X.node;return L.delete(Y.element),this.nodes.delete(Y.element),this.nodes.set(K,Y),Y.element=K,Y.hasChildren=Z,R?X.collapsed?(Y.children.forEach(j=>p(j,W=>this.nodes.delete(W.element))),Y.children.splice(0,Y.children.length),Y.stale=!0):x.push(Y):Z&&this.collapseByDefault&&!this.collapseByDefault(K)&&(Y.collapsedByDefault=!1,x.push(Y)),Y}const ne=n({element:K,parent:P,id:ee,hasChildren:Z});return M&&M.viewState.focus&&M.viewState.focus.indexOf(ee)>-1&&M.focus.push(ne),M&&M.viewState.selection&&M.viewState.selection.indexOf(ee)>-1&&M.selection.push(ne),M&&M.viewState.expanded&&M.viewState.expanded.indexOf(ee)>-1?x.push(ne):Z&&this.collapseByDefault&&!this.collapseByDefault(K)&&(ne.collapsedByDefault=!1,x.push(ne)),ne});for(const K of L.values())p(K,Z=>this.nodes.delete(Z.element));for(const K of U)this.nodes.set(K.element,K);return P.children.splice(0,P.children.length,...U),P!==this.root&&this.autoExpandSingleChildren&&U.length===1&&x.length===0&&(U[0].collapsedByDefault=!1,x.push(U[0])),x}render(P,F,R){const M=P.children.map(L=>this.asTreeElement(L,F)),O=R&&Object.assign(Object.assign({},R),{diffIdentityProvider:R.diffIdentityProvider&&{getId(L){return R.diffIdentityProvider.getId(L.element)}}});this.tree.setChildren(P===this.root?null:P,M,O),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,F){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let R;return F&&F.viewState.expanded&&P.id&&F.viewState.expanded.indexOf(P.id)>-1?R=!1:R=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?t.Iterable.map(P.children,M=>this.asTreeElement(M,F)):[],collapsible:P.hasChildren,collapsed:R}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=f;class _{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new _(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class I{constructor(P,F,R,M){this.renderer=P,this.nodeMapper=F,this.compressibleNodeMapperProvider=R,this.onDidChangeTwistieState=M,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,F,R,M){this.renderer.renderElement(this.nodeMapper.map(P),F,R.templateData,M)}renderCompressedElements(P,F,R,M){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),F,R.templateData,M)}renderTwistie(P,F){return P.slow?(F.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(F.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(P,F,R,M){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),F,R.templateData,M)}disposeCompressedElements(P,F,R,M){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),F,R.templateData,M)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function E(A){const P=A&&y(A);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(F){return A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(F.map(R=>R.element))}})})}class T extends f{constructor(P,F,R,M,O,L,B={}){super(P,F,R,O,L,B);this.compressionDelegate=M,this.compressibleNodeMapper=new S.WeakMapper(x=>new _(x)),this.filter=B.filter}createTree(P,F,R,M,O){const L=new C.ComposedTreeDelegate(R),B=M.map(U=>new I(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),x=E(O)||{};return new D.CompressibleObjectTree(P,F,L,B,x)}asTreeElement(P,F){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,F))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,F){if(!this.identityProvider)return super.render(P,F);const R=ee=>this.identityProvider.getId(ee).toString(),M=ee=>{const X=new Set;for(const ne of ee){const Y=this.tree.getCompressedTreeNode(ne===this.root?null:ne);if(!!Y.element)for(const j of Y.element.elements)X.add(R(j.element))}return X},O=M(this.tree.getSelection()),L=M(this.tree.getFocus());super.render(P,F);const B=this.getSelection();let x=!1;const U=this.getFocus();let K=!1;const Z=ee=>{const X=ee.element;if(X)for(let ne=0;ne<X.elements.length;ne++){const Y=R(X.elements[ne].element),j=X.elements[X.elements.length-1].element;O.has(Y)&&B.indexOf(j)===-1&&(B.push(j),x=!0),L.has(Y)&&U.indexOf(j)===-1&&(U.push(j),K=!0)}ee.children.forEach(Z)};Z(this.tree.getCompressedTreeNode(P===this.root?null:P)),x&&this.setSelection(B),K&&this.setFocus(U)}processChildren(P){return this.filter&&(P=t.Iterable.filter(P,F=>{const R=this.filter.filter(F,1),M=k(R);if(M===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return M===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=T;function k(A){return typeof A=="boolean"?A?1:0:(0,N.isFilterResult)(A)?(0,N.getVisibleState)(A.visibility):(0,N.getVisibleState)(A)}}),define(Q[469],J([5,6]),function(H,e){return H.create("vs/base/common/actions",e)}),define(Q[50],J([0,1,4,2,469]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends C.Disposable{constructor(t,i="",n="",a=!0,c){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=t,this._label=i,this._cssClass=n,this._enabled=a,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(t){this._setLabel(t)}_setLabel(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))}get tooltip(){return this._tooltip||""}set tooltip(t){this._setTooltip(t)}_setTooltip(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))}get class(){return this._cssClass}set class(t){this._setClass(t)}_setClass(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))}get enabled(){return this._enabled}set enabled(t){this._setEnabled(t)}_setEnabled(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))}get checked(){return this._checked}set checked(t){this._setChecked(t)}_setChecked(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))}run(t,i){return De(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(t))})}}e.Action=D;class S extends C.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new w.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new w.Emitter),this.onDidRun=this._onDidRun.event}run(t,i){return De(this,void 0,void 0,function*(){if(!t.enabled)return;this._onBeforeRun.fire({action:t});let n;try{yield this.runAction(t,i)}catch(a){n=a}this._onDidRun.fire({action:t,error:n})})}runAction(t,i){return De(this,void 0,void 0,function*(){yield t.run(i)})}}e.ActionRunner=S;class b extends D{constructor(t){super(b.ID,t,t?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=b,b.ID="vs.actions.separator";class v{constructor(t,i,n,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=i,this.class=a,this._actions=n}get actions(){return this._actions}dispose(){}run(){return De(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class u extends D{constructor(){super(u.ID,N.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty"}),define(Q[123],J([0,1,33,163,7,57,50,2,17,20,457,217]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{constructor(a,c,d={}){super();this.options=d,this._context=a||this,this._action=c,c instanceof S.Action&&this._register(c.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}handleActionChangeEvent(a){a.enabled!==void 0&&this.updateEnabled(),a.checked!==void 0&&this.updateChecked(),a.class!==void 0&&this.updateClass(),a.label!==void 0&&(this.updateLabel(),this.updateTooltip()),a.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(a){this._actionRunner=a}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(a){this._context=a}render(a){const c=this.element=a;this._register(D.Gesture.addTarget(a));const d=this.options&&this.options.draggable;d&&(a.draggable=!0,w.isFirefox&&this._register((0,N.addDisposableListener)(a,N.EventType.DRAG_START,s=>{var r;return(r=s.dataTransfer)===null||r===void 0?void 0:r.setData(C.DataTransfers.TEXT,this._action.label)}))),this._register((0,N.addDisposableListener)(c,D.EventType.Tap,s=>this.onClick(s,!0))),this._register((0,N.addDisposableListener)(c,N.EventType.MOUSE_DOWN,s=>{d||N.EventHelper.stop(s,!0),this._action.enabled&&s.button===0&&c.classList.add("active")})),v.isMacintosh&&this._register((0,N.addDisposableListener)(c,N.EventType.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register((0,N.addDisposableListener)(c,N.EventType.CLICK,s=>{N.EventHelper.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register((0,N.addDisposableListener)(c,N.EventType.DBLCLICK,s=>{N.EventHelper.stop(s,!0)})),[N.EventType.MOUSE_UP,N.EventType.MOUSE_OUT].forEach(s=>{this._register((0,N.addDisposableListener)(c,s,r=>{N.EventHelper.stop(r),c.classList.remove("active")}))})}onClick(a,c=!1){var d;N.EventHelper.stop(a,!0);const s=u.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?a:{preserveFocus:c}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(a){this.element&&(this.element.tabIndex=a?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=t;class i extends t{constructor(a,c,d={}){super(a,c,d);this.options=d,this.options.icon=d.icon!==void 0?d.icon:!1,this.options.label=d.label!==void 0?d.label:!0,this.cssClass=""}render(a){super.render(a),this.element&&(this.label=(0,N.append)(this.element,(0,N.$)("a.action-label"))),this.label&&(this._action.id===S.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,N.append)(this.element,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(a){this.label&&(this.label.tabIndex=a?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let a=null;this.getAction().tooltip?a=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(a=this.getAction().label,this.options.keybinding&&(a=g.localize(0,null,a,this.options.keybinding))),a&&this.label&&(this.label.title=a)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=i}),define(Q[81],J([0,1,7,46,123,50,4,2,20,217]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends b.Disposable{constructor(t,i={}){var n,a,c,d,s,r;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new S.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=i,this._context=(n=i.context)!==null&&n!==void 0?n:null,this._orientation=(a=this.options.orientation)!==null&&a!==void 0?a:0,this._triggerKeys={keyDown:(d=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keyDown)!==null&&d!==void 0?d:!1,keys:(r=(s=this.options.triggerKeys)===null||s===void 0?void 0:s.keys)!==null&&r!==void 0?r:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let o,l;switch(this._orientation){case 0:o=[15],l=[17];break;case 1:o=[16],l=[18],this.domNode.className+=" vertical";break}this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_DOWN,h=>{const m=new C.StandardKeyboardEvent(h);let y=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;o&&(m.equals(o[0])||m.equals(o[1]))?y=this.focusPrevious():l&&(m.equals(l[0])||m.equals(l[1]))?y=this.focusNext():m.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():m.equals(14)?y=this.focusFirst():m.equals(13)?y=this.focusLast():m.equals(2)&&p instanceof N.BaseActionViewItem&&p.trapsArrowNavigation?y=this.focusNext():this.isTriggerKeyEvent(m)?this._triggerKeys.keyDown?this.doTrigger(m):this.triggerKeyDown=!0:y=!1,y&&(m.preventDefault(),m.stopPropagation())})),this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_UP,h=>{const m=new C.StandardKeyboardEvent(h);this.isTriggerKeyEvent(m)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(m)),m.preventDefault(),m.stopPropagation()):(m.equals(2)||m.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(w.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(w.getActiveElement()===this.domNode||!w.isAncestor(w.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}setFocusable(t){if(this.focusable=t,this.focusable){const i=this.viewItems.find(n=>n instanceof N.BaseActionViewItem&&n.isEnabled());i instanceof N.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof N.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(t){let i=!1;return this._triggerKeys.keys.forEach(n=>{i=i||t.equals(n)}),i}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(w.isAncestor(w.getActiveElement(),i)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach(i=>i.setActionContext(t))}get actionRunner(){return this._actionRunner}set actionRunner(t){t&&(this._actionRunner=t,this.viewItems.forEach(i=>i.actionRunner=t))}getContainer(){return this.domNode}push(t,i={}){const n=Array.isArray(t)?t:[t];let a=v.isNumber(i.index)?i.index:null;n.forEach(c=>{const d=document.createElement("li");d.className="action-item",d.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(w.addDisposableListener(d,w.EventType.CONTEXT_MENU,r=>{w.EventHelper.stop(r,!0)}));let s;this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(c)),s||(s=new N.ActionViewItem(this.context,c,i)),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(d),this.focusable&&s instanceof N.BaseActionViewItem&&this.viewItems.length===0&&s.setFocusable(!0),a===null||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(d),this.viewItems.push(s),this._actionIds.push(c.id)):(this.actionsList.insertBefore(d,this.actionsList.children[a]),this.viewItems.splice(a,0,s),this._actionIds.splice(a,0,c.id),a++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],w.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(t){let i=!1,n;if(t===void 0?i=!0:typeof t=="number"?n=t:typeof t=="boolean"&&(i=t),i&&typeof this.focusedItem=="undefined"){const a=this.viewItems.findIndex(c=>c.isEnabled());this.focusedItem=a===-1?void 0:a,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(),!0}focusPrevious(t){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(!0),!0}updateFocus(t,i,n=!1){var a;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((a=this.viewItems[this.previouslyFocusedItem])===null||a===void 0||a.blur());const c=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(c){let d=!0;v.isFunction(c.focus)||(d=!1),this.options.focusOnlyEnabledItems&&v.isFunction(c.isEnabled)&&!c.isEnabled()&&(d=!1),d?(n||this.previouslyFocusedItem!==this.focusedItem)&&(c.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(typeof this.focusedItem=="undefined")return;const i=this.viewItems[this.focusedItem];if(i instanceof N.BaseActionViewItem){const n=i._context===null||i._context===void 0?t:i._context;this.run(i._action,n)}}run(t,i){return De(this,void 0,void 0,function*(){yield this._actionRunner.run(t,i)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(Q[470],J([0,1,7,46,57,50,4,220]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends D.ActionRunner{constructor(g,t){super();this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,w.append)(g,(0,w.$)(".monaco-dropdown")),this._label=(0,w.append)(this._element,(0,w.$)(".dropdown-label"));let i=t.labelRenderer;i||(i=a=>(a.textContent=t.label||"",null));for(const a of[w.EventType.CLICK,w.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,w.addDisposableListener)(this.element,a,c=>w.EventHelper.stop(c,!0)));for(const a of[w.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,w.addDisposableListener)(this._label,a,c=>{c instanceof MouseEvent&&c.detail>1||(this.visible?this.hide():this.show())}));this._register((0,w.addDisposableListener)(this._label,w.EventType.KEY_UP,a=>{const c=new C.StandardKeyboardEvent(a);(c.equals(3)||c.equals(10))&&(w.EventHelper.stop(a,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(N.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class v extends b{constructor(g,t){super(g,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(Q[471],J([0,1,7,123,470,4,220]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends C.BaseActionViewItem{constructor(v,u,g,t=Object.create(null)){super(null,v,t);this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=g,this.options=t,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const u=i=>{this.element=(0,w.append)(i,(0,w.$)("a.action-label"));let n=[];return typeof this.options.classNames=="string"?n=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(n=this.options.classNames),n.find(a=>a==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),t={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new N.DropdownMenu(v,t)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,u;const g=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",g),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=S}),define(Q[190],J([0,1,7,88,168,81,43,65,58,30,4,309,38,463,334]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const a=w.$,c={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class d extends v.Widget{constructor(o,l,h){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=h||Object.create(null),(0,i.mixin)(this.options,c,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=w.append(o,a(".monaco-inputbox.idle"));let y=this.options.flexibleHeight?"textarea":"input",p=w.append(this.element,a(".ibwrapper"));if(this.input=w.append(p,a(y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=w.append(p,a("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),w.append(o,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(I=>this.input.scrollTop=I.scrollTop));const f=this._register(new C.DomEmitter(document,"selectionchange")),_=g.Event.filter(f.event,()=>{const I=document.getSelection();return(I==null?void 0:I.anchorNode)===p});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(o){this.placeholder=o,this.input.setAttribute("placeholder",o)}setTooltip(o){this.tooltip=o,this.input.title=o}setAriaLabel(o){this.ariaLabel=o,o?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(o){this.input.value!==o&&(this.input.value=o,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:w.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(o=null){this.input.select(),o&&(this.input.setSelectionRange(o.start,o.end),o.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return w.getTotalWidth(this.input)}set width(o){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;l=h+m}this.input.style.width=o-l+"px"}else this.input.style.width=o+"px";this.mirror&&(this.mirror.style.width=o+"px")}set paddingRight(o){this.input.style.width=`calc(100% - ${o}px)`,this.mirror&&(this.mirror.style.paddingRight=o+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const o=this.cachedContentHeight,l=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:o,height:l}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(o,l){this.message=o,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(o.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let o=null;return this.validation&&(o=this.validation(this.value),o?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(o)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),o==null?void 0:o.type}stylesForType(o){switch(o){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(o){switch(o){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let o,l=()=>o.style.width=w.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;o=w.append(m,a(".monaco-inputbox-container")),l();const y={inline:!0,className:"monaco-inputbox-message"},p=this.message.formatContent?(0,N.renderFormattedText)(this.message.content,y):(0,N.renderText)(this.message.content,y);p.classList.add(this.classForType(this.message.type));const f=this.stylesForType(this.message.type);return p.style.backgroundColor=f.background?f.background.toString():"",p.style.color=f.foreground?f.foreground.toString():"",p.style.border=f.border?`1px solid ${f.border}`:"",w.append(o,p),null},onHide:()=>{this.state="closed"},layout:l});let h;this.message.type===3?h=n.localize(0,null,this.message.content):this.message.type===2?h=n.localize(1,null,this.message.content):h=n.localize(2,null,this.message.content),S.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const o=this.value,h=o.charCodeAt(o.length-1)===10?" ":"";(o+h).replace(/\u000c/g,"")?this.mirror.textContent=o+h:this.mirror.innerText="\xA0",this.layout()}style(o){this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const o=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=o,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const o=this.cachedContentHeight;this.cachedContentHeight=w.getTotalHeight(this.mirror),o!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(o){const l=this.inputElement,h=l.selectionStart,m=l.selectionEnd,y=l.value;h!==null&&m!==null&&(this.value=y.substr(0,h)+o+y.substr(m),l.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=d;class s extends d{constructor(o,l,h){const m=n.localize(3,null),y=` or \u21C5 ${m}`,p=` (\u21C5 ${m})`;super(o,l,h);this.history=new t.HistoryNavigator(h.history,100);const f=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(y)&&!this.placeholder.endsWith(p)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?y:p,I=this.placeholder+_;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=I:this.setPlaceHolder(I)}};this.observer=new MutationObserver((_,I)=>{_.forEach(E=>{E.target.textContent||f()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>f()),this.onblur(this.input,()=>{const _=I=>{if(this.placeholder.endsWith(I)){const E=this.placeholder.slice(0,this.placeholder.length-I.length);return h.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};_(p)||_(y)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let o=this.getNextValue();o&&(o=o===this.value?this.getNextValue():o),o&&(this.value=o,S.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let o=this.getPreviousValue();o&&(o=o===this.value?this.getPreviousValue():o),o&&(this.value=o,S.status(this.value))}getCurrentValue(){let o=this.history.current();return o||(o=this.history.last(),this.history.next()),o}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=s}),define(Q[472],J([0,1,7,253,190,58,4,458,221]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=b.localize(0,null);class u extends D.Widget{constructor(t,i,n,a){super();this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=i,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||v,this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground;const c=a.appendCaseSensitiveLabel||"",d=a.appendWholeWordsLabel||"",s=a.appendRegexLabel||"",r=a.history||[],o=!!a.flexibleHeight,l=!!a.flexibleWidth,h=a.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:a.showHistoryHint,flexibleHeight:o,flexibleWidth:l,flexibleMaxHeight:h})),this.regex=this._register(new C.RegexCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new C.WholeWordsCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new C.CaseSensitiveCheckbox({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){let f=m.indexOf(document.activeElement);if(f>=0){let _=-1;p.equals(17)?_=(f+1)%m.length:p.equals(15)&&(f===0?_=m.length-1:_=f-1),p.equals(9)?(m[f].blur(),this.inputBox.focus()):_>=0&&m[_].focus(),w.EventHelper.stop(p,!0)}}});let y=document.createElement("div");y.className="controls",y.style.display=this._showOptionButtons?"block":"none",y.appendChild(this.caseSensitive.domNode),y.appendChild(this.wholeWords.domNode),y.appendChild(this.regex.domNode),this.domNode.appendChild(y),t&&t.appendChild(this.domNode),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionstart",p=>{this.imeSessionInProgress=!0})),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionend",p=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);const i={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(i)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=u}),define(Q[473],J([0,1,7,171,190,58,27,4,460,221]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const u=v.localize(0,null),g=v.localize(1,null);class t extends C.Checkbox{constructor(a){super({icon:S.Codicon.preserveCase,title:g+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=t;class i extends D.Widget{constructor(a,c,d,s){super();this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=c,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||u,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const r=s.appendPreserveCaseLabel||"",o=s.history||[],l=!!s.flexibleHeight,h=!!s.flexibleWidth,m=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:s.showHistoryHint,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:m})),this.preserveCase=this._register(new t({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(f=>{this._onPreserveCaseKeyDown.fire(f)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let y=[this.preserveCase.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let _=y.indexOf(document.activeElement);if(_>=0){let I=-1;f.equals(17)?I=(_+1)%y.length:f.equals(15)&&(_===0?I=y.length-1:I=_-1),f.equals(9)?(y[_].blur(),this.inputBox.focus()):I>=0&&y[I].focus(),w.EventHelper.stop(f,!0)}}});let p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),a&&a.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(a){a?this.enable():this.disable()}style(a){this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const a={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(a);const c={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(c)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(a){this.preserveCase.checked=a}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(a){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=a,this.domNode.style.width=a+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(Q[474],J([0,1,33,57,7,46,56,81,123,139,218,65,50,10,27,95,2,17,8,465]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(l=e.Direction||(e.Direction={}));class h extends b.ActionBar{constructor(E,T,k={}){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation");super(A,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,k,P),context:k.context,actionRunner:k.actionRunner,ariaLabel:k.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...s.isMacintosh||s.isLinux?[10]:[]],keyDown:!0}});this.menuElement=A,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new d.DisposableStore),this.initializeOrUpdateStyleSheet(E,{}),this._register(C.Gesture.addTarget(A)),(0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,R=>{new D.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()}),k.enableMnemonics&&this.menuDisposables.add((0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,R=>{const M=R.key.toLocaleLowerCase();if(this.mnemonics.has(M)){N.EventHelper.stop(R,!0);const O=this.mnemonics.get(M);if(O.length===1&&(O[0]instanceof y&&O[0].container&&this.focusItemByElement(O[0].container),O[0].onClick(R)),O.length>1){const L=O.shift();L&&L.container&&(this.focusItemByElement(L.container),O.push(L)),this.mnemonics.set(M,O)}}})),s.isLinux&&this._register((0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,R=>{const M=new D.StandardKeyboardEvent(R);M.equals(14)||M.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),N.EventHelper.stop(R,!0)):(M.equals(13)||M.equals(12))&&(this.focusedItem=0,this.focusPrevious(),N.EventHelper.stop(R,!0))})),this._register((0,N.addDisposableListener)(this.domNode,N.EventType.MOUSE_OUT,R=>{let M=R.relatedTarget;(0,N.isAncestor)(M,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,N.addDisposableListener)(this.actionsList,N.EventType.MOUSE_OVER,R=>{let M=R.target;if(!(!M||!(0,N.isAncestor)(M,this.actionsList)||M===this.actionsList)){for(;M.parentElement!==this.actionsList&&M.parentElement!==null;)M=M.parentElement;if(M.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(M),O!==this.focusedItem&&this.updateFocus()}}})),this._register(C.Gesture.addTarget(this.actionsList)),this._register((0,N.addDisposableListener)(this.actionsList,C.EventType.Tap,R=>{let M=R.initialTarget;if(!(!M||!(0,N.isAncestor)(M,this.actionsList)||M===this.actionsList)){for(;M.parentElement!==this.actionsList&&M.parentElement!==null;)M=M.parentElement;if(M.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(M),O!==this.focusedItem&&this.updateFocus()}}}));let P={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new t.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this._register((0,N.addDisposableListener)(A,C.EventType.Change,R=>{N.EventHelper.stop(R,!0);const M=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:M-R.translationY})})),this._register((0,N.addDisposableListener)(F,N.EventType.MOUSE_UP,R=>{R.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,T=T.filter(R=>{var M;return((M=k.submenuIds)===null||M===void 0?void 0:M.has(R.id))?(console.warn(`Found submenu cycle: ${R.id}`),!1):!0}),this.push(T,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof p)).forEach((R,M,O)=>{R.updatePositionInSet(M+1,O.length)})}initializeOrUpdateStyleSheet(E,T){this.styleSheet||((0,N.isInShadowDOM)(E)?this.styleSheet=(0,N.createStyleSheet)(E):(h.globalStyleSheet||(h.globalStyleSheet=(0,N.createStyleSheet)()),this.styleSheet=h.globalStyleSheet)),this.styleSheet.textContent=_(T)}style(E){const T=this.getContainer();this.initializeOrUpdateStyleSheet(T,E);const k=E.foregroundColor?`${E.foregroundColor}`:"",A=E.backgroundColor?`${E.backgroundColor}`:"",P=E.borderColor?`1px solid ${E.borderColor}`:"",F=E.shadowColor?`0 2px 4px ${E.shadowColor}`:"";T.style.border=P,this.domNode.style.color=k,this.domNode.style.backgroundColor=A,T.style.boxShadow=F,this.viewItems&&this.viewItems.forEach(R=>{(R instanceof m||R instanceof p)&&R.style(E)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const T=this.focusedItem;this.setFocusedItem(E),T!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let T=0;T<this.actionsList.children.length;T++){let k=this.actionsList.children[T];if(E===k){this.focusedItem=T;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,T,k){if(E instanceof i.Separator)return new p(T.context,E,{icon:!0});if(E instanceof i.SubmenuAction){const A=new y(E,E.actions,k,Object.assign(Object.assign({},T),{submenuIds:new Set([...T.submenuIds||[],E.id])}));if(T.enableMnemonics){const P=A.getMnemonic();if(P&&A.isEnabled()){let F=[];this.mnemonics.has(P)&&(F=this.mnemonics.get(P)),F.push(A),this.mnemonics.set(P,F)}}return A}else{const A={enableMnemonics:T.enableMnemonics,useEventAsContext:T.useEventAsContext};if(T.getKeyBinding){const F=T.getKeyBinding(E);if(F){const R=F.getLabel();R&&(A.keybinding=R)}}const P=new m(T.context,E,A);if(T.enableMnemonics){const F=P.getMnemonic();if(F&&P.isEnabled()){let R=[];this.mnemonics.has(F)&&(R=this.mnemonics.get(F)),R.push(P),this.mnemonics.set(F,R)}}return P}}}e.Menu=h;class m extends v.BaseActionViewItem{constructor(E,T,k={}){k.isMenu=!0;super(T,T,k);if(this.options=k,this.options.icon=k.icon!==void 0?k.icon:!1,this.options.label=k.label!==void 0?k.label:!0,this.cssClass="",this.options.label&&k.enableMnemonics){let A=this.getAction().label;if(A){let P=e.MENU_MNEMONIC_REGEX.exec(A);P&&(this.mnemonic=(P[1]?P[1]:P[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{!this.element||(this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_UP,A=>{if(N.EventHelper.stop(A,!0),w.isFirefox){if(new S.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.CONTEXT_MENU,A=>{N.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),!!this.element&&(this.container=E,this.item=(0,N.append)(this.element,(0,N.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,N.append)(this.item,(0,N.$)("span.menu-item-check"+a.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,N.append)(this.item,(0,N.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,N.append)(this.item,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(E,T){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${T}`))}updateLabel(){if(!!this.label&&this.options.label){(0,N.clearNode)(this.label);let E=(0,c.stripIcons)(this.getAction().label);if(E){const T=f(E);this.options.enableMnemonics||(E=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const k=e.MENU_MNEMONIC_REGEX.exec(E);if(k){E=r.escape(E),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);const P=F=>F.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(r.ltrim(P(E.substr(0,A.index))," "),(0,N.$)("u",{"aria-hidden":"true"},A[3]),r.rtrim(P(E.substr(A.index+A[0].length))," ")):this.label.innerText=P(E).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(k[1]?k[1]:k[3]).toLocaleLowerCase())}else this.label.innerText=E.replace(/&&/g,"&").trim()}}}updateTooltip(){let E=null;this.getAction().tooltip?E=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(E=this.getAction().label,this.options.keybinding&&(E=o.localize(0,null,E,this.options.keybinding))),E&&this.item&&(this.item.title=E)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.getAction().checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const E=this.element&&this.element.classList.contains("focused"),T=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,k=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=E&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=T?T.toString():"",this.item.style.backgroundColor=k?k.toString():""),this.check&&(this.check.style.color=T?T.toString():""),this.container&&(this.container.style.border=A)}style(E){this.menuStyle=E,this.applyStyle()}}class y extends m{constructor(E,T,k,A){super(E,E,A);this.submenuActions=T,this.parentData=k,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new d.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:l.Right,this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,N.append)(this.item,(0,N.$)("span.submenu-indicator"+a.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_UP,T=>{let k=new D.StandardKeyboardEvent(T);(k.equals(17)||k.equals(3))&&(N.EventHelper.stop(T,!0),this.createSubmenu(!0))})),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_DOWN,T=>{let k=new D.StandardKeyboardEvent(T);(0,N.getActiveElement)()===this.item&&(k.equals(17)||k.equals(3))&&N.EventHelper.stop(T,!0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_OVER,T=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_LEAVE,T=>{this.mouseOver=!1})),this._register((0,N.addDisposableListener)(this.element,N.EventType.FOCUS_OUT,T=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(E){N.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,T,k,A){const P={top:0,left:0};return P.left=(0,g.layout)(E.width,T.width,{position:A===l.Right?0:1,offset:k.left,size:k.width}),P.left>=k.left&&P.left<k.left+k.width&&(k.left+10+T.width<=E.width&&(P.left=k.left+10),k.top+=10,k.height=0),P.top=(0,g.layout)(E.height,T.height,{position:0,offset:k.top,size:0}),P.top+T.height===k.top&&P.top+k.height+T.height<=E.height&&(P.top+=k.height),P}createSubmenu(E=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,N.append)(this.element,(0,N.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const T=getComputedStyle(this.parentData.parent.domNode),k=parseFloat(T.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new h(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new i.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const A=this.element.getBoundingClientRect(),P={top:A.top-k,left:A.left,height:A.height+2*k,width:A.width},F=this.submenuContainer.getBoundingClientRect(),{top:R,left:M}=this.calculateSubmenuMenuLayout(new N.Dimension(window.innerWidth,window.innerHeight),N.Dimension.lift(F),P,this.expandDirection);this.submenuContainer.style.left=`${M-F.left}px`,this.submenuContainer.style.top=`${R-F.top}px`,this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_UP,O=>{new D.StandardKeyboardEvent(O).equals(15)&&(N.EventHelper.stop(O,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(15)&&N.EventHelper.stop(O,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var T;this.item&&((T=this.item)===null||T===void 0||T.setAttribute("aria-expanded",E))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const T=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=T?`${T}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class p extends v.ActionViewItem{style(E){this.label&&(this.label.style.borderBottomColor=E.separatorColor?`${E.separatorColor}`:"")}}function f(I){const E=e.MENU_MNEMONIC_REGEX,T=E.exec(I);if(!T)return I;const k=!T[1];return I.replace(E,k?"$2$3":"").trim()}e.cleanMnemonic=f;function _(I){let E=`
.monaco-menu {
	font-size: 13px;

}

${(0,u.formatRule)(a.Codicon.menuSelection)}
${(0,u.formatRule)(a.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const T=I.scrollbarShadow;T&&(E+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${T} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${T} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${T} 6px 6px 6px -6px inset;
			}
		`);const k=I.scrollbarSliderBackground;k&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${k};
			}
		`);const A=I.scrollbarSliderHoverBackground;A&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${A};
			}
		`);const P=I.scrollbarSliderActiveBackground;return P&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${P};
			}
		`),E}}),define(Q[475],J([0,1,7,46,56,190,2,80,141]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=w.$;class u extends S.Disposable{constructor(t){super();this.parent=t,this.onKeyDown=i=>w.addDisposableListener(this.inputBox.inputElement,w.EventType.KEY_DOWN,n=>{i(new C.StandardKeyboardEvent(n))}),this.onMouseDown=i=>w.addDisposableListener(this.inputBox.inputElement,w.EventType.MOUSE_DOWN,n=>{i(new N.StandardMouseEvent(n))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=w.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new D.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,i){this.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===b.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===b.default.Info?1:t===b.default.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===b.default.Info?1:t===b.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}e.QuickInputBox=u}),define(Q[476],J([5,6]),function(H,e){return H.create("vs/base/common/errorMessage",e)}),define(Q[477],J([0,1,19,20,476]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(u,g){return g&&(u.stack||u.stacktrace)?N.localize(0,null,b(u),S(u.stack)||S(u.stacktrace)):b(u)}function S(u){return Array.isArray(u)?u.join(`
`):u}function b(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?N.localize(1,null,u.message):u.message||N.localize(2,null)}function v(u=null,g=!1){if(!u)return N.localize(3,null);if(Array.isArray(u)){const t=w.coalesce(u),i=v(t[0],g);return t.length>1?N.localize(4,null,i,t.length):i}if(C.isString(u))return u;if(u.detail){const t=u.detail;if(t.error)return D(t.error,g);if(t.exception)return D(t.exception,g)}return u.stack?D(u,g):u.message?u.message:N.localize(5,null)}e.toErrorMessage=v}),define(Q[478],J([5,6]),function(H,e){return H.create("vs/base/common/keybindingLabels",e)}),define(Q[191],J([0,1,478]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class C{constructor(S,b,v=b){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=b,this.modifierLabels[3]=v}toLabel(S,b,v){if(b.length===0)return null;const u=[];for(let g=0,t=b.length;g<t;g++){const i=b[g],n=v(i);if(n===null)return null;u[g]=N(i,n,this.modifierLabels[S])}return u.join(" ")}}e.ModifierLabelProvider=C,e.UILabelProvider=new C({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.localize(0,null),shiftKey:w.localize(1,null),altKey:w.localize(2,null),metaKey:w.localize(3,null),separator:"+"},{ctrlKey:w.localize(4,null),shiftKey:w.localize(5,null),altKey:w.localize(6,null),metaKey:w.localize(7,null),separator:"+"}),e.AriaLabelProvider=new C({ctrlKey:w.localize(8,null),shiftKey:w.localize(9,null),altKey:w.localize(10,null),metaKey:w.localize(11,null),separator:"+"},{ctrlKey:w.localize(12,null),shiftKey:w.localize(13,null),altKey:w.localize(14,null),metaKey:w.localize(15,null),separator:"+"},{ctrlKey:w.localize(16,null),shiftKey:w.localize(17,null),altKey:w.localize(18,null),metaKey:w.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new C({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new C({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function N(D,S,b){if(S===null)return"";const v=[];return D.ctrlKey&&v.push(b.ctrlKey),D.shiftKey&&v.push(b.shiftKey),D.altKey&&v.push(b.altKey),D.metaKey&&v.push(b.metaKey),S!==""&&v.push(S),v.join(b.separator)}}),define(Q[479],J([0,1,7,191,38,464,335]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=w.$;class b{constructor(u,g,t){this.os=g,this.keyElements=new Set,this.options=t||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=w.append(u,S(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,g){this.didEverRender&&this.keybinding===u&&b.areSame(this.matches,g)||(this.keybinding=u,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){let[u,g]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),g&&(w.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){w.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,g,t){const i=C.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(u,i.ctrlKey,Boolean(t==null?void 0:t.ctrlKey),i.separator),g.shiftKey&&this.renderKey(u,i.shiftKey,Boolean(t==null?void 0:t.shiftKey),i.separator),g.altKey&&this.renderKey(u,i.altKey,Boolean(t==null?void 0:t.altKey),i.separator),g.metaKey&&this.renderKey(u,i.metaKey,Boolean(t==null?void 0:t.metaKey),i.separator);const n=g.keyLabel;n&&this.renderKey(u,n,Boolean(t==null?void 0:t.keyCode),"")}renderKey(u,g,t,i){w.append(u,this.createKeyElement(g,t?".highlight":"")),i&&w.append(u,S("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(u){w.append(u,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(u,g=""){const t=S("span.monaco-keybinding-key"+g,void 0,u);return this.keyElements.add(t),t}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,g){return u===g||!u&&!g?!0:!!u&&!!g&&(0,N.equals)(u.firstPart,g.firstPart)&&(0,N.equals)(u.chordPart,g.chordPart)}}e.KeybindingLabel=b}),define(Q[480],J([5,6]),function(H,e){return H.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(Q[481],J([5,6]),function(H,e){return H.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(Q[482],J([0,1,7,46,81,188,479,50,19,27,313,93,4,95,2,17,20,225,481,141]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const o=w.$;class l{constructor(E){this.hidden=!1,this._onChecked=new i.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,E)}get checked(){return!!this._checked}set checked(E){E!==this._checked&&(this._checked=E,this._onChecked.fire(E))}dispose(){this._onChecked.dispose()}}class h{get templateId(){return h.ID}renderTemplate(E){const T=Object.create(null);T.toDisposeElement=[],T.toDisposeTemplate=[],T.entry=w.append(E,o(".quick-input-list-entry"));const k=w.append(T.entry,o("label.quick-input-list-label"));T.toDisposeTemplate.push(w.addStandardDisposableListener(k,w.EventType.CLICK,O=>{T.checkbox.offsetParent||O.preventDefault()})),T.checkbox=w.append(k,o("input.quick-input-list-checkbox")),T.checkbox.type="checkbox",T.toDisposeTemplate.push(w.addStandardDisposableListener(T.checkbox,w.EventType.CHANGE,O=>{T.element.checked=T.checkbox.checked}));const A=w.append(k,o(".quick-input-list-rows")),P=w.append(A,o(".quick-input-list-row")),F=w.append(A,o(".quick-input-list-row"));T.label=new D.IconLabel(P,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const R=w.append(P,o(".quick-input-list-entry-keybinding"));T.keybinding=new S.KeybindingLabel(R,c.OS);const M=w.append(F,o(".quick-input-list-label-meta"));return T.detail=new D.IconLabel(M,{supportHighlights:!0,supportIcons:!0}),T.separator=w.append(T.entry,o(".quick-input-list-separator")),T.actionBar=new N.ActionBar(T.entry),T.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),T.toDisposeTemplate.push(T.actionBar),T}renderElement(E,T,k){k.toDisposeElement=(0,a.dispose)(k.toDisposeElement),k.element=E,k.checkbox.checked=E.checked,k.toDisposeElement.push(E.onChecked(O=>k.checkbox.checked=O));const{labelHighlights:A,descriptionHighlights:P,detailHighlights:F}=E,R=Object.create(null);R.matches=A||[],R.descriptionTitle=E.saneDescription,R.descriptionMatches=P||[],R.extraClasses=E.item.iconClasses,R.italic=E.item.italic,R.strikethrough=E.item.strikethrough,k.label.setLabel(E.saneLabel,E.saneDescription,R),k.keybinding.set(E.item.keybinding),E.saneDetail&&k.detail.setLabel(E.saneDetail,void 0,{matches:F,title:E.saneDetail}),E.separator&&E.separator.label?(k.separator.textContent=E.separator.label,k.separator.style.display=""):k.separator.style.display="none",k.entry.classList.toggle("quick-input-list-separator-border",!!E.separator),k.actionBar.clear();const M=E.item.buttons;M&&M.length?(k.actionBar.push(M.map((O,L)=>{let B=O.iconClass||(O.iconPath?(0,s.getIconClass)(O.iconPath):void 0);O.alwaysVisible&&(B=B?`${B} always-visible`:"always-visible");const x=new b.Action(`id-${L}`,"",B,!0,()=>De(this,void 0,void 0,function*(){E.fireButtonTriggered({button:O,item:E.item})}));return x.tooltip=O.tooltip||"",x}),{icon:!0,label:!1}),k.entry.classList.add("has-actions")):k.entry.classList.remove("has-actions")}disposeElement(E,T,k){k.toDisposeElement=(0,a.dispose)(k.toDisposeElement)}disposeTemplate(E){E.toDisposeElement=(0,a.dispose)(E.toDisposeElement),E.toDisposeTemplate=(0,a.dispose)(E.toDisposeTemplate)}}h.ID="listelement";class m{getHeight(E){return E.saneDetail?44:22}getTemplateId(E){return h.ID}}var y;(function(I){I[I.First=1]="First",I[I.Second=2]="Second",I[I.Last=3]="Last",I[I.Next=4]="Next",I[I.Previous=5]="Previous",I[I.NextPage=6]="NextPage",I[I.PreviousPage=7]="PreviousPage"})(y=e.QuickInputListFocus||(e.QuickInputListFocus={}));class p{constructor(E,T,k){this.parent=E,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=T,this.container=w.append(this.parent,o(".quick-input-list"));const A=new m,P=new _;this.list=k.createList("QuickInput",this.container,A,[new h],{identityProvider:{getId:F=>F.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:P}),this.list.getHTMLElement().id=T,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(F=>{const R=new C.StandardKeyboardEvent(F);switch(R.keyCode){case 10:this.toggleCheckbox();break;case 31:(c.isMacintosh?F.metaKey:F.ctrlKey)&&this.list.setFocus((0,v.range)(this.list.length));break;case 16:{const M=this.list.getFocus();M.length===1&&M[0]===0&&this._onLeave.fire();break}case 18:{const M=this.list.getFocus();M.length===1&&M[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(R)})),this.disposables.push(this.list.onMouseDown(F=>{F.browserEvent.button!==2&&F.browserEvent.preventDefault()})),this.disposables.push(w.addDisposableListener(this.container,w.EventType.CLICK,F=>{(F.x||F.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(F=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(F=>{typeof F.index=="number"&&(F.browserEvent.preventDefault(),this.list.setSelection([F.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,E=>E.elements.map(T=>T.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,E=>({items:E.elements.map(T=>T.item),event:E.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(E){this.list.scrollTop=E}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(E,T=!0){for(let k=0,A=E.length;k<A;k++){const P=E[k];if(!P.hidden)if(P.checked)T=!0;else return!1}return T}getCheckedCount(){let E=0;const T=this.elements;for(let k=0,A=T.length;k<A;k++)T[k].checked&&E++;return E}getVisibleCount(){let E=0;const T=this.elements;for(let k=0,A=T.length;k<A;k++)T[k].hidden||E++;return E}setAllVisibleChecked(E){try{this._fireCheckedEvents=!1,this.elements.forEach(T=>{T.hidden||(T.checked=E)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(E){this.elementDisposables=(0,a.dispose)(this.elementDisposables);const T=k=>this.fireButtonTriggered(k);this.inputElements=E,this.elements=E.reduce((k,A,P)=>{var F,R,M;if(A.type!=="separator"){const O=P&&E[P-1],L=A.label&&A.label.replace(/\r?\n/g," "),B=A.meta&&A.meta.replace(/\r?\n/g," "),x=A.description&&A.description.replace(/\r?\n/g," "),U=A.detail&&A.detail.replace(/\r?\n/g," "),K=A.ariaLabel||[L,x,U].map(Z=>(0,u.getCodiconAriaLabel)(Z)).filter(Z=>!!Z).join(", ");k.push(new l({index:P,item:A,saneLabel:L,saneMeta:B,saneAriaLabel:K,saneDescription:x,saneDetail:U,labelHighlights:(F=A.highlights)===null||F===void 0?void 0:F.label,descriptionHighlights:(R=A.highlights)===null||R===void 0?void 0:R.description,detailHighlights:(M=A.highlights)===null||M===void 0?void 0:M.detail,checked:!1,separator:O&&O.type==="separator"?O:void 0,fireButtonTriggered:T}))}return k},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(k=>k.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((k,A,P)=>(k.set(A.item,P),k),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(E=>E.item)}setFocusedElements(E){if(this.list.setFocus(E.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T))),E.length>0){const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(E){this.list.setSelection(E.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T)))}getCheckedElements(){return this.elements.filter(E=>E.checked).map(E=>E.item)}setCheckedElements(E){try{this._fireCheckedEvents=!1;const T=new Set;for(const k of E)T.add(k);for(const k of this.elements)k.checked=T.has(k.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(E){this.list.getHTMLElement().style.pointerEvents=E?"":"none"}focus(E){if(!this.list.length)return;switch(E===y.Next&&this.list.getFocus()[0]===this.list.length-1&&(E=y.First),E===y.Previous&&this.list.getFocus()[0]===0&&(E=y.Last),E===y.Second&&this.list.length<2&&(E=y.First),E){case y.First:this.list.focusFirst();break;case y.Second:this.list.focusNth(1);break;case y.Last:this.list.focusLast();break;case y.Next:this.list.focusNext();break;case y.Previous:this.list.focusPrevious();break;case y.NextPage:this.list.focusNextPage();break;case y.PreviousPage:this.list.focusPreviousPage();break}const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(E){this.list.getHTMLElement().style.maxHeight=E?`calc(${Math.floor(E/44)*44}px)`:"",this.list.layout()}filter(E){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(E=E.trim(),!E||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(k=>{k.labelHighlights=void 0,k.descriptionHighlights=void 0,k.detailHighlights=void 0,k.hidden=!1;const A=k.index&&this.inputElements[k.index-1];k.separator=A&&A.type==="separator"?A:void 0});else{let k;this.elements.forEach(A=>{const P=this.matchOnLabel?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneLabel))):void 0,F=this.matchOnDescription?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneDescription||""))):void 0,R=this.matchOnDetail?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneDetail||""))):void 0,M=this.matchOnMeta?(0,d.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneMeta||""))):void 0;if(P||F||R||M?(A.labelHighlights=P,A.descriptionHighlights=F,A.detailHighlights=R,A.hidden=!1):(A.labelHighlights=void 0,A.descriptionHighlights=void 0,A.detailHighlights=void 0,A.hidden=!A.item.alwaysShow),A.separator=void 0,!this.sortByLabel){const O=A.index&&this.inputElements[A.index-1];k=O&&O.type==="separator"?O:k,k&&!A.hidden&&(A.separator=k,k=void 0)}})}const T=this.elements.filter(k=>!k.hidden);if(this.sortByLabel&&E){const k=E.toLowerCase();T.sort((A,P)=>f(A,P,k))}return this.elementsToIndexes=T.reduce((k,A,P)=>(k.set(A.item,P),k),new Map),this.list.splice(0,this.list.length,T),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(T.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const E=this.list.getFocusedElements(),T=this.allVisibleChecked(E);for(const k of E)k.checked=!T}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(E){this.container.style.display=E?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,a.dispose)(this.elementDisposables),this.disposables=(0,a.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(E){this._onButtonTriggered.fire(E)}style(E){this.list.style(E)}}Be([t.memoize],p.prototype,"onDidChangeFocus",null),Be([t.memoize],p.prototype,"onDidChangeSelection",null),e.QuickInputList=p;function f(I,E,T){const k=I.labelHighlights||[],A=E.labelHighlights||[];return k.length&&!A.length?-1:!k.length&&A.length?1:k.length===0&&A.length===0?0:(0,g.compareAnything)(I.saneLabel,E.saneLabel,T)}class _{getWidgetAriaLabel(){return(0,r.localize)(0,null)}getAriaLabel(E){return E.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(Q[483],J([0,1,7,46,81,326,219,109,338,50,19,10,23,27,4,2,17,80,20,225,216,480,475,482,141]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const p=w.$,f={iconClass:n.Codicon.quickInputBack.classNames,tooltip:(0,h.localize)(0,null),handle:-1};class _ extends c.Disposable{constructor(k){super();this.ui=k,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=s.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new a.Emitter),this.onDidHideEmitter=this._register(new a.Emitter),this.onDisposeEmitter=this._register(new a.Emitter),this.visibleDisposables=this._register(new c.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(k){this._title=k,this.update()}get description(){return this._description}set description(k){this._description=k,this.update()}get step(){return this._steps}set step(k){this._steps=k,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(k){this._totalSteps=k,this.update()}get enabled(){return this._enabled}set enabled(k){this._enabled=k,this.update()}get contextKey(){return this._contextKey}set contextKey(k){this._contextKey=k,this.update()}get busy(){return this._busy}set busy(k){this._busy=k,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(k){const A=this._ignoreFocusOut!==k&&!d.isIOS;this._ignoreFocusOut=k&&!d.isIOS,A&&this.update()}get buttons(){return this._buttons}set buttons(k){this._buttons=k,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(k){this._validationMessage=k,this.update()}get severity(){return this._severity}set severity(k){this._severity=k,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(k=>{this.buttons.indexOf(k)!==-1&&this.onDidTriggerButtonEmitter.fire(k)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(k=l.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:k})}update(){if(!this.visible)return;const k=this.getTitle();k&&this.ui.title.textContent!==k?this.ui.title.textContent=k:!k&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const A=this.getDescription();if(this.ui.description1.textContent!==A&&(this.ui.description1.textContent=A),this.ui.description2.textContent!==A&&(this.ui.description2.textContent=A),this.busy&&!this.busyDelay&&(this.busyDelay=new t.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const F=this.buttons.filter(M=>M===f);this.ui.leftActionBar.push(F.map((M,O)=>{const L=new u.Action(`id-${O}`,"",M.iconClass||(0,o.getIconClass)(M.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return L.tooltip=M.tooltip||"",L}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const R=this.buttons.filter(M=>M!==f);this.ui.rightActionBar.push(R.map((M,O)=>{const L=new u.Action(`id-${O}`,"",M.iconClass||(0,o.getIconClass)(M.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return L.tooltip=M.tooltip||"",L}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,w.reset(this.ui.message,...(0,b.renderLabelWithIcons)(P))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,h.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(k){if(this.ui.inputBox.showDecoration(k),k!==s.default.Ignore){const A=this.ui.inputBox.stylesForType(k);this.ui.message.style.color=A.foreground?`${A.foreground}`:"",this.ui.message.style.backgroundColor=A.background?`${A.background}`:"",this.ui.message.style.border=A.border?`1px solid ${A.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,h.localize)(1,null);class I extends _{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new a.Emitter),this.onWillAcceptEmitter=this._register(new a.Emitter),this.onDidAcceptEmitter=this._register(new a.Emitter),this.onDidCustomEmitter=this._register(new a.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?l.ItemActivation.NONE:l.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new a.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new a.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new a.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=k=>k,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(k){this._quickNavigate=k,this.update()}get value(){return this._value}set value(k){this.doSetValue(k)}doSetValue(k,A){this._value!==k&&(this._value=k,A||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(k){this._ariaLabel=k,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(k){this._placeholder=k,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(k){this.ui.list.scrollTop=k}set items(k){this._items=k,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(k){this._canSelectMany=k,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(k){this._canAcceptInBackground=k}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(k){this._matchOnDescription=k,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(k){this._matchOnDetail=k,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(k){this._matchOnLabel=k,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(k){this._sortByLabel=k,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(k){this._autoFocusOnList=k,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(k){this._keepScrollPosition=k}get itemActivation(){return this._itemActivation}set itemActivation(k){this._itemActivation=k}get activeItems(){return this._activeItems}set activeItems(k){this._activeItems=k,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(k){this._selectedItems=k,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?l.NO_KEY_MODS:this.ui.keyMods}set valueSelection(k){this._valueSelection=k,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(k){this._customButton=k,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(k){this._customButtonLabel=k,this.update()}get customHover(){return this._customButtonHover}set customHover(k){this._customButtonHover=k,this.update()}get ok(){return this._ok}set ok(k){this._ok=k,this.update()}get hideInput(){return!!this._hideInput}set hideInput(k){this._hideInput=k,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(y.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(k=>{this.doSetValue(k,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(k=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(k=>{switch(k.keyCode){case 18:this.ui.list.focus(y.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(k,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(y.QuickInputListFocus.Previous):this.ui.list.focus(y.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(k,!0);break;case 12:this.ui.list.focus(y.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(k,!0);break;case 11:this.ui.list.focus(y.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(k,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(y.QuickInputListFocus.First),w.EventHelper.stop(k,!0));break;case 13:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(y.QuickInputListFocus.Last),w.EventHelper.stop(k,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(k=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(k,this._activeItems,(A,P)=>A===P)||(this._activeItems=k,this.onDidChangeActiveEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:k,event:A})=>{if(this.canSelectMany){k.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(k,this._selectedItems,(P,F)=>P===F)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k),k.length&&this.handleAccept(A instanceof MouseEvent&&A.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(k=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(k,this._selectedItems,(A,P)=>A===P)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(k=>this.onDidTriggerItemButtonEmitter.fire(k))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(k){let A=!1;this.onWillAcceptEmitter.fire({veto:()=>A=!0}),A||this.onDidAcceptEmitter.fire({inBackground:k})}registerQuickNavigation(){return w.addDisposableListener(this.ui.container,w.EventType.KEY_UP,k=>{if(this.canSelectMany||!this._quickNavigate)return;const A=new C.StandardKeyboardEvent(k),P=A.keyCode;this._quickNavigate.keybindings.some(M=>{const[O,L]=M.getParts();return L?!1:O.shiftKey&&P===4?!(A.ctrlKey||A.altKey||A.metaKey):!!(O.altKey&&P===6||O.ctrlKey&&P===5||O.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const k=this.keepScrollPosition?this.scrollTop:0,A=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",A&&!this.description);const P={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!A,progressBar:!A,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(P),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const F=this.ariaLabel||this.placeholder||I.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==F&&(this.ui.inputBox.ariaLabel=F),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case l.ItemActivation.NONE:this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.SECOND:this.ui.list.focus(y.QuickInputListFocus.Second),this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.LAST:this.ui.list.focus(y.QuickInputListFocus.Last),this._itemActivation=l.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),P.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(y.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=k)}}I.DEFAULT_ARIA_LABEL=(0,h.localize)(3,null);class E extends c.Disposable{constructor(k){super();this.options=k,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new a.Emitter),this.onDidCustomEmitter=this._register(new a.Emitter),this.onDidTriggerButtonEmitter=this._register(new a.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new a.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new a.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=k.idPrefix,this.parentElement=k.container,this.styles=k.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const k=A=>{this.keyMods.ctrlCmd=A.ctrlKey||A.metaKey,this.keyMods.alt=A.altKey};this._register(w.addDisposableListener(window,w.EventType.KEY_DOWN,k,!0)),this._register(w.addDisposableListener(window,w.EventType.KEY_UP,k,!0)),this._register(w.addDisposableListener(window,w.EventType.MOUSE_DOWN,k,!0))}getUI(){if(this.ui)return this.ui;const k=w.append(this.parentElement,p(".quick-input-widget.show-file-icons"));k.tabIndex=-1,k.style.display="none";const A=w.createStyleSheet(k),P=w.append(k,p(".quick-input-titlebar")),F=this._register(new N.ActionBar(P));F.domNode.classList.add("quick-input-left-action-bar");const R=w.append(P,p(".quick-input-title")),M=this._register(new N.ActionBar(P));M.domNode.classList.add("quick-input-right-action-bar");const O=w.append(k,p(".quick-input-description")),L=w.append(k,p(".quick-input-header")),B=w.append(L,p("input.quick-input-check-all"));B.type="checkbox",this._register(w.addStandardDisposableListener(B,w.EventType.CHANGE,q=>{const z=B.checked;ce.setAllVisibleChecked(z)})),this._register(w.addDisposableListener(B,w.EventType.CLICK,q=>{(q.x||q.y)&&Z.setFocus()}));const x=w.append(L,p(".quick-input-description")),U=w.append(L,p(".quick-input-and-message")),K=w.append(U,p(".quick-input-filter")),Z=this._register(new m.QuickInputBox(K));Z.setAttribute("aria-describedby",`${this.idPrefix}message`);const ee=w.append(K,p(".quick-input-visible-count"));ee.setAttribute("aria-live","polite"),ee.setAttribute("aria-atomic","true");const X=new S.CountBadge(ee,{countFormat:(0,h.localize)(4,null)}),ne=w.append(K,p(".quick-input-count"));ne.setAttribute("aria-live","polite");const Y=new S.CountBadge(ne,{countFormat:(0,h.localize)(5,null)}),j=w.append(L,p(".quick-input-action")),W=new D.Button(j);W.label=(0,h.localize)(6,null),this._register(W.onDidClick(q=>{this.onDidAcceptEmitter.fire()}));const V=w.append(L,p(".quick-input-action")),G=new D.Button(V);G.label=(0,h.localize)(7,null),this._register(G.onDidClick(q=>{this.onDidCustomEmitter.fire()}));const oe=w.append(U,p(`#${this.idPrefix}message.quick-input-message`)),ce=this._register(new y.QuickInputList(k,this.idPrefix+"list",this.options));this._register(ce.onChangedAllVisibleChecked(q=>{B.checked=q})),this._register(ce.onChangedVisibleCount(q=>{X.setCount(q)})),this._register(ce.onChangedCheckedCount(q=>{Y.setCount(q)})),this._register(ce.onLeave(()=>{setTimeout(()=>{Z.setFocus(),this.controller instanceof I&&this.controller.canSelectMany&&ce.clearFocus()},0)})),this._register(ce.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ie=new v.ProgressBar(k);ie.getContainer().classList.add("quick-input-progress");const de=w.trackFocus(k);return this._register(de),this._register(w.addDisposableListener(k,w.EventType.FOCUS,q=>{this.previousFocusElement=q.relatedTarget instanceof HTMLElement?q.relatedTarget:void 0},!0)),this._register(de.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(l.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(w.addDisposableListener(k,w.EventType.FOCUS,q=>{Z.setFocus()})),this._register(w.addDisposableListener(k,w.EventType.KEY_DOWN,q=>{const z=new C.StandardKeyboardEvent(q);switch(z.keyCode){case 3:w.EventHelper.stop(q,!0),this.onDidAcceptEmitter.fire();break;case 9:w.EventHelper.stop(q,!0),this.hide(l.QuickInputHideReason.Gesture);break;case 2:if(!z.altKey&&!z.ctrlKey&&!z.metaKey){const $=[".action-label.codicon"];k.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const se=k.querySelectorAll($.join(", "));z.shiftKey&&z.target===se[0]?(w.EventHelper.stop(q,!0),se[se.length-1].focus()):!z.shiftKey&&z.target===se[se.length-1]&&(w.EventHelper.stop(q,!0),se[0].focus())}break}})),this.ui={container:k,styleSheet:A,leftActionBar:F,titleBar:P,title:R,description1:O,description2:x,rightActionBar:M,checkAll:B,filterContainer:K,inputBox:Z,visibleCountContainer:ee,visibleCount:X,countContainer:ne,count:Y,okContainer:j,ok:W,message:oe,customButtonContainer:V,customButton:G,list:ce,progressBar:ie,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:q=>this.show(q),hide:()=>this.hide(),setVisibilities:q=>this.setVisibilities(q),setComboboxAccessibility:q=>this.setComboboxAccessibility(q),setEnabled:q=>this.setEnabled(q),setContextKey:q=>this.options.setContextKey(q)},this.updateStyles(),this.ui}pick(k,A={},P=i.CancellationToken.None){return new Promise((F,R)=>{let M=x=>{M=F,A.onKeyMods&&A.onKeyMods(O.keyMods),F(x)};if(P.isCancellationRequested){M(void 0);return}const O=this.createQuickPick();let L;const B=[O,O.onDidAccept(()=>{if(O.canSelectMany)M(O.selectedItems.slice()),O.hide();else{const x=O.activeItems[0];x&&(M(x),O.hide())}}),O.onDidChangeActive(x=>{const U=x[0];U&&A.onDidFocus&&A.onDidFocus(U)}),O.onDidChangeSelection(x=>{if(!O.canSelectMany){const U=x[0];U&&(M(U),O.hide())}}),O.onDidTriggerItemButton(x=>A.onDidTriggerItemButton&&A.onDidTriggerItemButton(Object.assign(Object.assign({},x),{removeItem:()=>{const U=O.items.indexOf(x.item);if(U!==-1){const K=O.items.slice(),Z=K.splice(U,1),ee=O.activeItems.filter(ne=>ne!==Z[0]),X=O.keepScrollPosition;O.keepScrollPosition=!0,O.items=K,ee&&(O.activeItems=ee),O.keepScrollPosition=X}}}))),O.onDidChangeValue(x=>{L&&!x&&(O.activeItems.length!==1||O.activeItems[0]!==L)&&(O.activeItems=[L])}),P.onCancellationRequested(()=>{O.hide()}),O.onDidHide(()=>{(0,c.dispose)(B),M(void 0)})];O.title=A.title,O.canSelectMany=!!A.canPickMany,O.placeholder=A.placeHolder,O.ignoreFocusOut=!!A.ignoreFocusLost,O.matchOnDescription=!!A.matchOnDescription,O.matchOnDetail=!!A.matchOnDetail,O.matchOnLabel=A.matchOnLabel===void 0||A.matchOnLabel,O.autoFocusOnList=A.autoFocusOnList===void 0||A.autoFocusOnList,O.quickNavigate=A.quickNavigate,O.contextKey=A.contextKey,O.busy=!0,Promise.all([k,A.activeItem]).then(([x,U])=>{L=U,O.busy=!1,O.items=x,O.canSelectMany&&(O.selectedItems=x.filter(K=>K.type!=="separator"&&K.picked)),L&&(O.activeItems=[L])}),O.show(),Promise.resolve(k).then(void 0,x=>{R(x),O.hide()})})}createQuickPick(){const k=this.getUI();return new I(k)}show(k){const A=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=k,P&&P.didHide(),this.setEnabled(!0),A.leftActionBar.clear(),A.title.textContent="",A.description1.textContent="",A.description2.textContent="",A.rightActionBar.clear(),A.checkAll.checked=!1,A.inputBox.placeholder="",A.inputBox.password=!1,A.inputBox.showDecoration(s.default.Ignore),A.visibleCount.setCount(0),A.count.setCount(0),w.reset(A.message),A.progressBar.stop(),A.list.setElements([]),A.list.matchOnDescription=!1,A.list.matchOnDetail=!1,A.list.matchOnLabel=!0,A.list.sortByLabel=!0,A.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),A.inputBox.ariaLabel="";const F=this.options.backKeybindingLabel();f.tooltip=F?(0,h.localize)(8,null,F):(0,h.localize)(9,null),A.container.style.display="",this.updateLayout(),A.inputBox.setFocus()}setVisibilities(k){const A=this.getUI();A.title.style.display=k.title?"":"none",A.description1.style.display=k.description&&(k.inputBox||k.checkAll)?"":"none",A.description2.style.display=k.description&&!(k.inputBox||k.checkAll)?"":"none",A.checkAll.style.display=k.checkAll?"":"none",A.filterContainer.style.display=k.inputBox?"":"none",A.visibleCountContainer.style.display=k.visibleCount?"":"none",A.countContainer.style.display=k.count?"":"none",A.okContainer.style.display=k.ok?"":"none",A.customButtonContainer.style.display=k.customButton?"":"none",A.message.style.display=k.message?"":"none",A.progressBar.getContainer().style.display=k.progressBar?"":"none",A.list.display(!!k.list),A.container.classList[k.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(k){if(k!==this.comboboxAccessibility){const A=this.getUI();this.comboboxAccessibility=k,this.comboboxAccessibility?(A.inputBox.setAttribute("role","combobox"),A.inputBox.setAttribute("aria-haspopup","true"),A.inputBox.setAttribute("aria-autocomplete","list"),A.inputBox.setAttribute("aria-activedescendant",A.list.getActiveDescendant()||"")):(A.inputBox.removeAttribute("role"),A.inputBox.removeAttribute("aria-haspopup"),A.inputBox.removeAttribute("aria-autocomplete"),A.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(k){if(k!==this.enabled){this.enabled=k;for(const A of this.getUI().leftActionBar.viewItems)A.getAction().enabled=k;for(const A of this.getUI().rightActionBar.viewItems)A.getAction().enabled=k;this.getUI().checkAll.disabled=!k,this.getUI().ok.enabled=k,this.getUI().list.enabled=k}}hide(k){var A;const P=this.controller;if(P){const F=!((A=this.ui)===null||A===void 0?void 0:A.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!F){let R=this.previousFocusElement;for(;R&&!R.offsetParent;)R=(0,r.withNullAsUndefined)(R.parentElement);(R==null?void 0:R.offsetParent)?(R.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}P.didHide(k)}}layout(k,A){this.dimension=k,this.titleBarOffset=A,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const k=this.ui.container.style,A=Math.min(this.dimension.width*.62,E.MAX_WIDTH);k.width=A+"px",k.marginLeft="-"+A/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(k){this.styles=k,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:k,quickInputBackground:A,quickInputForeground:P,contrastBorder:F,widgetShadow:R}=this.styles.widget;this.ui.titleBar.style.backgroundColor=k?k.toString():"",this.ui.container.style.backgroundColor=A?A.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=F?`1px solid ${F}`:"",this.ui.container.style.boxShadow=R?`0 0 8px 2px ${R}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const M=[];this.styles.list.pickerGroupBorder&&M.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&M.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(M.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&M.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&M.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&M.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&M.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&M.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),M.push("}"));const O=M.join(`
`);O!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=O)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(Q[484],J([5,6]),function(H,e){return H.create("vs/editor/browser/controller/coreCommands",e)}),define(Q[485],J([5,6]),function(H,e){return H.create("vs/editor/browser/controller/textAreaHandler",e)}),define(Q[486],J([5,6]),function(H,e){return H.create("vs/editor/browser/core/keybindingCancellation",e)}),define(Q[487],J([5,6]),function(H,e){return H.create("vs/editor/browser/editorExtensions",e)}),define(Q[488],J([5,6]),function(H,e){return H.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(Q[489],J([5,6]),function(H,e){return H.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(Q[490],J([5,6]),function(H,e){return H.create("vs/editor/browser/widget/diffReview",e)}),define(Q[491],J([5,6]),function(H,e){return H.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(Q[492],J([0,1,491,7,50,2,3,27]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends D.Disposable{constructor(g,t,i,n,a,c){super();this._viewZoneId=g,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=a,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=i.getOption(58),s=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);const r=[],o=n.modifiedEndLineNumber===0;r.push(new N.Action("diff.clipboard.copyDeletedContent",o?n.originalEndLineNumber>n.modifiedStartLineNumber?w.localize(0,null):w.localize(1,null):n.originalEndLineNumber>n.modifiedStartLineNumber?w.localize(2,null):w.localize(3,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const p=new S.Range(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),f=n.originalModel.getValueInRange(p);yield this._clipboardService.writeText(f)})));let l=0,h;n.originalEndLineNumber>n.modifiedStartLineNumber&&(h=new N.Action("diff.clipboard.copyDeletedLineContent",o?w.localize(4,null,n.originalStartLineNumber):w.localize(5,null,n.originalStartLineNumber),void 0,!0,()=>De(this,void 0,void 0,function*(){const p=n.originalModel.getLineContent(n.originalStartLineNumber+l);if(p===""){const f=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(f===0?`
`:`\r
`)}else yield this._clipboardService.writeText(p)})),r.push(h)),i.getOption(80)||r.push(new N.Action("diff.inline.revertChange",w.localize(6,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const p=new S.Range(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),f=n.originalModel.getValueInRange(p);if(n.modifiedEndLineNumber===0){const _=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new S.Range(n.modifiedStartLineNumber,_,n.modifiedStartLineNumber,_),text:s+f}])}else{const _=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new S.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,_),text:f}])}})));const y=(p,f)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:p,y:f}),getActions:()=>(h&&(h.label=o?w.localize(7,null,n.originalStartLineNumber+l):w.localize(8,null,n.originalStartLineNumber+l)),r),autoSelectFirstItem:!0})};this._register(C.addStandardDisposableListener(this._diffActions,"mousedown",p=>{const{top:f,height:_}=C.getDomNodePagePosition(this._diffActions),I=Math.floor(d/3);p.preventDefault(),y(p.posx,f+_+I)})),this._register(i.onMouseMove(p=>{p.target.type===8||p.target.type===5?p.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,l=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,d)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(p=>{!p.event.rightButton||(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._viewZoneId&&(p.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,d),y(p.event.posx,p.event.posy+d))}))}get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(g,t,i){const{top:n}=C.getDomNodePagePosition(g),a=t-n,c=Math.floor(a/i),d=c*i;if(this._diffActions.style.top=`${d}px`,this.diff.viewLineCounts){let s=0;for(let r=0;r<this.diff.viewLineCounts.length;r++)if(s+=this.diff.viewLineCounts[r],c<s)return r}return c}}e.InlineDiffMargin=v}),define(Q[493],J([5,6]),function(H,e){return H.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(Q[494],J([5,6]),function(H,e){return H.create("vs/editor/common/config/editorOptions",e)}),define(Q[29],J([0,1,494,17,148,19,38]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class b{constructor(re){this._values=re}hasChanged(re){return this._values[re]}}e.ConfigurationChangedEvent=b;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class u{constructor(re,ge,ye,Ae){this.id=re,this.name=ge,this.defaultValue=ye,this.schema=Ae}applyUpdate(re,ge){return t(re,ge)}compute(re,ge,ye){return ye}}class g{constructor(re,ge){this.newValue=re,this.didChange=ge}}e.ApplyUpdateResult=g;function t(ve,re){if(typeof ve!="object"||typeof re!="object"||!ve||!re)return new g(re,ve!==re);if(Array.isArray(ve)||Array.isArray(re)){const ye=Array.isArray(ve)&&Array.isArray(re)&&D.equals(ve,re);return new g(re,ye)}let ge=!1;for(const ye in re)if(re.hasOwnProperty(ye)){const Ae=t(ve[ye],re[ye]);Ae.didChange&&(ve[ye]=Ae.newValue,ge=!0)}return new g(ve,ge)}class i{constructor(re){this.schema=void 0,this.id=re,this.name="_never_",this.defaultValue=void 0}applyUpdate(re,ge){return t(re,ge)}validate(re){return this.defaultValue}}class n{constructor(re,ge,ye,Ae){this.id=re,this.name=ge,this.defaultValue=ye,this.schema=Ae}applyUpdate(re,ge){return t(re,ge)}validate(re){return typeof re=="undefined"?this.defaultValue:re}compute(re,ge,ye){return ye}}function a(ve,re){return typeof ve=="undefined"?re:ve==="false"?!1:Boolean(ve)}e.boolean=a;class c extends n{constructor(re,ge,ye,Ae=void 0){typeof Ae!="undefined"&&(Ae.type="boolean",Ae.default=ye);super(re,ge,ye,Ae)}validate(re){return a(re,this.defaultValue)}}function d(ve,re,ge,ye){if(typeof ve=="undefined")return re;let Ae=parseInt(ve,10);return isNaN(Ae)?re:(Ae=Math.max(ge,Ae),Ae=Math.min(ye,Ae),Ae|0)}e.clampedInt=d;class s extends n{constructor(re,ge,ye,Ae,Oe,He=void 0){typeof He!="undefined"&&(He.type="integer",He.default=ye,He.minimum=Ae,He.maximum=Oe);super(re,ge,ye,He);this.minimum=Ae,this.maximum=Oe}static clampedInt(re,ge,ye,Ae){return d(re,ge,ye,Ae)}validate(re){return s.clampedInt(re,this.defaultValue,this.minimum,this.maximum)}}class r extends n{constructor(re,ge,ye,Ae,Oe){typeof Oe!="undefined"&&(Oe.type="number",Oe.default=ye);super(re,ge,ye,Oe);this.validationFn=Ae}static clamp(re,ge,ye){return re<ge?ge:re>ye?ye:re}static float(re,ge){if(typeof re=="number")return re;if(typeof re=="undefined")return ge;const ye=parseFloat(re);return isNaN(ye)?ge:ye}validate(re){return this.validationFn(r.float(re,this.defaultValue))}}class o extends n{static string(re,ge){return typeof re!="string"?ge:re}constructor(re,ge,ye,Ae=void 0){typeof Ae!="undefined"&&(Ae.type="string",Ae.default=ye);super(re,ge,ye,Ae)}validate(re){return o.string(re,this.defaultValue)}}function l(ve,re,ge){return typeof ve!="string"||ge.indexOf(ve)===-1?re:ve}e.stringSet=l;class h extends n{constructor(re,ge,ye,Ae,Oe=void 0){typeof Oe!="undefined"&&(Oe.type="string",Oe.enum=Ae,Oe.default=ye);super(re,ge,ye,Oe);this._allowedValues=Ae}validate(re){return l(re,this.defaultValue,this._allowedValues)}}class m extends u{constructor(re,ge,ye,Ae,Oe,He,Ve=void 0){typeof Ve!="undefined"&&(Ve.type="string",Ve.enum=Oe,Ve.default=Ae);super(re,ge,ye,Ve);this._allowedValues=Oe,this._convert=He}validate(re){return typeof re!="string"?this.defaultValue:this._allowedValues.indexOf(re)===-1?this.defaultValue:this._convert(re)}}function y(ve){switch(ve){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class p extends u{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",description:w.localize(3,null)})}validate(re){switch(re){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(re,ge,ye){return ye===0?re.accessibilitySupport:ye}}class f extends u{constructor(){const re={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",re,{"editor.comments.insertSpace":{type:"boolean",default:re.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:re.ignoreEmptyLines,description:w.localize(5,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{insertSpace:a(ge.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(ge.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function _(ve){switch(ve){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(ve){ve[ve.Line=1]="Line",ve[ve.Block=2]="Block",ve[ve.Underline=3]="Underline",ve[ve.LineThin=4]="LineThin",ve[ve.BlockOutline=5]="BlockOutline",ve[ve.UnderlineThin=6]="UnderlineThin"})(I=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function E(ve){switch(ve){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class T extends i{constructor(){super(127)}compute(re,ge,ye){const Ae=["monaco-editor"];return ge.get(33)&&Ae.push(ge.get(33)),re.extraEditorClassName&&Ae.push(re.extraEditorClassName),ge.get(65)==="default"?Ae.push("mouse-default"):ge.get(65)==="copy"&&Ae.push("mouse-copy"),ge.get(99)&&Ae.push("showUnused"),ge.get(125)&&Ae.push("showDeprecated"),Ae.join(" ")}}class k extends c{constructor(){super(32,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(re,ge,ye){return ye&&re.emptySelectionClipboard}}class A extends u{constructor(){const re={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",re,{"editor.find.cursorMoveOnType":{type:"boolean",default:re.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:re.seedSearchStringFromSelection,enumDescriptions:[w.localize(8,null),w.localize(9,null),w.localize(10,null)],description:w.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:re.autoFindInSelection,enumDescriptions:[w.localize(12,null),w.localize(13,null),w.localize(14,null)],description:w.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:re.globalFindClipboard,description:w.localize(16,null),included:C.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:re.addExtraSpaceOnTop,description:w.localize(17,null)},"editor.find.loop":{type:"boolean",default:re.loop,description:w.localize(18,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{cursorMoveOnType:a(ge.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof re.seedSearchStringFromSelection=="boolean"?re.seedSearchStringFromSelection?"always":"never":l(ge.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof re.autoFindInSelection=="boolean"?re.autoFindInSelection?"always":"never":l(ge.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(ge.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(ge.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(ge.loop,this.defaultValue.loop)}}}class P extends u{constructor(){super(44,"fontLigatures",P.OFF,{anyOf:[{type:"boolean",description:w.localize(19,null)},{type:"string",description:w.localize(20,null)}],description:w.localize(21,null),default:!1})}validate(re){return typeof re=="undefined"?this.defaultValue:typeof re=="string"?re==="false"?P.OFF:re==="true"?P.ON:re:Boolean(re)?P.ON:P.OFF}}e.EditorFontLigatures=P,P.OFF='"liga" off, "calt" off',P.ON='"liga" on, "calt" on';class F extends i{constructor(){super(43)}compute(re,ge,ye){return re.fontInfo}}class R extends n{constructor(){super(45,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(22,null)})}validate(re){const ge=r.float(re,this.defaultValue);return ge===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(ge,6,100)}compute(re,ge,ye){return re.fontInfo.fontSize}}class M extends u{constructor(){super(46,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:w.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(24,null)})}validate(re){return re==="normal"||re==="bold"?re:String(s.clampedInt(re,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class O extends u{constructor(){const re={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ge={type:"string",enum:["peek","gotoAndPeek","goto"],default:re.multiple,enumDescriptions:[w.localize(25,null),w.localize(26,null),w.localize(27,null)]},ye=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",re,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(29,null)},ge),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(30,null)},ge),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(31,null)},ge),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(32,null)},ge),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(33,null)},ge),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:re.alternativeDefinitionCommand,enum:ye,description:w.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:re.alternativeTypeDefinitionCommand,enum:ye,description:w.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:re.alternativeDeclarationCommand,enum:ye,description:w.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:re.alternativeImplementationCommand,enum:ye,description:w.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:re.alternativeReferenceCommand,enum:ye,description:w.localize(38,null)}})}validate(re){var ge,ye,Ae,Oe,He;if(!re||typeof re!="object")return this.defaultValue;const Ve=re;return{multiple:l(Ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ge=Ve.multipleDefinitions)!==null&&ge!==void 0?ge:l(Ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(ye=Ve.multipleTypeDefinitions)!==null&&ye!==void 0?ye:l(Ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Ae=Ve.multipleDeclarations)!==null&&Ae!==void 0?Ae:l(Ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Oe=Ve.multipleImplementations)!==null&&Oe!==void 0?Oe:l(Ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(He=Ve.multipleReferences)!==null&&He!==void 0?He:l(Ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:o.string(Ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:o.string(Ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:o.string(Ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:o.string(Ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:o.string(Ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class L extends u{constructor(){const re={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",re,{"editor.hover.enabled":{type:"boolean",default:re.enabled,description:w.localize(39,null)},"editor.hover.delay":{type:"number",default:re.delay,description:w.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:re.sticky,description:w.localize(41,null)},"editor.hover.above":{type:"boolean",default:re.above,description:w.localize(42,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{enabled:a(ge.enabled,this.defaultValue.enabled),delay:s.clampedInt(ge.delay,this.defaultValue.delay,0,1e4),sticky:a(ge.sticky,this.defaultValue.sticky),above:a(ge.above,this.defaultValue.above)}}}class B extends i{constructor(){super(130)}compute(re,ge,ye){return B.computeLayout(ge,{memory:re.memory,outerWidth:re.outerWidth,outerHeight:re.outerHeight,isDominatedByLongLines:re.isDominatedByLongLines,lineHeight:re.fontInfo.lineHeight,viewLineCount:re.viewLineCount,lineNumbersDigitCount:re.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:re.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:re.fontInfo.maxDigitWidth,pixelRatio:re.pixelRatio})}static computeContainedMinimapLineCount(re){const ge=re.height/re.lineHeight,ye=re.scrollBeyondLastLine?ge-1:0,Ae=(re.viewLineCount+ye)/(re.pixelRatio*re.height),Oe=Math.floor(re.viewLineCount/Ae);return{typicalViewportLineCount:ge,extraLinesBeyondLastLine:ye,desiredRatio:Ae,minimapLineCount:Oe}}static _computeMinimapLayout(re,ge){const ye=re.outerWidth,Ae=re.outerHeight,Oe=re.pixelRatio;if(!re.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Oe*Ae),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ae};const He=ge.stableMinimapLayoutInput,Ve=He&&re.outerHeight===He.outerHeight&&re.lineHeight===He.lineHeight&&re.typicalHalfwidthCharacterWidth===He.typicalHalfwidthCharacterWidth&&re.pixelRatio===He.pixelRatio&&re.scrollBeyondLastLine===He.scrollBeyondLastLine&&re.minimap.enabled===He.minimap.enabled&&re.minimap.side===He.minimap.side&&re.minimap.size===He.minimap.size&&re.minimap.showSlider===He.minimap.showSlider&&re.minimap.renderCharacters===He.minimap.renderCharacters&&re.minimap.maxColumn===He.minimap.maxColumn&&re.minimap.scale===He.minimap.scale&&re.verticalScrollbarWidth===He.verticalScrollbarWidth&&re.isViewportWrapping===He.isViewportWrapping,Ge=re.lineHeight,Je=re.typicalHalfwidthCharacterWidth,Ze=re.scrollBeyondLastLine,et=re.minimap.renderCharacters;let Ee=Oe>=2?Math.round(re.minimap.scale*2):re.minimap.scale;const Ie=re.minimap.maxColumn,Re=re.minimap.size,Ue=re.minimap.side,Ne=re.verticalScrollbarWidth,ke=re.viewLineCount,Te=re.remainingWidth,pe=re.isViewportWrapping,Ce=et?2:3;let Le=Math.floor(Oe*Ae);const Se=Le/Oe;let be=!1,Pe=!1,Me=Ce*Ee,xe=Ee/Oe,je=1;if(Re==="fill"||Re==="fit"){const{typicalViewportLineCount:Xe,extraLinesBeyondLastLine:Qe,desiredRatio:Ye,minimapLineCount:it}=B.computeContainedMinimapLineCount({viewLineCount:ke,scrollBeyondLastLine:Ze,height:Ae,lineHeight:Ge,pixelRatio:Oe});if(ke/it>1)be=!0,Pe=!0,Ee=1,Me=1,xe=Ee/Oe;else{let lt=!1,ot=Ee+1;if(Re==="fit"){const ct=Math.ceil((ke+Qe)*Me);pe&&Ve&&Te<=ge.stableFitRemainingWidth?(lt=!0,ot=ge.stableFitMaxMinimapScale):lt=ct>Le}if(Re==="fill"||lt){be=!0;const ct=Ee;Me=Math.min(Ge*Oe,Math.max(1,Math.floor(1/Ye))),pe&&Ve&&Te<=ge.stableFitRemainingWidth&&(ot=ge.stableFitMaxMinimapScale),Ee=Math.min(ot,Math.max(1,Math.floor(Me/Ce))),Ee>ct&&(je=Math.min(2,Ee/ct)),xe=Ee/Oe/je,Le=Math.ceil(Math.max(Xe,ke+Qe)*Me),pe?(ge.stableMinimapLayoutInput=re,ge.stableFitRemainingWidth=Te,ge.stableFitMaxMinimapScale=Ee):(ge.stableMinimapLayoutInput=null,ge.stableFitRemainingWidth=0)}}}const qe=Math.floor(Ie*xe),ze=Math.min(qe,Math.max(0,Math.floor((Te-Ne-2)*xe/(Je+xe)))+e.MINIMAP_GUTTER_WIDTH);let Fe=Math.floor(Oe*ze);const We=Fe/Oe;Fe=Math.floor(Fe*je);const $e=et?1:2,Ke=Ue==="left"?0:ye-ze-Ne;return{renderMinimap:$e,minimapLeft:Ke,minimapWidth:ze,minimapHeightIsEditorHeight:be,minimapIsSampling:Pe,minimapScale:Ee,minimapLineHeight:Me,minimapCanvasInnerWidth:Fe,minimapCanvasInnerHeight:Le,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:Se}}static computeLayout(re,ge){const ye=ge.outerWidth|0,Ae=ge.outerHeight|0,Oe=ge.lineHeight|0,He=ge.lineNumbersDigitCount|0,Ve=ge.typicalHalfwidthCharacterWidth,Ge=ge.maxDigitWidth,Je=ge.pixelRatio,Ze=ge.viewLineCount,et=re.get(122),Ee=et==="inherit"?re.get(121):et,Ie=Ee==="inherit"?re.get(117):Ee,Re=re.get(120),Ue=re.get(2),Ne=ge.isDominatedByLongLines,ke=re.get(49),Te=re.get(59).renderType!==0,pe=re.get(60),Ce=re.get(93),Le=re.get(64),Se=re.get(91),be=Se.verticalScrollbarSize,Pe=Se.verticalHasArrows,Me=Se.arrowSize,xe=Se.horizontalScrollbarSize,je=re.get(57),qe=re.get(37);let ze;if(typeof je=="string"&&/^\d+(\.\d+)?ch$/.test(je)){const ft=parseFloat(je.substr(0,je.length-2));ze=s.clampedInt(ft*Ve,0,0,1e3)}else ze=s.clampedInt(je,0,0,1e3);qe&&(ze+=16);let Fe=0;if(Te){const ft=Math.max(He,pe);Fe=Math.round(ft*Ge)}let We=0;ke&&(We=Oe);let $e=0,Ke=$e+We,Xe=Ke+Fe,Qe=Xe+ze;const Ye=ye-We-Fe-ze;let it=!1,at=!1,lt=-1;Ue!==2&&(Ee==="inherit"&&Ne?(it=!0,at=!0):Ie==="on"||Ie==="bounded"?at=!0:Ie==="wordWrapColumn"&&(lt=Re));const ot=B._computeMinimapLayout({outerWidth:ye,outerHeight:Ae,lineHeight:Oe,typicalHalfwidthCharacterWidth:Ve,pixelRatio:Je,scrollBeyondLastLine:Ce,minimap:Le,verticalScrollbarWidth:be,viewLineCount:Ze,remainingWidth:Ye,isViewportWrapping:at},ge.memory||new v);ot.renderMinimap!==0&&ot.minimapLeft===0&&($e+=ot.minimapWidth,Ke+=ot.minimapWidth,Xe+=ot.minimapWidth,Qe+=ot.minimapWidth);const ct=Ye-ot.minimapWidth,st=Math.max(1,Math.floor((ct-be-2)/Ve)),ht=Pe?Me:0;return at&&(lt=Math.max(1,st),Ie==="bounded"&&(lt=Math.min(lt,Re))),{width:ye,height:Ae,glyphMarginLeft:$e,glyphMarginWidth:We,lineNumbersLeft:Ke,lineNumbersWidth:Fe,decorationsLeft:Xe,decorationsWidth:ze,contentLeft:Qe,contentWidth:ct,minimap:ot,viewportColumn:st,isWordWrapMinified:it,isViewportWrapping:at,wrappingColumn:lt,verticalScrollbarWidth:be,horizontalScrollbarHeight:xe,overviewRuler:{top:ht,width:be,height:Ae-2*ht,right:0}}}}e.EditorLayoutInfoComputer=B;class x extends u{constructor(){const re={enabled:!0};super(56,"lightbulb",re,{"editor.lightbulb.enabled":{type:"boolean",default:re.enabled,description:w.localize(43,null)}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{enabled:a(re.enabled,this.defaultValue.enabled)}}}class U extends u{constructor(){const re={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",re,{"editor.inlayHints.enabled":{type:"boolean",default:re.enabled,description:w.localize(44,null)},"editor.inlayHints.fontSize":{type:"number",default:re.fontSize,markdownDescription:w.localize(45,null)},"editor.inlayHints.fontFamily":{type:"string",default:re.fontFamily,markdownDescription:w.localize(46,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{enabled:a(ge.enabled,this.defaultValue.enabled),fontSize:s.clampedInt(ge.fontSize,this.defaultValue.fontSize,0,100),fontFamily:o.string(ge.fontFamily,this.defaultValue.fontFamily)}}}class K extends r{constructor(){super(58,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,re=>r.clamp(re,0,150),{markdownDescription:w.localize(47,null)})}compute(re,ge,ye){return re.fontInfo.lineHeight}}class Z extends u{constructor(){const re={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",re,{"editor.minimap.enabled":{type:"boolean",default:re.enabled,description:w.localize(48,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(49,null),w.localize(50,null),w.localize(51,null)],default:re.size,description:w.localize(52,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:re.side,description:w.localize(53,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:re.showSlider,description:w.localize(54,null)},"editor.minimap.scale":{type:"number",default:re.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(55,null)},"editor.minimap.renderCharacters":{type:"boolean",default:re.renderCharacters,description:w.localize(56,null)},"editor.minimap.maxColumn":{type:"number",default:re.maxColumn,description:w.localize(57,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{enabled:a(ge.enabled,this.defaultValue.enabled),size:l(ge.size,this.defaultValue.size,["proportional","fill","fit"]),side:l(ge.side,this.defaultValue.side,["right","left"]),showSlider:l(ge.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(ge.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(ge.scale,1,1,3),maxColumn:s.clampedInt(ge.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function ee(ve){return ve==="ctrlCmd"?C.isMacintosh?"metaKey":"ctrlKey":"altKey"}class X extends u{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(58,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(59,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{top:s.clampedInt(ge.top,0,0,1e3),bottom:s.clampedInt(ge.bottom,0,0,1e3)}}}class ne extends u{constructor(){const re={enabled:!0,cycle:!1};super(75,"parameterHints",re,{"editor.parameterHints.enabled":{type:"boolean",default:re.enabled,description:w.localize(60,null)},"editor.parameterHints.cycle":{type:"boolean",default:re.cycle,description:w.localize(61,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{enabled:a(ge.enabled,this.defaultValue.enabled),cycle:a(ge.cycle,this.defaultValue.cycle)}}}class Y extends i{constructor(){super(128)}compute(re,ge,ye){return re.pixelRatio}}class j extends u{constructor(){const re={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",re,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:re.strings,description:w.localize(62,null)},comments:{type:"boolean",default:re.comments,description:w.localize(63,null)},other:{type:"boolean",default:re.other,description:w.localize(64,null)}}}],default:re,description:w.localize(65,null)});this.defaultValue=re}validate(re){if(typeof re=="boolean")return re;if(re&&typeof re=="object"){const ge=re,ye={other:a(ge.other,this.defaultValue.other),comments:a(ge.comments,this.defaultValue.comments),strings:a(ge.strings,this.defaultValue.strings)};return ye.other&&ye.comments&&ye.strings?!0:!ye.other&&!ye.comments&&!ye.strings?!1:ye}return this.defaultValue}}class W extends u{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(66,null),w.localize(67,null),w.localize(68,null),w.localize(69,null)],default:"on",description:w.localize(70,null)})}validate(re){let ge=this.defaultValue.renderType,ye=this.defaultValue.renderFn;return typeof re!="undefined"&&(typeof re=="function"?(ge=4,ye=re):re==="interval"?ge=3:re==="relative"?ge=2:re==="on"?ge=1:ge=0),{renderType:ge,renderFn:ye}}}function V(ve){const re=ve.get(86);return re==="editable"?ve.get(80):re!=="on"}e.filterValidationDecorations=V;class G extends u{constructor(){const re=[],ge={type:"number",description:w.localize(71,null)};super(90,"rulers",re,{type:"array",items:{anyOf:[ge,{type:["object"],properties:{column:ge,color:{type:"string",description:w.localize(72,null),format:"color-hex"}}}]},default:re,description:w.localize(73,null)})}validate(re){if(Array.isArray(re)){const ge=[];for(let ye of re)if(typeof ye=="number")ge.push({column:s.clampedInt(ye,0,0,1e4),color:null});else if(ye&&typeof ye=="object"){const Ae=ye;ge.push({column:s.clampedInt(Ae.column,0,0,1e4),color:Ae.color})}return ge.sort((ye,Ae)=>ye.column-Ae.column),ge}return this.defaultValue}}function oe(ve,re){if(typeof ve!="string")return re;switch(ve){case"hidden":return 2;case"visible":return 3;default:return 1}}class ce extends u{constructor(){const re={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",re,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(74,null),w.localize(75,null),w.localize(76,null)],default:"auto",description:w.localize(77,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(78,null),w.localize(79,null),w.localize(80,null)],default:"auto",description:w.localize(81,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:re.verticalScrollbarSize,description:w.localize(82,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:re.horizontalScrollbarSize,description:w.localize(83,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:re.scrollByPage,description:w.localize(84,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re,ye=s.clampedInt(ge.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ae=s.clampedInt(ge.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(ge.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:oe(ge.vertical,this.defaultValue.vertical),horizontal:oe(ge.horizontal,this.defaultValue.horizontal),useShadows:a(ge.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(ge.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(ge.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(ge.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(ge.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:ye,horizontalSliderSize:s.clampedInt(ge.horizontalSliderSize,ye,0,1e3),verticalScrollbarSize:Ae,verticalSliderSize:s.clampedInt(ge.verticalSliderSize,Ae,0,1e3),scrollByPage:a(ge.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class ie extends u{constructor(){const re={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(112,"unicodeHighlight",re,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.nonBasicASCII,description:w.localize(85,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:re.invisibleCharacters,description:w.localize(86,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:re.ambiguousCharacters,description:w.localize(87,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.includeComments,description:w.localize(88,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.includeStrings,description:w.localize(89,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:re.allowedCharacters,description:w.localize(90,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:re.allowedLocales,description:w.localize(91,null)}})}applyUpdate(re,ge){let ye=!1;ge.allowedCharacters&&(S.equals(re.allowedCharacters,ge.allowedCharacters)||(re=Object.assign(Object.assign({},re),{allowedCharacters:ge.allowedCharacters}),ye=!0)),ge.allowedLocales&&(S.equals(re.allowedLocales,ge.allowedLocales)||(re=Object.assign(Object.assign({},re),{allowedLocales:ge.allowedLocales}),ye=!0));const Ae=super.applyUpdate(re,ge);return ye?new g(Ae.newValue,!0):Ae}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{nonBasicASCII:$(ge.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:a(ge.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(ge.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:$(ge.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:$(ge.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(re.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(re.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(re,ge){if(typeof re!="object"||!re)return ge;const ye={};for(const[Ae,Oe]of Object.entries(re))Oe===!0&&(ye[Ae]=!0);return ye}}class de extends u{constructor(){const re={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",re,{"editor.inlineSuggest.enabled":{type:"boolean",default:re.enabled,description:w.localize(92,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{enabled:a(ge.enabled,this.defaultValue.enabled),mode:l(ge.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class q extends u{constructor(){const re={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",re,{"editor.bracketPairColorization.enabled":{type:"boolean",default:re.enabled,description:w.localize(93,null)}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{enabled:a(re.enabled,this.defaultValue.enabled)}}}class z extends u{constructor(){const re={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",re,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(94,null),w.localize(95,null),w.localize(96,null)],default:re.bracketPairs,description:w.localize(97,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(98,null),w.localize(99,null),w.localize(100,null)],default:re.bracketPairsHorizontal,description:w.localize(101,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:re.highlightActiveBracketPair,description:w.localize(102,null)},"editor.guides.indentation":{type:"boolean",default:re.indentation,description:w.localize(103,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:re.highlightActiveIndentation,description:w.localize(104,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{bracketPairs:$(ge.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:$(ge.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(ge.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(ge.indentation,this.defaultValue.indentation),highlightActiveIndentation:a(ge.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function $(ve,re,ge){const ye=ge.indexOf(ve);return ye===-1?re:ge[ye]}class se extends u{constructor(){const re={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",re,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(105,null),w.localize(106,null)],default:re.insertMode,description:w.localize(107,null)},"editor.suggest.filterGraceful":{type:"boolean",default:re.filterGraceful,description:w.localize(108,null)},"editor.suggest.localityBonus":{type:"boolean",default:re.localityBonus,description:w.localize(109,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:re.shareSuggestSelections,markdownDescription:w.localize(110,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:re.snippetsPreventQuickSuggestions,description:w.localize(111,null)},"editor.suggest.showIcons":{type:"boolean",default:re.showIcons,description:w.localize(112,null)},"editor.suggest.showStatusBar":{type:"boolean",default:re.showStatusBar,description:w.localize(113,null)},"editor.suggest.preview":{type:"boolean",default:re.preview,description:w.localize(114,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:re.showInlineDetails,description:w.localize(115,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(116,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(117,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(118,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(119,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(120,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.localize(121,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(122,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(123,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(124,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(125,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(126,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(127,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(128,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(129,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(130,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(131,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(132,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(133,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(134,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(135,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(136,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(137,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(138,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(139,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(140,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(141,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(142,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(143,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(144,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(145,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(146,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const ge=re;return{insertMode:l(ge.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(ge.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(ge.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(ge.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(ge.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:a(ge.showIcons,this.defaultValue.showIcons),showStatusBar:a(ge.showStatusBar,this.defaultValue.showStatusBar),preview:a(ge.preview,this.defaultValue.preview),previewMode:l(ge.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(ge.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(ge.showMethods,this.defaultValue.showMethods),showFunctions:a(ge.showFunctions,this.defaultValue.showFunctions),showConstructors:a(ge.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(ge.showDeprecated,this.defaultValue.showDeprecated),showFields:a(ge.showFields,this.defaultValue.showFields),showVariables:a(ge.showVariables,this.defaultValue.showVariables),showClasses:a(ge.showClasses,this.defaultValue.showClasses),showStructs:a(ge.showStructs,this.defaultValue.showStructs),showInterfaces:a(ge.showInterfaces,this.defaultValue.showInterfaces),showModules:a(ge.showModules,this.defaultValue.showModules),showProperties:a(ge.showProperties,this.defaultValue.showProperties),showEvents:a(ge.showEvents,this.defaultValue.showEvents),showOperators:a(ge.showOperators,this.defaultValue.showOperators),showUnits:a(ge.showUnits,this.defaultValue.showUnits),showValues:a(ge.showValues,this.defaultValue.showValues),showConstants:a(ge.showConstants,this.defaultValue.showConstants),showEnums:a(ge.showEnums,this.defaultValue.showEnums),showEnumMembers:a(ge.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(ge.showKeywords,this.defaultValue.showKeywords),showWords:a(ge.showWords,this.defaultValue.showWords),showColors:a(ge.showColors,this.defaultValue.showColors),showFiles:a(ge.showFiles,this.defaultValue.showFiles),showReferences:a(ge.showReferences,this.defaultValue.showReferences),showFolders:a(ge.showFolders,this.defaultValue.showFolders),showTypeParameters:a(ge.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(ge.showSnippets,this.defaultValue.showSnippets),showUsers:a(ge.showUsers,this.defaultValue.showUsers),showIssues:a(ge.showIssues,this.defaultValue.showIssues)}}}class te extends u{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(147,null),default:!0,type:"boolean"}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:a(re.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ae extends i{constructor(){super(129)}compute(re,ge,ye){return ge.get(80)?!0:re.tabFocusMode}}function me(ve){switch(ve){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class _e extends i{constructor(){super(131)}compute(re,ge,ye){const Ae=ge.get(130);return{isDominatedByLongLines:re.isDominatedByLongLines,isWordWrapMinified:Ae.isWordWrapMinified,isViewportWrapping:Ae.isViewportWrapping,wrappingColumn:Ae.wrappingColumn}}}const we="Consolas, 'Courier New', monospace",le="Menlo, Monaco, 'Courier New', monospace",he="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:C.isMacintosh?le:C.isLinux?he:we,fontWeight:"normal",fontSize:C.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function ue(ve){return e.editorOptionsRegistry[ve.id]=ve,ve}e.EditorOptions={acceptSuggestionOnCommitCharacter:ue(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(148,null)})),acceptSuggestionOnEnter:ue(new h(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(149,null),""],markdownDescription:w.localize(150,null)})),accessibilitySupport:ue(new p),accessibilityPageSize:ue(new s(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(151,null)})),ariaLabel:ue(new o(4,"ariaLabel",w.localize(152,null))),autoClosingBrackets:ue(new h(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(153,null),w.localize(154,null),""],description:w.localize(155,null)})),autoClosingDelete:ue(new h(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.localize(156,null),""],description:w.localize(157,null)})),autoClosingOvertype:ue(new h(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(158,null),""],description:w.localize(159,null)})),autoClosingQuotes:ue(new h(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(160,null),w.localize(161,null),""],description:w.localize(162,null)})),autoIndent:ue(new m(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],y,{enumDescriptions:[w.localize(163,null),w.localize(164,null),w.localize(165,null),w.localize(166,null),w.localize(167,null)],description:w.localize(168,null)})),automaticLayout:ue(new c(10,"automaticLayout",!1)),autoSurround:ue(new h(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(169,null),w.localize(170,null),w.localize(171,null),""],description:w.localize(172,null)})),bracketPairColorization:ue(new q),bracketPairGuides:ue(new z),stickyTabStops:ue(new c(103,"stickyTabStops",!1,{description:w.localize(173,null)})),codeLens:ue(new c(14,"codeLens",!0,{description:w.localize(174,null)})),codeLensFontFamily:ue(new o(15,"codeLensFontFamily","",{description:w.localize(175,null)})),codeLensFontSize:ue(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.localize(176,null)})),colorDecorators:ue(new c(17,"colorDecorators",!0,{description:w.localize(177,null)})),columnSelection:ue(new c(18,"columnSelection",!1,{description:w.localize(178,null)})),comments:ue(new f),contextmenu:ue(new c(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ue(new c(21,"copyWithSyntaxHighlighting",!0,{description:w.localize(179,null)})),cursorBlinking:ue(new m(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],_,{description:w.localize(180,null)})),cursorSmoothCaretAnimation:ue(new c(23,"cursorSmoothCaretAnimation",!1,{description:w.localize(181,null)})),cursorStyle:ue(new m(24,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],E,{description:w.localize(182,null)})),cursorSurroundingLines:ue(new s(25,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(183,null)})),cursorSurroundingLinesStyle:ue(new h(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(184,null),w.localize(185,null)],description:w.localize(186,null)})),cursorWidth:ue(new s(27,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(187,null)})),disableLayerHinting:ue(new c(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ue(new c(29,"disableMonospaceOptimizations",!1)),domReadOnly:ue(new c(30,"domReadOnly",!1)),dragAndDrop:ue(new c(31,"dragAndDrop",!0,{description:w.localize(188,null)})),emptySelectionClipboard:ue(new k),extraEditorClassName:ue(new o(33,"extraEditorClassName","")),fastScrollSensitivity:ue(new r(34,"fastScrollSensitivity",5,ve=>ve<=0?5:ve,{markdownDescription:w.localize(189,null)})),find:ue(new A),fixedOverflowWidgets:ue(new c(36,"fixedOverflowWidgets",!1)),folding:ue(new c(37,"folding",!0,{description:w.localize(190,null)})),foldingStrategy:ue(new h(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(191,null),w.localize(192,null)],description:w.localize(193,null)})),foldingHighlight:ue(new c(39,"foldingHighlight",!0,{description:w.localize(194,null)})),foldingImportsByDefault:ue(new c(40,"foldingImportsByDefault",!1,{description:w.localize(195,null)})),unfoldOnClickAfterEndOfLine:ue(new c(41,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(196,null)})),fontFamily:ue(new o(42,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(197,null)})),fontInfo:ue(new F),fontLigatures2:ue(new P),fontSize:ue(new R),fontWeight:ue(new M),formatOnPaste:ue(new c(47,"formatOnPaste",!1,{description:w.localize(198,null)})),formatOnType:ue(new c(48,"formatOnType",!1,{description:w.localize(199,null)})),glyphMargin:ue(new c(49,"glyphMargin",!0,{description:w.localize(200,null)})),gotoLocation:ue(new O),hideCursorInOverviewRuler:ue(new c(51,"hideCursorInOverviewRuler",!1,{description:w.localize(201,null)})),hover:ue(new L),inDiffEditor:ue(new c(53,"inDiffEditor",!1)),letterSpacing:ue(new r(55,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ve=>r.clamp(ve,-5,20),{description:w.localize(202,null)})),lightbulb:ue(new x),lineDecorationsWidth:ue(new n(57,"lineDecorationsWidth",10)),lineHeight:ue(new K),lineNumbers:ue(new W),lineNumbersMinChars:ue(new s(60,"lineNumbersMinChars",5,1,300)),linkedEditing:ue(new c(61,"linkedEditing",!1,{description:w.localize(203,null)})),links:ue(new c(62,"links",!0,{description:w.localize(204,null)})),matchBrackets:ue(new h(63,"matchBrackets","always",["always","near","never"],{description:w.localize(205,null)})),minimap:ue(new Z),mouseStyle:ue(new h(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ue(new r(66,"mouseWheelScrollSensitivity",1,ve=>ve===0?1:ve,{markdownDescription:w.localize(206,null)})),mouseWheelZoom:ue(new c(67,"mouseWheelZoom",!1,{markdownDescription:w.localize(207,null)})),multiCursorMergeOverlapping:ue(new c(68,"multiCursorMergeOverlapping",!0,{description:w.localize(208,null)})),multiCursorModifier:ue(new m(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ee,{markdownEnumDescriptions:[w.localize(209,null),w.localize(210,null)],markdownDescription:w.localize(211,null)})),multiCursorPaste:ue(new h(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(212,null),w.localize(213,null)],markdownDescription:w.localize(214,null)})),occurrencesHighlight:ue(new c(71,"occurrencesHighlight",!0,{description:w.localize(215,null)})),overviewRulerBorder:ue(new c(72,"overviewRulerBorder",!0,{description:w.localize(216,null)})),overviewRulerLanes:ue(new s(73,"overviewRulerLanes",3,0,3)),padding:ue(new X),parameterHints:ue(new ne),peekWidgetDefaultFocus:ue(new h(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(217,null),w.localize(218,null)],description:w.localize(219,null)})),definitionLinkOpensInPeek:ue(new c(77,"definitionLinkOpensInPeek",!1,{description:w.localize(220,null)})),quickSuggestions:ue(new j),quickSuggestionsDelay:ue(new s(79,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(221,null)})),readOnly:ue(new c(80,"readOnly",!1)),renameOnType:ue(new c(81,"renameOnType",!1,{description:w.localize(222,null),markdownDeprecationMessage:w.localize(223,null)})),renderControlCharacters:ue(new c(82,"renderControlCharacters",!0,{description:w.localize(224,null),restricted:!0})),renderFinalNewline:ue(new c(83,"renderFinalNewline",!0,{description:w.localize(225,null)})),renderLineHighlight:ue(new h(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(226,null)],description:w.localize(227,null)})),renderLineHighlightOnlyWhenFocus:ue(new c(85,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(228,null)})),renderValidationDecorations:ue(new h(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ue(new h(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(229,null),w.localize(230,null),w.localize(231,null),""],description:w.localize(232,null)})),revealHorizontalRightPadding:ue(new s(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ue(new c(89,"roundedSelection",!0,{description:w.localize(233,null)})),rulers:ue(new G),scrollbar:ue(new ce),scrollBeyondLastColumn:ue(new s(92,"scrollBeyondLastColumn",5,0,1073741824,{description:w.localize(234,null)})),scrollBeyondLastLine:ue(new c(93,"scrollBeyondLastLine",!0,{description:w.localize(235,null)})),scrollPredominantAxis:ue(new c(94,"scrollPredominantAxis",!0,{description:w.localize(236,null)})),selectionClipboard:ue(new c(95,"selectionClipboard",!0,{description:w.localize(237,null),included:C.isLinux})),selectionHighlight:ue(new c(96,"selectionHighlight",!0,{description:w.localize(238,null)})),selectOnLineNumbers:ue(new c(97,"selectOnLineNumbers",!0)),showFoldingControls:ue(new h(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[w.localize(239,null),w.localize(240,null)],description:w.localize(241,null)})),showUnused:ue(new c(99,"showUnused",!0,{description:w.localize(242,null)})),showDeprecated:ue(new c(125,"showDeprecated",!0,{description:w.localize(243,null)})),inlayHints:ue(new U),snippetSuggestions:ue(new h(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(244,null),w.localize(245,null),w.localize(246,null),w.localize(247,null)],description:w.localize(248,null)})),smartSelect:ue(new te),smoothScrolling:ue(new c(102,"smoothScrolling",!1,{description:w.localize(249,null)})),stopRenderingLineAfter:ue(new s(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ue(new se),inlineSuggest:ue(new de),suggestFontSize:ue(new s(106,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(250,null)})),suggestLineHeight:ue(new s(107,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(251,null)})),suggestOnTriggerCharacters:ue(new c(108,"suggestOnTriggerCharacters",!0,{description:w.localize(252,null)})),suggestSelection:ue(new h(109,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(253,null),w.localize(254,null),w.localize(255,null)],description:w.localize(256,null)})),tabCompletion:ue(new h(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(257,null),w.localize(258,null),w.localize(259,null)],description:w.localize(260,null)})),tabIndex:ue(new s(111,"tabIndex",0,-1,1073741824)),unicodeHighlight:ue(new ie),unusualLineTerminators:ue(new h(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(261,null),w.localize(262,null),w.localize(263,null)],description:w.localize(264,null)})),useShadowDOM:ue(new c(114,"useShadowDOM",!0)),useTabStops:ue(new c(115,"useTabStops",!0,{description:w.localize(265,null)})),wordSeparators:ue(new o(116,"wordSeparators",N.USUAL_WORD_SEPARATORS,{description:w.localize(266,null)})),wordWrap:ue(new h(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(267,null),w.localize(268,null),w.localize(269,null),w.localize(270,null)],description:w.localize(271,null)})),wordWrapBreakAfterCharacters:ue(new o(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ue(new o(119,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ue(new s(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(272,null)})),wordWrapOverride1:ue(new h(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ue(new h(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ue(new m(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],me,{enumDescriptions:[w.localize(273,null),w.localize(274,null),w.localize(275,null),w.localize(276,null)],description:w.localize(277,null)})),wrappingStrategy:ue(new h(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.localize(278,null),w.localize(279,null)],description:w.localize(280,null)})),editorClassName:ue(new T),pixelRatio:ue(new Y),tabFocusMode:ue(new ae),layoutInfo:ue(new B),wrappingInfo:ue(new _e)}}),define(Q[60],J([0,1,33,31,29]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function D(S,b){S instanceof C.FastDomNode?(S.setFontFamily(b.getMassagedFontFamily(w.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null)),S.setFontWeight(b.fontWeight),S.setFontSize(b.fontSize),S.setFontFeatureSettings(b.fontFeatureSettings),S.setLineHeight(b.lineHeight),S.setLetterSpacing(b.letterSpacing)):(S.style.fontFamily=b.getMassagedFontFamily(w.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),S.style.fontWeight=b.fontWeight,S.style.fontSize=b.fontSize+"px",S.style.fontFeatureSettings=b.fontFeatureSettings,S.style.lineHeight=b.lineHeight+"px",S.style.letterSpacing=b.letterSpacing+"px")}e.applyFontInfo=D}),define(Q[495],J([0,1,60]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class C{constructor(b,v){this.chr=b,this.type=v,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=C;class N{constructor(b,v){this._bareFontInfo=b,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const v=document.createElement("div");(0,w.applyFontInfo)(v,this._bareFontInfo),b.appendChild(v);const u=document.createElement("div");(0,w.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",b.appendChild(u);const g=document.createElement("div");(0,w.applyFontInfo)(g,this._bareFontInfo),g.style.fontStyle="italic",b.appendChild(g);const t=[];for(const i of this._requests){let n;i.type===0&&(n=v),i.type===2&&(n=u),i.type===1&&(n=g),n.appendChild(document.createElement("br"));const a=document.createElement("span");N._render(a,i),n.appendChild(a),t.push(a)}this._container=b,this._testElements=t}static _render(b,v){if(v.chr===" "){let u="\xA0";for(let g=0;g<8;g++)u+=u;b.innerText=u}else{let u=v.chr;for(let g=0;g<8;g++)u+=u;b.textContent=u}}_readFromDomElements(){for(let b=0,v=this._requests.length;b<v;b++){const u=this._requests[b],g=this._testElements[b];u.fulfill(g.offsetWidth/256)}}}function D(S,b){new N(S,b).read()}e.readCharWidths=D}),define(Q[255],J([0,1,33,4,2,495,29,173]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class v extends N.Disposable{constructor(){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(t,i){this._cache.put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let i=!1;for(const n of t)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readFontInfo(t){if(!this._cache.has(t)){let i=this._actualReadFontInfo(t);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new b.FontInfo({zoomLevel:w.getZoomLevel(),pixelRatio:w.getPixelRatio(),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(t,i)}return this._cache.get(t)}_createRequest(t,i,n,a){const c=new D.CharWidthRequest(t,i);return n.push(c),a&&a.push(c),c}_actualReadFontInfo(t){const i=[],n=[],a=this._createRequest("n",0,i,n),c=this._createRequest("\uFF4D",0,i,null),d=this._createRequest(" ",0,i,n),s=this._createRequest("0",0,i,n),r=this._createRequest("1",0,i,n),o=this._createRequest("2",0,i,n),l=this._createRequest("3",0,i,n),h=this._createRequest("4",0,i,n),m=this._createRequest("5",0,i,n),y=this._createRequest("6",0,i,n),p=this._createRequest("7",0,i,n),f=this._createRequest("8",0,i,n),_=this._createRequest("9",0,i,n),I=this._createRequest("\u2192",0,i,n),E=this._createRequest("\uFFEB",0,i,null),T=this._createRequest("\xB7",0,i,n),k=this._createRequest(String.fromCharCode(11825),0,i,null),A="|/-_ilm%";for(let L=0,B=A.length;L<B;L++)this._createRequest(A.charAt(L),0,i,n),this._createRequest(A.charAt(L),1,i,n),this._createRequest(A.charAt(L),2,i,n);(0,D.readCharWidths)(t,i);const P=Math.max(s.width,r.width,o.width,l.width,h.width,m.width,y.width,p.width,f.width,_.width);let F=t.fontFeatureSettings===S.EditorFontLigatures.OFF;const R=n[0].width;for(let L=1,B=n.length;F&&L<B;L++){const x=R-n[L].width;if(x<-.001||x>.001){F=!1;break}}let M=!0;F&&E.width!==R&&(M=!1),E.width>I.width&&(M=!1);const O=w.getTimeSinceLastZoomLevelChanged()>2e3;return new b.FontInfo({zoomLevel:w.getZoomLevel(),pixelRatio:w.getPixelRatio(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:F,typicalHalfwidthCharacterWidth:a.width,typicalFullwidthCharacterWidth:c.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:d.width,middotWidth:T.width,wsmiddotWidth:k.width,maxDigitWidth:P},O)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const i=t.getId();return!!this._values[i]}get(t){const i=t.getId();return this._values[i]}put(t,i){const n=t.getId();this._keys[n]=t,this._values[n]=i}remove(t){const i=t.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}e.FontMeasurements=new v}),define(Q[496],J([0,1,89,8,60,91,241]),function(H,e,w,C,N,D,S){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:c=>c});class u{static create(){return new u}constructor(){}createLineBreaksComputer(d,s,r,o){const l=[],h=[];return{addRequest:(m,y,p)=>{l.push(m),h.push(y)},finalize:()=>g(l,d,s,r,o,h)}}}e.DOMLineBreaksComputerFactory=u;function g(c,d,s,r,o,l){var h;function m(x){const U=l[x];if(U){const K=D.LineInjectedText.applyInjectedText(c[x],U),Z=U.map(X=>X.options),ee=U.map(X=>X.column-1);return new S.ModelLineProjectionData(ee,Z,[K.length],[],0)}else return null}if(r===-1){const x=[];for(let U=0,K=c.length;U<K;U++)x[U]=m(U);return x}const y=Math.round(r*d.typicalHalfwidthCharacterWidth),f=Math.round(s*(o===3?2:o===2?1:0)),_=Math.ceil(d.spaceWidth*f),I=document.createElement("div");(0,N.applyFontInfo)(I,d);const E=(0,w.createStringBuilder)(1e4),T=[],k=[],A=[],P=[],F=[];for(let x=0;x<c.length;x++){const U=D.LineInjectedText.applyInjectedText(c[x],l[x]);let K=0,Z=0,ee=y;if(o!==0)if(K=C.firstNonWhitespaceIndex(U),K===-1)K=0;else{for(let j=0;j<K;j++)Z+=U.charCodeAt(j)===9?s-Z%s:1;const Y=Math.ceil(d.spaceWidth*Z);Y+d.typicalFullwidthCharacterWidth>y?(K=0,Z=0):ee=y-Y}const X=U.substr(K),ne=t(X,Z,s,ee,E,_);T[x]=K,k[x]=Z,A[x]=X,P[x]=ne[0],F[x]=ne[1]}const R=E.build(),M=(h=v==null?void 0:v.createHTML(R))!==null&&h!==void 0?h:R;I.innerHTML=M,I.style.position="absolute",I.style.top="10000",I.style.wordWrap="break-word",document.body.appendChild(I);const O=document.createRange(),L=Array.prototype.slice.call(I.children,0),B=[];for(let x=0;x<c.length;x++){const U=L[x],K=i(O,U,A[x],P[x]);if(K===null){B[x]=m(x);continue}const Z=T[x],ee=k[x]+f,X=F[x],ne=[];for(let V=0,G=K.length;V<G;V++)ne[V]=X[K[V]];if(Z!==0)for(let V=0,G=K.length;V<G;V++)K[V]+=Z;let Y,j;const W=l[x];W?(Y=W.map(V=>V.options),j=W.map(V=>V.column-1)):(Y=null,j=null),B[x]=new S.ModelLineProjectionData(j,Y,K,ne,ee)}return document.body.removeChild(I),B}function t(c,d,s,r,o,l){if(l!==0){const I=String(l);o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(I),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(I),o.appendASCIIString("px; box-sizing: border-box; width:")}else o.appendASCIIString('<div style="width:');o.appendASCIIString(String(r)),o.appendASCIIString('px;">');const h=c.length;let m=d,y=0;const p=[],f=[];let _=0<h?c.charCodeAt(0):0;o.appendASCIIString("<span>");for(let I=0;I<h;I++){I!==0&&I%16384==0&&o.appendASCIIString("</span><span>"),p[I]=y,f[I]=m;const E=_;_=I+1<h?c.charCodeAt(I+1):0;let T=1,k=1;switch(E){case 9:T=s-m%s,k=T;for(let A=1;A<=T;A++)A<T?o.write1(160):o.appendASCII(32);break;case 32:_===32?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:C.isFullWidthCharacter(E)&&k++,E<32?o.write1(9216+E):o.write1(E)}y+=T,m+=k}return o.appendASCIIString("</span>"),p[c.length]=y,f[c.length]=m,o.appendASCIIString("</div>"),[p,f]}function i(c,d,s,r){if(s.length<=1)return null;const o=Array.prototype.slice.call(d.children,0),l=[];try{n(c,o,r,0,null,s.length-1,null,l)}catch(h){return console.log(h),null}return l.length===0?null:(l.push(s.length),l)}function n(c,d,s,r,o,l,h,m){if(r===l||(o=o||a(c,d,s[r],s[r+1]),h=h||a(c,d,s[l],s[l+1]),Math.abs(o[0].top-h[0].top)<=.1))return;if(r+1===l){m.push(l);return}const y=r+(l-r)/2|0,p=a(c,d,s[y],s[y+1]);n(c,d,s,r,o,y,p,m),n(c,d,s,y,p,l,h,m)}function a(c,d,s,r){return c.setStart(d[s/16384|0].firstChild,s%16384),c.setEnd(d[r/16384|0].firstChild,r%16384),c.getClientRects()}}),define(Q[497],J([0,1,31,60,175,49]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(t){super(t);this._visibleLines=new N.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,i=this._dynamicOverlays.length;t<i;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,i=this._dynamicOverlays.length;t<i;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let a=i;a<=n;a++)this._visibleLines.getVisibleLine(a).onConfigurationChanged(t);return!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const i=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,a=i.length;n<a;n++){const c=i[n];c.prepareRender(t),c.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}e.ViewOverlays=S;class b{constructor(t,i){this._configuration=t,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,w.createFastDomNode)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(58)}renderLine(t,i,n,a){let c="";for(let d=0,s=this._dynamicOverlays.length;d<s;d++)c+=this._dynamicOverlays[d].render(n.startLineNumber,t);return this._renderedContent===c?!1:(this._renderedContent=c,a.appendASCIIString('<div style="position:absolute;top:'),a.appendASCIIString(String(i)),a.appendASCIIString("px;width:100%;height:"),a.appendASCIIString(String(this._lineHeight)),a.appendASCIIString('px;">'),a.appendASCIIString(c),a.appendASCIIString("</div>"),!0)}layoutLine(t,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class v extends S{constructor(t){super(t);const n=this._context.configuration.options.get(130);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const n=this._context.configuration.options.get(130);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class u extends S{constructor(t){super(t);const i=this._context.configuration.options,n=i.get(130);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,C.applyFontInfo)(this.domNode,i.get(43))}onConfigurationChanged(t){const i=this._context.configuration.options;(0,C.applyFontInfo)(this.domNode,i.get(43));const n=i.get(130);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(Q[498],J([0,1,7,31,8,60,29,11,3,140]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(n,a,c,d,s,r){this.top=n,this.left=a,this.width=c,this.height=d,this.textContent=s,this.textContentClassName=r}}class t{constructor(n){this._context=n;const a=this._context.configuration.options,c=a.get(43);this._cursorStyle=a.get(24),this._lineHeight=a.get(58),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(a.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,C.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,c),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const a=this._context.configuration.options,c=a.get(43);return this._cursorStyle=a.get(24),this._lineHeight=a.get(58),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(a.get(27),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,c),!0}onCursorPositionChanged(n){return this._position=n,!0}_prepareRender(n){let a="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const p=n.visibleRangeForPosition(this._position);if(!p||p.outsideRenderedLine)return null;let f;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(f=w.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2){const E=this._context.model.getLineContent(this._position.lineNumber),T=N.nextCharLength(E,this._position.column-1);a=E.substr(this._position.column-1,T)}}else f=w.computeScreenAwareSize(1);let _=p.left;f>=2&&_>=1&&(_-=1);const I=n.getVerticalOffsetForLineNumber(this._position.lineNumber)-n.bigNumbersDelta;return new g(I,_,f,this._lineHeight,a,"")}const c=this._context.model.getLineContent(this._position.lineNumber),d=N.nextCharLength(c,this._position.column-1),s=n.linesVisibleRangesForRange(new v.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+d),!1);if(!s||s.length===0)return null;const r=s[0];if(r.outsideRenderedLine||r.ranges.length===0)return null;const o=r.ranges[0],l=o.width<1?this._typicalHalfwidthCharacterWidth:o.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const p=this._context.model.getViewLineData(this._position.lineNumber);a=c.substr(this._position.column-1,d);const f=p.tokens.findTokenIndexAtOffset(this._position.column-1);h=p.tokens.getClassName(f)}let m=n.getVerticalOffsetForLineNumber(this._position.lineNumber)-n.bigNumbersDelta,y=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,y=2),new g(m,o.left,l,y,a,h)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=t}),define(Q[256],J([0,1,11,3,66,29]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(i,n,a,c,d){this.editorId=i,this.model=n,this.configuration=a,this._linesCollection=c,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const n=i.id;let a=this._decorationsCache[n];if(!a){const c=i.range,d=i.options;let s;if(d.isWholeLine){const r=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(c.startLineNumber,1),0),o=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(c.endLineNumber,this.model.getLineMaxColumn(c.endLineNumber)),1);s=new C.Range(r.lineNumber,r.column,o.lineNumber,o.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(c,1);a=new N.ViewModelDecoration(s,d),this._decorationsCache[n]=a}return a}getDecorationsViewportData(i){let n=this._cachedModelDecorationsResolver!==null;return n=n&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(i),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}_getDecorationsViewportData(i){const n=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options)),a=i.startLineNumber,c=i.endLineNumber,d=[];let s=0;const r=[];for(let o=a;o<=c;o++)r[o-a]=[];for(let o=0,l=n.length;o<l;o++){const h=n[o],m=h.options;if(!b(this.model,h))continue;const y=this._getOrCreateViewModelDecoration(h),p=y.range;if(d[s++]=y,m.inlineClassName){const f=new N.InlineDecoration(p,m.inlineClassName,m.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(a,p.startLineNumber),I=Math.min(c,p.endLineNumber);for(let E=_;E<=I;E++)r[E-a].push(f)}if(m.beforeContentClassName&&a<=p.startLineNumber&&p.startLineNumber<=c){const f=new N.InlineDecoration(new C.Range(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),m.beforeContentClassName,1);r[p.startLineNumber-a].push(f)}if(m.afterContentClassName&&a<=p.endLineNumber&&p.endLineNumber<=c){const f=new N.InlineDecoration(new C.Range(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),m.afterContentClassName,2);r[p.endLineNumber-a].push(f)}}return{decorations:d,inlineDecorations:r}}}e.ViewModelDecorations=S;function b(t,i){return!(i.options.hideInCommentTokens&&v(t,i)||i.options.hideInStringTokens&&u(t,i))}e.isModelDecorationVisible=b;function v(t,i){return g(t,i.range,n=>n===1)}e.isModelDecorationInComment=v;function u(t,i){return g(t,i.range,n=>n===2)}e.isModelDecorationInString=u;function g(t,i,n){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){const c=t.getLineTokens(a),d=a===i.startLineNumber,s=a===i.endLineNumber;let r=d?c.findTokenIndexAtOffset(i.startColumn-1):0;for(;r<c.getCount()&&!(s&&c.getStartOffset(r)>i.endColumn-1);){if(!n(c.getStandardTokenType(r)))return!1;r++}}return!0}}),define(Q[499],J([5,6]),function(H,e){return H.create("vs/editor/common/editorContextKeys",e)}),define(Q[500],J([5,6]),function(H,e){return H.create("vs/editor/common/languages/modesRegistry",e)}),define(Q[501],J([5,6]),function(H,e){return H.create("vs/editor/common/model/editStack",e)}),define(Q[257],J([0,1,501,14,21,25,235,106,41]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(d){return d.toString()}class g{constructor(s,r,o,l,h,m,y){this.beforeVersionId=s,this.afterVersionId=r,this.beforeEOL=o,this.afterEOL=l,this.beforeCursorState=h,this.afterCursorState=m,this.changes=y}static create(s,r){const o=s.getAlternativeVersionId(),l=n(s);return new g(o,o,l,l,r,r,[])}append(s,r,o,l,h){r.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,r)),this.afterEOL=o,this.afterVersionId=l,this.afterCursorState=h}static _writeSelectionsSize(s){return 4+4*4*(s?s.length:0)}static _writeSelections(s,r,o){if(b.writeUInt32BE(s,r?r.length:0,o),o+=4,r)for(const l of r)b.writeUInt32BE(s,l.selectionStartLineNumber,o),o+=4,b.writeUInt32BE(s,l.selectionStartColumn,o),o+=4,b.writeUInt32BE(s,l.positionLineNumber,o),o+=4,b.writeUInt32BE(s,l.positionColumn,o),o+=4;return o}static _readSelections(s,r,o){const l=b.readUInt32BE(s,r);r+=4;for(let h=0;h<l;h++){const m=b.readUInt32BE(s,r);r+=4;const y=b.readUInt32BE(s,r);r+=4;const p=b.readUInt32BE(s,r);r+=4;const f=b.readUInt32BE(s,r);r+=4,o.push(new N.Selection(m,y,p,f))}return r}serialize(){let s=4+4+1+1+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)s+=l.writeSize();const r=new Uint8Array(s);let o=0;b.writeUInt32BE(r,this.beforeVersionId,o),o+=4,b.writeUInt32BE(r,this.afterVersionId,o),o+=4,b.writeUInt8(r,this.beforeEOL,o),o+=1,b.writeUInt8(r,this.afterEOL,o),o+=1,o=g._writeSelections(r,this.beforeCursorState,o),o=g._writeSelections(r,this.afterCursorState,o),b.writeUInt32BE(r,this.changes.length,o),o+=4;for(const l of this.changes)o=l.write(r,o);return r.buffer}static deserialize(s){const r=new Uint8Array(s);let o=0;const l=b.readUInt32BE(r,o);o+=4;const h=b.readUInt32BE(r,o);o+=4;const m=b.readUInt8(r,o);o+=1;const y=b.readUInt8(r,o);o+=1;const p=[];o=g._readSelections(r,o,p);const f=[];o=g._readSelections(r,o,f);const _=b.readUInt32BE(r,o);o+=4;const I=[];for(let E=0;E<_;E++)o=S.TextChange.read(r,o,I);return new g(l,h,m,y,p,f,I)}}e.SingleModelEditStackData=g;class t{constructor(s,r){this.model=s,this._data=g.create(s,r)}get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}get label(){return w.localize(0,null)}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(r=>r.toString()).join(", ")}matchesResource(s){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===s.toString()}setModel(s){this.model=s}canAppend(s){return this.model===s&&this._data instanceof g}append(s,r,o,l,h){this._data instanceof g&&this._data.append(s,r,o,l,h)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyUndo(s.changes,s.beforeEOL,s.beforeVersionId,s.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyRedo(s.changes,s.afterEOL,s.afterVersionId,s.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=t;class i{constructor(s,r){this.type=1,this.label=s,this._isOpen=!0,this._editStackElementsArr=r.slice(0),this._editStackElementsMap=new Map;for(const o of this._editStackElementsArr){const l=u(o.resource);this._editStackElementsMap.set(l,o)}this._delegate=null}get resources(){return this._editStackElementsArr.map(s=>s.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(s){const r=u(s);return this._editStackElementsMap.has(r)}setModel(s){const r=u(D.URI.isUri(s)?s:s.uri);this._editStackElementsMap.has(r)&&this._editStackElementsMap.get(r).setModel(s)}canAppend(s){if(!this._isOpen)return!1;const r=u(s.uri);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).canAppend(s):!1}append(s,r,o,l,h){const m=u(s.uri);this._editStackElementsMap.get(m).append(s,r,o,l,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const s of this._editStackElementsArr)s.undo()}redo(){for(const s of this._editStackElementsArr)s.redo()}heapSize(s){const r=u(s);return this._editStackElementsMap.has(r)?this._editStackElementsMap.get(r).heapSize():0}split(){return this._editStackElementsArr}toString(){let s=[];for(const r of this._editStackElementsArr)s.push(`${(0,v.basename)(r.resource)}: ${r}`);return`{${s.join(", ")}}`}}e.MultiModelEditStackElement=i;function n(d){return d.getEOL()===`
`?0:1}function a(d){return d?d instanceof t||d instanceof i:!1}e.isEditStackElement=a;class c{constructor(s,r){this._model=s,this._undoRedoService=r}pushStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);a(s)&&s.close()}popStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);a(s)&&s.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(s){const r=this._undoRedoService.getLastElement(this._model.uri);if(a(r)&&r.canAppend(this._model))return r;const o=new t(this._model,s);return this._undoRedoService.pushElement(o),o}pushEOL(s){const r=this._getOrCreateEditStackElement(null);this._model.setEOL(s),r.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(s,r,o){const l=this._getOrCreateEditStackElement(s),h=this._model.applyEdits(r,!0),m=c._computeCursorState(o,h),y=h.map((p,f)=>({index:f,textChange:p.textChange}));return y.sort((p,f)=>p.textChange.oldPosition===f.textChange.oldPosition?p.index-f.index:p.textChange.oldPosition-f.textChange.oldPosition),l.append(this._model,y.map(p=>p.textChange),n(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(s,r){try{return s?s(r):null}catch(o){return(0,C.onUnexpectedError)(o),null}}}e.EditStack=c}),define(Q[502],J([5,6]),function(H,e){return H.create("vs/editor/common/standaloneStrings",e)}),define(Q[67],J([0,1,502]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var C;(function(i){i.noSelection=w.localize(0,null),i.singleSelectionRange=w.localize(1,null),i.singleSelection=w.localize(2,null),i.multiSelectionRange=w.localize(3,null),i.multiSelection=w.localize(4,null),i.emergencyConfOn=w.localize(5,null),i.openingDocs=w.localize(6,null),i.readonlyDiffEditor=w.localize(7,null),i.editableDiffEditor=w.localize(8,null),i.readonlyEditor=w.localize(9,null),i.editableEditor=w.localize(10,null),i.changeConfigToOnMac=w.localize(11,null),i.changeConfigToOnWinLinux=w.localize(12,null),i.auto_on=w.localize(13,null),i.auto_off=w.localize(14,null),i.tabFocusModeOnMsg=w.localize(15,null),i.tabFocusModeOnMsgNoKb=w.localize(16,null),i.tabFocusModeOffMsg=w.localize(17,null),i.tabFocusModeOffMsgNoKb=w.localize(18,null),i.openDocMac=w.localize(19,null),i.openDocWinLinux=w.localize(20,null),i.outroMsg=w.localize(21,null),i.showAccessibilityHelpAction=w.localize(22,null)})(C=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var N;(function(i){i.inspectTokensAction=w.localize(23,null)})(N=e.InspectTokensNLS||(e.InspectTokensNLS={}));var D;(function(i){i.gotoLineActionLabel=w.localize(24,null)})(D=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(i){i.helpQuickAccessActionLabel=w.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(i){i.quickCommandActionLabel=w.localize(26,null),i.quickCommandHelp=w.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(i){i.quickOutlineActionLabel=w.localize(28,null),i.quickOutlineByCategoryActionLabel=w.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(i){i.editorViewAccessibleLabel=w.localize(30,null),i.accessibilityHelpMessage=w.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(i){i.toggleHighContrast=w.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var t;(function(i){i.bulkEditServiceSummary=w.localize(33,null)})(t=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(Q[503],J([5,6]),function(H,e){return H.create("vs/editor/common/view/editorColorRegistry",e)}),define(Q[504],J([5,6]),function(H,e){return H.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(Q[505],J([5,6]),function(H,e){return H.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(Q[506],J([5,6]),function(H,e){return H.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(Q[507],J([5,6]),function(H,e){return H.create("vs/editor/contrib/caretOperations/transpose",e)}),define(Q[508],J([5,6]),function(H,e){return H.create("vs/editor/contrib/clipboard/clipboard",e)}),define(Q[509],J([5,6]),function(H,e){return H.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(Q[510],J([5,6]),function(H,e){return H.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(Q[511],J([5,6]),function(H,e){return H.create("vs/editor/contrib/codelens/codelensController",e)}),define(Q[512],J([5,6]),function(H,e){return H.create("vs/editor/contrib/colorPicker/colorPickerWidget",e)}),define(Q[513],J([5,6]),function(H,e){return H.create("vs/editor/contrib/comment/comment",e)}),define(Q[514],J([5,6]),function(H,e){return H.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(Q[515],J([5,6]),function(H,e){return H.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(Q[516],J([5,6]),function(H,e){return H.create("vs/editor/contrib/find/findController",e)}),define(Q[517],J([5,6]),function(H,e){return H.create("vs/editor/contrib/find/findWidget",e)}),define(Q[518],J([5,6]),function(H,e){return H.create("vs/editor/contrib/folding/folding",e)}),define(Q[519],J([5,6]),function(H,e){return H.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(Q[520],J([5,6]),function(H,e){return H.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(Q[521],J([5,6]),function(H,e){return H.create("vs/editor/contrib/format/format",e)}),define(Q[522],J([5,6]),function(H,e){return H.create("vs/editor/contrib/format/formatActions",e)}),define(Q[523],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoError/gotoError",e)}),define(Q[524],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(Q[525],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(Q[526],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(Q[527],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(Q[528],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(Q[529],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(Q[530],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(Q[124],J([0,1,14,4,132,2,47,41,8,3,530]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class t{constructor(d,s,r,o){this.isProviderFirst=d,this.parent=s,this.link=r,this._rangeCallback=o,this.id=N.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var d,s;return(s=(d=this._range)!==null&&d!==void 0?d:this.link.targetSelectionRange)!==null&&s!==void 0?s:this.link.range}set range(d){this._range=d,this._rangeCallback(this)}get ariaMessage(){var d;const s=(d=this.parent.getPreview(this))===null||d===void 0?void 0:d.preview(this.range);return s?(0,g.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,s.value):(0,g.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=t;class i{constructor(d){this._modelReference=d}dispose(){this._modelReference.dispose()}preview(d,s=8){const r=this._modelReference.object.textEditorModel;if(!r)return;const{startLineNumber:o,startColumn:l,endLineNumber:h,endColumn:m}=d,y=r.getWordUntilPosition({lineNumber:o,column:l-s}),p=new u.Range(o,y.startColumn,o,l),f=new u.Range(h,m,h,1073741824),_=r.getValueInRange(p).replace(/^\s+/,""),I=r.getValueInRange(d),E=r.getValueInRange(f).replace(/\s+$/,"");return{value:_+I+E,highlight:{start:_.length,end:_.length+I.length}}}}e.FilePreview=i;class n{constructor(d,s){this.parent=d,this.uri=s,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(d){return this._previews.get(d.uri)}get ariaMessage(){const d=this.children.length;return d===1?(0,g.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,d,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(d){return De(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let s of this.children)if(!this._previews.has(s.uri))try{const r=yield d.createModelReference(s.uri);this._previews.set(s.uri,new i(r))}catch(r){(0,w.onUnexpectedError)(r)}return this})}}e.FileReferences=n;class a{constructor(d,s){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new C.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=d,this._title=s;const[r]=d;d.sort(a._compareReferences);let o;for(let l of d)if((!o||!b.extUri.isEqual(o.uri,l.uri,!0))&&(o=new n(this,l.uri),this.groups.push(o)),o.children.length===0||a._compareReferences(l,o.children[o.children.length-1])!==0){const h=new t(r===l,o,l,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(h),o.children.push(h)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new a(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(d,s){let{parent:r}=d,o=r.children.indexOf(d),l=r.children.length,h=r.parent.groups.length;return h===1||s&&o+1<l||!s&&o>0?(s?o=(o+1)%l:o=(o+l-1)%l,r.children[o]):(o=r.parent.groups.indexOf(r),s?(o=(o+1)%h,r.parent.groups[o].children[0]):(o=(o+h-1)%h,r.parent.groups[o].children[r.parent.groups[o].children.length-1]))}nearestReference(d,s){const r=this.references.map((o,l)=>({idx:l,prefixLen:v.commonPrefixLength(o.uri.toString(),d.toString()),offsetDist:Math.abs(o.range.startLineNumber-s.lineNumber)*100+Math.abs(o.range.startColumn-s.column)})).sort((o,l)=>o.prefixLen>l.prefixLen?-1:o.prefixLen<l.prefixLen?1:o.offsetDist<l.offsetDist?-1:o.offsetDist>l.offsetDist?1:0)[0];if(r)return this.references[r.idx]}referenceAt(d,s){for(const r of this.references)if(r.uri.toString()===d.toString()&&u.Range.containsPosition(r.range,s))return r}firstReference(){for(const d of this.references)if(d.isProviderFirst)return d;return this.references[0]}static _compareReferences(d,s){return b.extUri.compare(d.uri,s.uri)||u.Range.compareRangesUsingStarts(d.range,s.range)}}e.ReferencesModel=a}),define(Q[531],J([5,6]),function(H,e){return H.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(Q[532],J([5,6]),function(H,e){return H.create("vs/editor/contrib/hover/hover",e)}),define(Q[533],J([5,6]),function(H,e){return H.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(Q[534],J([5,6]),function(H,e){return H.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(Q[535],J([5,6]),function(H,e){return H.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(Q[536],J([5,6]),function(H,e){return H.create("vs/editor/contrib/indentation/indentation",e)}),define(Q[537],J([5,6]),function(H,e){return H.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(Q[538],J([5,6]),function(H,e){return H.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(Q[539],J([5,6]),function(H,e){return H.create("vs/editor/contrib/lineSelection/lineSelection",e)}),define(Q[540],J([5,6]),function(H,e){return H.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(Q[541],J([5,6]),function(H,e){return H.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(Q[542],J([5,6]),function(H,e){return H.create("vs/editor/contrib/links/links",e)}),define(Q[543],J([5,6]),function(H,e){return H.create("vs/editor/contrib/message/messageController",e)}),define(Q[544],J([5,6]),function(H,e){return H.create("vs/editor/contrib/multicursor/multicursor",e)}),define(Q[545],J([5,6]),function(H,e){return H.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(Q[546],J([5,6]),function(H,e){return H.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(Q[547],J([5,6]),function(H,e){return H.create("vs/editor/contrib/peekView/peekView",e)}),define(Q[548],J([5,6]),function(H,e){return H.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(Q[549],J([5,6]),function(H,e){return H.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(Q[550],J([5,6]),function(H,e){return H.create("vs/editor/contrib/rename/rename",e)}),define(Q[551],J([5,6]),function(H,e){return H.create("vs/editor/contrib/rename/renameInputField",e)}),define(Q[552],J([5,6]),function(H,e){return H.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(Q[553],J([5,6]),function(H,e){return H.create("vs/editor/contrib/snippet/snippetController2",e)}),define(Q[554],J([5,6]),function(H,e){return H.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(Q[555],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggest",e)}),define(Q[556],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggestController",e)}),define(Q[557],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(Q[558],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(Q[559],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(Q[560],J([5,6]),function(H,e){return H.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(Q[561],J([5,6]),function(H,e){return H.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(Q[562],J([5,6]),function(H,e){return H.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(Q[563],J([5,6]),function(H,e){return H.create("vs/editor/contrib/tokenization/tokenization",e)}),define(Q[564],J([5,6]),function(H,e){return H.create("vs/editor/contrib/unicodeHighlighter/unicodeHighlighter",e)}),define(Q[565],J([5,6]),function(H,e){return H.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(Q[566],J([5,6]),function(H,e){return H.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(Q[567],J([5,6]),function(H,e){return H.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(Q[568],J([5,6]),function(H,e){return H.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(Q[569],J([5,6]),function(H,e){return H.create("vs/platform/configuration/common/configurationRegistry",e)}),define(Q[570],J([5,6]),function(H,e){return H.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(Q[571],J([5,6]),function(H,e){return H.create("vs/platform/contextkey/common/contextkeys",e)}),define(Q[572],J([5,6]),function(H,e){return H.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(Q[573],J([5,6]),function(H,e){return H.create("vs/platform/list/browser/listService",e)}),define(Q[574],J([5,6]),function(H,e){return H.create("vs/platform/markers/common/markers",e)}),define(Q[575],J([5,6]),function(H,e){return H.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(Q[576],J([5,6]),function(H,e){return H.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(Q[577],J([5,6]),function(H,e){return H.create("vs/platform/theme/common/colorRegistry",e)}),define(Q[578],J([5,6]),function(H,e){return H.create("vs/platform/theme/common/iconRegistry",e)}),define(Q[579],J([5,6]),function(H,e){return H.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(Q[580],J([5,6]),function(H,e){return H.create("vs/platform/workspaces/common/workspaces",e)}),define(Q[581],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function w(C){var N,D;return((N=C.lookupKeybinding("history.showPrevious"))===null||N===void 0?void 0:N.getElectronAccelerator())==="Up"&&((D=C.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=w}),define(Q[582],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var w;(function(C){C[C.API=0]="API",C[C.USER=1]="USER"})(w=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(Q[583],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class w{constructor(N){this.value=N,this._lower=N.toLowerCase()}static toKey(N){return typeof N=="string"?N.toLowerCase():N._lower}}e.ExtensionIdentifier=w}),define(Q[258],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var w;(function(C){C[C.FILE=0]="FILE",C[C.FOLDER=1]="FOLDER",C[C.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={}))}),define(Q[192],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class w{constructor(N,D=[],S=!1){this.ctor=N,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=w}),define(Q[61],J([0,1,192]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const C=[];function N(S,b,v){b instanceof w.SyncDescriptor||(b=new w.SyncDescriptor(b,[],v)),C.push([S,b])}e.registerSingleton=N;function D(){return C}e.getSingletonServiceDescriptors=D}),define(Q[584],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(D){this.incoming=new Map,this.outgoing=new Map,this.data=D}}e.Node=w;class C{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(let S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const b=this.lookupOrInsertNode(D),v=this.lookupOrInsertNode(S);b.outgoing.set(this._hashFn(S),v),v.incoming.set(this._hashFn(D),b)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(let b of this._nodes.values())b.outgoing.delete(S),b.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let b=this._nodes.get(S);return b||(b=new w(D),this._nodes.set(S,b)),b}isEmpty(){return this._nodes.size===0}toString(){let D=[];for(let[S,b]of this._nodes)D.push(`${S}, (incoming)[${[...b.incoming.keys()].join(", ")}], (outgoing)[${[...b.outgoing.keys()].join(",")}]`);return D.join(`
`)}findCycleSlow(){for(let[D,S]of this._nodes){const b=new Set([D]),v=this._findCycle(S,b);if(v)return v}}_findCycle(D,S){for(let[b,v]of D.outgoing){if(S.has(b))return[...S,b].join(" -> ");S.add(b);const u=this._findCycle(v,S);if(u)return u;S.delete(b)}}}e.Graph=C}),define(Q[9],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(b){return b[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(w=e._util||(e._util={})),e.IInstantiationService=N("instantiationService");function C(D,S,b,v){S[w.DI_TARGET]===S?S[w.DI_DEPENDENCIES].push({id:D,index:b,optional:v}):(S[w.DI_DEPENDENCIES]=[{id:D,index:b,optional:v}],S[w.DI_TARGET]=S)}function N(D){if(w.serviceIds.has(D))return w.serviceIds.get(D);const S=function(b,v,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");C(S,b,u,!1)};return S.toString=()=>D,w.serviceIds.set(D,S),S}e.createDecorator=N}),define(Q[193],J([0,1,9,25,20]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,w.createDecorator)("IWorkspaceEditService");function D(g){return(0,N.isObject)(g)&&(Boolean(g.newUri)||Boolean(g.oldUri))}function S(g){return(0,N.isObject)(g)&&C.URI.isUri(g.resource)&&(0,N.isObject)(g.edit)}class b{constructor(t){this.metadata=t}static convert(t){return t.edits.map(i=>{if(S(i))return new v(i.resource,i.edit,i.modelVersionId,i.metadata);if(D(i))return new u(i.oldUri,i.newUri,i.options,i.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=b;class v extends b{constructor(t,i,n,a){super(a);this.resource=t,this.textEdit=i,this.versionId=n}}e.ResourceTextEdit=v;class u extends b{constructor(t,i,n,a){super(a);this.oldResource=t,this.newResource=i,this.options=n}}e.ResourceFileEdit=u}),define(Q[28],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,w.createDecorator)("codeEditorService")}),define(Q[82],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,w.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(Q[34],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,w.createDecorator)("languageService")}),define(Q[194],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,w.createDecorator)("markerDecorationsService")}),define(Q[44],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,w.createDecorator)("modelService");function C(N){return!N.isTooLargeForSyncing()&&!N.isForSimpleWidget}e.shouldSynchronizeModel=C}),define(Q[151],J([0,1,4,108,2,47,107,400,44]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function u(c){return typeof c=="string"?!1:Array.isArray(c)?c.every(u):!!c.exclusive}class g{constructor(){this._clock=0,this._entries=[],this._onDidChange=new w.Emitter}get onDidChange(){return this._onDidChange.event}register(d,s){let r={selector:d,provider:s,_score:-1,_time:this._clock++};return this._entries.push(r),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,N.toDisposable)(()=>{if(r){const o=this._entries.indexOf(r);o>=0&&(this._entries.splice(o,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),r=void 0)}})}has(d){return this.all(d).length>0}all(d){if(!d)return[];this._updateScores(d);const s=[];for(let r of this._entries)r._score>0&&s.push(r.provider);return s}ordered(d){const s=[];return this._orderedForEach(d,r=>s.push(r.provider)),s}orderedGroups(d){const s=[];let r,o;return this._orderedForEach(d,l=>{r&&o===l._score?r.push(l.provider):(o=l._score,r=[l.provider],s.push(r))}),s}_orderedForEach(d,s){if(!!d){this._updateScores(d);for(const r of this._entries)r._score>0&&s(r)}}_updateScores(d){const s={uri:d.uri.toString(),language:d.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===s.language&&this._lastCandidate.uri===s.uri)){this._lastCandidate=s;for(let r of this._entries)if(r._score=(0,b.score)(r.selector,d.uri,d.getLanguageId(),(0,v.shouldSynchronizeModel)(d)),u(r.selector)&&r._score>0){for(let o of this._entries)o._score=0;r._score=1e3;break}this._entries.sort(g._compareByScoreAndTime)}}static _compareByScoreAndTime(d,s){return d._score<s._score?1:d._score>s._score?-1:d._time<s._time?1:d._time>s._time?-1:0}}e.LanguageFeatureRegistry=g;const t=new WeakMap;let i=0;function n(c){let d=t.get(c);return d===void 0&&(d=++i,t.set(c,d)),d}class a{constructor(d,s,r=Number.MAX_SAFE_INTEGER){this._registry=d,this.min=s,this.max=r,this._cache=new D.LRUCache(50,.7)}_key(d){return d.id+this._registry.all(d).reduce((s,r)=>(0,C.doHash)(n(r),s),0)}_clamp(d){return d===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(d*1.3)))}get(d){const s=this._key(d),r=this._cache.get(s);return this._clamp(r==null?void 0:r.value)}update(d,s){const r=this._key(d);let o=this._cache.get(r);return o||(o=new S.MovingAverage,this._cache.set(r,o)),o.update(s),this.get(d)}}e.LanguageFeatureRequestDelays=a}),define(Q[18],J([0,1,25,3,151,408,27]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.InlineValuesProviderRegistry=e.EvaluatableExpressionProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.TokenMetadata=void 0;class b{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&768)>>>8}static getFontStyle(r){return(r&15360)>>>10}static getForeground(r){return(r&8372224)>>>14}static getBackground(r){return(r&4286578688)>>>23}static getClassNameFromMetadata(r){const o=this.getForeground(r);let l="mtk"+o;const h=this.getFontStyle(r);return h&1&&(l+=" mtki"),h&2&&(l+=" mtkb"),h&4&&(l+=" mtku"),h&8&&(l+=" mtks"),l}static getInlineStyleFromMetadata(r,o){const l=this.getForeground(r),h=this.getFontStyle(r);let m=`color: ${o[l]};`;h&1&&(m+="font-style: italic;"),h&2&&(m+="font-weight: bold;");let y="";return h&4&&(y+=" underline"),h&8&&(y+=" line-through"),y&&(m+=`text-decoration:${y};`),m}}e.TokenMetadata=b;var v;(function(s){const r=new Map;r.set(0,S.Codicon.symbolMethod),r.set(1,S.Codicon.symbolFunction),r.set(2,S.Codicon.symbolConstructor),r.set(3,S.Codicon.symbolField),r.set(4,S.Codicon.symbolVariable),r.set(5,S.Codicon.symbolClass),r.set(6,S.Codicon.symbolStruct),r.set(7,S.Codicon.symbolInterface),r.set(8,S.Codicon.symbolModule),r.set(9,S.Codicon.symbolProperty),r.set(10,S.Codicon.symbolEvent),r.set(11,S.Codicon.symbolOperator),r.set(12,S.Codicon.symbolUnit),r.set(13,S.Codicon.symbolValue),r.set(15,S.Codicon.symbolEnum),r.set(14,S.Codicon.symbolConstant),r.set(15,S.Codicon.symbolEnum),r.set(16,S.Codicon.symbolEnumMember),r.set(17,S.Codicon.symbolKeyword),r.set(27,S.Codicon.symbolSnippet),r.set(18,S.Codicon.symbolText),r.set(19,S.Codicon.symbolColor),r.set(20,S.Codicon.symbolFile),r.set(21,S.Codicon.symbolReference),r.set(22,S.Codicon.symbolCustomColor),r.set(23,S.Codicon.symbolFolder),r.set(24,S.Codicon.symbolTypeParameter),r.set(25,S.Codicon.account),r.set(26,S.Codicon.issues);function o(m){let y=r.get(m);return y||(console.info("No codicon found for CompletionItemKind "+m),y=S.Codicon.symbolProperty),y}s.toIcon=o;const l=new Map;l.set("method",0),l.set("function",1),l.set("constructor",2),l.set("field",3),l.set("variable",4),l.set("class",5),l.set("struct",6),l.set("interface",7),l.set("module",8),l.set("property",9),l.set("event",10),l.set("operator",11),l.set("unit",12),l.set("value",13),l.set("constant",14),l.set("enum",15),l.set("enum-member",16),l.set("enumMember",16),l.set("keyword",17),l.set("snippet",27),l.set("text",18),l.set("color",19),l.set("file",20),l.set("reference",21),l.set("customcolor",22),l.set("folder",23),l.set("type-parameter",24),l.set("typeParameter",24),l.set("account",25),l.set("issue",26);function h(m,y){let p=l.get(m);return typeof p=="undefined"&&!y&&(p=9),p}s.fromString=h})(v=e.CompletionItemKinds||(e.CompletionItemKinds={}));var u;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(u=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var g;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(g=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var t;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function i(s){return s&&w.URI.isUri(s.uri)&&C.Range.isIRange(s.range)&&(C.Range.isIRange(s.originSelectionRange)||C.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=i;var n;(function(s){const r=new Map;r.set(0,S.Codicon.symbolFile),r.set(1,S.Codicon.symbolModule),r.set(2,S.Codicon.symbolNamespace),r.set(3,S.Codicon.symbolPackage),r.set(4,S.Codicon.symbolClass),r.set(5,S.Codicon.symbolMethod),r.set(6,S.Codicon.symbolProperty),r.set(7,S.Codicon.symbolField),r.set(8,S.Codicon.symbolConstructor),r.set(9,S.Codicon.symbolEnum),r.set(10,S.Codicon.symbolInterface),r.set(11,S.Codicon.symbolFunction),r.set(12,S.Codicon.symbolVariable),r.set(13,S.Codicon.symbolConstant),r.set(14,S.Codicon.symbolString),r.set(15,S.Codicon.symbolNumber),r.set(16,S.Codicon.symbolBoolean),r.set(17,S.Codicon.symbolArray),r.set(18,S.Codicon.symbolObject),r.set(19,S.Codicon.symbolKey),r.set(20,S.Codicon.symbolNull),r.set(21,S.Codicon.symbolEnumMember),r.set(22,S.Codicon.symbolStruct),r.set(23,S.Codicon.symbolEvent),r.set(24,S.Codicon.symbolOperator),r.set(25,S.Codicon.symbolTypeParameter);function o(l){let h=r.get(l);return h||(console.info("No codicon found for SymbolKind "+l),h=S.Codicon.symbolProperty),h}s.toIcon=o})(n=e.SymbolKinds||(e.SymbolKinds={}));class a{constructor(r){this.value=r}}e.FoldingRangeKind=a,a.Comment=new a("comment"),a.Imports=new a("imports"),a.Region=new a("region");var c;(function(s){function r(o){return!o||typeof o!="object"?!1:typeof o.id=="string"&&typeof o.title=="string"}s.is=r})(c=e.Command||(e.Command={}));var d;(function(s){s[s.Other=0]="Other",s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(d=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new N.LanguageFeatureRegistry,e.RenameProviderRegistry=new N.LanguageFeatureRegistry,e.CompletionProviderRegistry=new N.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new N.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new N.LanguageFeatureRegistry,e.HoverProviderRegistry=new N.LanguageFeatureRegistry,e.EvaluatableExpressionProviderRegistry=new N.LanguageFeatureRegistry,e.InlineValuesProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new N.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new N.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new N.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new N.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new N.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new N.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new N.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new N.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.LinkProviderRegistry=new N.LanguageFeatureRegistry,e.ColorProviderRegistry=new N.LanguageFeatureRegistry,e.SelectionRangeRegistry=new N.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new N.LanguageFeatureRegistry,e.TokenizationRegistry=new D.TokenizationRegistry}),define(Q[259],J([0,1,14,117,18,146,90]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(i,n,a,c,d){this.length=i,this.kind=n,this.bracketId=a,this.bracketIds=c,this.astNode=d}}e.Token=b;class v{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.reader=new u(this.textModel,this.bracketTokens),this._offset=S.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,S.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,S.lengthAdd)(this._offset,i);const n=(0,S.lengthToObj)(this._offset);this.reader.setPosition(n.lineCount,n.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,S.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=v;class u{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,n){i===this.lineIdx?(this.lineCharOffset=n,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=i,this.lineCharOffset=n,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,n=this.lineCharOffset;let a=0;for(;;){const d=this.lineTokens,s=d.getCount();let r=null;if(this.lineTokenOffset<s){const o=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&o===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=N.TokenMetadata.getTokenType(o)===0,h=d.getEndOffset(this.lineTokenOffset);if(l&&h!==this.lineCharOffset){const m=d.getLanguageId(this.lineTokenOffset),y=this.line.substring(this.lineCharOffset,h),p=this.bracketTokens.getSingleLanguageBracketTokens(m),f=p.regExpGlobal;if(f){f.lastIndex=0;const _=f.exec(y);_&&(r=p.getToken(_[0]),r&&(this.lineCharOffset+=_.index))}}if(a+=h-this.lineCharOffset,r)if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=r;break}else return this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(r.length),r;else this.lineTokenOffset++,this.lineCharOffset=h}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,a+=33,a>1e3))break;if(a>1500)break}const c=(0,S.lengthDiff)(i,n,this.lineIdx,this.lineCharOffset);return new b(c,0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode(c))}}class g{constructor(i,n){this.text=i,this._offset=S.lengthZero,this.idx=0;const c=n.getRegExpStr()?new RegExp(n.getRegExpStr()+`|
`,"g"):null,d=[];let s,r=0,o=0,l=0,h=0;const m=new Array;for(let f=0;f<60;f++)m.push(new b((0,S.toLength)(0,f),0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,S.toLength)(0,f))));const y=new Array;for(let f=0;f<60;f++)y.push(new b((0,S.toLength)(1,f),0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,S.toLength)(1,f))));if(c)for(c.lastIndex=0;(s=c.exec(i))!==null;){const f=s.index,_=s[0];if(_===`
`)r++,o=f+1;else{if(l!==f){let I;if(h===r){const E=f-l;if(E<m.length)I=m[E];else{const T=(0,S.toLength)(0,E);I=new b(T,0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode(T))}}else{const E=r-h,T=f-o;if(E===1&&T<y.length)I=y[T];else{const k=(0,S.toLength)(E,T);I=new b(k,0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode(k))}}d.push(I)}d.push(n.getToken(_)),l=f+_.length,h=r}}const p=i.length;if(l!==p){const f=h===r?(0,S.toLength)(0,p-l):(0,S.toLength)(r-h,p-o);d.push(new b(f,0,-1,C.SmallImmutableSet.getEmpty(),new D.TextAstNode(f)))}this.length=(0,S.toLength)(r,p-o),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new w.NotSupportedError}}e.FastTokenizer=g}),define(Q[585],J([0,1,8,146,90,117,259]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(t,i){function n(r,o){return i.getKey(`${r}:::${o}`)}const a=t.characterPair.getColorizedBrackets(),c=new Map,d=new Set;for(const[r,o]of a){d.add(r);let l=c.get(o);const h=n(t.languageId,r);l||(l={openingBrackets:D.SmallImmutableSet.getEmpty(),first:h},c.set(o,l)),l.openingBrackets=l.openingBrackets.add(h,D.identityKeyProvider)}const s=new Map;for(const[r,o]of c){const l=(0,N.toLength)(0,r.length);s.set(r,new S.Token(l,2,o.first,o.openingBrackets,C.BracketAstNode.create(l)))}for(const r of d){const o=(0,N.toLength)(0,r.length),l=n(t.languageId,r);s.set(r,new S.Token(o,1,l,D.SmallImmutableSet.getEmpty().add(l,D.identityKeyProvider),C.BracketAstNode.create(o)))}return new b(s)}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map(i=>v(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t)}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function v(g){const t=(0,w.escapeRegExpCharacters)(g);return/^[\w ]+$/.test(g)?`\\b${t}\\b`:t}class u{constructor(t,i){this.denseKeyProvider=t,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(t){const i=this.languageIdToBracketTokens.get(t);if(!i)return!1;const n=b.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider).getRegExpStr();return i.getRegExpStr()!==n}getSingleLanguageBracketTokens(t){let i=this.languageIdToBracketTokens.get(t);return i||(i=b.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,i)),i}}e.LanguageAgnosticBracketTokens=u}),define(Q[586],J([0,1,4,2,3,409,234,585,90,412,117,259]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends C.Disposable{constructor(s,r){super();if(this.textModel=s,this.getLanguageConfiguration=r,this.didChangeEmitter=new w.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(s.onBackgroundTokenizationStateChanged(()=>{if(s.backgroundTokenizationState===2){const o=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,o||this.didChangeEmitter.fire()}})),this._register(s.onDidChangeTokens(({ranges:o})=>{const l=o.map(h=>new S.TextEditInfo((0,v.toLength)(h.fromLineNumber-1,0),(0,v.toLength)(h.toLineNumber,0),(0,v.toLength)(h.toLineNumber-h.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(l,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),s.backgroundTokenizationState===0){const o=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),l=new t.FastTokenizer(this.textModel.getValue(),o);this.initialAstWithoutTokens=(0,u.parseDocument)(l,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else s.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):s.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(s){return this.brackets.didLanguageChange(s)}handleContentChanged(s){const r=s.changes.map(o=>{const l=N.Range.lift(o.range);return new S.TextEditInfo((0,v.positionToLength)(l.getStartPosition()),(0,v.positionToLength)(l.getEndPosition()),(0,v.lengthOfString)(o.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(r,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(r,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(s,r,o){const h=!1?r==null?void 0:r.deepClone():r,m=new t.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(m,s,h,o)}getBracketsInRange(s){const r=(0,v.toLength)(s.startLineNumber-1,s.startColumn-1),o=(0,v.toLength)(s.endLineNumber-1,s.endColumn-1),l=new Array,h=this.initialAstWithoutTokens||this.astWithTokens;return n(h,v.lengthZero,h.length,r,o,l),l}getBracketPairsInRange(s,r){const o=new Array,l=(0,v.positionToLength)(s.getStartPosition()),h=(0,v.positionToLength)(s.getEndPosition()),m=this.initialAstWithoutTokens||this.astWithTokens,y=new a(o,r,this.textModel);return c(m,v.lengthZero,m.length,l,h,y),o}}e.BracketPairsTree=i;function n(d,s,r,o,l,h,m=0){if(d.kind===1){const y=(0,v.lengthsToRange)(s,r);h.push(new D.BracketInfo(y,m-1,!1))}else if(d.kind===3){const y=(0,v.lengthsToRange)(s,r);h.push(new D.BracketInfo(y,m-1,!0))}else if(d.kind===4)for(const y of d.children)r=(0,v.lengthAdd)(s,y.length),(0,v.lengthLessThanEqual)(s,l)&&(0,v.lengthGreaterThanEqual)(r,o)&&n(y,s,r,o,l,h,m),s=r;else if(d.kind===2){m++;{const y=d.openingBracket;r=(0,v.lengthAdd)(s,y.length),(0,v.lengthLessThanEqual)(s,l)&&(0,v.lengthGreaterThanEqual)(r,o)&&n(y,s,r,o,l,h,m),s=r}if(d.child){const y=d.child;r=(0,v.lengthAdd)(s,y.length),(0,v.lengthLessThanEqual)(s,l)&&(0,v.lengthGreaterThanEqual)(r,o)&&n(y,s,r,o,l,h,m),s=r}if(d.closingBracket){const y=d.closingBracket;r=(0,v.lengthAdd)(s,y.length),(0,v.lengthLessThanEqual)(s,l)&&(0,v.lengthGreaterThanEqual)(r,o)&&n(y,s,r,o,l,h,m),s=r}}}class a{constructor(s,r,o){this.result=s,this.includeMinIndentation=r,this.textModel=o}}function c(d,s,r,o,l,h,m=0){var y;if(d.kind===2){const f=(0,v.lengthAdd)(s,d.openingBracket.length);let _=-1;h.includeMinIndentation&&(_=d.computeMinIndentation(s,h.textModel)),h.result.push(new D.BracketPairWithMinIndentationInfo((0,v.lengthsToRange)(s,r),(0,v.lengthsToRange)(s,f),d.closingBracket?(0,v.lengthsToRange)((0,v.lengthAdd)(f,((y=d.child)===null||y===void 0?void 0:y.length)||v.lengthZero),r):void 0,m,_)),m++}let p=s;for(const f of d.children){const _=p;p=(0,v.lengthAdd)(p,f.length),(0,v.lengthLessThanEqual)(_,l)&&(0,v.lengthLessThanEqual)(o,p)&&c(f,_,p,o,l,h,m)}}}),define(Q[587],J([0,1,4,2,586,116,176]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class b extends C.Disposable{constructor(i,n){super();this.textModel=i,this.languageConfigurationService=n,this.bracketPairsTree=this._register(new C.MutableDisposable),this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(i.onDidChangeOptions(a=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(i.onDidChangeLanguage(a=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(a=>{var c;(!a.languageId||((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.didLanguageChange(a.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){const i=5e4*100;return this.textModel.getValueLength()<=i}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const i=new C.DisposableStore;this.bracketPairsTree.value=v(i.add(new N.BracketPairsTree(this.textModel,n=>this.languageConfigurationService.getLanguageConfiguration(n))),i),i.add(this.bracketPairsTree.value.object.onDidChange(n=>this.onDidChangeEmitter.fire(n))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(i){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleContentChanged(i)}getBracketPairsInRange(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketPairsInRange(i,!1))||[]}getBracketPairsInRangeWithMinIndentation(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketPairsInRange(i,!0))||[]}getBracketsInRange(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketsInRange(i))||[]}findMatchingBracketUp(i,n){const a=i.toLowerCase(),c=this.textModel.validatePosition(n),d=this.textModel.getLanguageIdAtPosition(c.lineNumber,c.column),s=this.languageConfigurationService.getLanguageConfiguration(d).brackets;if(!s)return null;const r=s.textIsBracket[a];return r?g(this._findMatchingBracketUp(r,c,null)):null}matchBracket(i){return this._matchBracket(this.textModel.validatePosition(i))}_establishBracketSearchOffsets(i,n,a,c){const d=n.getCount(),s=n.getLanguageId(c);let r=Math.max(0,i.column-1-a.maxBracketLength);for(let l=c-1;l>=0;l--){const h=n.getEndOffset(l);if(h<=r)break;if((0,D.ignoreBracketsInToken)(n.getStandardTokenType(l))||n.getLanguageId(l)!==s){r=h;break}}let o=Math.min(n.getLineContent().length,i.column-1+a.maxBracketLength);for(let l=c+1;l<d;l++){const h=n.getStartOffset(l);if(h>=o)break;if((0,D.ignoreBracketsInToken)(n.getStandardTokenType(l))||n.getLanguageId(l)!==s){o=h;break}}return{searchStartOffset:r,searchEndOffset:o}}_matchBracket(i){const n=i.lineNumber,a=this.textModel.getLineTokens(n),c=this.textModel.getLineContent(n),d=a.findTokenIndexAtOffset(i.column-1);if(d<0)return null;const s=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId(d)).brackets;if(s&&!(0,D.ignoreBracketsInToken)(a.getStandardTokenType(d))){let{searchStartOffset:r,searchEndOffset:o}=this._establishBracketSearchOffsets(i,a,s,d),l=null;for(;;){const h=S.BracketsUtils.findNextBracketInRange(s.forwardRegex,n,c,r,o);if(!h)break;if(h.startColumn<=i.column&&i.column<=h.endColumn){const m=c.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),y=this._matchFoundBracket(h,s.textIsBracket[m],s.textIsOpenBracket[m],null);if(y){if(y instanceof u)return null;l=y}}r=h.endColumn-1}if(l)return l}if(d>0&&a.getStartOffset(d)===i.column-1){const r=d-1,o=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId(r)).brackets;if(o&&!(0,D.ignoreBracketsInToken)(a.getStandardTokenType(r))){const{searchStartOffset:l,searchEndOffset:h}=this._establishBracketSearchOffsets(i,a,o,r),m=S.BracketsUtils.findPrevBracketInRange(o.reversedRegex,n,c,l,h);if(m&&m.startColumn<=i.column&&i.column<=m.endColumn){const y=c.substring(m.startColumn-1,m.endColumn-1).toLowerCase(),p=this._matchFoundBracket(m,o.textIsBracket[y],o.textIsOpenBracket[y],null);if(p)return p instanceof u?null:p}}}return null}_matchFoundBracket(i,n,a,c){if(!n)return null;const d=a?this._findMatchingBracketDown(n,i.getEndPosition(),c):this._findMatchingBracketUp(n,i.getStartPosition(),c);return d?d instanceof u?d:[i,d]:null}_findMatchingBracketUp(i,n,a){const c=i.languageId,d=i.reversedRegex;let s=-1,r=0;const o=(l,h,m,y)=>{for(;;){if(a&&++r%100==0&&!a())return u.INSTANCE;const p=S.BracketsUtils.findPrevBracketInRange(d,l,h,m,y);if(!p)break;const f=h.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(i.isOpen(f)?s++:i.isClose(f)&&s--,s===0)return p;y=p.startColumn-1}return null};for(let l=n.lineNumber;l>=1;l--){const h=this.textModel.getLineTokens(l),m=h.getCount(),y=this.textModel.getLineContent(l);let p=m-1,f=y.length,_=y.length;l===n.lineNumber&&(p=h.findTokenIndexAtOffset(n.column-1),f=n.column-1,_=n.column-1);let I=!0;for(;p>=0;p--){const E=h.getLanguageId(p)===c&&!(0,D.ignoreBracketsInToken)(h.getStandardTokenType(p));if(E)I?f=h.getStartOffset(p):(f=h.getStartOffset(p),_=h.getEndOffset(p));else if(I&&f!==_){const T=o(l,y,f,_);if(T)return T}I=E}if(I&&f!==_){const E=o(l,y,f,_);if(E)return E}}return null}_findMatchingBracketDown(i,n,a){const c=i.languageId,d=i.forwardRegex;let s=1,r=0;const o=(h,m,y,p)=>{for(;;){if(a&&++r%100==0&&!a())return u.INSTANCE;const f=S.BracketsUtils.findNextBracketInRange(d,h,m,y,p);if(!f)break;const _=m.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(i.isOpen(_)?s++:i.isClose(_)&&s--,s===0)return f;y=f.endColumn-1}return null},l=this.textModel.getLineCount();for(let h=n.lineNumber;h<=l;h++){const m=this.textModel.getLineTokens(h),y=m.getCount(),p=this.textModel.getLineContent(h);let f=0,_=0,I=0;h===n.lineNumber&&(f=m.findTokenIndexAtOffset(n.column-1),_=n.column-1,I=n.column-1);let E=!0;for(;f<y;f++){const T=m.getLanguageId(f)===c&&!(0,D.ignoreBracketsInToken)(m.getStandardTokenType(f));if(T)E||(_=m.getStartOffset(f)),I=m.getEndOffset(f);else if(E&&_!==I){const k=o(h,p,_,I);if(k)return k}E=T}if(E&&_!==I){const T=o(h,p,_,I);if(T)return T}}return null}findPrevBracket(i){const n=this.textModel.validatePosition(i);let a=null,c=null;for(let d=n.lineNumber;d>=1;d--){const s=this.textModel.getLineTokens(d),r=s.getCount(),o=this.textModel.getLineContent(d);let l=r-1,h=o.length,m=o.length;if(d===n.lineNumber){l=s.findTokenIndexAtOffset(n.column-1),h=n.column-1,m=n.column-1;const p=s.getLanguageId(l);a!==p&&(a=p,c=this.languageConfigurationService.getLanguageConfiguration(a).brackets)}let y=!0;for(;l>=0;l--){const p=s.getLanguageId(l);if(a!==p){if(c&&y&&h!==m){const _=S.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,o,h,m);if(_)return this._toFoundBracket(c,_);y=!1}a=p,c=this.languageConfigurationService.getLanguageConfiguration(a).brackets}const f=!!c&&!(0,D.ignoreBracketsInToken)(s.getStandardTokenType(l));if(f)y?h=s.getStartOffset(l):(h=s.getStartOffset(l),m=s.getEndOffset(l));else if(c&&y&&h!==m){const _=S.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,o,h,m);if(_)return this._toFoundBracket(c,_)}y=f}if(c&&y&&h!==m){const p=S.BracketsUtils.findPrevBracketInRange(c.reversedRegex,d,o,h,m);if(p)return this._toFoundBracket(c,p)}}return null}findNextBracket(i){const n=this.textModel.validatePosition(i),a=this.textModel.getLineCount();let c=null,d=null;for(let s=n.lineNumber;s<=a;s++){const r=this.textModel.getLineTokens(s),o=r.getCount(),l=this.textModel.getLineContent(s);let h=0,m=0,y=0;if(s===n.lineNumber){h=r.findTokenIndexAtOffset(n.column-1),m=n.column-1,y=n.column-1;const f=r.getLanguageId(h);c!==f&&(c=f,d=this.languageConfigurationService.getLanguageConfiguration(c).brackets)}let p=!0;for(;h<o;h++){const f=r.getLanguageId(h);if(c!==f){if(d&&p&&m!==y){const I=S.BracketsUtils.findNextBracketInRange(d.forwardRegex,s,l,m,y);if(I)return this._toFoundBracket(d,I);p=!1}c=f,d=this.languageConfigurationService.getLanguageConfiguration(c).brackets}const _=!!d&&!(0,D.ignoreBracketsInToken)(r.getStandardTokenType(h));if(_)p||(m=r.getStartOffset(h)),y=r.getEndOffset(h);else if(d&&p&&m!==y){const I=S.BracketsUtils.findNextBracketInRange(d.forwardRegex,s,l,m,y);if(I)return this._toFoundBracket(d,I)}p=_}if(d&&p&&m!==y){const f=S.BracketsUtils.findNextBracketInRange(d.forwardRegex,s,l,m,y);if(f)return this._toFoundBracket(d,f)}}return null}findEnclosingBrackets(i,n){let a;if(typeof n=="undefined")a=null;else{const p=Date.now();a=()=>Date.now()-p<=n}const c=this.textModel.validatePosition(i),d=this.textModel.getLineCount(),s=new Map;let r=[];const o=(p,f)=>{if(!s.has(p)){const _=[];for(let I=0,E=f?f.brackets.length:0;I<E;I++)_[I]=0;s.set(p,_)}r=s.get(p)};let l=0;const h=(p,f,_,I,E)=>{for(;;){if(a&&++l%100==0&&!a())return u.INSTANCE;const T=S.BracketsUtils.findNextBracketInRange(p.forwardRegex,f,_,I,E);if(!T)break;const k=_.substring(T.startColumn-1,T.endColumn-1).toLowerCase(),A=p.textIsBracket[k];if(A&&(A.isOpen(k)?r[A.index]++:A.isClose(k)&&r[A.index]--,r[A.index]===-1))return this._matchFoundBracket(T,A,!1,a);I=T.endColumn-1}return null};let m=null,y=null;for(let p=c.lineNumber;p<=d;p++){const f=this.textModel.getLineTokens(p),_=f.getCount(),I=this.textModel.getLineContent(p);let E=0,T=0,k=0;if(p===c.lineNumber){E=f.findTokenIndexAtOffset(c.column-1),T=c.column-1,k=c.column-1;const P=f.getLanguageId(E);m!==P&&(m=P,y=this.languageConfigurationService.getLanguageConfiguration(m).brackets,o(m,y))}let A=!0;for(;E<_;E++){const P=f.getLanguageId(E);if(m!==P){if(y&&A&&T!==k){const R=h(y,p,I,T,k);if(R)return g(R);A=!1}m=P,y=this.languageConfigurationService.getLanguageConfiguration(m).brackets,o(m,y)}const F=!!y&&!(0,D.ignoreBracketsInToken)(f.getStandardTokenType(E));if(F)A||(T=f.getStartOffset(E)),k=f.getEndOffset(E);else if(y&&A&&T!==k){const R=h(y,p,I,T,k);if(R)return g(R)}A=F}if(y&&A&&T!==k){const P=h(y,p,I,T,k);if(P)return g(P)}}return null}_toFoundBracket(i,n){if(!n)return null;let a=this.textModel.getValueInRange(n);a=a.toLowerCase();const c=i.textIsBracket[a];return c?{range:n,open:c.open,close:c.close,isOpen:i.textIsOpenBracket[a]}:null}}e.BracketPairsTextModelPart=b;function v(t,i){return{object:t,dispose:()=>i==null?void 0:i.dispose()}}class u{constructor(){this._searchCanceledBrand=void 0}}u.INSTANCE=new u;function g(t){return t instanceof u?null:t}}),define(Q[73],J([0,1,18]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class C{constructor(S,b,v){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=v}static createEmpty(S,b){const v=C.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=S.length,u[1]=v,new C(u,S,b)}equals(S){return S instanceof C?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,b,v){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const u=b<<1,g=u+(v<<1);for(let t=u;t<g;t++)if(this._tokens[t]!==S._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const b=this._tokens[(S<<1)+1],v=w.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(v)}getStandardTokenType(S){const b=this._tokens[(S<<1)+1];return w.TokenMetadata.getTokenType(b)}getForeground(S){const b=this._tokens[(S<<1)+1];return w.TokenMetadata.getForeground(b)}getClassName(S){const b=this._tokens[(S<<1)+1];return w.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(S,b){const v=this._tokens[(S<<1)+1];return w.TokenMetadata.getInlineStyleFromMetadata(v,b)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return C.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,b,v){return new N(this,S,b,v)}static convertToEndOffset(S,b){const u=(S.length>>>1)-1;for(let g=0;g<u;g++)S[g<<1]=S[g+1<<1];S[u<<1]=b}static findIndexInTokensArray(S,b){if(S.length<=2)return 0;let v=0,u=(S.length>>>1)-1;for(;v<u;){const g=v+Math.floor((u-v)/2),t=S[g<<1];if(t===b)return g+1;t<b?v=g+1:t>b&&(u=g)}return v}withInserted(S){if(S.length===0)return this;let b=0,v=0,u="";const g=new Array;let t=0;for(;;){const i=b<this._tokensCount?this._tokens[b<<1]:-1,n=v<S.length?S[v]:null;if(i!==-1&&(n===null||i<=n.offset)){u+=this._text.substring(t,i);const a=this._tokens[(b<<1)+1];g.push(u.length,a),b++,t=i}else if(n){if(n.offset>t){u+=this._text.substring(t,n.offset);const a=this._tokens[(b<<1)+1];g.push(u.length,a),t=n.offset}u+=n.text,g.push(u.length,n.tokenMetadata),v++}else break}return new C(new Uint32Array(g),u,this._languageIdCodec)}}e.LineTokens=C,C.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;class N{constructor(S,b,v,u){this._source=S,this._startOffset=b,this._endOffset=v,this._deltaOffset=u,this._firstTokenIndex=S.findTokenIndexAtOffset(b),this._tokensCount=0;for(let g=this._firstTokenIndex,t=S.getCount();g<t&&!(S.getStartOffset(g)>=v);g++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof N?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const b=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,b){return this._source.getInlineStyle(this._firstTokenIndex+S,b)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(Q[260],J([0,1,8,73,18,115]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(g,t,i)=>(0,D.nullTokenizeEncoded)(0,i)};function b(g,t,i){return De(this,void 0,void 0,function*(){if(!i)return u(t,g.languageIdCodec,S);const n=yield N.TokenizationRegistry.getOrCreate(i);return u(t,g.languageIdCodec,n||S)})}e.tokenizeToString=b;function v(g,t,i,n,a,c,d){let s="<div>",r=n,o=0,l=!0;for(let h=0,m=t.getCount();h<m;h++){const y=t.getEndOffset(h);if(y<=n)continue;let p="";for(;r<y&&r<a;r++){const f=g.charCodeAt(r);switch(f){case 9:{let _=c-(r+o)%c;for(o+=_-1;_>0;)d&&l?(p+="&#160;",l=!1):(p+=" ",l=!0),_--;break}case 60:p+="&lt;",l=!1;break;case 62:p+="&gt;",l=!1;break;case 38:p+="&amp;",l=!1;break;case 0:p+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",l=!1;break;case 13:p+="&#8203",l=!1;break;case 32:d&&l?(p+="&#160;",l=!1):(p+=" ",l=!0);break;default:p+=String.fromCharCode(f),l=!1}}if(s+=`<span style="${t.getInlineStyle(h,i)}">${p}</span>`,y>a||r>=a)break}return s+="</div>",s}e.tokenizeLineToHTML=v;function u(g,t,i){let n='<div class="monaco-tokenized-source">';const a=w.splitLines(g);let c=i.getInitialState();for(let d=0,s=a.length;d<s;d++){const r=a[d];d>0&&(n+="<br/>");const o=i.tokenizeEncoded(r,!0,c);C.LineTokens.convertToEndOffset(o.tokens,r.length);const h=new C.LineTokens(o.tokens,r,t).inflate();let m=0;for(let y=0,p=h.getCount();y<p;y++){const f=h.getClassName(y),_=h.getEndOffset(y);n+=`<span class="${f}">${w.escape(r.substring(m,_))}</span>`,m=_}c=o.endState}return n+="</div>",n}e._tokenizeToString=u}),define(Q[588],J([0,1,19,14,73,11,18,115,2,87,118,419,10,17]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(o){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,o&&this._setBeginState(0,o)}flush(o){this._reset(o)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(o){o<this._len&&(this._valid[o]=!1),o<this._invalidLineStartIndex&&(this._invalidLineStartIndex=o)}_isValid(o){return o<this._len?this._valid[o]:!1}getBeginState(o){return o<this._len?this._beginState[o]:null}_ensureLine(o){for(;o>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(o,l){l!==0&&(o+l>this._len&&(l=this._len-o),this._beginState.splice(o,l),this._valid.splice(o,l),this._len-=l)}_insertLines(o,l){if(l===0)return;const h=[],m=[];for(let y=0;y<l;y++)h[y]=null,m[y]=!1;this._beginState=w.arrayInsert(this._beginState,o,h),this._valid=w.arrayInsert(this._valid,o,m),this._len+=l}_setValid(o,l){this._ensureLine(o),this._valid[o]=l}_setBeginState(o,l){this._ensureLine(o),this._beginState[o]=l}setEndState(o,l,h){if(this._setValid(l,!0),this._invalidLineStartIndex=l+1,l===o-1)return;const m=this.getBeginState(l+1);if(m===null||!h.equals(m)){this._setBeginState(l+1,h),this._invalidateLine(l+1);return}let y=l+1;for(;y<o&&this._isValid(y);)y++;this._invalidLineStartIndex=y}setFakeTokens(o){this._setValid(o,!1)}applyEdits(o,l){const h=o.endLineNumber-o.startLineNumber,y=Math.min(h,l);for(let p=y;p>=0;p--)this._invalidateLine(o.startLineNumber+p-1);this._acceptDeleteRange(o),this._acceptInsertText(new D.Position(o.startLineNumber,o.startColumn),l)}_acceptDeleteRange(o){o.startLineNumber-1>=this._len||this._deleteLines(o.startLineNumber,o.endLineNumber-o.startLineNumber)}_acceptInsertText(o,l){o.lineNumber-1>=this._len||this._insertLines(o.lineNumber,l)}}e.TokenizationStateStore=a;class c extends v.Disposable{constructor(o,l){super();this._textModel=o,this._languageIdCodec=l,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(h=>{const m=this._textModel.getLanguageId();h.changedLanguages.indexOf(m)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(h=>{if(h.isFlush){this._resetTokenizationState();return}for(let m=0,y=h.changes.length;m<y;m++){const p=h.changes[m],[f]=(0,g.countEOL)(p.text);this._tokenizationStateStore.applyEdits(p.range,f)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[o,l]=d(this._textModel);this._tokenizationSupport=o,this._tokenizationStateStore.flush(l),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(o=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(o)}))}_backgroundTokenizeWithDeadline(o){const l=Date.now()+o.timeRemaining(),h=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,n.setTimeout0)(h):this._beginBackgroundTokenization())};h()}_backgroundTokenizeForAtLeast1ms(){const o=this._textModel.getLineCount(),l=new t.ContiguousMultilineTokensBuilder,h=u.StopWatch.create(!1);do if(h.elapsed()>1||this._tokenizeOneInvalidLine(l)>=o)break;while(this._hasLinesToTokenize());this._textModel.setTokens(l.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(o,l){const h=new t.ContiguousMultilineTokensBuilder;this._tokenizeViewport(h,o,l),this._textModel.setTokens(h.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(o){const l=new t.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(l,o),this._textModel.setTokens(l.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(o,l){if(!this._tokenizationSupport)return 0;this.forceTokenization(o.lineNumber);const h=this._tokenizationStateStore.getBeginState(o.lineNumber-1);if(!h)return 0;const m=this._textModel.getLanguageId(),y=this._textModel.getLineContent(o.lineNumber),p=y.substring(0,o.column-1)+l+y.substring(o.column-1),f=s(this._languageIdCodec,m,this._tokenizationSupport,p,!0,h),_=new N.LineTokens(f.tokens,p,this._languageIdCodec);if(_.getCount()===0)return 0;const I=_.findTokenIndexAtOffset(o.column-1);return _.getStandardTokenType(I)}isCheapToTokenize(o){if(!this._tokenizationSupport)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return o>l?!1:o<l||this._textModel.getLineLength(o)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(o){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(o,l),l}_updateTokensUntilLine(o,l){if(!this._tokenizationSupport)return;const h=this._textModel.getLanguageId(),m=this._textModel.getLineCount(),y=l-1;for(let p=this._tokenizationStateStore.invalidLineStartIndex;p<=y;p++){const f=this._textModel.getLineContent(p+1),_=this._tokenizationStateStore.getBeginState(p),I=s(this._languageIdCodec,h,this._tokenizationSupport,f,!0,_);o.add(p+1,I.tokens),this._tokenizationStateStore.setEndState(m,p,I.endState),p=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(o,l,h){if(!this._tokenizationSupport||h<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(o,h);return}let m=this._textModel.getLineFirstNonWhitespaceColumn(l);const y=[];let p=null;for(let I=l-1;m>1&&I>=1;I--){const E=this._textModel.getLineFirstNonWhitespaceColumn(I);if(E!==0&&E<m){if(p=this._tokenizationStateStore.getBeginState(I-1),p)break;y.push(this._textModel.getLineContent(I)),m=E}}p||(p=this._tokenizationSupport.getInitialState());const f=this._textModel.getLanguageId();let _=p;for(let I=y.length-1;I>=0;I--)_=s(this._languageIdCodec,f,this._tokenizationSupport,y[I],!1,_).endState;for(let I=l;I<=h;I++){const E=this._textModel.getLineContent(I),T=s(this._languageIdCodec,f,this._tokenizationSupport,E,!0,_);o.add(I,T.tokens),this._tokenizationStateStore.setFakeTokens(I-1),_=T.endState}}}e.TextModelTokenization=c;function d(r){const o=r.getLanguageId();let l=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(o),h=null;if(l)try{h=l.getInitialState()}catch(m){(0,C.onUnexpectedError)(m),l=null}return[l,h]}function s(r,o,l,h,m,y){let p=null;if(l)try{p=l.tokenizeEncoded(h,m,y.clone())}catch(f){(0,C.onUnexpectedError)(f)}return p||(p=(0,b.nullTokenizeEncoded)(r.encodeLanguageId(o),y)),N.LineTokens.convertToEndOffset(p.tokens,h.length),p}}),define(Q[589],J([0,1,73]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class C{static deleteBeginning(S,b){return S===null||S===e.EMPTY_LINE_TOKENS?S:C.delete(S,0,b)}static deleteEnding(S,b){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const v=N(S),u=v[v.length-2];return C.delete(S,b,u)}static delete(S,b,v){if(S===null||S===e.EMPTY_LINE_TOKENS||b===v)return S;const u=N(S),g=u.length>>>1;if(b===0&&u[u.length-2]===v)return e.EMPTY_LINE_TOKENS;const t=w.LineTokens.findIndexInTokensArray(u,b),i=t>0?u[t-1<<1]:0,n=u[t<<1];if(v<n){const r=v-b;for(let o=t;o<g;o++)u[o<<1]-=r;return S}let a,c;i!==b?(u[t<<1]=b,a=t+1<<1,c=b):(a=t<<1,c=i);const d=v-b;for(let r=t+1;r<g;r++){const o=u[r<<1]-d;o>c&&(u[a++]=o,u[a++]=u[(r<<1)+1],c=o)}if(a===u.length)return S;const s=new Uint32Array(a);return s.set(u.subarray(0,a),0),s.buffer}static append(S,b){if(b===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return b;if(S===null)return S;if(b===null)return null;const v=N(S),u=N(b),g=u.length>>>1,t=new Uint32Array(v.length+u.length);t.set(v,0);let i=v.length;const n=v[v.length-2];for(let a=0;a<g;a++)t[i++]=u[a<<1]+n,t[i++]=u[(a<<1)+1];return t.buffer}static insert(S,b,v){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const u=N(S),g=u.length>>>1;let t=w.LineTokens.findIndexInTokensArray(u,b);t>0&&u[t-1<<1]===b&&t--;for(let i=t;i<g;i++)u[i<<1]+=v;return S}}e.ContiguousTokensEditing=C;function N(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=N}),define(Q[590],J([0,1,19,11,589,73,18]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(g){this._lineTokens=[],this._len=0,this._languageIdCodec=g}flush(){this._lineTokens=[],this._len=0}getTokens(g,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==N.EMPTY_LINE_TOKENS)return new D.LineTokens((0,N.toUint32Array)(n),i,this._languageIdCodec);const a=new Uint32Array(2);return a[0]=i.length,a[1]=v(this._languageIdCodec.encodeLanguageId(g)),new D.LineTokens(a,i,this._languageIdCodec)}static _massageTokens(g,t,i){const n=i?(0,N.toUint32Array)(i):null;if(t===0){let a=!1;if(n&&n.length>1&&(a=S.TokenMetadata.getLanguageId(n[1])!==g),!a)return N.EMPTY_LINE_TOKENS}if(!n||n.length===0){const a=new Uint32Array(2);return a[0]=t,a[1]=v(g),a.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(g){for(;g>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(g,t){t!==0&&(g+t>this._len&&(t=this._len-g),this._lineTokens.splice(g,t),this._len-=t)}_insertLines(g,t){if(t===0)return;const i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=w.arrayInsert(this._lineTokens,g,i),this._len+=t}setTokens(g,t,i,n,a){const c=b._massageTokens(this._languageIdCodec.encodeLanguageId(g),i,n);this._ensureLine(t);const d=this._lineTokens[t];return this._lineTokens[t]=c,a?!b._equals(d,c):!1}static _equals(g,t){if(!g||!t)return!g&&!t;const i=(0,N.toUint32Array)(g),n=(0,N.toUint32Array)(t);if(i.length!==n.length)return!1;for(let a=0,c=i.length;a<c;a++)if(i[a]!==n[a])return!1;return!0}acceptEdit(g,t,i){this._acceptDeleteRange(g),this._acceptInsertText(new C.Position(g.startLineNumber,g.startColumn),t,i)}_acceptDeleteRange(g){const t=g.startLineNumber-1;if(t>=this._len)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this._lineTokens[t]=N.ContiguousTokensEditing.delete(this._lineTokens[t],g.startColumn-1,g.endColumn-1);return}this._lineTokens[t]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],g.startColumn-1);const i=g.endLineNumber-1;let n=null;i<this._len&&(n=N.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],g.endColumn-1)),this._lineTokens[t]=N.ContiguousTokensEditing.append(this._lineTokens[t],n),this._deleteLines(g.startLineNumber,g.endLineNumber-g.startLineNumber)}_acceptInsertText(g,t,i){if(t===0&&i===0)return;const n=g.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=N.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i);return}this._lineTokens[n]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],g.column-1),this._lineTokens[n]=N.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i),this._insertLines(g.lineNumber,t)}}}e.ContiguousTokensStore=b;function v(u){return(u<<0|0<<8|0<<10|1<<14|2<<23)>>>0}}),define(Q[591],J([0,1,19,73]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class N{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,b){this._pieces=S||[],this._isComplete=b}setPartial(S,b){let v=S;if(b.length>0){const g=b[0].getRange(),t=b[b.length-1].getRange();if(!g||!t)return S;v=S.plusRange(g).plusRange(t)}let u=null;for(let g=0,t=this._pieces.length;g<t;g++){const i=this._pieces[g];if(i.endLineNumber<v.startLineNumber)continue;if(i.startLineNumber>v.endLineNumber){u=u||{index:g};break}if(i.removeTokens(v),i.isEmpty()){this._pieces.splice(g,1),g--,t--;continue}if(i.endLineNumber<v.startLineNumber)continue;if(i.startLineNumber>v.endLineNumber){u=u||{index:g};continue}const[n,a]=i.split(v);if(n.isEmpty()){u=u||{index:g};continue}a.isEmpty()||(this._pieces.splice(g,1,n,a),g++,t++,u=u||{index:g})}return u=u||{index:this._pieces.length},b.length>0&&(this._pieces=w.arrayInsert(this._pieces,u.index,b)),v}isComplete(){return this._isComplete}addSparseTokens(S,b){const v=this._pieces;if(v.length===0)return b;const u=N._findFirstPieceWithLine(v,S),g=v[u].getLineTokens(S);if(!g)return b;const t=b.getCount(),i=g.getCount();let n=0;const a=[];let c=0,d=0;const s=(r,o)=>{r!==d&&(d=r,a[c++]=r,a[c++]=o)};for(let r=0;r<i;r++){const o=g.getStartCharacter(r),l=g.getEndCharacter(r),h=g.getMetadata(r),m=((h&1?1024:0)|(h&2?2048:0)|(h&4?4096:0)|(h&8?8192:0)|(h&16?8372224:0)|(h&32?4286578688:0))>>>0,y=~m>>>0;for(;n<t&&b.getEndOffset(n)<=o;)s(b.getEndOffset(n),b.getMetadata(n)),n++;for(n<t&&b.getStartOffset(n)<o&&s(o,b.getMetadata(n));n<t&&b.getEndOffset(n)<l;)s(b.getEndOffset(n),b.getMetadata(n)&y|h&m),n++;if(n<t)s(l,b.getMetadata(n)&y|h&m),b.getEndOffset(n)===l&&n++;else{const p=Math.min(Math.max(0,n-1),t-1);s(l,b.getMetadata(p)&y|h&m)}}for(;n<t;)s(b.getEndOffset(n),b.getMetadata(n)),n++;return new C.LineTokens(new Uint32Array(a),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,b){let v=0,u=S.length-1;for(;v<u;){let g=v+Math.floor((u-v)/2);if(S[g].endLineNumber<b)v=g+1;else if(S[g].startLineNumber>b)u=g-1;else{for(;g>v&&S[g-1].startLineNumber<=b&&b<=S[g-1].endLineNumber;)g--;return g}}return v}acceptEdit(S,b,v,u,g){for(const t of this._pieces)t.acceptEdit(S,b,v,u,g)}}e.SparseTokensStore=N}),define(Q[62],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,w.createDecorator)("textModelService")}),define(Q[152],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,w.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,w.createDecorator)("textResourcePropertiesService")}),define(Q[261],J([0,1,4,2,232,18]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends C.Disposable{constructor(){super();this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.markAsSingleton)(new S)),this._INSTANCE}_updateColorMap(){const v=D.TokenizationRegistry.getColorMap();if(!v){this._colors=[N.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[N.RGBA8.Empty];for(let g=1;g<v.length;g++){const t=v[g].rgba;this._colors[g]=new N.RGBA8(t.r,t.g,t.b,Math.round(t.a*255))}const u=v[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(Q[592],J([0,1,73,11,91,66]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(n,a){return n===null?a?v.INSTANCE:u.INSTANCE:new b(n,a)}e.createModelLineProjection=S;class b{constructor(a,c){this._projectionData=a,this._isVisible=c}isVisible(){return this._isVisible}setVisible(a){return this._isVisible=a,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(a,c,d){this._assertVisible();const s=d>0?this._projectionData.breakOffsets[d-1]:0,r=this._projectionData.breakOffsets[d];let o;if(this._projectionData.injectionOffsets!==null){const l=this._projectionData.injectionOffsets.map((m,y)=>new N.LineInjectedText(0,0,m+1,this._projectionData.injectionOptions[y],0));o=N.LineInjectedText.applyInjectedText(a.getLineContent(c),l).substring(s,r)}else o=a.getValueInRange({startLineNumber:c,startColumn:s+1,endLineNumber:c,endColumn:r+1});return d>0&&(o=t(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(a,c,d){return this._assertVisible(),this._projectionData.getLineLength(d)}getViewLineMinColumn(a,c,d){return this._assertVisible(),this._projectionData.getMinOutputOffset(d)+1}getViewLineMaxColumn(a,c,d){return this._assertVisible(),this._projectionData.getMaxOutputOffset(d)+1}getViewLineData(a,c,d){const s=new Array;return this.getViewLinesData(a,c,d,1,0,[!0],s),s[0]}getViewLinesData(a,c,d,s,r,o,l){this._assertVisible();const h=this._projectionData,m=h.injectionOffsets,y=h.injectionOptions;let p=null;if(m){p=[];let _=0,I=0;for(let E=0;E<h.getOutputLineCount();E++){const T=new Array;p[E]=T;const k=E>0?h.breakOffsets[E-1]:0,A=h.breakOffsets[E];for(;I<m.length;){const P=y[I].content.length,F=m[I]+_,R=F+P;if(F>A)break;if(k<R){const M=y[I];if(M.inlineClassName){const O=E>0?h.wrappedTextIndentLength:0,L=O+Math.max(F-k,0),B=O+Math.min(R-k,A);L!==B&&T.push(new D.SingleLineInlineDecoration(L,B,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(R<=A)_+=P,I++;else break}}}let f;m?f=a.getLineTokens(c).withInserted(m.map((_,I)=>({offset:_,text:y[I].content,tokenMetadata:w.LineTokens.defaultTokenMetadata}))):f=a.getLineTokens(c);for(let _=d;_<d+s;_++){const I=r+_-d;if(!o[I]){l[I]=null;continue}l[I]=this._getViewLineData(f,p?p[_]:null,_)}}_getViewLineData(a,c,d){this._assertVisible();const s=this._projectionData,r=d>0?s.wrappedTextIndentLength:0,o=d>0?s.breakOffsets[d-1]:0,l=s.breakOffsets[d],h=a.sliceAndInflate(o,l,r);let m=h.getLineContent();d>0&&(m=t(s.wrappedTextIndentLength)+m);const y=this._projectionData.getMinOutputOffset(d)+1,p=m.length+1,f=d+1<this.getViewLineCount(),_=d===0?0:s.breakOffsetsVisibleColumn[d-1];return new D.ViewLineData(m,f,y,p,_,h,c)}getModelColumnOfViewPosition(a,c){return this._assertVisible(),this._projectionData.translateToInputOffset(a,c-1)+1}getViewPositionOfModelPosition(a,c,d=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,d).toPosition(a)}getViewLineNumberOfModelPosition(a,c){this._assertVisible();const d=this._projectionData.translateToOutputPosition(c-1);return a+d.outputLineIndex}normalizePosition(a,c,d){const s=c.lineNumber-a;return this._projectionData.normalizeOutputPosition(a,c.column-1,d).toPosition(s)}getInjectedTextAt(a,c){return this._projectionData.getInjectedText(a,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class v{constructor(){}isVisible(){return!0}setVisible(a){return a?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(a,c,d){return a.getLineContent(c)}getViewLineLength(a,c,d){return a.getLineLength(c)}getViewLineMinColumn(a,c,d){return a.getLineMinColumn(c)}getViewLineMaxColumn(a,c,d){return a.getLineMaxColumn(c)}getViewLineData(a,c,d){const s=a.getLineTokens(c),r=s.getLineContent();return new D.ViewLineData(r,!1,1,r.length+1,0,s.inflate(),null)}getViewLinesData(a,c,d,s,r,o,l){if(!o[r]){l[r]=null;return}l[r]=this.getViewLineData(a,c,0)}getModelColumnOfViewPosition(a,c){return c}getViewPositionOfModelPosition(a,c){return new C.Position(a,c)}getViewLineNumberOfModelPosition(a,c){return a}normalizePosition(a,c,d){return c}getInjectedTextAt(a,c){return null}}v.INSTANCE=new v;class u{constructor(){}isVisible(){return!1}setVisible(a){return a?v.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(a,c,d){throw new Error("Not supported")}getViewLineLength(a,c,d){throw new Error("Not supported")}getViewLineMinColumn(a,c,d){throw new Error("Not supported")}getViewLineMaxColumn(a,c,d){throw new Error("Not supported")}getViewLineData(a,c,d){throw new Error("Not supported")}getViewLinesData(a,c,d,s,r,o,l){throw new Error("Not supported")}getModelColumnOfViewPosition(a,c){throw new Error("Not supported")}getViewPositionOfModelPosition(a,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(a,c){throw new Error("Not supported")}normalizePosition(a,c,d){throw new Error("Not supported")}getInjectedTextAt(a,c){throw new Error("Not supported")}}u.INSTANCE=new u;let g=[""];function t(n){if(n>=g.length)for(let a=1;a<=n;a++)g[a]=i(a);return g[n]}function i(n){return new Array(n+1).join(" ")}}),define(Q[262],J([0,1,19,23,14,54,47,11,3,18,151]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class t{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,s){let r;typeof d=="string"?r=`${s.id}/${d}`:(r=`${s.id}/${d.name}`,s.children.get(r)!==void 0&&(r=`${s.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let o=r;for(let l=0;s.children.get(o)!==void 0;l++)o=`${r}_${l}`;return o}static empty(d){return d.children.size===0}}e.TreeElement=t;class i extends t{constructor(d,s,r){super();this.id=d,this.parent=s,this.symbol=r,this.children=new Map}}e.OutlineElement=i;class n extends t{constructor(d,s,r,o){super();this.id=d,this.parent=s,this.label=r,this.order=o,this.children=new Map}}e.OutlineGroup=n;class a extends t{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,s){let r=this._keys.for(d,!0),o=a._requests.get(r);if(!o){let l=new C.CancellationTokenSource;o={promiseCnt:0,source:l,promise:a._create(d,l.token),model:void 0},a._requests.set(r,o);const h=Date.now();o.promise.then(()=>{this._requestDurations.update(d,Date.now()-h)})}return o.model?Promise.resolve(o.model):(o.promiseCnt+=1,s.onCancellationRequested(()=>{--o.promiseCnt==0&&(o.source.cancel(),a._requests.delete(r))}),new Promise((l,h)=>{o.promise.then(m=>{o.model=m,l(m)},m=>{a._requests.delete(r),h(m)})}))}static _create(d,s){const r=new C.CancellationTokenSource(s),o=new a(d.uri),l=u.DocumentSymbolProviderRegistry.ordered(d),h=l.map((y,p)=>{var f;let _=t.findId(`provider_${p}`,o),I=new n(_,o,(f=y.displayName)!==null&&f!==void 0?f:"Unknown Outline Provider",p);return Promise.resolve(y.provideDocumentSymbols(d,r.token)).then(E=>{for(const T of E||[])a._makeOutlineElement(T,I);return I},E=>((0,N.onUnexpectedExternalError)(E),I)).then(E=>{t.empty(E)?E.remove():o._groups.set(_,E)})}),m=u.DocumentSymbolProviderRegistry.onDidChange(()=>{const y=u.DocumentSymbolProviderRegistry.ordered(d);(0,w.equals)(y,l)||r.cancel()});return Promise.all(h).then(()=>r.token.isCancellationRequested&&!s.isCancellationRequested?a._create(d,s):o._compact()).finally(()=>{m.dispose()})}static _makeOutlineElement(d,s){let r=t.findId(d,s),o=new i(r,s,d);if(d.children)for(const l of d.children)a._makeOutlineElement(l,o);s.children.set(o.id,o)}_compact(){let d=0;for(const[s,r]of this._groups)r.children.size===0?this._groups.delete(s):d+=1;if(d!==1)this.children=this._groups;else{let s=D.Iterable.first(this._groups.values());for(let[,r]of s.children)r.parent=this,this.children.set(r.id,r)}return this}getTopLevelSymbols(){const d=[];for(const s of this.children.values())s instanceof i?d.push(s.symbol):d.push(...D.Iterable.map(s.children.values(),r=>r.symbol));return d.sort((s,r)=>v.Range.compareRangesUsingStarts(s.range,r.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),s=[];return a._flattenDocumentSymbols(s,d,""),s.sort((r,o)=>b.Position.compare(v.Range.getStartPosition(r.range),v.Range.getStartPosition(o.range))||b.Position.compare(v.Range.getEndPosition(o.range),v.Range.getEndPosition(r.range)))}static _flattenDocumentSymbols(d,s,r){for(const o of s)d.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||r,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&a._flattenDocumentSymbols(d,o.children,o.name)}}e.OutlineModel=a,a._requestDurations=new g.LanguageFeatureRequestDelays(u.DocumentSymbolProviderRegistry,350),a._requests=new S.LRUCache(9,.75),a._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,d){return`${c.id}/${d?c.getVersionId():""}/${this._hash(u.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let d="";for(const s of c){let r=this._data.get(s);typeof r=="undefined"&&(r=this._counter++,this._data.set(s,r)),d+=r}return d}}}),define(Q[593],J([0,1,14,4,2,11,3,18]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class v{constructor(n,a,c){this.range=n,this.direction=a,this.usesWordRange=c}}e.InlayHintAnchor=v;class u{constructor(n,a,c){this.hint=n,this.anchor=a,this._provider=c;let d;c.resolveInlayHint||(d=Promise.resolve()),this.resolve=s=>De(this,void 0,void 0,function*(){return d||(d=Promise.resolve(c.resolveInlayHint(this.hint,s)).then(r=>{var o,l;this.hint.tooltip=(o=r==null?void 0:r.tooltip)!==null&&o!==void 0?o:this.hint.tooltip,this.hint.label=(l=r==null?void 0:r.label)!==null&&l!==void 0?l:this.hint.label}).catch(r=>{(0,w.onUnexpectedExternalError)(r),d=void 0})),d})}with(n){return new u(this.hint,n.anchor,this._provider)}}e.InlayHintItem=u;class g{constructor(n,a){this._disposables=new N.DisposableStore,this._onDidChange=new C.Emitter,this.onDidReceiveProviderSignal=this._onDidChange.event;const c=[];for(const[d,s]of n){this._disposables.add(d);for(let r of d.hints){let o=r.position,l="before",h=S.Range.fromPositions(o),m=a.getWordAtPosition(o),y=!1;m&&(m.endColumn===o.column?(l="after",y=!0,h=t(m,o.lineNumber)):m.startColumn===o.column&&(y=!0,h=t(m,o.lineNumber))),c.push(new u(r,new v(h,l,y),s))}s.onDidChangeInlayHints&&s.onDidChangeInlayHints(this._onDidChange.fire,this._onDidChange,this._disposables)}this.items=c.sort((d,s)=>D.Position.compare(d.hint.position,s.hint.position))}static create(n,a,c){return De(this,void 0,void 0,function*(){const d=[],s=b.InlayHintsProviderRegistry.ordered(n).reverse().map(r=>a.map(o=>De(this,void 0,void 0,function*(){try{const l=yield r.provideInlayHints(n,o,c);(l==null?void 0:l.hints.length)&&d.push([l,r])}catch(l){(0,w.onUnexpectedExternalError)(l)}})));return yield Promise.all(s.flat()),new g(d,n)})}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}}e.InlayHintsFragments=g;function t(i,n){return new S.Range(n,i.startColumn,n,i.endColumn)}}),define(Q[263],J([0,1,143,18,115,252]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const S=5;class b{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,r){return this._INSTANCE.create(s,r)}create(s,r){if(s!==null&&s.depth>=this._maxCacheDepth)return new v(s,r);let o=v.getStackElementId(s);o.length>0&&(o+="|"),o+=r;let l=this._entries[o];return l||(l=new v(s,r),this._entries[o]=l,l)}}b._INSTANCE=new b(S);class v{constructor(s,r){this.parent=s,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let r="";for(;s!==null;)r.length>0&&(r+="|"),r+=s.state,s=s.parent;return r}static _equals(s,r){for(;s!==null&&r!==null;){if(s===r)return!0;if(s.state!==r.state)return!1;s=s.parent,r=r.parent}return s===null&&r===null}equals(s){return v._equals(this,s)}push(s){return b.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return b.create(this.parent,s)}}class u{constructor(s,r){this.languageId=s,this.state=r}equals(s){return this.languageId===s.languageId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new u(this.languageId,this.state)}}class g{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,r){return this._INSTANCE.create(s,r)}create(s,r){if(r!==null)return new t(s,r);if(s!==null&&s.depth>=this._maxCacheDepth)return new t(s,r);const o=v.getStackElementId(s);let l=this._entries[o];return l||(l=new t(s,null),this._entries[o]=l,l)}}g._INSTANCE=new g(S);class t{constructor(s,r){this.stack=s,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(s){return!(s instanceof t)||!this.stack.equals(s.stack)?!1:this.embeddedLanguageData===null&&s.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||s.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(s.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(s){this._languageId=s}emit(s,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new w.Token(s,r,this._languageId)))}nestedLanguageTokenize(s,r,o,l){const h=o.languageId,m=o.state,y=C.TokenizationRegistry.get(h);if(!y)return this.enterLanguage(h),this.emit(l,""),m;const p=y.tokenize(s,r,m);if(l!==0)for(const f of p.tokens)this._tokens.push(new w.Token(f.offset+l,f.type,f.language));else this._tokens=this._tokens.concat(p.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,p.endState}finalize(s){return new w.TokenizationResult(this._tokens,s)}}class n{constructor(s,r){this._languageService=s,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(s){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(s)}emit(s,r){const o=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(s),this._tokens.push(o))}static _merge(s,r,o){const l=s!==null?s.length:0,h=r.length,m=o!==null?o.length:0;if(l===0&&h===0&&m===0)return new Uint32Array(0);if(l===0&&h===0)return o;if(h===0&&m===0)return s;const y=new Uint32Array(l+h+m);s!==null&&y.set(s);for(let p=0;p<h;p++)y[l+p]=r[p];return o!==null&&y.set(o,l+h),y}nestedLanguageTokenize(s,r,o,l){const h=o.languageId,m=o.state,y=C.TokenizationRegistry.get(h);if(!y)return this.enterLanguage(h),this.emit(l,""),m;const p=y.tokenizeEncoded(s,r,m);if(l!==0)for(let f=0,_=p.tokens.length;f<_;f+=2)p.tokens[f]+=l;return this._prependTokens=n._merge(this._prependTokens,this._tokens,p.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,p.endState}finalize(s){return new w.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),s)}}class a{constructor(s,r,o,l){this._languageService=s,this._standaloneThemeService=r,this._languageId=o,this._lexer=l,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let h=!1;this._tokenizationRegistryListener=C.TokenizationRegistry.onDidChange(m=>{if(h)return;let y=!1;for(let p=0,f=m.changedLanguages.length;p<f;p++){const _=m.changedLanguages[p];if(this._embeddedLanguages[_]){y=!0;break}}y&&(h=!0,C.TokenizationRegistry.fire([this._languageId]),h=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const s=[];for(let r in this._embeddedLanguages){const o=C.TokenizationRegistry.get(r);if(o){if(o instanceof a){const l=o.getLoadStatus();l.loaded===!1&&s.push(l.promise)}continue}C.TokenizationRegistry.isResolved(r)||s.push(C.TokenizationRegistry.getOrCreate(r))}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(r=>{})}}getInitialState(){const s=b.create(null,this._lexer.start);return g.create(s,null)}tokenize(s,r,o){const l=new i,h=this._tokenize(s,r,o,l);return l.finalize(h)}tokenizeEncoded(s,r,o){const l=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),h=this._tokenize(s,r,o,l);return l.finalize(h)}_tokenize(s,r,o,l){return o.embeddedLanguageData?this._nestedTokenize(s,r,o,0,l):this._myTokenize(s,r,o,0,l)}_findLeavingNestedLanguageOffset(s,r){let o=this._lexer.tokenizer[r.stack.state];if(!o&&(o=D.findRules(this._lexer,r.stack.state),!o))throw D.createError(this._lexer,"tokenizer state is not defined: "+r.stack.state);let l=-1,h=!1;for(const m of o){if(!D.isIAction(m.action)||m.action.nextEmbedded!=="@pop")continue;h=!0;let y=m.regex;const p=m.regex.source;if(p.substr(0,4)==="^(?:"&&p.substr(p.length-1,1)===")"){const _=(y.ignoreCase?"i":"")+(y.unicode?"u":"");y=new RegExp(p.substr(4,p.length-5),_)}const f=s.search(y);f===-1||f!==0&&m.matchOnlyAtLineStart||(l===-1||f<l)&&(l=f)}if(!h)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return l}_nestedTokenize(s,r,o,l,h){const m=this._findLeavingNestedLanguageOffset(s,o);if(m===-1){const f=h.nestedLanguageTokenize(s,r,o.embeddedLanguageData,l);return g.create(o.stack,new u(o.embeddedLanguageData.languageId,f))}const y=s.substring(0,m);y.length>0&&h.nestedLanguageTokenize(y,!1,o.embeddedLanguageData,l);const p=s.substring(m);return this._myTokenize(p,r,o,l+m,h)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,r,o,l,h){h.enterLanguage(this._languageId);const m=s.length,y=r&&this._lexer.includeLF?s+`
`:s,p=y.length;let f=o.embeddedLanguageData,_=o.stack,I=0,E=null,T=!0;for(;T||I<p;){const k=I,A=_.depth,P=E?E.groups.length:0,F=_.state;let R=null,M=null,O=null,L=null,B=null;if(E){R=E.matches;const K=E.groups.shift();M=K.matched,O=K.action,L=E.rule,E.groups.length===0&&(E=null)}else{if(!T&&I>=p)break;T=!1;let K=this._lexer.tokenizer[F];if(!K&&(K=D.findRules(this._lexer,F),!K))throw D.createError(this._lexer,"tokenizer state is not defined: "+F);let Z=y.substr(I);for(const ee of K)if((I===0||!ee.matchOnlyAtLineStart)&&(R=Z.match(ee.regex),R)){M=R[0],O=ee.action;break}}if(R||(R=[""],M=""),O||(I<p&&(R=[y.charAt(I)],M=R[0]),O=this._lexer.defaultToken),M===null)break;for(I+=M.length;D.isFuzzyAction(O)&&D.isIAction(O)&&O.test;)O=O.test(M,R,F,I===p);let x=null;if(typeof O=="string"||Array.isArray(O))x=O;else if(O.group)x=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?x=D.substituteMatches(this._lexer,O.token,M,R,F):x=O.token,O.nextEmbedded)if(O.nextEmbedded==="@pop"){if(!f)throw D.createError(this._lexer,"cannot pop embedded language if not inside one");f=null}else{if(f)throw D.createError(this._lexer,"cannot enter embedded language from within an embedded language");B=D.substituteMatches(this._lexer,O.nextEmbedded,M,R,F)}if(O.goBack&&(I=Math.max(0,I-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let K=D.substituteMatches(this._lexer,O.switchTo,M,R,F);if(K[0]==="@"&&(K=K.substr(1)),D.findRules(this._lexer,K))_=_.switchTo(K);else throw D.createError(this._lexer,"trying to switch to a state '"+K+"' that is undefined in rule: "+this._safeRuleName(L))}else{if(O.transform&&typeof O.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(O.next)if(O.next==="@push"){if(_.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+_.state+","+_.parent.state+",...]");_=_.push(F)}else if(O.next==="@pop"){if(_.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(L));_=_.pop()}else if(O.next==="@popall")_=_.popall();else{let K=D.substituteMatches(this._lexer,O.next,M,R,F);if(K[0]==="@"&&(K=K.substr(1)),D.findRules(this._lexer,K))_=_.push(K);else throw D.createError(this._lexer,"trying to set a next state '"+K+"' that is undefined in rule: "+this._safeRuleName(L))}}O.log&&typeof O.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,O.log,M,R,F))}if(x===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(L));const U=K=>{const Z=this._languageService.getLanguageIdByLanguageName(K)||this._languageService.getLanguageIdByMimeType(K)||K,ee=this._getNestedEmbeddedLanguageData(Z);if(I<p){const X=s.substr(I);return this._nestedTokenize(X,r,g.create(_,ee),l+I,h)}else return g.create(_,ee)};if(Array.isArray(x)){if(E&&E.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(L));if(R.length!==x.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(L));let K=0;for(let Z=1;Z<R.length;Z++)K+=R[Z].length;if(K!==M.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(L));E={rule:L,matches:R,groups:[]};for(let Z=0;Z<x.length;Z++)E.groups[Z]={action:x[Z],matched:R[Z+1]};I-=M.length;continue}else{if(x==="@rematch"&&(I-=M.length,M="",R=null,x="",B!==null))return U(B);if(M.length===0){if(p===0||A!==_.depth||F!==_.state||(E?E.groups.length:0)!==P)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(L))}let K=null;if(D.isString(x)&&x.indexOf("@brackets")===0){const Z=x.substr("@brackets".length),ee=c(this._lexer,M);if(!ee)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+M);K=D.sanitize(ee.token+Z)}else{const Z=x===""?"":x+this._lexer.tokenPostfix;K=D.sanitize(Z)}k<m&&h.emit(k+l,K)}if(B!==null)return U(B)}return g.create(_,f)}_getNestedEmbeddedLanguageData(s){if(!this._languageService.isRegisteredLanguageId(s))return new u(s,N.NullState);s!==this._languageId&&(C.TokenizationRegistry.getOrCreate(s),this._embeddedLanguages[s]=!0);const r=C.TokenizationRegistry.get(s);return r?new u(s,r.getInitialState()):new u(s,N.NullState)}}e.MonarchTokenizer=a;function c(d,s){if(!s)return null;s=D.fixCase(d,s);const r=d.brackets;for(const o of r){if(o.open===s)return{token:o.token,bracketType:1};if(o.close===s)return{token:o.token,bracketType:-1}}return null}}),define(Q[594],J([0,1,8,73,18,120,66,263]),function(H,e,w,C,N,D,S,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("standaloneColorizer",{createHTML:a=>a});class g{static colorizeElement(c,d,s,r){r=r||{};const o=r.theme||"vs",l=r.mimeType||s.getAttribute("lang")||s.getAttribute("data-lang");if(!l)return console.error("Mode not detected"),Promise.resolve();const h=d.getLanguageIdByMimeType(l)||l;c.setTheme(o);const m=s.firstChild?s.firstChild.nodeValue:"";s.className+=" "+o;const y=p=>{var f;const _=(f=u==null?void 0:u.createHTML(p))!==null&&f!==void 0?f:p;s.innerHTML=_};return this.colorize(d,m||"",h,r).then(y,p=>console.error(p))}static colorize(c,d,s,r){return De(this,void 0,void 0,function*(){const o=c.languageIdCodec;let l=4;r&&typeof r.tabSize=="number"&&(l=r.tabSize),w.startsWithUTF8BOM(d)&&(d=d.substr(1));const h=w.splitLines(d);if(!c.isRegisteredLanguageId(s))return i(h,l,o);const m=yield N.TokenizationRegistry.getOrCreate(s);return m?t(h,l,m,o):i(h,l,o)})}static colorizeLine(c,d,s,r,o=4){const l=S.ViewLineRenderingData.isBasicASCII(c,d),h=S.ViewLineRenderingData.containsRTL(c,l,s);return(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,c,!1,l,h,0,r,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(c,d,s=4){const r=c.getLineContent(d);c.forceTokenization(d);const l=c.getLineTokens(d).inflate();return this.colorizeLine(r,c.mightContainNonBasicASCII(),c.mightContainRTL(),l,s)}}e.Colorizer=g;function t(a,c,d,s){return new Promise((r,o)=>{const l=()=>{const h=n(a,c,d,s);if(d instanceof b.MonarchTokenizer){const m=d.getLoadStatus();if(m.loaded===!1){m.promise.then(l,o);return}}r(h)};l()})}function i(a,c,d){let s=[];const r=(0<<10|1<<14|2<<23)>>>0,o=new Uint32Array(2);o[0]=0,o[1]=r;for(let l=0,h=a.length;l<h;l++){const m=a[l];o[0]=m.length;const y=new C.LineTokens(o,m,d),p=S.ViewLineRenderingData.isBasicASCII(m,!0),f=S.ViewLineRenderingData.containsRTL(m,p,!0),_=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,p,f,0,y,[],c,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(_.html),s.push("<br/>")}return s.join("")}function n(a,c,d,s){let r=[],o=d.getInitialState();for(let l=0,h=a.length;l<h;l++){const m=a[l],y=d.tokenizeEncoded(m,!0,o);C.LineTokens.convertToEndOffset(y.tokens,m.length);const p=new C.LineTokens(y.tokens,m,s),f=S.ViewLineRenderingData.isBasicASCII(m,!0),_=S.ViewLineRenderingData.containsRTL(m,f,!0),I=(0,D.renderViewLine2)(new D.RenderLineInput(!1,!0,m,!1,f,_,0,p.inflate(),[],c,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(I.html),r.push("<br/>"),o=y.endState}return r.join("")}}),define(Q[100],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,w.createDecorator)("themeService")}),define(Q[101],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,w.createDecorator)("clipboardService")}),define(Q[26],J([0,1,4,54,2,78,20,9]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,u){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:v,handler:u})}if(v.description){const a=[];for(let d of v.description.args)a.push(d.constraint);const c=v.handler;v.handler=function(d,...s){return(0,S.validateConstraints)(s,a),c(d,...s)}}const{id:g}=v;let t=this._commands.get(g);t||(t=new D.LinkedList,this._commands.set(g,t));let i=t.unshift(v),n=(0,N.toDisposable)(()=>{i();const a=this._commands.get(g);(a==null?void 0:a.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),n}registerCommandAlias(v,u){return e.CommandsRegistry.registerCommand(v,(g,...t)=>g.get(e.ICommandService).executeCommand(u,...t))}getCommand(v){const u=this._commands.get(v);if(!(!u||u.isEmpty()))return C.Iterable.first(u)}getCommands(){const v=new Map;for(const u of this._commands.keys()){const g=this.getCommand(u);g&&v.set(u,g)}return v}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>N.Disposable.None,onDidExecuteCommand:()=>N.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(Q[264],J([0,1,23,14,25,18,44,26,20,422,3]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function t(m){return m&&!!m.data}e.isSemanticTokens=t;function i(m){return m&&Array.isArray(m.edits)}e.isSemanticTokensEdits=i;class n{constructor(y,p,f){this.provider=y,this.tokens=p,this.error=f}}e.DocumentSemanticTokensResult=n;function a(m){return D.DocumentSemanticTokensProviderRegistry.has(m)}e.hasDocumentSemanticTokensProvider=a;function c(m){const y=D.DocumentSemanticTokensProviderRegistry.orderedGroups(m);return y.length>0?y[0]:[]}function d(m,y,p,f){return De(this,void 0,void 0,function*(){const _=c(m),I=yield Promise.all(_.map(E=>De(this,void 0,void 0,function*(){let T,k=null;try{T=yield E.provideDocumentSemanticTokens(m,E===y?p:null,f)}catch(A){k=A,T=null}return(!T||!t(T)&&!i(T))&&(T=null),new n(E,T,k)})));for(const E of I){if(E.error)throw E.error;if(E.tokens)return E}return I.length>0?I[0]:null})}e.getDocumentSemanticTokens=d;function s(m){const y=D.DocumentSemanticTokensProviderRegistry.orderedGroups(m);return y.length>0?y[0]:null}class r{constructor(y,p){this.provider=y,this.tokens=p}}function o(m){return D.DocumentRangeSemanticTokensProviderRegistry.has(m)}e.hasDocumentRangeSemanticTokensProvider=o;function l(m){const y=D.DocumentRangeSemanticTokensProviderRegistry.orderedGroups(m);return y.length>0?y[0]:[]}function h(m,y,p){return De(this,void 0,void 0,function*(){const f=l(m),_=yield Promise.all(f.map(I=>De(this,void 0,void 0,function*(){let E;try{E=yield I.provideDocumentRangeSemanticTokens(m,y,p)}catch(T){(0,C.onUnexpectedExternalError)(T),E=null}return(!E||!t(E))&&(E=null),new r(I,E)})));for(const I of _)if(I.tokens)return I;return _.length>0?_[0]:null})}e.getDocumentRangeSemanticTokens=h,b.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(m,...y)=>De(void 0,void 0,void 0,function*(){const[p]=y;(0,v.assertType)(p instanceof N.URI);const f=m.get(S.IModelService).getModel(p);if(!f)return;const _=s(f);return _?_[0].getLegend():m.get(b.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",p)})),b.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(m,...y)=>De(void 0,void 0,void 0,function*(){const[p]=y;(0,v.assertType)(p instanceof N.URI);const f=m.get(S.IModelService).getModel(p);if(!f)return;if(!a(f))return m.get(b.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",p,f.getFullModelRange());const _=yield d(f,null,null,w.CancellationToken.None);if(!_)return;const{provider:I,tokens:E}=_;if(!E||!t(E))return;const T=(0,u.encodeSemanticTokensDto)({id:0,type:"full",data:E.data});return E.resultId&&I.releaseDocumentSemanticTokens(E.resultId),T})),b.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(m,...y)=>De(void 0,void 0,void 0,function*(){const[p,f]=y;(0,v.assertType)(p instanceof N.URI);const _=m.get(S.IModelService).getModel(p);if(!_)return;const I=l(_);if(I.length===0)return;if(I.length===1)return I[0].getLegend();if(!f||!g.Range.isIRange(f))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),I[0].getLegend();const E=yield h(_,g.Range.lift(f),w.CancellationToken.None);if(!!E)return E.provider.getLegend()})),b.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(m,...y)=>De(void 0,void 0,void 0,function*(){const[p,f]=y;(0,v.assertType)(p instanceof N.URI),(0,v.assertType)(g.Range.isIRange(f));const _=m.get(S.IModelService).getModel(p);if(!_)return;const I=yield h(_,g.Range.lift(f),w.CancellationToken.None);if(!(!I||!I.tokens))return(0,u.encodeSemanticTokensDto)({id:0,type:"full",data:I.tokens.data})}))}),define(Q[265],J([0,1,23,14,2,20,25,18,44,26]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new N.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,a){this._disposables.add(n);for(const c of n.lenses)this.lenses.push({symbol:c,provider:a})}}e.CodeLensModel=g;function t(i,n){return De(this,void 0,void 0,function*(){const a=b.CodeLensProviderRegistry.ordered(i),c=new Map,d=new g,s=a.map((r,o)=>De(this,void 0,void 0,function*(){c.set(r,o);try{const l=yield Promise.resolve(r.provideCodeLenses(i,n));l&&d.add(l,r)}catch(l){(0,C.onUnexpectedExternalError)(l)}}));return yield Promise.all(s),d.lenses=d.lenses.sort((r,o)=>r.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:r.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:c.get(r.provider)<c.get(o.provider)?-1:c.get(r.provider)>c.get(o.provider)?1:r.symbol.range.startColumn<o.symbol.range.startColumn?-1:r.symbol.range.startColumn>o.symbol.range.startColumn?1:0),d})}e.getCodeLensModel=t,u.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...n){let[a,c]=n;(0,D.assertType)(S.URI.isUri(a)),(0,D.assertType)(typeof c=="number"||!c);const d=i.get(v.IModelService).getModel(a);if(!d)throw(0,C.illegalArgument)();const s=[],r=new N.DisposableStore;return t(d,w.CancellationToken.None).then(o=>{r.add(o);let l=[];for(const h of o.lenses)c==null||Boolean(h.symbol.command)?s.push(h.symbol):c-- >0&&h.provider.resolveCodeLens&&l.push(Promise.resolve(h.provider.resolveCodeLens(d,h.symbol,w.CancellationToken.None)).then(m=>s.push(m||h.symbol)));return Promise.all(l)}).then(()=>s).finally(()=>{setTimeout(()=>r.dispose(),100)})})}),define(Q[266],J([0,1,23,14,25,3,18,44,26]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(t,i){const n=[],c=S.ColorProviderRegistry.ordered(t).reverse().map(d=>Promise.resolve(d.provideDocumentColors(t,i)).then(s=>{if(Array.isArray(s))for(let r of s)n.push({colorInfo:r,provider:d})}));return Promise.all(c).then(()=>n)}e.getColors=u;function g(t,i,n,a){return Promise.resolve(n.provideColorPresentations(t,i,a))}e.getColorPresentations=g,v.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(t,...i){const[n]=i;if(!(n instanceof N.URI))throw(0,C.illegalArgument)();const a=t.get(b.IModelService).getModel(n);if(!a)throw(0,C.illegalArgument)();const c=[],s=S.ColorProviderRegistry.ordered(a).reverse().map(r=>Promise.resolve(r.provideDocumentColors(a,w.CancellationToken.None)).then(o=>{if(Array.isArray(o))for(let l of o)c.push({range:l.range,color:[l.color.red,l.color.green,l.color.blue,l.color.alpha]})}));return Promise.all(s).then(()=>c)}),v.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(t,...i){const[n,a]=i,{uri:c,range:d}=a;if(!(c instanceof N.URI)||!Array.isArray(n)||n.length!==4||!D.Range.isIRange(d))throw(0,C.illegalArgument)();const[s,r,o,l]=n,h=t.get(b.IModelService).getModel(c);if(!h)throw(0,C.illegalArgument)();const m={range:d,color:{red:s,green:r,blue:o,alpha:l}},y=[],f=S.ColorProviderRegistry.ordered(h).reverse().map(_=>Promise.resolve(_.provideColorPresentations(h,m,w.CancellationToken.None)).then(I=>{Array.isArray(I)&&y.push(...I)}));return Promise.all(f).then(()=>y)})}),define(Q[595],J([0,1,23,20,25,44,62,262,26]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function u(g,t,i){return De(this,void 0,void 0,function*(){const n=yield b.OutlineModel.create(g,i);return t?n.asListOfDocumentSymbols():n.getTopLevelSymbols()})}e.getDocumentSymbols=u,v.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(g,...t){return De(this,void 0,void 0,function*(){const[i]=t;(0,C.assertType)(N.URI.isUri(i));const n=g.get(D.IModelService).getModel(i);if(n)return u(n,!1,w.CancellationToken.None);const a=yield g.get(S.ITextModelService).createModelReference(i);try{return yield u(a.object.textEditorModel,!1,w.CancellationToken.None)}finally{a.dispose()}})})}),define(Q[596],J([0,1,19,23,14,2,20,25,3,18,44,26]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(d,s){this._link=d,this._provider=s}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(d){return De(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,d)).then(s=>(this._link=s||this._link,this._link.url?this.resolve(d):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class n{constructor(d){this._disposables=new D.DisposableStore;let s=[];for(const[r,o]of d){const l=r.links.map(h=>new i(h,o));s=n._union(s,l),(0,D.isDisposable)(r)&&this._disposables.add(r)}this.links=s}dispose(){this._disposables.dispose(),this.links.length=0}static _union(d,s){let r=[],o,l,h,m;for(o=0,h=0,l=d.length,m=s.length;o<l&&h<m;){const y=d[o],p=s[h];if(v.Range.areIntersectingOrTouching(y.range,p.range)){o++;continue}v.Range.compareRangesUsingStarts(y.range,p.range)<0?(r.push(y),o++):(r.push(p),h++)}for(;o<l;o++)r.push(d[o]);for(;h<m;h++)r.push(s[h]);return r}}e.LinksList=n;function a(c,d){const s=[],r=u.LinkProviderRegistry.ordered(c).reverse().map((o,l)=>Promise.resolve(o.provideLinks(c,d)).then(h=>{h&&(s[l]=[h,o])},N.onUnexpectedExternalError));return Promise.all(r).then(()=>{const o=new n((0,w.coalesce)(s));return d.isCancellationRequested?(o.dispose(),new n([])):o})}e.getLinks=a,t.CommandsRegistry.registerCommand("_executeLinkProvider",(c,...d)=>De(void 0,void 0,void 0,function*(){let[s,r]=d;(0,S.assertType)(s instanceof b.URI),typeof r!="number"&&(r=0);const o=c.get(g.IModelService).getModel(s);if(!o)return[];const l=yield a(o,C.CancellationToken.None);if(!l)return[];for(let m=0;m<Math.min(r,l.links.length);m++)yield l.links[m].resolve(C.CancellationToken.None);const h=l.links.slice(0);return l.dispose(),h}))}),define(Q[39],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,w.createDecorator)("configurationService");function C(v,u){const g=Object.create(null);for(let t in v)N(g,t,v[t],u);return g}e.toValuesTree=C;function N(v,u,g,t){const i=u.split("."),n=i.pop();let a=v;for(let c=0;c<i.length;c++){let d=i[c],s=a[d];switch(typeof s){case"undefined":s=a[d]=Object.create(null);break;case"object":break;default:t(`Ignoring ${u} as ${i.slice(0,c+1).join(".")} is ${JSON.stringify(s)}`);return}a=s}if(typeof a=="object"&&a!==null)try{a[n]=g}catch{t(`Ignoring ${u} as ${i.join(".")} is ${JSON.stringify(a)}`)}else t(`Ignoring ${u} as ${i.join(".")} is ${JSON.stringify(a)}`)}e.addToValueTree=N;function D(v,u){const g=u.split(".");S(v,g)}e.removeFromValueTree=D;function S(v,u){const g=u.shift();if(u.length===0){delete v[g];return}if(Object.keys(v).indexOf(g)!==-1){const t=v[g];typeof t=="object"&&!Array.isArray(t)&&(S(t,u),Object.keys(t).length===0&&delete v[g])}}function b(v,u,g){function t(a,c){let d=a;for(const s of c){if(typeof d!="object"||d===null)return;d=d[s]}return d}const i=u.split("."),n=t(v,i);return typeof n=="undefined"?g:n}e.getConfigurationValue=b});var fe=this&&this.__param||function(H,e){return function(w,C){e(w,C,H)}};define(Q[35],J([0,1,4,2,8,148,114,116,402,406,403,405,176,9,39,34,61]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(k){this.languageId=k}affects(k){return this.languageId?this.languageId===k:!0}}e.LanguageConfigurationServiceChangeEvent=s,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let r=class extends C.Disposable{constructor(k,A){super();this.configurationService=k,this.languageService=A,this.onDidChangeEmitter=this._register(new w.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const P=new Set(Object.values(l));this._register(this.configurationService.onDidChangeConfiguration(F=>{const R=F.change.keys.some(O=>P.has(O)),M=F.change.overrides.filter(([O,L])=>L.some(B=>P.has(B))).map(([O])=>O);if(R)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const O of M)this.languageService.isRegisteredLanguageId(O)&&(this.configurations.delete(O),this.onDidChangeEmitter.fire(new s(O)))})),this._register(e.LanguageConfigurationRegistry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new s(F.languageId))}))}getLanguageConfiguration(k){let A=this.configurations.get(k);return A||(A=o(k,this.configurationService,this.languageService),this.configurations.set(k,A)),A}};r=Be([fe(0,a.IConfigurationService),fe(1,c.ILanguageService)],r),e.LanguageConfigurationService=r;function o(T,k,A){let P=e.LanguageConfigurationRegistry.getLanguageConfiguration(T);if(!P){if(!A.isRegisteredLanguageId(T))throw new Error("Unexpected languageId");P=new E(T,{})}const F=h(P.languageId,k),R=_([P.underlyingConfig,F]);return new E(P.languageId,R)}const l={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function h(T,k){const A=k.getValue(l.brackets,{overrideIdentifier:T}),P=k.getValue(l.colorizedBracketPairs,{overrideIdentifier:T});return{brackets:m(A),colorizedBracketPairs:m(P)}}function m(T){if(!!Array.isArray(T))return T.map(k=>{if(!(!Array.isArray(k)||k.length!==2))return[k[0],k[1]]}).filter(k=>!!k)}class y{constructor(k){this.languageId=k}}e.LanguageConfigurationChangeEvent=y;class p{constructor(){this._entries=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}register(k,A,P=0){let F=this._entries.get(k);F||(F=new f(k),this._entries.set(k,F));const R=F.register(A,P);return this._onDidChange.fire(new y(k)),(0,C.toDisposable)(()=>{R.dispose(),this._onDidChange.fire(new y(k))})}getLanguageConfiguration(k){const A=this._entries.get(k);return(A==null?void 0:A.getResolvedConfiguration())||null}getComments(k){const A=this.getLanguageConfiguration(k);return A&&A.comments||null}getIndentRulesSupport(k){const A=this.getLanguageConfiguration(k);return A&&A.indentRulesSupport||null}getPrecedingValidLine(k,A,P){const F=k.getLanguageIdAtPosition(A,0);if(A>1){let R,M=-1;for(R=A-1;R>=1;R--){if(k.getLanguageIdAtPosition(R,0)!==F)return M;const O=k.getLineContent(R);if(P.shouldIgnore(O)||/^\s+$/.test(O)||O===""){M=R;continue}return R}}return-1}getInheritIndentForLine(k,A,P,F=!0){if(k<4)return null;const R=this.getIndentRulesSupport(A.getLanguageId());if(!R)return null;if(P<=1)return{indentation:"",action:null};const M=this.getPrecedingValidLine(A,P,R);if(M<0)return null;if(M<1)return{indentation:"",action:null};const O=A.getLineContent(M);if(R.shouldIncrease(O)||R.shouldIndentNextLine(O))return{indentation:N.getLeadingWhitespace(O),action:S.IndentAction.Indent,line:M};if(R.shouldDecrease(O))return{indentation:N.getLeadingWhitespace(O),action:null,line:M};{if(M===1)return{indentation:N.getLeadingWhitespace(A.getLineContent(M)),action:null,line:M};const L=M-1,B=R.getIndentMetadata(A.getLineContent(L));if(!(B&(1|2))&&B&4){let x=0;for(let U=L-1;U>0;U--)if(!R.shouldIndentNextLine(A.getLineContent(U))){x=U;break}return{indentation:N.getLeadingWhitespace(A.getLineContent(x+1)),action:null,line:x+1}}if(F)return{indentation:N.getLeadingWhitespace(A.getLineContent(M)),action:null,line:M};for(let x=M;x>0;x--){const U=A.getLineContent(x);if(R.shouldIncrease(U))return{indentation:N.getLeadingWhitespace(U),action:S.IndentAction.Indent,line:x};if(R.shouldIndentNextLine(U)){let K=0;for(let Z=x-1;Z>0;Z--)if(!R.shouldIndentNextLine(A.getLineContent(x))){K=Z;break}return{indentation:N.getLeadingWhitespace(A.getLineContent(K+1)),action:null,line:K+1}}else if(R.shouldDecrease(U))return{indentation:N.getLeadingWhitespace(U),action:null,line:x}}return{indentation:N.getLeadingWhitespace(A.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(k,A,P,F,R){if(k<4)return null;const M=this.getLanguageConfiguration(P);if(!M)return null;const O=this.getIndentRulesSupport(P);if(!O)return null;const L=this.getInheritIndentForLine(k,A,F),B=A.getLineContent(F);if(L){const x=L.line;if(x!==void 0){const U=M.onEnter(k,"",A.getLineContent(x),"");if(U){let K=N.getLeadingWhitespace(A.getLineContent(x));return U.removeText&&(K=K.substring(0,K.length-U.removeText)),U.indentAction===S.IndentAction.Indent||U.indentAction===S.IndentAction.IndentOutdent?K=R.shiftIndent(K):U.indentAction===S.IndentAction.Outdent&&(K=R.unshiftIndent(K)),O.shouldDecrease(B)&&(K=R.unshiftIndent(K)),U.appendText&&(K+=U.appendText),N.getLeadingWhitespace(K)}}return O.shouldDecrease(B)?L.action===S.IndentAction.Indent?L.indentation:R.unshiftIndent(L.indentation):L.action===S.IndentAction.Indent?R.shiftIndent(L.indentation):L.indentation}return null}getIndentForEnter(k,A,P,F){if(k<4)return null;A.forceTokenization(P.startLineNumber);const R=A.getLineTokens(P.startLineNumber),M=(0,b.createScopedLineTokens)(R,P.startColumn-1),O=M.getLineContent();let L=!1,B;M.firstCharOffset>0&&R.getLanguageId(0)!==M.languageId?(L=!0,B=O.substr(0,P.startColumn-1-M.firstCharOffset)):B=R.getLineContent().substring(0,P.startColumn-1);let x;P.isEmpty()?x=O.substr(P.startColumn-1-M.firstCharOffset):x=this.getScopedLineTokens(A,P.endLineNumber,P.endColumn).getLineContent().substr(P.endColumn-1-M.firstCharOffset);const U=this.getIndentRulesSupport(M.languageId);if(!U)return null;const K=B,Z=N.getLeadingWhitespace(B),ee={getLineTokens:j=>A.getLineTokens(j),getLanguageId:()=>A.getLanguageId(),getLanguageIdAtPosition:(j,W)=>A.getLanguageIdAtPosition(j,W),getLineContent:j=>j===P.startLineNumber?K:A.getLineContent(j)},X=N.getLeadingWhitespace(R.getLineContent()),ne=this.getInheritIndentForLine(k,ee,P.startLineNumber+1);if(!ne){const j=L?X:Z;return{beforeEnter:j,afterEnter:j}}let Y=L?X:ne.indentation;return ne.action===S.IndentAction.Indent&&(Y=F.shiftIndent(Y)),U.shouldDecrease(x)&&(Y=F.unshiftIndent(Y)),{beforeEnter:L?X:Z,afterEnter:Y}}getIndentActionForType(k,A,P,F,R){if(k<4)return null;const M=this.getScopedLineTokens(A,P.startLineNumber,P.startColumn);if(M.firstCharOffset)return null;const O=this.getIndentRulesSupport(M.languageId);if(!O)return null;const L=M.getLineContent(),B=L.substr(0,P.startColumn-1-M.firstCharOffset);let x;if(P.isEmpty()?x=L.substr(P.startColumn-1-M.firstCharOffset):x=this.getScopedLineTokens(A,P.endLineNumber,P.endColumn).getLineContent().substr(P.endColumn-1-M.firstCharOffset),!O.shouldDecrease(B+x)&&O.shouldDecrease(B+F+x)){const U=this.getInheritIndentForLine(k,A,P.startLineNumber,!1);if(!U)return null;let K=U.indentation;return U.action!==S.IndentAction.Indent&&(K=R.unshiftIndent(K)),K}return null}getIndentMetadata(k,A){const P=this.getIndentRulesSupport(k.getLanguageId());return!P||A<1||A>k.getLineCount()?null:P.getIndentMetadata(k.getLineContent(A))}getEnterAction(k,A,P){const F=this.getScopedLineTokens(A,P.startLineNumber,P.startColumn),R=this.getLanguageConfiguration(F.languageId);if(!R)return null;const M=F.getLineContent(),O=M.substr(0,P.startColumn-1-F.firstCharOffset);let L;P.isEmpty()?L=M.substr(P.startColumn-1-F.firstCharOffset):L=this.getScopedLineTokens(A,P.endLineNumber,P.endColumn).getLineContent().substr(P.endColumn-1-F.firstCharOffset);let B="";if(P.startLineNumber>1&&F.firstCharOffset===0){const X=this.getScopedLineTokens(A,P.startLineNumber-1);X.languageId===F.languageId&&(B=X.getLineContent())}const x=R.onEnter(k,B,O,L);if(!x)return null;const U=x.indentAction;let K=x.appendText;const Z=x.removeText||0;K?U===S.IndentAction.Indent&&(K="	"+K):U===S.IndentAction.Indent||U===S.IndentAction.IndentOutdent?K="	":K="";let ee=this.getIndentationAtPosition(A,P.startLineNumber,P.startColumn);return Z&&(ee=ee.substring(0,ee.length-Z)),{indentAction:U,appendText:K,removeText:Z,indentation:ee}}getIndentationAtPosition(k,A,P){const F=k.getLineContent(A);let R=N.getLeadingWhitespace(F);return R.length>P-1&&(R=R.substring(0,P-1)),R}getScopedLineTokens(k,A,P){k.forceTokenization(A);const F=k.getLineTokens(A),R=typeof P=="undefined"?k.getLineMaxColumn(A)-1:P-1;return(0,b.createScopedLineTokens)(F,R)}}e.LanguageConfigurationRegistryImpl=p,e.LanguageConfigurationRegistry=new p;class f{constructor(k){this.languageId=k,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(k,A){const P=new I(k,A,++this._order);return this._entries.push(P),this._resolved=null,(0,C.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===P){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const k=this._resolve();k&&(this._resolved=new E(this.languageId,k))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),_(this._entries.map(k=>k.configuration)))}}function _(T){let k={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of T)k={comments:A.comments||k.comments,brackets:A.brackets||k.brackets,wordPattern:A.wordPattern||k.wordPattern,indentationRules:A.indentationRules||k.indentationRules,onEnterRules:A.onEnterRules||k.onEnterRules,autoClosingPairs:A.autoClosingPairs||k.autoClosingPairs,surroundingPairs:A.surroundingPairs||k.surroundingPairs,autoCloseBefore:A.autoCloseBefore||k.autoCloseBefore,folding:A.folding||k.folding,colorizedBracketPairs:A.colorizedBracketPairs||k.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||k.__electricCharacterSupport};return k}class I{constructor(k,A,P){this.configuration=k,this.priority=A,this.order=P}static cmp(k,A){return k.priority===A.priority?k.order-A.order:k.priority-A.priority}}class E{constructor(k,A){this.languageId=k,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new t.OnEnterSupport(this.underlyingConfig):null,this.comments=E._handleComments(this.underlyingConfig),this.characterPair=new v.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(k,A,P,F){return this._onEnterSupport?this._onEnterSupport.onEnter(k,A,P,F):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(k){const A=k.comments;if(!A)return null;const P={};if(A.lineComment&&(P.lineCommentToken=A.lineComment),A.blockComment){const[F,R]=A.blockComment;P.blockCommentStartToken=F,P.blockCommentEndToken=R}return P}}e.ResolvedLanguageConfiguration=E,(0,d.registerSingleton)(e.ILanguageConfigurationService,r)}),define(Q[597],J([0,1,8,59,11,3,21,35,244]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class u{constructor(t,i,n,a,c,d,s){this.languageConfigurationService=t,this._selection=i,this._tabSize=n,this._type=a,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(t,i,n,a){t.tokenizeIfCheap(i);const c=t.getLanguageIdAtPosition(i,1),d=a.getLanguageConfiguration(c).comments,s=d?d.lineCommentToken:null;if(!s)return null;let r=[];for(let o=0,l=n-i+1;o<l;o++)r[o]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return r}static _analyzeLines(t,i,n,a,c,d,s,r){let o=!0,l;t===0?l=!0:t===1?l=!1:l=!0;for(let h=0,m=a.length;h<m;h++){const y=a[h],p=c+h;if(p===c&&s){y.ignore=!0;continue}const f=n.getLineContent(p),_=w.firstNonWhitespaceIndex(f);if(_===-1){y.ignore=d,y.commentStrOffset=f.length;continue}if(o=!1,y.ignore=!1,y.commentStrOffset=_,l&&!v.BlockCommentCommand._haystackHasNeedleAtOffset(f,y.commentStr,_)&&(t===0?l=!1:t===1||(y.ignore=!0)),l&&i){const I=_+y.commentStrLength;I<f.length&&f.charCodeAt(I)===32&&(y.commentStrLength+=1)}}if(t===0&&o){l=!1;for(let h=0,m=a.length;h<m;h++)a[h].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:a}}static _gatherPreflightData(t,i,n,a,c,d,s,r){const o=u._gatherPreflightCommentStrings(n,a,c,r);return o===null?{supported:!1}:u._analyzeLines(t,i,n,o,a,d,s,r)}_executeLineComments(t,i,n,a){let c;n.shouldRemoveComments?c=u._createRemoveLineCommentsOperations(n.lines,a.startLineNumber):(u._normalizeInsertionPoint(t,n.lines,a.startLineNumber,this._tabSize),c=this._createAddLineCommentsOperations(n.lines,a.startLineNumber));const d=new N.Position(a.positionLineNumber,a.positionColumn);for(let s=0,r=c.length;s<r;s++)i.addEditOperation(c[s].range,c[s].text),D.Range.isEmpty(c[s].range)&&D.Range.getStartPosition(c[s].range).equals(d)&&t.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(c[s].text||"").length);this._selectionId=i.trackSelection(a)}_attemptRemoveBlockComment(t,i,n,a){let c=i.startLineNumber,d=i.endLineNumber,s=a.length+Math.max(t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),r=t.getLineContent(c).lastIndexOf(n,s-1),o=t.getLineContent(d).indexOf(a,i.endColumn-1-n.length);return r!==-1&&o===-1&&(o=t.getLineContent(c).indexOf(a,r+n.length),d=c),r===-1&&o!==-1&&(r=t.getLineContent(d).lastIndexOf(n,o),c=d),i.isEmpty()&&(r===-1||o===-1)&&(r=t.getLineContent(c).indexOf(n),r!==-1&&(o=t.getLineContent(c).indexOf(a,r+n.length))),r!==-1&&t.getLineContent(c).charCodeAt(r+n.length)===32&&(n+=" "),o!==-1&&t.getLineContent(d).charCodeAt(o-1)===32&&(a=" "+a,o-=1),r!==-1&&o!==-1?v.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(c,r+n.length+1,d,o+1),n,a):null}_executeBlockComment(t,i,n){t.tokenizeIfCheap(n.startLineNumber);let a=t.getLanguageIdAtPosition(n.startLineNumber,1),c=b.LanguageConfigurationRegistry.getComments(a);if(!c||!c.blockCommentStartToken||!c.blockCommentEndToken)return;const d=c.blockCommentStartToken,s=c.blockCommentEndToken;let r=this._attemptRemoveBlockComment(t,n,d,s);if(!r){if(n.isEmpty()){const o=t.getLineContent(n.startLineNumber);let l=w.firstNonWhitespaceIndex(o);l===-1&&(l=o.length),r=v.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,l+1,n.startLineNumber,o.length+1),d,s,this._insertSpace)}else r=v.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),d,s,this._insertSpace);r.length===1&&(this._deltaColumn=d.length+1)}this._selectionId=i.trackSelection(n);for(const o of r)i.addEditOperation(o.range,o.text)}getEditOperations(t,i){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new D.Range(n.startLineNumber,t.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===t.getLineCount()?"":`
`),this._selectionId=i.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));const a=u._gatherPreflightData(this._type,this._insertSpace,t,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return a.supported?this._executeLineComments(t,i,a,n):this._executeBlockComment(t,i,n)}computeCursorState(t,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new S.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,i){let n=[];for(let a=0,c=t.length;a<c;a++){const d=t[a];d.ignore||n.push(C.EditOperation.delete(new D.Range(i+a,d.commentStrOffset+1,i+a,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(t,i){let n=[];const a=this._insertSpace?" ":"";for(let c=0,d=t.length;c<d;c++){const s=t[c];s.ignore||n.push(C.EditOperation.insert(new N.Position(i+c,s.commentStrOffset+1),s.commentStr+a))}return n}static nextVisibleColumn(t,i,n,a){return n?t+(i-t%i):t+a}static _normalizeInsertionPoint(t,i,n,a){let c=1073741824,d,s;for(let r=0,o=i.length;r<o;r++){if(i[r].ignore)continue;const l=t.getLineContent(n+r);let h=0;for(let m=0,y=i[r].commentStrOffset;h<c&&m<y;m++)h=u.nextVisibleColumn(h,a,l.charCodeAt(m)===9,1);h<c&&(c=h)}c=Math.floor(c/a)*a;for(let r=0,o=i.length;r<o;r++){if(i[r].ignore)continue;const l=t.getLineContent(n+r);let h=0;for(d=0,s=i[r].commentStrOffset;h<c&&d<s;d++)h=u.nextVisibleColumn(h,a,l.charCodeAt(d)===9,1);h>c?i[r].commentStrOffset=d-1:i[r].commentStrOffset=d}}}e.LineCommentCommand=u}),define(Q[16],J([0,1,17,8,9]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;let D=w.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",w.isMacintosh),S.set("isLinux",w.isLinux),S.set("isWindows",w.isWindows),S.set("isWeb",w.isWeb),S.set("isMacNative",w.isMacintosh&&!w.isWeb),S.set("isEdge",D.indexOf("Edg/")>=0),S.set("isFirefox",D.indexOf("Firefox")>=0),S.set("isChrome",D.indexOf("Chrome")>=0),S.set("isSafari",D.indexOf("Safari")>=0);const b=Object.prototype.hasOwnProperty;class v{static has(M){return n.create(M)}static equals(M,O){return a.create(M,O)}static regex(M,O){return p.create(M,O)}static not(M){return r.create(M)}static and(...M){return I.create(M,null)}static or(...M){return E.create(M,null,!0)}static deserialize(M,O=!1){if(!!M)return this._deserializeOrExpression(M,O)}static _deserializeOrExpression(M,O){let L=M.split("||");return E.create(L.map(B=>this._deserializeAndExpression(B,O)),null,!0)}static _deserializeAndExpression(M,O){let L=M.split("&&");return I.create(L.map(B=>this._deserializeOne(B,O)),null)}static _deserializeOne(M,O){if(M=M.trim(),M.indexOf("!=")>=0){let L=M.split("!=");return s.create(L[0].trim(),this._deserializeValue(L[1],O))}if(M.indexOf("==")>=0){let L=M.split("==");return a.create(L[0].trim(),this._deserializeValue(L[1],O))}if(M.indexOf("=~")>=0){let L=M.split("=~");return p.create(L[0].trim(),this._deserializeRegexValue(L[1],O))}if(M.indexOf(" in ")>=0){let L=M.split(" in ");return c.create(L[0].trim(),L[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(M)){const L=M.split(">=");return h.create(L[0].trim(),L[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(M)){const L=M.split(">");return l.create(L[0].trim(),L[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(M)){const L=M.split("<=");return y.create(L[0].trim(),L[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(M)){const L=M.split("<");return m.create(L[0].trim(),L[1].trim())}return/^\!\s*/.test(M)?r.create(M.substr(1).trim()):n.create(M)}static _deserializeValue(M,O){if(M=M.trim(),M==="true")return!0;if(M==="false")return!1;let L=/^'([^']*)'$/.exec(M);return L?L[1].trim():M}static _deserializeRegexValue(M,O){if((0,C.isFalsyOrWhitespace)(M)){if(O)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let L=M.indexOf("/"),B=M.lastIndexOf("/");if(L===B||L<0){if(O)throw new Error(`bad regexp-value '${M}', missing /-enclosure`);return console.warn(`bad regexp-value '${M}', missing /-enclosure`),null}let x=M.slice(L+1,B),U=M[B+1]==="i"?"i":"";try{return new RegExp(x,U)}catch(K){if(O)throw new Error(`bad regexp-value '${M}', parse error: ${K}`);return console.warn(`bad regexp-value '${M}', parse error: ${K}`),null}}}e.ContextKeyExpr=v;function u(R,M){const O=R?R.substituteConstants():void 0,L=M?M.substituteConstants():void 0;return!O&&!L?!0:!O||!L?!1:O.equals(L)}e.expressionsAreEqualWithConstantSubstitution=u;function g(R,M){return R.cmp(M)}class t{constructor(){this.type=0}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}substituteConstants(){return this}evaluate(M){return!1}serialize(){return"false"}keys(){return[]}negate(){return i.INSTANCE}}e.ContextKeyFalseExpr=t,t.INSTANCE=new t;class i{constructor(){this.type=1}cmp(M){return this.type-M.type}equals(M){return M.type===this.type}substituteConstants(){return this}evaluate(M){return!0}serialize(){return"true"}keys(){return[]}negate(){return t.INSTANCE}}e.ContextKeyTrueExpr=i,i.INSTANCE=new i;class n{constructor(M,O){this.key=M,this.negated=O,this.type=2}static create(M,O=null){const L=S.get(M);return typeof L=="boolean"?L?i.INSTANCE:t.INSTANCE:new n(M,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}substituteConstants(){const M=S.get(this.key);return typeof M=="boolean"?M?i.INSTANCE:t.INSTANCE:this}evaluate(M){return!!M.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=n;class a{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=4}static create(M,O,L=null){if(typeof O=="boolean")return O?n.create(M,L):r.create(M,L);const B=S.get(M);return typeof B=="boolean"?O===(B?"true":"false")?i.INSTANCE:t.INSTANCE:new a(M,O,L)}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){const M=S.get(this.key);if(typeof M=="boolean"){const O=M?"true":"false";return this.value===O?i.INSTANCE:t.INSTANCE}return this}evaluate(M){return M.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=a;class c{constructor(M,O){this.key=M,this.valueKey=O,this.type=10,this.negated=null}static create(M,O){return new c(M,O)}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.valueKey,M.key,M.valueKey)}equals(M){return M.type===this.type?this.key===M.key&&this.valueKey===M.valueKey:!1}substituteConstants(){return this}evaluate(M){const O=M.getValue(this.valueKey),L=M.getValue(this.key);return Array.isArray(O)?O.indexOf(L)>=0:typeof L=="string"&&typeof O=="object"&&O!==null?b.call(O,L):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=c;class d{constructor(M){this._actual=M,this.type=11}static create(M){return new d(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}substituteConstants(){return this}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class s{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=5}static create(M,O,L=null){if(typeof O=="boolean")return O?r.create(M,L):n.create(M,L);const B=S.get(M);return typeof B=="boolean"?O===(B?"true":"false")?t.INSTANCE:i.INSTANCE:new s(M,O,L)}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){const M=S.get(this.key);if(typeof M=="boolean"){const O=M?"true":"false";return this.value===O?t.INSTANCE:i.INSTANCE}return this}evaluate(M){return M.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=s;class r{constructor(M,O){this.key=M,this.negated=O,this.type=3}static create(M,O=null){const L=S.get(M);return typeof L=="boolean"?L?t.INSTANCE:i.INSTANCE:new r(M,O)}cmp(M){return M.type!==this.type?this.type-M.type:k(this.key,M.key)}equals(M){return M.type===this.type?this.key===M.key:!1}substituteConstants(){const M=S.get(this.key);return typeof M=="boolean"?M?t.INSTANCE:i.INSTANCE:this}evaluate(M){return!M.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=r;function o(R,M){if(typeof R=="string"){const O=parseFloat(R);isNaN(O)||(R=O)}return typeof R=="string"||typeof R=="number"?M(R):t.INSTANCE}class l{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=12}static create(M,O,L=null){return o(O,B=>new l(M,B,L))}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return typeof this.value=="string"?!1:parseFloat(M.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=l;class h{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=13}static create(M,O,L=null){return o(O,B=>new h(M,B,L))}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return typeof this.value=="string"?!1:parseFloat(M.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=h;class m{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=14}static create(M,O,L=null){return o(O,B=>new m(M,B,L))}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return typeof this.value=="string"?!1:parseFloat(M.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=m;class y{constructor(M,O,L){this.key=M,this.value=O,this.negated=L,this.type=15}static create(M,O,L=null){return o(O,B=>new y(M,B,L))}cmp(M){return M.type!==this.type?this.type-M.type:A(this.key,this.value,M.key,M.value)}equals(M){return M.type===this.type?this.key===M.key&&this.value===M.value:!1}substituteConstants(){return this}evaluate(M){return typeof this.value=="string"?!1:parseFloat(M.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=y;class p{constructor(M,O){this.key=M,this.regexp=O,this.type=7,this.negated=null}static create(M,O){return new p(M,O)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.key<M.key)return-1;if(this.key>M.key)return 1;const O=this.regexp?this.regexp.source:"",L=M.regexp?M.regexp.source:"";return O<L?-1:O>L?1:0}equals(M){if(M.type===this.type){const O=this.regexp?this.regexp.source:"",L=M.regexp?M.regexp.source:"";return this.key===M.key&&O===L}return!1}substituteConstants(){return this}evaluate(M){let O=M.getValue(this.key);return this.regexp?this.regexp.test(O):!1}serialize(){const M=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${M}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}e.ContextKeyRegexExpr=p;class f{constructor(M){this._actual=M,this.type=8}static create(M){return new f(M)}cmp(M){return M.type!==this.type?this.type-M.type:this._actual.cmp(M._actual)}equals(M){return M.type===this.type?this._actual.equals(M._actual):!1}substituteConstants(){return this}evaluate(M){return!this._actual.evaluate(M)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=f;function _(R){let M=null;for(let O=0,L=R.length;O<L;O++){const B=R[O].substituteConstants();if(R[O]!==B&&M===null){M=[];for(let x=0;x<O;x++)M[x]=R[x]}M!==null&&(M[O]=B)}return M===null?R:M}class I{constructor(M,O){this.expr=M,this.negated=O,this.type=6}static create(M,O){return I._normalizeArr(M,O)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let O=0,L=this.expr.length;O<L;O++){const B=g(this.expr[O],M.expr[O]);if(B!==0)return B}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let O=0,L=this.expr.length;O<L;O++)if(!this.expr[O].equals(M.expr[O]))return!1;return!0}return!1}substituteConstants(){const M=_(this.expr);return M===this.expr?this:I.create(M,this.negated)}evaluate(M){for(let O=0,L=this.expr.length;O<L;O++)if(!this.expr[O].evaluate(M))return!1;return!0}static _normalizeArr(M,O){const L=[];let B=!1;for(const x of M)if(!!x){if(x.type===1){B=!0;continue}if(x.type===0)return t.INSTANCE;if(x.type===6){L.push(...x.expr);continue}L.push(x)}if(L.length===0&&B)return i.INSTANCE;if(L.length!==0){if(L.length===1)return L[0];L.sort(g);for(let x=1;x<L.length;x++)L[x-1].equals(L[x])&&(L.splice(x,1),x--);if(L.length===1)return L[0];for(;L.length>1;){const x=L[L.length-1];if(x.type!==9)break;L.pop();const U=L.pop(),K=L.length===0,Z=E.create(x.expr.map(ee=>I.create([ee,U],null)),null,K);Z&&(L.push(Z),L.sort(g))}return L.length===1?L[0]:new I(L,O)}}serialize(){return this.expr.map(M=>M.serialize()).join(" && ")}keys(){const M=[];for(let O of this.expr)M.push(...O.keys());return M}negate(){if(!this.negated){const M=[];for(let O of this.expr)M.push(O.negate());this.negated=E.create(M,this,!0)}return this.negated}}class E{constructor(M,O){this.expr=M,this.negated=O,this.type=9}static create(M,O,L){return E._normalizeArr(M,O,L)}cmp(M){if(M.type!==this.type)return this.type-M.type;if(this.expr.length<M.expr.length)return-1;if(this.expr.length>M.expr.length)return 1;for(let O=0,L=this.expr.length;O<L;O++){const B=g(this.expr[O],M.expr[O]);if(B!==0)return B}return 0}equals(M){if(M.type===this.type){if(this.expr.length!==M.expr.length)return!1;for(let O=0,L=this.expr.length;O<L;O++)if(!this.expr[O].equals(M.expr[O]))return!1;return!0}return!1}substituteConstants(){const M=_(this.expr);return M===this.expr?this:E.create(M,this.negated,!1)}evaluate(M){for(let O=0,L=this.expr.length;O<L;O++)if(this.expr[O].evaluate(M))return!0;return!1}static _normalizeArr(M,O,L){let B=[],x=!1;if(M){for(let U=0,K=M.length;U<K;U++){const Z=M[U];if(!!Z){if(Z.type===0){x=!0;continue}if(Z.type===1)return i.INSTANCE;if(Z.type===9){B=B.concat(Z.expr);continue}B.push(Z)}}if(B.length===0&&x)return t.INSTANCE;B.sort(g)}if(B.length!==0){if(B.length===1)return B[0];for(let U=1;U<B.length;U++)B[U-1].equals(B[U])&&(B.splice(U,1),U--);if(B.length===1)return B[0];if(L){for(let U=0;U<B.length;U++)for(let K=U+1;K<B.length;K++)P(B[U],B[K])&&(B.splice(K,1),K--);if(B.length===1)return B[0]}return new E(B,O)}}serialize(){return this.expr.map(M=>M.serialize()).join(" || ")}keys(){const M=[];for(let O of this.expr)M.push(...O.keys());return M}negate(){if(!this.negated){let M=[];for(let O of this.expr)M.push(O.negate());for(;M.length>1;){const O=M.shift(),L=M.shift(),B=[];for(const U of F(O))for(const K of F(L))B.push(I.create([U,K],null));const x=M.length===0;M.unshift(E.create(B,null,x))}this.negated=M[0]}return this.negated}}class T extends n{constructor(M,O,L){super(M,null);this._defaultValue=O,typeof L=="object"?T._info.push(Object.assign(Object.assign({},L),{key:M})):L!==!0&&T._info.push({key:M,description:L,type:O!=null?typeof O:void 0})}static all(){return T._info.values()}bindTo(M){return M.createKey(this.key,this._defaultValue)}getValue(M){return M.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(M){return a.create(this.key,M)}}e.RawContextKey=T,T._info=[],e.IContextKeyService=(0,N.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function k(R,M){return R<M?-1:R>M?1:0}function A(R,M,O,L){return R<O?-1:R>O?1:M<L?-1:M>L?1:0}function P(R,M){if(M.type===6&&R.type!==9&&R.type!==6){for(const B of M.expr)if(R.equals(B))return!0}const O=R.negate(),L=F(O).concat(F(M));L.sort(g);for(let B=0;B<L.length;B++){const U=L[B].negate();for(let K=B+1;K<L.length;K++){const Z=L[K];if(U.equals(Z))return!0}}return!1}e.implies=P;function F(R){return R.type===9?R.expr:[R]}}),define(Q[24],J([0,1,499,16]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var N;(function(D){D.editorSimpleInput=new C.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new C.RawContextKey("editorTextFocus",!1,w.localize(0,null)),D.focus=new C.RawContextKey("editorFocus",!1,w.localize(1,null)),D.textInputFocus=new C.RawContextKey("textInputFocus",!1,w.localize(2,null)),D.readOnly=new C.RawContextKey("editorReadonly",!1,w.localize(3,null)),D.inDiffEditor=new C.RawContextKey("inDiffEditor",!1,w.localize(4,null)),D.columnSelection=new C.RawContextKey("editorColumnSelection",!1,w.localize(5,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new C.RawContextKey("editorHasSelection",!1,w.localize(6,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new C.RawContextKey("editorHasMultipleSelections",!1,w.localize(7,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new C.RawContextKey("editorTabMovesFocus",!1,w.localize(8,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new C.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new C.RawContextKey("canUndo",!1,!0),D.canRedo=new C.RawContextKey("canRedo",!1,!0),D.hoverVisible=new C.RawContextKey("editorHoverVisible",!1,w.localize(9,null)),D.inCompositeEditor=new C.RawContextKey("inCompositeEditor",void 0,w.localize(10,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new C.RawContextKey("editorLangId","",w.localize(11,null)),D.hasCompletionItemProvider=new C.RawContextKey("editorHasCompletionItemProvider",!1,w.localize(12,null)),D.hasCodeActionsProvider=new C.RawContextKey("editorHasCodeActionsProvider",!1,w.localize(13,null)),D.hasCodeLensProvider=new C.RawContextKey("editorHasCodeLensProvider",!1,w.localize(14,null)),D.hasDefinitionProvider=new C.RawContextKey("editorHasDefinitionProvider",!1,w.localize(15,null)),D.hasDeclarationProvider=new C.RawContextKey("editorHasDeclarationProvider",!1,w.localize(16,null)),D.hasImplementationProvider=new C.RawContextKey("editorHasImplementationProvider",!1,w.localize(17,null)),D.hasTypeDefinitionProvider=new C.RawContextKey("editorHasTypeDefinitionProvider",!1,w.localize(18,null)),D.hasHoverProvider=new C.RawContextKey("editorHasHoverProvider",!1,w.localize(19,null)),D.hasDocumentHighlightProvider=new C.RawContextKey("editorHasDocumentHighlightProvider",!1,w.localize(20,null)),D.hasDocumentSymbolProvider=new C.RawContextKey("editorHasDocumentSymbolProvider",!1,w.localize(21,null)),D.hasReferenceProvider=new C.RawContextKey("editorHasReferenceProvider",!1,w.localize(22,null)),D.hasRenameProvider=new C.RawContextKey("editorHasRenameProvider",!1,w.localize(23,null)),D.hasSignatureHelpProvider=new C.RawContextKey("editorHasSignatureHelpProvider",!1,w.localize(24,null)),D.hasInlayHintsProvider=new C.RawContextKey("editorHasInlayHintsProvider",!1,w.localize(25,null)),D.hasDocumentFormattingProvider=new C.RawContextKey("editorHasDocumentFormattingProvider",!1,w.localize(26,null)),D.hasDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,w.localize(27,null)),D.hasMultipleDocumentFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,w.localize(28,null)),D.hasMultipleDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.localize(29,null))})(N=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(Q[195],J([0,1,23,14,20,25,11,18,62,26,16]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new g.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new g.RawContextKey("parameterHintsMultipleSignatures",!1)};function t(i,n,a,c){return De(this,void 0,void 0,function*(){const d=b.SignatureHelpProviderRegistry.ordered(i);for(const s of d)try{const r=yield s.provideSignatureHelp(i,n,c,a);if(r)return r}catch(r){(0,C.onUnexpectedExternalError)(r)}})}e.provideSignatureHelp=t,u.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(i,...n)=>De(void 0,void 0,void 0,function*(){const[a,c,d]=n;(0,N.assertType)(D.URI.isUri(a)),(0,N.assertType)(S.Position.isIPosition(c)),(0,N.assertType)(typeof d=="string"||!d);const s=yield i.get(v.ITextModelService).createModelReference(a);try{const r=yield t(s.object.textEditorModel,S.Position.lift(c),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:d},w.CancellationToken.None);return r?(setTimeout(()=>r.dispose(),0),r.value):void 0}finally{s.dispose()}}))}),define(Q[598],J([0,1,10,14,4,2,97,18,195]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(i){i.Default={type:0};class n{constructor(d,s){this.request=d,this.previouslyActiveHints=s,this.type=2}}i.Pending=n;class a{constructor(d){this.hints=d,this.type=1}}i.Active=a})(u||(u={}));class g extends D.Disposable{constructor(n,a=g.DEFAULT_DELAY){super();this._onChangedHints=this._register(new N.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=n,this.throttledDelayer=new w.Delayer(a),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(b.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=u.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,a){const c=this.editor.getModel();if(!c||!b.SignatureHelpProviderRegistry.has(c))return;const d=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(d),a).catch(C.onUnexpectedError)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,a=this.state.hints.activeSignature,c=a%n==n-1,d=this.editor.getOption(75).cycle;if((n<2||c)&&!d){this.cancel();return}this.updateActiveSignature(c&&d?0:a+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,a=this.state.hints.activeSignature,c=a===0,d=this.editor.getOption(75).cycle;if((n<2||c)&&!d){this.cancel();return}this.updateActiveSignature(c&&d?n-1:a-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return De(this,void 0,void 0,function*(){const a=this.state.type===1||this.state.type===2,c=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const d=this._pendingTriggers.reduce(t);this._pendingTriggers=[];const s={triggerKind:d.triggerKind,triggerCharacter:d.triggerCharacter,isRetrigger:a,activeSignatureHelp:c};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),o=this.editor.getPosition();this.state=new u.Pending((0,w.createCancelablePromise)(l=>(0,v.provideSignatureHelp)(r,o,s,l)),c);try{const l=yield this.state.request;return n!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return n===this.triggerId&&(this.state=u.Default),(0,C.onUnexpectedError)(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const n=this.editor.getModel();if(!!n)for(const a of b.SignatureHelpProviderRegistry.ordered(n)){for(const c of a.signatureHelpTriggerCharacters||[])this.triggerChars.add(c.charCodeAt(0)),this.retriggerChars.add(c.charCodeAt(0));for(const c of a.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(c.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const a=n.length-1,c=n.charCodeAt(a);(this.triggerChars.has(c)||this.isTriggered&&this.retriggerChars.has(c))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(a)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function t(i,n){switch(n.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return n;case b.SignatureHelpTriggerKind.ContentChange:return i;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(Q[599],J([0,1,16]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let C=class Pt{constructor(D,S){this._editor=D,this._index=0,this._ckOtherSuggestions=Pt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:S},b){if(D.items.length===0){this.reset();return}if(Pt._moveIndex(!0,D,S)===S){this.reset();return}this._acceptNext=b,this._model=D,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,S,b){let v=b;for(;v=(v+S.items.length+(D?1:-1))%S.items.length,!(v===b||!S.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(!!this._model)try{this._ignore=!0,this._index=Pt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};C.OtherSuggestions=new w.RawContextKey("hasOtherSuggestions",!1),C=Be([fe(1,w.IContextKeyService)],C),e.SuggestAlternatives=C}),define(Q[600],J([0,1,16]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let C=class Ci{constructor(D,S){this._editor=D,this._enabled=!1,this._ckAtEnd=Ci.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(110)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(110)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),v=this._editor.getSelection(),u=b.getWordAtPosition(v.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};C.AtEnd=new w.RawContextKey("atEndOfWord",!1),C=Be([fe(1,w.IContextKeyService)],C),e.WordContextKey=C}),define(Q[63],J([0,1,16,9]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,C.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new w.RawContextKey("accessibilityModeEnabled",!1)}),define(Q[601],J([0,1,33,19,4,2,38,17,226,255,393,227,29,142,173,63]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let d=class extends D.Disposable{constructor(p,f,_,I){super();this._accessibilityService=I,this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=p,this._containerObserver=this._register(new v.ElementSizeObserver(_,f.dimension)),this._rawOptions=m(f),this._validatedOptions=h.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(n.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(t.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(w.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const p=this._computeOptions(),f=h.checkEquals(this.options,p);f!==null&&(this.options=p,this._onDidChangeFast.fire(f),this._onDidChange.fire(f))}_computeOptions(){const p=this._readEnvConfiguration(),f=a.BareFontInfo.createFromValidatedSettings(this._validatedOptions,p.zoomLevel,p.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(f),I={memory:this._computeOptionsMemory,outerWidth:p.outerWidth,outerHeight:p.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:p.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:p.emptySelectionClipboard,pixelRatio:p.pixelRatio,tabFocusMode:t.TabFocus.getTabFocusMode(),accessibilitySupport:p.accessibilitySupport};return h.computeOptions(this._validatedOptions,I)}_readEnvConfiguration(){return{extraEditorClassName:r(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:w.isWebKit||w.isFirefox,pixelRatio:w.getPixelRatio(),zoomLevel:w.getZoomLevel(),accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(p){return u.FontMeasurements.readFontInfo(p)}getRawOptions(){return this._rawOptions}updateOptions(p){const f=m(p);!h.applyUpdate(this._rawOptions,f)||(this._validatedOptions=h.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(p){this._containerObserver.observe(p)}observePixelRatio(){this._recomputeOptions()}setIsDominatedByLongLines(p){this._isDominatedByLongLines!==p&&(this._isDominatedByLongLines=p,this._recomputeOptions())}setModelLineCount(p){const f=s(p);this._lineNumbersDigitCount!==f&&(this._lineNumbersDigitCount=f,this._recomputeOptions())}setViewLineCount(p){this._viewLineCount!==p&&(this._viewLineCount=p,this._recomputeOptions())}setReservedHeight(p){this._reservedHeight!==p&&(this._reservedHeight=p,this._recomputeOptions())}};d=Be([fe(3,c.IAccessibilityService)],d),e.EditorConfiguration=d;function s(y){let p=0;for(;y;)y=Math.floor(y/10),p++;return p||1}function r(){let y="";return!w.isSafari&&!w.isWebkitWebView&&(y+="no-user-select "),w.isSafari&&(y+="no-minimap-shadow "),b.isMacintosh&&(y+="mac "),y}class o{constructor(){this._values=[]}_read(p){return this._values[p]}get(p){return this._values[p]}_write(p,f){this._values[p]=f}}class l{constructor(){this._values=[]}_read(p){if(p>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[p]}get(p){return this._read(p)}_write(p,f){this._values[p]=f}}e.ComputedEditorOptions=l;class h{static validateOptions(p){const f=new o;for(const _ of i.editorOptionsRegistry){const I=_.name==="_never_"?void 0:p[_.name];f._write(_.id,_.validate(I))}return f}static computeOptions(p,f){const _=new l;for(const I of i.editorOptionsRegistry)_._write(I.id,I.compute(f,_,p._read(I.id)));return _}static _deepEquals(p,f){if(typeof p!="object"||typeof f!="object"||!p||!f)return p===f;if(Array.isArray(p)||Array.isArray(f))return Array.isArray(p)&&Array.isArray(f)?C.equals(p,f):!1;if(Object.keys(p).length!==Object.keys(f).length)return!1;for(const _ in p)if(!h._deepEquals(p[_],f[_]))return!1;return!0}static checkEquals(p,f){const _=[];let I=!1;for(const E of i.editorOptionsRegistry){const T=!h._deepEquals(p._read(E.id),f._read(E.id));_[E.id]=T,T&&(I=!0)}return I?new i.ConfigurationChangedEvent(_):null}static applyUpdate(p,f){let _=!1;for(const I of i.editorOptionsRegistry)if(f.hasOwnProperty(I.name)){const E=I.applyUpdate(p[I.name],f[I.name]);p[I.name]=E.newValue,_=_||E.didChange}return _}}function m(y){const p=S.deepClone(y);return(0,g.migrateOptions)(p),p}}),define(Q[602],J([0,1,4,2,63,39,16]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let b=class extends C.Disposable{constructor(u,g){super();this._contextKeyService=u,this._configurationService=g,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new w.Emitter,this._accessibilityModeEnabledContext=N.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire())})),t(),this.onDidChangeScreenReaderOptimized(()=>t())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const u=this._configurationService.getValue("editor.accessibilitySupport");return u==="on"||u==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};b=Be([fe(0,S.IContextKeyService),fe(1,D.IConfigurationService)],b),e.AccessibilityService=b}),define(Q[267],J([0,1,17,571,16]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new N.RawContextKey("isMac",w.isMacintosh,(0,C.localize)(0,null)),e.IsLinuxContext=new N.RawContextKey("isLinux",w.isLinux,(0,C.localize)(1,null)),e.IsWindowsContext=new N.RawContextKey("isWindows",w.isWindows,(0,C.localize)(2,null)),e.IsWebContext=new N.RawContextKey("isWeb",w.isWeb,(0,C.localize)(3,null)),e.IsMacNativeContext=new N.RawContextKey("isMacNative",w.isMacintosh&&!w.isWeb,(0,C.localize)(4,null)),e.IsIOSContext=new N.RawContextKey("isIOS",w.isIOS,(0,C.localize)(5,null)),e.IsDevelopmentContext=new N.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new N.RawContextKey(e.InputFocusedContextKey,!1,(0,C.localize)(6,null))}),define(Q[83],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,w.createDecorator)("contextViewService"),e.IContextMenuService=(0,w.createDecorator)("contextMenuService")}),define(Q[125],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,w.createDecorator)("dialogService")}),define(Q[153],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...N){this._entries=new Map;for(let[D,S]of N)this.set(D,S)}set(N,D){const S=this._entries.get(N);return this._entries.set(N,D),S}get(N){return this._entries.get(N)}}e.ServiceCollection=w}),define(Q[603],J([0,1,10,14,192,584,9,153]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const v=!1;class u extends Error{constructor(n){var a;super("cyclic dependency between services");this.message=(a=n.findCycleSlow())!==null&&a!==void 0?a:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class g{constructor(n=new b.ServiceCollection,a=!1,c){this._activeInstantiations=new Set,this._services=n,this._strict=a,this._parent=c,this._services.set(S.IInstantiationService,this)}createChild(n){return new g(n,this._strict,this)}invokeFunction(n,...a){let c=t.traceInvocation(n),d=!1;try{return n({get:r=>{if(d)throw(0,C.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(r,c);if(!o)throw new Error(`[invokeFunction] unknown service '${r}'`);return o}},...a)}finally{d=!0,c.stop()}}createInstance(n,...a){let c,d;return n instanceof N.SyncDescriptor?(c=t.traceCreation(n.ctor),d=this._createInstance(n.ctor,n.staticArguments.concat(a),c)):(c=t.traceCreation(n),d=this._createInstance(n,a,c)),c.stop(),d}_createInstance(n,a=[],c){let d=S._util.getServiceDependencies(n).sort((o,l)=>o.index-l.index),s=[];for(const o of d){let l=this._getOrCreateServiceInstance(o.id,c);if(!l&&this._strict&&!o.optional)throw new Error(`[createInstance] ${n.name} depends on UNKNOWN service ${o.id}.`);s.push(l)}let r=d.length>0?d[0].index:a.length;if(a.length!==r){console.warn(`[createInstance] First service dependency of ${n.name} at position ${r+1} conflicts with ${a.length} static arguments`);let o=r-a.length;o>0?a=a.concat(new Array(o)):a=a.slice(0,r)}return new n(...[...a,...s])}_setServiceInstance(n,a){if(this._services.get(n)instanceof N.SyncDescriptor)this._services.set(n,a);else if(this._parent)this._parent._setServiceInstance(n,a);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){let a=this._services.get(n);return!a&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):a}_getOrCreateServiceInstance(n,a){let c=this._getServiceInstanceOrDescriptor(n);return c instanceof N.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,c,a.branch(n,!0)):(a.branch(n,!1),c)}_safeCreateAndCacheServiceInstance(n,a,c){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,a,c)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,a,c){const d=new D.Graph(o=>o.id.toString());let s=0;const r=[{id:n,desc:a,_trace:c}];for(;r.length;){const o=r.pop();if(d.lookupOrInsertNode(o),s++>1e3)throw new u(d);for(let l of S._util.getServiceDependencies(o.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(l.id);if(!h&&!l.optional&&console.warn(`[createInstance] ${n} depends on ${l.id} which is NOT registered.`),h instanceof N.SyncDescriptor){const m={id:l.id,desc:h,_trace:o._trace.branch(l.id,!0)};d.insertEdge(o,m),r.push(m)}}}for(;;){const o=d.roots();if(o.length===0){if(!d.isEmpty())throw new u(d);break}for(const{data:l}of o){if(this._getServiceInstanceOrDescriptor(l.id)instanceof N.SyncDescriptor){const m=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,m)}d.removeNode(l)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,a,c=[],d,s){if(this._services.get(n)instanceof N.SyncDescriptor)return this._createServiceInstance(a,c,d,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,a,c,d,s);throw new Error(`illegalState - creating UNKNOWN service instance ${a.name}`)}_createServiceInstance(n,a=[],c,d){if(c){const s=new w.IdleValue(()=>this._createInstance(n,a,d));return new Proxy(Object.create(null),{get(r,o){if(o in r)return r[o];let l=s.value,h=l[o];return typeof h!="function"||(h=h.bind(l),r[o]=h),h},set(r,o,l){return s.value[o]=l,!0}})}else return this._createInstance(n,a,d)}}e.InstantiationService=g;class t{constructor(n,a){this.type=n,this.name=a,this._start=Date.now(),this._dep=[]}static traceInvocation(n){return v?new t(1,n.name||n.toString().substring(0,42).replace(/\n/g,"")):t._None}static traceCreation(n){return v?new t(0,n.name):t._None}branch(n,a){let c=new t(2,n.toString());return this._dep.push([n,a,c]),c}stop(){let n=Date.now()-this._start;t._totals+=n;let a=!1;function c(s,r){let o=[],l=new Array(s+1).join("	");for(const[h,m,y]of r._dep)if(m&&y){a=!0,o.push(`${l}CREATES -> ${h}`);let p=c(s+1,y);p&&o.push(p)}else o.push(`${l}uses -> ${h}`);return o.join(`
`)}let d=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${c(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${t._totals.toFixed(2)}ms)`];(n>2||a)&&console.log(d.join(`
`))}}t._None=new class extends t{constructor(){super(-1,null)}stop(){}branch(){return this}},t._totals=0}),define(Q[604],J([0,1,10,4,2,572]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const S=/^(cursor|delete)/;class b extends N.Disposable{constructor(g,t,i,n,a){super();this._contextKeyService=g,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=a,this._onDidUpdateKeybindings=this._register(new C.Emitter),this._currentChord=null,this._currentChordChecker=new w.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new w.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:C.Event.None}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,t){const i=this._getResolver().lookupPrimaryKeybinding(g,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(g,t){return this._dispatch(g,t)}softDispatch(g,t){const i=this.resolveKeyboardEvent(g);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(n===null)return null;const a=this._contextKeyService.getContext(t),c=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,c,n)}_enterChordMode(g,t){this._currentChord={keypress:g,label:t},this._currentChordStatusMessage=this._notificationService.status(D.localize(0,null,t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,t){return this._doDispatch(this.resolveKeyboardEvent(g),t,!1)}_singleModifierDispatch(g,t){const i=this.resolveKeyboardEvent(g),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[a]=i.getParts();return this._ignoreSingleModifiers=new v(a),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,t,i=!1){let n=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,c=null;if(i){const[o]=g.getSingleModifierDispatchParts();a=o,c=o}else[a]=g.getDispatchParts(),c=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const d=this._contextKeyService.getContext(t),s=g.getLabel(),r=this._getResolver().resolve(d,c,a);return this._logService.trace("KeybindingService#dispatch",s,r==null?void 0:r.commandId),r&&r.enterChord?(n=!0,this._enterChordMode(a,s),n):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(D.localize(1,null,this._currentChord.label,s),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(n=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,o=>this._notificationService.warn(o)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,o=>this._notificationService.warn(o)),S.test(r.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=b;class v{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}v.EMPTY=new v(null)}),define(Q[605],J([0,1,14,191,94]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends N.ResolvedKeybinding{constructor(b,v){super();if(v.length===0)throw(0,w.illegalArgument)("parts");this._os=b,this._parts=v}getLabel(){return C.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return C.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:C.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new N.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=D}),define(Q[42],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,w.createDecorator)("keybindingService")}),define(Q[268],J([0,1,16]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class C{constructor(b,v,u){this._log=u,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(let g=0,t=b.length;g<t;g++){const i=b[g].command;i&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=C.combine(b,v);for(let g=0,t=this._keybindings.length;g<t;g++){let i=this._keybindings[g];i.keypressParts.length!==0&&(i.when&&i.when.type===0||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(b,v,u,g,t){return!(b.command!==g||v&&b.keypressParts[0]!==v||u&&b.keypressParts[1]!==u||t&&(!b.when||!(0,w.expressionsAreEqualWithConstantSubstitution)(t,b.when)))}static combine(b,v){b=b.slice(0);let u=[];for(const g of v){if(!g.command||g.command.length===0||g.command.charAt(0)!=="-"){u.push(g);continue}const t=g.command.substr(1),i=g.keypressParts[0],n=g.keypressParts[1],a=g.when;for(let c=b.length-1;c>=0;c--)this._isTargetedForRemoval(b[c],i,n,t,a)&&b.splice(c,1)}return b.concat(u)}_addKeyPress(b,v){const u=this._map.get(b);if(typeof u=="undefined"){this._map.set(b,[v]),this._addToLookupMap(v);return}for(let g=u.length-1;g>=0;g--){let t=u[g];if(t.command===v.command)continue;const i=t.keypressParts.length>1,n=v.keypressParts.length>1;i&&n&&t.keypressParts[1]!==v.keypressParts[1]||C.whenIsEntirelyIncluded(t.when,v.when)&&this._removeFromLookupMap(t)}u.push(v),this._addToLookupMap(v)}_addToLookupMap(b){if(!b.command)return;let v=this._lookupMap.get(b.command);typeof v=="undefined"?(v=[b],this._lookupMap.set(b.command,v)):v.push(b)}_removeFromLookupMap(b){if(!b.command)return;let v=this._lookupMap.get(b.command);if(typeof v!="undefined"){for(let u=0,g=v.length;u<g;u++)if(v[u]===b){v.splice(u,1);return}}}static whenIsEntirelyIncluded(b,v){return!v||v.type===1?!0:!b||b.type===1?!1:(0,w.implies)(b,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,v){const u=this._lookupMap.get(b);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let g=u.length-1;g>=0;g--){const t=u[g];if(v.contextMatchesRules(t.when))return t}return u[u.length-1]}resolve(b,v,u){this._log(`| Resolving ${u}${v?` chorded from ${v}`:""}`);let g=null;if(v!==null){const i=this._map.get(v);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=[];for(let n=0,a=i.length;n<a;n++){let c=i[n];c.keypressParts[1]===u&&g.push(c)}}else{const i=this._map.get(u);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=i}let t=this._findCommand(b,g);return t?v===null&&t.keypressParts.length>1&&t.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${N(t.when)}, source: ${D(t)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${t.command}, when: ${N(t.when)}, source: ${D(t)}.`),{enterChord:!1,leaveChord:t.keypressParts.length>1,commandId:t.command,commandArgs:t.commandArgs,bubble:t.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,v){for(let u=v.length-1;u>=0;u--){let g=v[u];if(!!C.contextMatchesRules(b,g.when))return g}return null}static contextMatchesRules(b,v){return v?v.evaluate(b):!0}}e.KeybindingResolver=C;function N(S){return S?`${S.serialize()}`:"no when condition"}function D(S){return S.extensionId?S.isBuiltinExtension?`built-in extension ${S.extensionId}`:`user extension ${S.extensionId}`:S.isDefault?"built-in":"user"}}),define(Q[606],J([0,1,4,54,2,47,570,26,39,16,268]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const t="data-keybinding-context";class i{constructor(p,f){this._id=p,this._parent=f,this._value=Object.create(null),this._value._contextId=p}setValue(p,f){return this._value[p]!==f?(this._value[p]=f,!0):!1}removeValue(p){return p in this._value?(delete this._value[p],!0):!1}getValue(p){const f=this._value[p];return typeof f=="undefined"&&this._parent?this._parent.getValue(p):f}}e.Context=i;class n extends i{constructor(){super(-1,null)}setValue(p,f){return!1}removeValue(p){return!1}getValue(p){}}n.INSTANCE=new n;class a extends i{constructor(p,f,_){super(p,null);this._configurationService=f,this._values=D.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(I=>{if(I.source===6){const E=Array.from(C.Iterable.map(this._values,([T])=>T));this._values.clear(),_.fire(new s(E))}else{const E=[];for(const T of I.affectedKeys){const k=`config.${T}`,A=this._values.findSuperstr(k);A!==void 0&&(E.push(...C.Iterable.map(A,([P])=>P)),this._values.deleteSuperstr(k)),this._values.has(k)&&(E.push(k),this._values.delete(k))}_.fire(new s(E))}})}dispose(){this._listener.dispose()}getValue(p){if(p.indexOf(a._keyPrefix)!==0)return super.getValue(p);if(this._values.has(p))return this._values.get(p);const f=p.substr(a._keyPrefix.length),_=this._configurationService.getValue(f);let I;switch(typeof _){case"number":case"boolean":case"string":I=_;break;default:Array.isArray(_)?I=JSON.stringify(_):I=_}return this._values.set(p,I),I}setValue(p,f){return super.setValue(p,f)}removeValue(p){return super.removeValue(p)}}a._keyPrefix="config.";class c{constructor(p,f,_){this._service=p,this._key=f,this._defaultValue=_,this.reset()}set(p){this._service.setContext(this._key,p)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class d{constructor(p){this.key=p}affectsSome(p){return p.has(this.key)}}class s{constructor(p){this.keys=p}affectsSome(p){for(const f of this.keys)if(p.has(f))return!0;return!1}}class r{constructor(p){this.events=p}affectsSome(p){for(const f of this.events)if(f.affectsSome(p))return!0;return!1}}class o{constructor(p){this._onDidChangeContext=new w.PauseableEmitter({merge:f=>new r(f)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=p}createKey(p,f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,p,f)}bufferChangeEvents(p){this._onDidChangeContext.pause();try{p()}finally{this._onDidChangeContext.resume()}}createScoped(p){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,p)}contextMatchesRules(p){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const f=this.getContextValuesContainer(this._myContextId);return g.KeybindingResolver.contextMatchesRules(f,p)}getContextKeyValue(p){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(p)}setContext(p,f){if(this._isDisposed)return;const _=this.getContextValuesContainer(this._myContextId);!_||_.setValue(p,f)&&this._onDidChangeContext.fire(new d(p))}removeContext(p){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(p)&&this._onDidChangeContext.fire(new d(p))}getContext(p){return this._isDisposed?n.INSTANCE:this.getContextValuesContainer(m(p))}}e.AbstractContextKeyService=o;let l=class extends o{constructor(p){super(0);this._contexts=new Map,this._toDispose=new N.DisposableStore,this._lastContextId=0;const f=new a(this._myContextId,p,this._onDidChangeContext);this._contexts.set(this._myContextId,f),this._toDispose.add(f)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(p){return this._isDisposed?n.INSTANCE:this._contexts.get(p)||n.INSTANCE}createChildContext(p=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let f=++this._lastContextId;return this._contexts.set(f,new i(f,this.getContextValuesContainer(p))),f}disposeContext(p){this._isDisposed||this._contexts.delete(p)}};l=Be([fe(0,v.IConfigurationService)],l),e.ContextKeyService=l;class h extends o{constructor(p,f){super(p.createChildContext());if(this._parentChangeListener=new N.MutableDisposable,this._parent=p,this._updateParentChangeListener(),this._domNode=f,this._domNode.hasAttribute(t)){let _="";this._domNode.classList&&(_=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${_?": "+_:""}`)}this._domNode.setAttribute(t,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(t),this._isDisposed=!0)}getContextValuesContainer(p){return this._isDisposed?n.INSTANCE:this._parent.getContextValuesContainer(p)}createChildContext(p=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(p)}disposeContext(p){this._isDisposed||this._parent.disposeContext(p)}}function m(y){for(;y;){if(y.hasAttribute(t)){const p=y.getAttribute(t);return p?parseInt(p,10):NaN}y=y.parentElement}return 0}b.CommandsRegistry.registerCommand(u.SET_CONTEXT_COMMAND_ID,function(y,p,f){y.get(u.IContextKeyService).createKey(String(p),f)}),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...u.RawContextKey.all()].sort((y,p)=>y.key.localeCompare(p.key))},description:{description:(0,S.localize)(0,null),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const y=[],p=new Set;for(let f of u.RawContextKey.all())p.has(f.key)||(p.add(f.key),y.push(f));y.sort((f,_)=>f.key.localeCompare(_.key)),console.log(JSON.stringify(y,void 0,2))})}),define(Q[269],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class w{constructor(D,S,b,v,u,g,t){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.keypressParts=D?C(D.getDispatchParts()):[],D&&this.keypressParts.length===0&&(this.keypressParts=C(D.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=b,this.when=v,this.isDefault=u,this.extensionId=g,this.isBuiltinExtension=t}}e.ResolvedKeybindingItem=w;function C(N){let D=[];for(let S=0,b=N.length;S<b;S++){const v=N[S];if(!v)return D;D.push(v)}return D}e.removeElementsAfterNulls=C}),define(Q[607],J([0,1,55,94,605,269]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends N.BaseResolvedKeybinding{constructor(v,u){super(u,v.parts)}_keyCodeToUILabel(v){if(this._os===2)switch(v){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return w.KeyCodeUtils.toString(v)}_getLabel(v){return v.isDuplicateModifierCase()?"":this._keyCodeToUILabel(v.keyCode)}_getAriaLabel(v){return v.isDuplicateModifierCase()?"":w.KeyCodeUtils.toString(v.keyCode)}_getElectronAccelerator(v){return w.KeyCodeUtils.toElectronAccelerator(v.keyCode)}_getDispatchPart(v){return S.getDispatchStr(v)}static getDispatchStr(v){if(v.isModifierKey())return null;let u="";return v.ctrlKey&&(u+="ctrl+"),v.shiftKey&&(u+="shift+"),v.altKey&&(u+="alt+"),v.metaKey&&(u+="meta+"),u+=w.KeyCodeUtils.toString(v.keyCode),u}_getSingleModifierDispatchPart(v){return v.keyCode===5&&!v.shiftKey&&!v.altKey&&!v.metaKey?"ctrl":v.keyCode===4&&!v.ctrlKey&&!v.altKey&&!v.metaKey?"shift":v.keyCode===6&&!v.ctrlKey&&!v.shiftKey&&!v.metaKey?"alt":v.keyCode===57&&!v.ctrlKey&&!v.shiftKey&&!v.altKey?"meta":null}static _scanCodeToKeyCode(v){const u=w.IMMUTABLE_CODE_TO_KEY_CODE[v];if(u!==-1)return u;switch(v){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(v){if(!v)return null;if(v instanceof C.SimpleKeybinding)return v;const u=this._scanCodeToKeyCode(v.scanCode);return u===0?null:new C.SimpleKeybinding(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,u)}static resolveUserBinding(v,u){const g=(0,D.removeElementsAfterNulls)(v.map(t=>this._resolveSimpleUserBinding(t)));return g.length>0?[new S(new C.ChordKeybinding(g),u)]:[]}}e.USLayoutResolvedKeybinding=S}),define(Q[126],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,w.createDecorator)("labelService")}),define(Q[127],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,w.createDecorator)("layoutService")}),define(Q[270],J([0,1,7,4,127,28,61]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{constructor(g){this._codeEditorService=g,this.onDidLayout=C.Event.None}get dimension(){return this._dimension||(this._dimension=w.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this._codeEditorService.getFocusedCodeEditor())===null||g===void 0||g.focus()}};b=Be([fe(0,D.ICodeEditorService)],b);let v=class extends b{constructor(g,t){super(t);this._container=g}get hasContainer(){return!1}get container(){return this._container}};v=Be([fe(1,D.ICodeEditorService)],v),e.EditorScopedLayoutService=v,(0,S.registerSingleton)(N.ILayoutService,b)}),define(Q[608],J([0,1,218,2,127]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends C.Disposable{constructor(b){super();this.layoutService=b,this.currentViewDisposable=C.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new w.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,v){this.contextView.setContainer(b,v||1)}showContextView(b,v,u){v?v!==this.container&&(this.container=v,this.setContainer(v,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(b);const g=(0,C.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};D=Be([fe(0,N.ILayoutService)],D),e.ContextViewService=D}),define(Q[68],J([0,1,4,2,9]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,N.createDecorator)("logService");var D;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(D=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=D.Info;class S extends C.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new w.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class b extends S{constructor(g=e.DEFAULT_LOG_LEVEL){super();this.setLevel(g)}trace(g,...t){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",g,...t)}debug(g,...t){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...t)}info(g,...t){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",g,...t)}error(g,...t){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",g,...t)}dispose(){}}e.ConsoleLogger=b;class v extends C.Disposable{constructor(g){super();this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...t){this.logger.trace(g,...t)}debug(g,...t){this.logger.debug(g,...t)}info(g,...t){this.logger.info(g,...t)}error(g,...t){this.logger.error(g,...t)}}e.LogService=v}),define(Q[271],J([0,1,10,2,215,323,3,18,35,429,44,152,8,19,68,87,14]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const s=60*1e3,r=5*60*1e3;function o(I,E){const T=I.getModel(E);return!(!T||T.isTooLargeForSyncing())}let l=class extends C.Disposable{constructor(E,T,k,A){super();this._modelService=E,this._workerManager=this._register(new m(this._modelService,A)),this._logService=k,this._register(b.LinkProviderRegistry.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(P,F)=>o(this._modelService,P.uri)?this._workerManager.withWorker().then(R=>R.computeLinks(P.uri)).then(R=>R&&{links:R}):Promise.resolve({links:[]})})),this._register(b.CompletionProviderRegistry.register("*",new h(this._workerManager,T,this._modelService,A)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return o(this._modelService,E)}computedUnicodeHighlights(E,T,k){return this._workerManager.withWorker().then(A=>A.computedUnicodeHighlights(E,T,k))}computeDiff(E,T,k,A){return this._workerManager.withWorker().then(P=>P.computeDiff(E,T,k,A))}computeMoreMinimalEdits(E,T){if((0,n.isNonEmptyArray)(T)){if(!o(this._modelService,E))return Promise.resolve(T);const k=c.StopWatch.create(!0),A=this._workerManager.withWorker().then(P=>P.computeMoreMinimalEdits(E,T));return A.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),k.elapsed())),Promise.race([A,(0,w.timeout)(1e3).then(()=>T)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return o(this._modelService,E)}navigateValueSet(E,T,k){return this._workerManager.withWorker().then(A=>A.navigateValueSet(E,T,k))}canComputeWordRanges(E){return o(this._modelService,E)}computeWordRanges(E,T){return this._workerManager.withWorker().then(k=>k.computeWordRanges(E,T))}};l=Be([fe(0,g.IModelService),fe(1,t.ITextResourceConfigurationService),fe(2,a.ILogService),fe(3,v.ILanguageConfigurationService)],l),e.EditorWorkerService=l;class h{constructor(E,T,k,A){this.languageConfigurationService=A,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=T,this._modelService=k}provideCompletionItems(E,T){return De(this,void 0,void 0,function*(){const k=this._configurationService.getValue(E.uri,T,"editor");if(!k.wordBasedSuggestions)return;const A=[];if(k.wordBasedSuggestionsMode==="currentDocument")o(this._modelService,E.uri)&&A.push(E.uri);else for(const B of this._modelService.getModels())!o(this._modelService,B.uri)||(B===E?A.unshift(B.uri):(k.wordBasedSuggestionsMode==="allDocuments"||B.getLanguageId()===E.getLanguageId())&&A.push(B.uri));if(A.length===0)return;const P=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),F=E.getWordAtPosition(T),R=F?new S.Range(T.lineNumber,F.startColumn,T.lineNumber,F.endColumn):S.Range.fromPositions(T),M=R.setEndPosition(T.lineNumber,T.column),L=yield(yield this._workerManager.withWorker()).textualSuggest(A,F==null?void 0:F.word,P);if(!!L)return{duration:L.duration,suggestions:L.words.map(B=>({kind:18,label:B,insertText:B,range:{insert:M,replace:R}}))}})}}class m extends C.Disposable{constructor(E,T){super();this.languageConfigurationService=T,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new w.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(r/2)),this._register(this._modelService.onModelRemoved(A=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>r&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class y extends C.Disposable{constructor(E,T,k){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=T,!k){const A=new w.IntervalTimer;A.cancelAndSet(()=>this._checkStopModelSync(),Math.round(s/2)),this._register(A)}}dispose(){for(let E in this._syncedModels)(0,C.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,T){for(const k of E){const A=k.toString();this._syncedModels[A]||this._beginModelSync(k,T),this._syncedModels[A]&&(this._syncedModelsLastUsedTime[A]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),T=[];for(let k in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[k]>s&&T.push(k);for(const k of T)this._stopModelSync(k)}_beginModelSync(E,T){const k=this._modelService.getModel(E);if(!k||!T&&k.isTooLargeForSyncing())return;const A=E.toString();this._proxy.acceptNewModel({url:k.uri.toString(),lines:k.getLinesContent(),EOL:k.getEOL(),versionId:k.getVersionId()});const P=new C.DisposableStore;P.add(k.onDidChangeContent(F=>{this._proxy.acceptModelChanged(A.toString(),F)})),P.add(k.onWillDispose(()=>{this._stopModelSync(A)})),P.add((0,C.toDisposable)(()=>{this._proxy.acceptRemovedModel(A)})),this._syncedModels[A]=P}_stopModelSync(E){const T=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,C.dispose)(T)}}class p{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class f{constructor(E){this._workerClient=E}fhr(E,T){return this._workerClient.fhr(E,T)}}e.EditorWorkerHost=f;class _ extends C.Disposable{constructor(E,T,k,A){super();this.languageConfigurationService=A,this._disposed=!1,this._modelService=E,this._keepIdleModels=T,this._workerFactory=new D.DefaultWorkerFactory(k),this._worker=null,this._modelManager=null}fhr(E,T){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new N.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new f(this)))}catch(E){(0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new u.EditorSimpleWorker(new f(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,N.logOnceWebWorkerWarning)(E),this._worker=new p(new u.EditorSimpleWorker(new f(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new y(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,T=!1){return De(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,d.canceled)()):this._getProxy().then(k=>(this._getOrCreateModelManager(k).ensureSyncedResources(E,T),k))})}computedUnicodeHighlights(E,T,k){return this._withSyncedResources([E]).then(A=>A.computeUnicodeHighlights(E.toString(),T,k))}computeDiff(E,T,k,A){return this._withSyncedResources([E,T],!0).then(P=>P.computeDiff(E.toString(),T.toString(),k,A))}computeMoreMinimalEdits(E,T){return this._withSyncedResources([E]).then(k=>k.computeMoreMinimalEdits(E.toString(),T))}computeLinks(E){return this._withSyncedResources([E]).then(T=>T.computeLinks(E.toString()))}textualSuggest(E,T,k){return De(this,void 0,void 0,function*(){const A=yield this._withSyncedResources(E),P=k.source,F=(0,i.regExpFlags)(k);return A.textualSuggest(E.map(R=>R.toString()),T,P,F)})}computeWordRanges(E,T){return this._withSyncedResources([E]).then(k=>{const A=this._modelService.getModel(E);if(!A)return Promise.resolve(null);const P=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),F=P.source,R=(0,i.regExpFlags)(P);return k.computeWordRanges(E.toString(),T,F,R)})}navigateValueSet(E,T,k){return this._withSyncedResources([E]).then(A=>{const P=this._modelService.getModel(E);if(!P)return null;const F=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),R=F.source,M=(0,i.regExpFlags)(F);return A.navigateValueSet(E.toString(),T,k,R,M)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(Q[609],J([0,1,271,20]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function N(S,b,v){return new D(S,b,v)}e.createWebWorker=N;class D extends w.EditorWorkerClient{constructor(b,v,u){super(b,u.keepIdleModels||!1,u.label,v);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(b,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,v))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const v=this._foreignModuleHost?C.getAllMethodNames(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(u=>{this._foreignModuleCreateData=null;const g=(n,a)=>b.fmr(n,a),t=(n,a)=>function(){const c=Array.prototype.slice.call(arguments,0);return a(n,c)},i={};for(const n of u)i[n]=t(n,g);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(v=>this.getProxy())}}}),define(Q[610],J([0,1,33,7,10,2,127,68]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let v=class extends D.Disposable{constructor(g,t){super();this.layoutService=g,this.logService=t,this.mapTextToType=new Map,this.findText="",(w.isSafari||w.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const t=new N.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>De(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,C.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,C.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(g,t){return De(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,g);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(a){console.error(a)}const i=document.activeElement,n=document.body.appendChild((0,C.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=g,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(g){return De(this,void 0,void 0,function*(){if(g)return this.mapTextToType.get(g)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return De(this,void 0,void 0,function*(){return this.findText})}writeFindText(g){return De(this,void 0,void 0,function*(){this.findText=g})}};v=Be([fe(0,S.ILayoutService),fe(1,b.ILogService)],v),e.BrowserClipboardService=v}),define(Q[74],J([0,1,80,574,9]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(D=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function v(n,a){return a-n}b.compare=v;const u=Object.create(null);u[b.Error]=(0,C.localize)(0,null),u[b.Warning]=(0,C.localize)(1,null),u[b.Info]=(0,C.localize)(2,null);function g(n){return u[n]||""}b.toString=g;function t(n){switch(n){case w.default.Error:return b.Error;case w.default.Warning:return b.Warning;case w.default.Info:return b.Info;case w.default.Ignore:return b.Hint}}b.fromSeverity=t;function i(n){switch(n){case b.Error:return w.default.Error;case b.Warning:return w.default.Warning;case b.Info:return w.default.Info;case b.Hint:return w.default.Ignore}}b.toSeverity=i}(D=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(b){const v="";function u(t){return g(t,!0)}b.makeKey=u;function g(t,i){let n=[v];return t.source?n.push(t.source.replace("\xA6","\\\xA6")):n.push(v),t.code?typeof t.code=="string"?n.push(t.code.replace("\xA6","\\\xA6")):n.push(t.code.value.replace("\xA6","\\\xA6")):n.push(v),t.severity!==void 0&&t.severity!==null?n.push(D.toString(t.severity)):n.push(v),t.message&&i?n.push(t.message.replace("\xA6","\\\xA6")):n.push(v),t.startLineNumber!==void 0&&t.startLineNumber!==null?n.push(t.startLineNumber.toString()):n.push(v),t.startColumn!==void 0&&t.startColumn!==null?n.push(t.startColumn.toString()):n.push(v),t.endLineNumber!==void 0&&t.endLineNumber!==null?n.push(t.endLineNumber.toString()):n.push(v),t.endColumn!==void 0&&t.endColumn!==null?n.push(t.endColumn.toString()):n.push(v),n.push(v),n.join("\xA6")}b.makeKeyOptionalMessage=g})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,N.createDecorator)("markerService")}),define(Q[611],J([0,1,19,4,2,78,8,25,3,61,9,74,39]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(s,r,o){this.marker=s,this.index=r,this.total=o}}e.MarkerCoordinate=n;let a=class{constructor(s,r,o){this._markerService=r,this._configService=o,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new N.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(s)?this._resourceFilter=y=>y.toString()===s.toString():s&&(this._resourceFilter=s);const l=this._configService.getValue("problems.sortOrder"),h=(y,p)=>{let f=(0,S.compare)(y.resource.toString(),p.resource.toString());return l==="position"?f=v.Range.compareRangesUsingStarts(y,p)||t.MarkerSeverity.compare(y.severity,p.severity):f=t.MarkerSeverity.compare(y.severity,p.severity)||v.Range.compareRangesUsingStarts(y,p),f},m=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(s)?s:void 0,severities:t.MarkerSeverity.Error|t.MarkerSeverity.Warning|t.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(y=>this._resourceFilter(y.resource))),this._markers.sort(h)};m(),this._dispoables.add(r.onMarkerChanged(y=>{(!this._resourceFilter||y.some(p=>this._resourceFilter(p)))&&(m(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new n(s,this._nextIdx+1,this._markers.length)}_initIdx(s,r,o){let l=!1,h=this._markers.findIndex(m=>m.resource.toString()===s.uri.toString());h<0&&(h=(0,w.binarySearch)(this._markers,{resource:s.uri},(m,y)=>(0,S.compare)(m.resource.toString(),y.resource.toString())),h<0&&(h=~h));for(let m=h;m<this._markers.length;m++){let y=v.Range.lift(this._markers[m]);if(y.isEmpty()){const p=s.getWordAtPosition(y.getStartPosition());p&&(y=new v.Range(y.startLineNumber,p.startColumn,y.startLineNumber,p.endColumn))}if(r&&(y.containsPosition(r)||r.isBeforeOrEqual(y.getStartPosition()))){this._nextIdx=m,l=!0;break}if(this._markers[m].resource.toString()!==s.uri.toString())break}l||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,r,o){if(this._markers.length===0)return!1;let l=this._nextIdx;return this._nextIdx===-1?this._initIdx(r,o,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),l!==this._nextIdx}find(s,r){let o=this._markers.findIndex(l=>l.resource.toString()===s.toString());if(!(o<0)){for(;o<this._markers.length;o++)if(v.Range.containsPosition(this._markers[o],r))return new n(this._markers[o],o+1,this._markers.length)}}};a=Be([fe(1,t.IMarkerService),fe(2,i.IConfigurationService)],a),e.MarkerList=a,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let c=class{constructor(s,r){this._markerService=s,this._configService=r,this._provider=new D.LinkedList}getMarkerList(s){for(let r of this._provider){const o=r.getMarkerList(s);if(o)return o}return new a(s,this._markerService,this._configService)}};c=Be([fe(0,t.IMarkerService),fe(1,i.IConfigurationService)],c),(0,u.registerSingleton)(e.IMarkerNavigationService,c,!0)}),define(Q[612],J([0,1,19,4,54,47,48,25,74]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class u{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(n,a,c){let d=this._byResource.get(n);d||(d=new Map,this._byResource.set(n,d)),d.set(a,c);let s=this._byOwner.get(a);s||(s=new D.ResourceMap,this._byOwner.set(a,s)),s.set(n,c)}get(n,a){let c=this._byResource.get(n);return c==null?void 0:c.get(a)}delete(n,a){let c=!1,d=!1,s=this._byResource.get(n);s&&(c=s.delete(a));let r=this._byOwner.get(a);if(r&&(d=r.delete(n)),c!==d)throw new Error("illegal state");return c&&d}values(n){var a,c,d,s;return typeof n=="string"?(c=(a=this._byOwner.get(n))===null||a===void 0?void 0:a.values())!==null&&c!==void 0?c:N.Iterable.empty():b.URI.isUri(n)?(s=(d=this._byResource.get(n))===null||d===void 0?void 0:d.values())!==null&&s!==void 0?s:N.Iterable.empty():N.Iterable.map(N.Iterable.concat(...this._byOwner.values()),r=>r[1])}}class g{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const a of n){const c=this._data.get(a);c&&this._substract(c);const d=this._resourceStats(a);this._add(d),this._data.set(a,d)}}_resourceStats(n){const a={errors:0,warnings:0,infos:0,unknowns:0};if(n.scheme===S.Schemas.inMemory||n.scheme===S.Schemas.walkThrough||n.scheme===S.Schemas.walkThroughSnippet)return a;for(const{severity:c}of this._service.read({resource:n}))c===v.MarkerSeverity.Error?a.errors+=1:c===v.MarkerSeverity.Warning?a.warnings+=1:c===v.MarkerSeverity.Info?a.infos+=1:a.unknowns+=1;return a}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class t{constructor(){this._onMarkerChanged=new C.DebounceEmitter({delay:0,merge:t._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,a){for(const c of a||[])this.changeOne(n,c,[])}changeOne(n,a,c){if((0,w.isFalsyOrEmpty)(c))this._data.delete(a,n)&&this._onMarkerChanged.fire([a]);else{const d=[];for(const s of c){const r=t._toMarker(n,a,s);r&&d.push(r)}this._data.set(a,n,d),this._onMarkerChanged.fire([a])}}static _toMarker(n,a,c){let{code:d,severity:s,message:r,source:o,startLineNumber:l,startColumn:h,endLineNumber:m,endColumn:y,relatedInformation:p,tags:f}=c;if(!!r)return l=l>0?l:1,h=h>0?h:1,m=m>=l?m:l,y=y>0?y:h,{resource:a,owner:n,code:d,severity:s,message:r,source:o,startLineNumber:l,startColumn:h,endLineNumber:m,endColumn:y,relatedInformation:p,tags:f}}read(n=Object.create(null)){let{owner:a,resource:c,severities:d,take:s}=n;if((!s||s<0)&&(s=-1),a&&c){const r=this._data.get(c,a);if(r){const o=[];for(const l of r)if(t._accept(l,d)){const h=o.push(l);if(s>0&&h===s)break}return o}else return[]}else if(!a&&!c){const r=[];for(let o of this._data.values())for(let l of o)if(t._accept(l,d)){const h=r.push(l);if(s>0&&h===s)return r}return r}else{const r=this._data.values(c??a),o=[];for(const l of r)for(const h of l)if(t._accept(h,d)){const m=o.push(h);if(s>0&&m===s)return o}return o}}static _accept(n,a){return a===void 0||(a&n.severity)===n.severity}static _merge(n){const a=new D.ResourceMap;for(let c of n)for(let d of c)a.set(d,!0);return Array.from(a.keys())}}e.MarkerService=t}),define(Q[40],J([0,1,80,9]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=(0,C.createDecorator)("notificationService");class N{}e.NoOpNotification=N}),define(Q[51],J([0,1,2,8,25,9]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,D.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return w.Disposable.None},registerValidator(){return w.Disposable.None},registerExternalUriResolver(){return w.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return w.Disposable.None},open(){return De(this,void 0,void 0,function*(){return!1})},resolveExternalUri(v){return De(this,void 0,void 0,function*(){return{resolved:v,dispose(){}}})}});function S(v,u){return N.URI.isUri(v)?(0,C.equalsIgnoreCase)(v.scheme,u):(0,C.startsWithIgnoreCase)(v,u+":")}e.matchesScheme=S;function b(v,...u){return u.some(g=>S(v,g))}e.matchesSomeScheme=b}),define(Q[613],J([0,1,7,23,78,47,212,48,41,25,28,26,582,51]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let a=class{constructor(r){this._commandService=r}open(r,o){return De(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(r,b.Schemas.command))return!1;if(!(o==null?void 0:o.allowCommands))return!0;typeof r=="string"&&(r=u.URI.parse(r));let l=[];try{l=(0,S.parse)(decodeURIComponent(r.query))}catch{try{l=(0,S.parse)(r.query)}catch{}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(r.path,...l),!0})}};a=Be([fe(0,t.ICommandService)],a);let c=class{constructor(r){this._editorService=r}open(r,o){return De(this,void 0,void 0,function*(){typeof r=="string"&&(r=u.URI.parse(r));let l;const h=/^L?(\d+)(?:,(\d+))?/.exec(r.fragment);return h&&(l={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},r=r.with({fragment:""})),r.scheme===b.Schemas.file&&(r=(0,v.normalizePath)(r)),yield this._editorService.openCodeEditor({resource:r,options:Object.assign({selection:l,context:(o==null?void 0:o.fromUserGesture)?i.EditorOpenContext.USER:i.EditorOpenContext.API},o==null?void 0:o.editorOptions)},this._editorService.getFocusedCodeEditor(),o==null?void 0:o.openToSide),!0})}};c=Be([fe(0,g.ICodeEditorService)],c);let d=class{constructor(r,o){this._openers=new N.LinkedList,this._validators=new N.LinkedList,this._resolvers=new N.LinkedList,this._resolvedUriTargets=new D.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new N.LinkedList,this._defaultExternalOpener={openExternal:l=>De(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(l,b.Schemas.http,b.Schemas.https)?w.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,h)=>De(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,n.matchesSomeScheme)(l,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(l,h),!0):!1})}),this._openers.push(new a(o)),this._openers.push(new c(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}registerValidator(r){return{dispose:this._validators.push(r)}}registerExternalUriResolver(r){return{dispose:this._resolvers.push(r)}}setDefaultExternalOpener(r){this._defaultExternalOpener=r}registerExternalOpener(r){return{dispose:this._externalOpeners.push(r)}}open(r,o){var l;return De(this,void 0,void 0,function*(){const h=typeof r=="string"?u.URI.parse(r):r,m=(l=this._resolvedUriTargets.get(h))!==null&&l!==void 0?l:r;for(const y of this._validators)if(!(yield y.shouldOpen(m)))return!1;for(const y of this._openers)if(yield y.open(r,o))return!0;return!1})}resolveExternalUri(r,o){return De(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const h=yield l.resolveExternalUri(r,o);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,r),h}catch{}throw new Error("Could not resolve external URI: "+r.toString())})}_doOpenExternal(r,o){return De(this,void 0,void 0,function*(){const l=typeof r=="string"?u.URI.parse(r):r;let h;try{h=(yield this.resolveExternalUri(l,o)).resolved}catch{h=l}let m;if(typeof r=="string"&&l.toString()===h.toString()?m=r:m=encodeURI(h.toString(!0)),o==null?void 0:o.allowContributedOpeners){const y=typeof(o==null?void 0:o.allowContributedOpeners)=="string"?o==null?void 0:o.allowContributedOpeners:void 0;for(const p of this._externalOpeners)if(yield p.openExternal(m,{sourceUri:l,preferredOpenerId:y},C.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:l},C.CancellationToken.None)})}dispose(){this._validators.clear()}};d=Be([fe(0,g.ICodeEditorService),fe(1,t.ICommandService)],d),e.OpenerService=d}),define(Q[69],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class C{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=C,C.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,w.createDecorator)("editorProgressService")}),define(Q[614],J([0,1,10,23,2]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var D;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(D=e.TriggerAction||(e.TriggerAction={}));function S(u){const g=u;return Array.isArray(g.items)}function b(u){const g=u;return!!g.picks&&g.additionalPicks instanceof Promise}class v extends N.Disposable{constructor(g,t){super();this.prefix=g,this.options=t}provide(g,t){var i;const n=new N.DisposableStore;g.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let a;const c=n.add(new N.MutableDisposable),d=()=>De(this,void 0,void 0,function*(){const s=c.value=new N.DisposableStore;a==null||a.dispose(!0),g.busy=!1,a=new C.CancellationTokenSource(t);const r=a.token,o=g.value.substr(this.prefix.length).trim(),l=this._getPicks(o,s,r),h=(m,y)=>{var p;let f,_;if(S(m)?(f=m.items,_=m.active):f=m,f.length===0){if(y)return!1;o.length>0&&((p=this.options)===null||p===void 0?void 0:p.noResultsPick)&&(f=[this.options.noResultsPick])}return g.items=f,_&&(g.activeItems=[_]),!0};if(l!==null)if(b(l)){let m=!1,y=!1;yield Promise.all([(()=>De(this,void 0,void 0,function*(){yield(0,w.timeout)(v.FAST_PICKS_RACE_DELAY),!r.isCancellationRequested&&(y||(m=h(l.picks,!0)))}))(),(()=>De(this,void 0,void 0,function*(){g.busy=!0;try{const p=yield l.additionalPicks;if(r.isCancellationRequested)return;let f,_;S(l.picks)?(f=l.picks.items,_=l.picks.active):f=l.picks;let I,E;if(S(p)?(I=p.items,E=p.active):I=p,I.length>0||!m){let T;if(!_&&!E){const k=g.activeItems[0];k&&f.indexOf(k)!==-1&&(T=k)}h({items:[...f,...I],active:_||E||T})}}finally{r.isCancellationRequested||(g.busy=!1),y=!0}}))()])}else if(!(l instanceof Promise))h(l);else{g.busy=!0;try{const m=yield l;if(r.isCancellationRequested)return;h(m)}finally{r.isCancellationRequested||(g.busy=!1)}}});return n.add(g.onDidChangeValue(()=>d())),d(),n.add(g.onDidAccept(s=>{const[r]=g.selectedItems;typeof(r==null?void 0:r.accept)=="function"&&(s.inBackground||g.hide(),r.accept(g.keyMods,s))})),n.add(g.onDidTriggerItemButton(({button:s,item:r})=>De(this,void 0,void 0,function*(){var o,l;if(typeof r.trigger=="function"){const h=(l=(o=r.buttons)===null||o===void 0?void 0:o.indexOf(s))!==null&&l!==void 0?l:-1;if(h>=0){const m=r.trigger(h,g.keyMods),y=typeof m=="number"?m:yield m;if(t.isCancellationRequested)return;switch(y){case D.NO_ACTION:break;case D.CLOSE_PICKER:g.hide();break;case D.REFRESH_PICKER:d();break;case D.REMOVE_ITEM:{const p=g.items.indexOf(r);if(p!==-1){const f=g.items.slice(),_=f.splice(p,1),I=g.activeItems.filter(T=>T!==_[0]),E=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=f,I&&(g.activeItems=I),g.keepScrollPosition=E}break}}}}}))),n}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var $t=this&&this.__createBinding||(Object.create?function(H,e,w,C){C===void 0&&(C=w),Object.defineProperty(H,C,{enumerable:!0,get:function(){return e[w]}})}:function(H,e,w,C){C===void 0&&(C=w),H[C]=e[w]}),Gt=this&&this.__exportStar||function(H,e){for(var w in H)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&$t(e,H,w)};define(Q[75],J([0,1,9,216]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Gt(C,e),e.IQuickInputService=(0,w.createDecorator)("quickInputService")}),define(Q[36],J([0,1,209,20]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class N{constructor(){this.data=new Map}add(S,b){w.ok(C.isString(S)),w.ok(C.isObject(b)),w.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,b)}as(S){return this.data.get(S)||null}}e.Registry=new N}),define(Q[196],J([0,1,4,36]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function N(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class D{constructor(){this._onDidChangeSchema=new w.Emitter,this.schemasById={}}registerSchema(v,u){this.schemasById[N(v)]=u,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const S=new D;C.Registry.add(e.Extensions.JSONContribution,S)}),define(Q[102],J([0,1,19,4,20,569,196,36]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=b.Registry.as(S.Extensions.JSONContribution);class u{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new C.Emitter,this._onDidUpdateConfiguration=new C.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,r=!0){this.registerConfigurations([s],r)}registerConfigurations(s,r=!0){const o=this.doRegisterConfigurations(s,r);v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o})}registerDefaultConfigurations(s){var r;const o=[],l=[];for(const{overrides:h,source:m}of s)for(const y in h)if(o.push(y),e.OVERRIDE_PROPERTY_REGEX.test(y)){const p=Object.assign(Object.assign({},((r=this.configurationDefaultsOverrides.get(y))===null||r===void 0?void 0:r.value)||{}),h[y]);this.configurationDefaultsOverrides.set(y,{source:m,value:p});const f={type:"object",default:p,description:D.localize(1,null,y),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:p,source:N.isString(m)?void 0:m};l.push(...i(y)),this.configurationProperties[y]=f,this.defaultLanguageConfigurationOverridesNode.properties[y]=f}else{this.configurationDefaultsOverrides.set(y,{value:h[y],source:m});const p=this.configurationProperties[y];p&&(this.updatePropertyDefaultValue(y,p),this.updateSchema(y,p))}this.registerOverrideIdentifiers(l),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:o,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const r of s)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,r){const o=[];return s.forEach(l=>{o.push(...this.validateAndRegisterProperties(l,r,l.extensionInfo,l.restrictedProperties)),this.configurationContributors.push(l),this.registerJSONConfiguration(l)}),o}validateAndRegisterProperties(s,r=!0,o,l,h=3){h=N.isUndefinedOrNull(s.scope)?h:s.scope;let m=[],y=s.properties;if(y)for(let f in y){if(r&&c(f)){delete y[f];continue}const _=y[f];if(_.source=o,_.defaultDefaultValue=y[f].default,this.updatePropertyDefaultValue(f,_),e.OVERRIDE_PROPERTY_REGEX.test(f)?_.scope=void 0:(_.scope=N.isUndefinedOrNull(_.scope)?h:_.scope,_.restricted=N.isUndefinedOrNull(_.restricted)?!!(l==null?void 0:l.includes(f)):_.restricted),y[f].hasOwnProperty("included")&&!y[f].included){this.excludedConfigurationProperties[f]=y[f],delete y[f];continue}else this.configurationProperties[f]=y[f];!y[f].deprecationMessage&&y[f].markdownDeprecationMessage&&(y[f].deprecationMessage=y[f].markdownDeprecationMessage),m.push(f)}let p=s.allOf;if(p)for(let f of p)m.push(...this.validateAndRegisterProperties(f,r,o,l,h));return m}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(s){const r=o=>{let l=o.properties;if(l)for(const m in l)this.updateSchema(m,l[m]);let h=o.allOf;h&&h.forEach(r)};r(s)}updateSchema(s,r){switch(e.allSettings.properties[s]=r,r.scope){case 1:e.applicationSettings.properties[s]=r;break;case 2:e.machineSettings.properties[s]=r;break;case 6:e.machineOverridableSettings.properties[s]=r;break;case 3:e.windowSettings.properties[s]=r;break;case 4:e.resourceSettings.properties[s]=r;break;case 5:e.resourceSettings.properties[s]=r,this.resourceLanguageSettingsSchema.properties[s]=r;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const r=`[${s}]`,o={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,o),e.allSettings.properties[r]=o,e.applicationSettings.properties[r]=o,e.machineSettings.properties[r]=o,e.machineOverridableSettings.properties[r]=o,e.windowSettings.properties[r]=o,e.resourceSettings.properties[r]=o}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,r){const o=this.configurationDefaultsOverrides.get(s);let l=o==null?void 0:o.value,h=o==null?void 0:o.source;N.isUndefined(l)&&(l=r.defaultDefaultValue,h=void 0),N.isUndefined(l)&&(l=n(r.type)),r.default=l,r.defaultValueSource=h}}const g="\\[([^\\]]+)\\]",t=new RegExp(g,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${g})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(d){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(d)){let r=t.exec(d);for(;r==null?void 0:r.length;){const o=r[1].trim();o&&s.push(o),r=t.exec(d)}}return(0,w.distinct)(s)}e.overrideIdentifiersFromKey=i;function n(d){switch(Array.isArray(d)?d[0]:d){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=n;const a=new u;b.Registry.add(e.Extensions.Configuration,a);function c(d){return d.trim()?e.OVERRIDE_PROPERTY_REGEX.test(d)?D.localize(7,null,d):a.getConfigurationProperties()[d]!==void 0?D.localize(8,null,d):null:D.localize(6,null)}e.validateProperty=c}),define(Q[615],J([0,1,29,493,102,36]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:C.localize(0,null),scope:5});const S=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:w.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:C.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:w.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:C.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:w.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:C.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:w.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:C.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:w.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:C.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:C.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[C.localize(7,null),C.localize(8,null),C.localize(9,null)],description:C.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[C.localize(11,null),C.localize(12,null),C.localize(13,null)],default:"configuredByTheme",description:C.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:C.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:C.localize(16,null)},"editor.language.brackets":{type:"array",default:!1,description:C.localize(17,null),items:{type:"array",items:[{type:"string",description:C.localize(18,null)},{type:"string",description:C.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:C.localize(20,null),items:{type:"array",items:[{type:"string",description:C.localize(21,null)},{type:"string",description:C.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:C.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:C.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:C.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:C.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:C.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:C.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[C.localize(29,null),C.localize(30,null),C.localize(31,null)]}}});function b(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of w.editorOptionsRegistry){const a=n.schema;if(typeof a!="undefined")if(b(a))S.properties[`editor.${n.name}`]=a;else for(const c in a)Object.hasOwnProperty.call(a,c)&&(S.properties[c]=a[c])}let v=null;function u(){return v===null&&(v=Object.create(null),Object.keys(S.properties).forEach(n=>{v[n]=!0})),v}function g(n){return u()[`editor.${n}`]||!1}e.isEditorConfigurationKey=g;function t(n){return u()[`diffEditor.${n}`]||!1}e.isDiffEditorConfigurationKey=t,D.Registry.as(N.Extensions.Configuration).registerConfiguration(S)}),define(Q[76],J([0,1,500,4,35,36,134,102]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class v{constructor(){this._onDidChangeLanguages=new C.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(g){return this._languages.push(g),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===g){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=v,e.ModesRegistry=new v,D.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[w.localize(0,null),"text"],mimetypes:[S.Mimes.text]}),N.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),D.Registry.as(b.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(Q[103],J([0,1,320,51,34,14,260,4,2,60,76]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let i=class vi{constructor(a,c,d){this._options=a,this._languageService=c,this._openerService=d,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,c,d){if(!a)return{element:document.createElement("span"),dispose:()=>{}};const s=new v.DisposableStore;return{element:s.add((0,w.renderMarkdown)(a,Object.assign(Object.assign({},this._getRenderOptions(a,s)),c),d)).element,dispose:()=>s.dispose()}}_getRenderOptions(a,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,s)=>De(this,void 0,void 0,function*(){var r,o,l;let h;d?h=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(h=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageId()),h||(h=g.PLAINTEXT_LANGUAGE_ID);const m=yield(0,S.tokenizeToString)(this._languageService,s,h),y=document.createElement("span");if(y.innerHTML=(l=(o=vi._ttpTokenizer)===null||o===void 0?void 0:o.createHTML(m))!==null&&l!==void 0?l:m,this._options.editor){const p=this._options.editor.getOption(43);(0,u.applyFontInfo)(y,p)}else this._options.codeBlockFontFamily&&(y.style.fontFamily=this._options.codeBlockFontFamily);return y}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a.isTrusted}).catch(D.onUnexpectedError),disposables:c}}}};i._ttpTokenizer=(t=window.trustedTypes)===null||t===void 0?void 0:t.createPolicy("tokenizeToString",{createHTML(n){return n}}),i=Be([fe(1,N.ILanguageService),fe(2,C.IOpenerService)],i),e.MarkdownRenderer=i}),define(Q[616],J([0,1,48,41,76,258]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;function S(u,g,t,i){const n=i===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let a;if(t.scheme===w.Schemas.data?a=C.DataUri.parseMetaData(t).get(C.DataUri.META_DATA_LABEL):a=v((0,C.basenameOrAuthority)(t).toLowerCase()),i===D.FileKind.FOLDER)n.push(`${a}-name-folder-icon`);else{if(a){if(n.push(`${a}-name-file-icon`),a.length<=255){const d=a.split(".");for(let s=1;s<d.length;s++)n.push(`${d.slice(s).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const c=b(u,g,t);c&&n.push(`${v(c)}-lang-file-icon`)}}return n}e.getIconClasses=S;function b(u,g,t){if(!t)return null;let i=null;if(t.scheme===w.Schemas.data){const a=C.DataUri.parseMetaData(t).get(C.DataUri.META_DATA_MIME);a&&(i=g.getLanguageIdByMimeType(a))}else{const n=u.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==N.PLAINTEXT_LANGUAGE_ID?i:g.guessLanguageIdByFilepathOrFirstLine(t)}function v(u){return u.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=v}),define(Q[617],J([0,1,19,14,4,2,8,421,76,102,36]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const t=Object.prototype.hasOwnProperty,i="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(i,0),this._register(v.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(d,s){this._languageIdToLanguage[s]=d,this._languageToLanguageId.set(d,s)}register(d){if(this._languageToLanguageId.has(d))return;const s=this._nextLanguageId++;this._register(d,s)}encodeLanguageId(d){return this._languageToLanguageId.get(d)||0}decodeLanguageId(d){return this._languageIdToLanguage[d]||i}}e.LanguageIdCodec=n;class a extends D.Disposable{constructor(d=!0,s=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,a.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(v.ModesRegistry.onDidChangeLanguages(r=>{this._initializeFromRegistry()})))}dispose(){a.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,b.clearLanguageAssociations)();const d=[].concat(v.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(d)}_registerLanguages(d){for(const s of d)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const r=this._languages[s];r.name&&(this._nameMap[r.name]=r.identifier),r.aliases.forEach(o=>{this._lowercaseNameMap[o.toLowerCase()]=r.identifier}),r.mimetypes.forEach(o=>{this._mimeTypesMap[o]=r.identifier})}),g.Registry.as(u.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(d){const s=d.id;let r;t.call(this._languages,s)?r=this._languages[s]:(this.languageIdCodec.register(s),r={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=r),this._mergeLanguage(r,d)}_mergeLanguage(d,s){const r=s.id;let o=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(d.mimetypes.push(...s.mimetypes),o=s.mimetypes[0]),o||(o=`text/x-${r}`,d.mimetypes.push(o)),Array.isArray(s.extensions)){s.configuration?d.extensions=s.extensions.concat(d.extensions):d.extensions=d.extensions.concat(s.extensions);for(let m of s.extensions)(0,b.registerLanguageAssociation)({id:r,mime:o,extension:m},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let m of s.filenames)(0,b.registerLanguageAssociation)({id:r,mime:o,filename:m},this._warnOnOverwrite),d.filenames.push(m);if(Array.isArray(s.filenamePatterns))for(let m of s.filenamePatterns)(0,b.registerLanguageAssociation)({id:r,mime:o,filepattern:m},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let m=s.firstLine;m.charAt(0)!=="^"&&(m="^"+m);try{const y=new RegExp(m);(0,S.regExpLeadsToEndlessLoop)(y)||(0,b.registerLanguageAssociation)({id:r,mime:o,firstline:y},this._warnOnOverwrite)}catch(y){(0,C.onUnexpectedError)(y)}}d.aliases.push(r);let l=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?l=[null]:l=s.aliases),l!==null)for(const m of l)!m||m.length===0||d.aliases.push(m);const h=l!==null&&l.length>0;if(!(h&&l[0]===null)){const m=(h?l[0]:null)||r;(h||!d.name)&&(d.name=m)}s.configuration&&d.configurationFiles.push(s.configuration),s.icon&&d.icons.push(s.icon)}isRegisteredLanguageId(d){return d?t.call(this._languages,d):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(d){const s=d.toLowerCase();return t.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(d){return d&&t.call(this._mimeTypesMap,d)?this._mimeTypesMap[d]:null}guessLanguageIdByFilepathOrFirstLine(d,s){if(!d&&!s)return[];const r=(0,b.getMimeTypes)(d,s);return(0,w.coalesce)(r.map(o=>this.getLanguageIdByMimeType(o)))}}e.LanguagesRegistry=a,a.instanceCount=0}),define(Q[618],J([0,1,4,2,617,19,18,76]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class v extends C.Disposable{constructor(t=!1){super();this._onDidEncounterLanguage=this._register(new w.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new w.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,v.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new N.LanguagesRegistry(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){v.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(t,i);return(0,D.firstOrDefault)(n,null)}createById(t){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,i){return new u(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(t,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),S.TokenizationRegistry.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}e.LanguageService=v,v.instanceCount=0;class u{constructor(t,i){this._onDidChangeLanguages=t,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new w.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._emitter&&this._emitter.fire(this.languageId))}}}),define(Q[619],J([0,1,7,19,64,2,103,247,51,223]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=w.$;class t extends D.Disposable{constructor(a,c,d=v.NullOpenerService){super();this._renderDisposeables=this._register(new D.DisposableStore),this._editor=a,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},c,d)),this._computer=new i(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return t.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(c=>this._editor.applyFontInfo(c))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(a){this._computer.lineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=a,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(a,c){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const s of c){const r=g("div.hover-row.markdown-hover"),o=w.append(r,g("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(s.value));o.appendChild(l.element),d.appendChild(r)}this._updateContents(d),this._showAt(a)}_updateContents(a){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(a),this._updateFont()}_showAt(a){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const c=this._editor.getLayoutInfo(),d=this._editor.getTopForLineNumber(a),s=this._editor.getScrollTop(),r=this._editor.getOption(58),o=this._hover.containerDomNode.clientHeight,l=d-s-(o-r)/2;this._hover.containerDomNode.style.left=`${c.glyphMarginLeft+c.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}e.MarginHoverWidget=t,t.ID="editor.contrib.modesGlyphHoverWidget";class i{constructor(a){this._editor=a,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(a){this._lineNumber=a}computeSync(){const a=s=>({value:s}),c=this._editor.getLineDecorations(this._lineNumber),d=[];if(!c)return d;for(const s of c){if(!s.options.glyphMarginClassName)continue;const r=s.options.glyphMarginHoverMessage;!r||(0,N.isEmptyMarkdownString)(r)||d.push(...(0,C.asArray)(r).map(a))}return d}}}),define(Q[272],J([0,1,33,7,65,27,4,64,2,103,29,251,558,9]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(s){return!!s&&Boolean(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}e.canExpandCompletionItem=a;let c=class{constructor(r,o){this._editor=r,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new v.DisposableStore,this._renderDisposeable=new v.DisposableStore,this._borderWidth=1,this._size=new C.Dimension(330,0),this.domNode=C.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=o.createInstance(u.MarkdownRenderer,{editor:r}),this._body=C.$(".body"),this._scrollbar=new N.DomScrollableElement(this._body,{}),C.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=C.append(this._body,C.$(".header")),this._close=C.append(this._header,C.$("span"+D.Codicon.close.cssSelector)),this._close.title=i.localize(0,null),this._type=C.append(this._header,C.$("p.type")),this._docs=C.append(this._body,C.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),o=r.get(43),l=o.getMassagedFontFamily(w.isSafari?g.EDITOR_FONT_DEFAULTS.fontFamily:null),h=r.get(106)||o.fontSize,m=r.get(107)||o.lineHeight,y=o.fontWeight,p=`${h}px`,f=`${m}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${m/h}`,this.domNode.style.fontWeight=y,this.domNode.style.fontFeatureSettings=o.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=f,this._close.style.width=f}getLayoutInfo(){const r=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,o=this._borderWidth,l=o*2;return{lineHeight:r,borderWidth:o,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=i.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,o){var l,h;this._renderDisposeable.clear();let{detail:m,documentation:y}=r.completion;if(o){let p="";p+=`score: ${r.score[0]}
`,p+=`prefix: ${(l=r.word)!==null&&l!==void 0?l:"(no prefix)"}
`,p+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,p+=`distance: ${r.distance} (localityBonus-setting)
`,p+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(h=r.completion.commitCharacters)===null||h===void 0?void 0:h.join("")}
`,y=new b.MarkdownString().appendCodeblock("empty",p),m=`Provider: ${r.provider._debugDisplayName}`}if(!o&&!a(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),m){const p=m.length>1e5?`${m.substr(0,1e5)}\u2026`:m;this._type.textContent=p,this._type.title=p,C.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else C.clearNode(this._type),this._type.title="",C.hide(this._type),this.domNode.classList.add("no-type");if(C.clearNode(this._docs),typeof y=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=y;else if(y){this._docs.classList.add("markdown-docs"),C.clearNode(this._docs);const p=this._markdownRenderer.render(y);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,o){const l=new C.Dimension(r,o);C.Dimension.equals(l,this._size)||(this._size=l,C.size(this.domNode,r,o)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};c=Be([fe(1,n.IInstantiationService)],c),e.SuggestDetailsWidget=c;class d{constructor(r,o){this.widget=r,this._editor=o,this._disposables=new v.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new t.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,h,m=0,y=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,h=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(l&&h){this.widget.layout(p.dimension.width,p.dimension.height);let f=!1;p.west&&(y=h.width-p.dimension.width,f=!0),p.north&&(m=h.height-p.dimension.height,f=!0),f&&this._applyTopLeft({top:l.top+m,left:l.left+y})}p.done&&(l=void 0,h=void 0,m=0,y=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r,o){var l;const h=r.getBoundingClientRect();this._anchorBox=h,this._preferAlignAtTop=o,this._placeAtAnchor(this._anchorBox,(l=this._userSize)!==null&&l!==void 0?l:this.widget.size,o)}_placeAtAnchor(r,o,l){var h;const m=C.getClientArea(document.body),y=this.widget.getLayoutInfo(),p=new C.Dimension(220,2*y.lineHeight),f=r.top,_=function(){const O=m.width-(r.left+r.width+y.borderWidth+y.horizontalPadding),L=-y.borderWidth+r.left+r.width,B=new C.Dimension(O,m.height-r.top-y.borderHeight-y.verticalPadding),x=B.with(void 0,r.top+r.height-y.borderHeight-y.verticalPadding);return{top:f,left:L,fit:O-o.width,maxSizeTop:B,maxSizeBottom:x,minSize:p.with(Math.min(O,p.width))}}(),I=function(){const O=r.left-y.borderWidth-y.horizontalPadding,L=Math.max(y.horizontalPadding,r.left-o.width-y.borderWidth),B=new C.Dimension(O,m.height-r.top-y.borderHeight-y.verticalPadding),x=B.with(void 0,r.top+r.height-y.borderHeight-y.verticalPadding);return{top:f,left:L,fit:O-o.width,maxSizeTop:B,maxSizeBottom:x,minSize:p.with(Math.min(O,p.width))}}(),E=function(){const O=r.left,L=-y.borderWidth+r.top+r.height,B=new C.Dimension(r.width-y.borderHeight,m.height-r.top-r.height-y.verticalPadding);return{top:L,left:O,fit:B.height-o.height,maxSizeBottom:B,maxSizeTop:B,minSize:p.with(B.width)}}(),T=[_,I,E],k=(h=T.find(O=>O.fit>=0))!==null&&h!==void 0?h:T.sort((O,L)=>L.fit-O.fit)[0],A=r.top+r.height-y.borderHeight;let P,F=o.height;const R=Math.max(k.maxSizeTop.height,k.maxSizeBottom.height);F>R&&(F=R);let M;l?F<=k.maxSizeTop.height?(P=!0,M=k.maxSizeTop):(P=!1,M=k.maxSizeBottom):F<=k.maxSizeBottom.height?(P=!1,M=k.maxSizeBottom):(P=!0,M=k.maxSizeTop),this._applyTopLeft({left:k.left,top:P?k.top:A-F}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!P,k===_,P,k!==_),this._resizable.minSize=k.minSize,this._resizable.maxSize=M,this._resizable.layout(F,Math.min(M.width,o.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=d}),define(Q[620],J([0,1,19,47,38,20,25,39,102,36]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class g{constructor(c={},d=[],s=[]){this._contents=c,this._keys=d,this._overrides=s,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,b.getConfigurationValue)(this.contents,c):this.contents}getOverrideValue(c,d){const s=this.getContentsForOverrideIdentifer(d);return s?c?(0,b.getConfigurationValue)(s,c):s:void 0}override(c){let d=this.overrideConfigurations.get(c);return d||(d=this.createOverrideConfigurationModel(c),this.overrideConfigurations.set(c,d)),d}merge(...c){const d=N.deepClone(this.contents),s=N.deepClone(this.overrides),r=[...this.keys];for(const o of c){this.mergeContents(d,o.contents);for(const l of o.overrides){const[h]=s.filter(m=>w.equals(m.identifiers,l.identifiers));h?(this.mergeContents(h.contents,l.contents),h.keys.push(...l.keys),h.keys=w.distinct(h.keys)):s.push(N.deepClone(l))}for(const l of o.keys)r.indexOf(l)===-1&&r.push(l)}return new g(d,r,s)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(c){const d=this.getContentsForOverrideIdentifer(c);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let s={};for(const r of w.distinct([...Object.keys(this.contents),...Object.keys(d)])){let o=this.contents[r],l=d[r];l&&(typeof o=="object"&&typeof l=="object"?(o=N.deepClone(o),this.mergeContents(o,l)):o=l),s[r]=o}return new g(s,this.keys,this.overrides)}mergeContents(c,d){for(const s of Object.keys(d)){if(s in c&&D.isObject(c[s])&&D.isObject(d[s])){this.mergeContents(c[s],d[s]);continue}c[s]=N.deepClone(d[s])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?N.deepFreeze(c):c}getContentsForOverrideIdentifer(c){let d=null,s=null;const r=o=>{o&&(s?this.mergeContents(s,o):s=N.deepClone(o))};for(const o of this.overrides)w.equals(o.identifiers,[c])?d=o.contents:o.identifiers.includes(c)&&r(o.contents);return r(d),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,d){this.addKey(c),(0,b.addToValueTree)(this.contents,c,d,s=>{throw new Error(s)})}removeValue(c){this.removeKey(c)&&(0,b.removeFromValueTree)(this.contents,c)}addKey(c){let d=this.keys.length;for(let s=0;s<d;s++)c.indexOf(this.keys[s])===0&&(d=s);this.keys.splice(d,1,c)}removeKey(c){let d=this.keys.indexOf(c);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=g;class t extends g{constructor(c={}){const d=u.Registry.as(v.Extensions.Configuration).getConfigurationProperties(),s=Object.keys(d),r=Object.create(null),o=[];for(const l in d){const h=c[l],m=h!==void 0?h:d[l].default;(0,b.addToValueTree)(r,l,m,y=>console.error(`Conflict in default settings: ${y}`))}for(const l of Object.keys(r))v.OVERRIDE_PROPERTY_REGEX.test(l)&&o.push({identifiers:(0,v.overrideIdentifiersFromKey)(l),keys:Object.keys(r[l]),contents:(0,b.toValuesTree)(r[l],h=>console.error(`Conflict in default settings file: ${h}`))});super(r,s,o)}}e.DefaultConfigurationModel=t;class i{constructor(c,d,s=new g,r=new g,o=new C.ResourceMap,l=new g,h=new C.ResourceMap,m=!0){this._defaultConfiguration=c,this._localUserConfiguration=d,this._remoteUserConfiguration=s,this._workspaceConfiguration=r,this._folderConfigurations=o,this._memoryConfiguration=l,this._memoryConfigurationByResource=h,this._freeze=m,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new C.ResourceMap,this._userConfiguration=null}getValue(c,d,s){return this.getConsolidateConfigurationModel(d,s).getValue(c)}updateValue(c,d,s={}){let r;s.resource?(r=this._memoryConfigurationByResource.get(s.resource),r||(r=new g,this._memoryConfigurationByResource.set(s.resource,r))):r=this._memoryConfiguration,d===void 0?r.removeValue(c):r.setValue(c,d),s.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(c,d,s){const r=this.getConsolidateConfigurationModel(d,s),o=this.getFolderConfigurationModelForResource(d.resource,s),l=d.resource?this._memoryConfigurationByResource.get(d.resource)||this._memoryConfiguration:this._memoryConfiguration,h=d.overrideIdentifier?this._defaultConfiguration.freeze().override(d.overrideIdentifier).getValue(c):this._defaultConfiguration.freeze().getValue(c),m=d.overrideIdentifier?this.userConfiguration.freeze().override(d.overrideIdentifier).getValue(c):this.userConfiguration.freeze().getValue(c),y=d.overrideIdentifier?this.localUserConfiguration.freeze().override(d.overrideIdentifier).getValue(c):this.localUserConfiguration.freeze().getValue(c),p=d.overrideIdentifier?this.remoteUserConfiguration.freeze().override(d.overrideIdentifier).getValue(c):this.remoteUserConfiguration.freeze().getValue(c),f=s?d.overrideIdentifier?this._workspaceConfiguration.freeze().override(d.overrideIdentifier).getValue(c):this._workspaceConfiguration.freeze().getValue(c):void 0,_=o?d.overrideIdentifier?o.freeze().override(d.overrideIdentifier).getValue(c):o.freeze().getValue(c):void 0,I=d.overrideIdentifier?l.override(d.overrideIdentifier).getValue(c):l.getValue(c),E=r.getValue(c),T=w.distinct(w.flatten(r.overrides.map(k=>k.identifiers))).filter(k=>r.getOverrideValue(c,k)!==void 0);return{defaultValue:h,userValue:m,userLocalValue:y,userRemoteValue:p,workspaceValue:f,workspaceFolderValue:_,memoryValue:I,value:E,default:h!==void 0?{value:this._defaultConfiguration.freeze().getValue(c),override:d.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,user:m!==void 0?{value:this.userConfiguration.freeze().getValue(c),override:d.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,userLocal:y!==void 0?{value:this.localUserConfiguration.freeze().getValue(c),override:d.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,userRemote:p!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(c),override:d.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,workspace:f!==void 0?{value:this._workspaceConfiguration.freeze().getValue(c),override:d.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,workspaceFolder:_!==void 0?{value:o==null?void 0:o.freeze().getValue(c),override:d.overrideIdentifier?o==null?void 0:o.freeze().getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,memory:I!==void 0?{value:l.getValue(c),override:d.overrideIdentifier?l.getOverrideValue(c,d.overrideIdentifier):void 0}:void 0,overrideIdentifiers:T.length?T:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(c,d){let s=this.getConsolidatedConfigurationModelForResource(c,d);return c.overrideIdentifier?s.override(c.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:c},d){let s=this.getWorkspaceConsolidatedConfiguration();if(d&&c){const r=d.getFolder(c);r&&(s=this.getFolderConsolidatedConfiguration(r.uri)||s);const o=this._memoryConfigurationByResource.get(c);o&&(s=s.merge(o))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let d=this._foldersConsolidatedConfigurations.get(c);if(!d){const s=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(c);r?(d=s.merge(r),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(c,d)):d=s}return d}getFolderConfigurationModelForResource(c,d){if(d&&c){const s=d.getFolder(c);if(s)return this._folderConfigurations.get(s.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,d)=>{const{contents:s,overrides:r,keys:o}=this._folderConfigurations.get(d);return c.push([d,{contents:s,overrides:r,keys:o}]),c},[])}}static parse(c){const d=this.parseConfigurationModel(c.defaults),s=this.parseConfigurationModel(c.user),r=this.parseConfigurationModel(c.workspace),o=c.folders.reduce((l,h)=>(l.set(S.URI.revive(h[0]),this.parseConfigurationModel(h[1])),l),new C.ResourceMap);return new i(d,s,new g,r,o,new g,new C.ResourceMap,!1)}static parseConfigurationModel(c){return new g(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=i;class n{constructor(c,d,s,r){this.change=c,this.previous=d,this.currentConfiguraiton=s,this.currentWorkspace=r,this._previousConfiguration=void 0;const o=new Set;c.keys.forEach(h=>o.add(h)),c.overrides.forEach(([,h])=>h.forEach(m=>o.add(m))),this.affectedKeys=[...o.values()];const l=new g;this.affectedKeys.forEach(h=>l.setValue(h,{})),this.affectedKeysTree=l.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=i.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,d){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(d){const r=this.previousConfiguration?this.previousConfiguration.getValue(c,d,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,o=this.currentConfiguraiton.getValue(c,d,this.currentWorkspace);return!N.equals(r,o)}return!0}return!1}doesAffectedKeysTreeContains(c,d){let s=(0,b.toValuesTree)({[d]:!0},()=>{}),r;for(;typeof s=="object"&&(r=Object.keys(s)[0]);){if(c=c[r],!c)return!1;s=s[r]}return!0}}e.ConfigurationChangeEvent=n}),define(Q[84],J([0,1,94,17,26,36]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(C.OS===1){if(u&&u.win)return u.win}else if(C.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const g=S.bindToCurrentPlatform(u);if(g&&g.primary){const t=(0,w.createKeybinding)(g.primary,C.OS);t&&this._registerDefaultKeybinding(t,u.id,u.args,u.weight,0,u.when)}if(g&&Array.isArray(g.secondary))for(let t=0,i=g.secondary.length;t<i;t++){const n=g.secondary[t],a=(0,w.createKeybinding)(n,C.OS);a&&this._registerDefaultKeybinding(a,u.id,u.args,u.weight,-t-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),N.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,g){u.ctrlKey&&u.altKey&&!u.metaKey&&S._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",g)}_registerDefaultKeybinding(u,g,t,i,n,a){C.OS===1&&this._assertNoCtrlAlt(u.parts[0],g),this._coreKeybindings.push({keybinding:u.parts,command:g,commandArgs:t,when:a,weight1:i,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(v,u){return v.weight1!==u.weight1?v.weight1-u.weight1:v.command<u.command?-1:v.command>u.command?1:v.weight2-u.weight2}}),define(Q[104],J([0,1,19,2,36]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(D=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((u,g)=>g.prefix.length-u.prefix.length),(0,C.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,w.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(g=>v.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,N.Registry.add(e.Extensions.Quickaccess,new S)}),define(Q[621],J([0,1,2,576,104,75,36]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=class Ot{constructor(u){this.quickInputService=u,this.registry=S.Registry.as(N.Extensions.Quickaccess)}provide(u){const g=new w.DisposableStore;g.add(u.onDidAccept(()=>{const[n]=u.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),g.add(u.onDidChangeValue(n=>{const a=this.registry.getQuickAccessProvider(n.substr(Ot.PREFIX.length));a&&a.prefix&&a.prefix!==Ot.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})}));const{editorProviders:t,globalProviders:i}=this.getQuickAccessProviders();return u.items=t.length===0||i.length===0?[...t.length===0?i:t]:[{label:(0,C.localize)(0,null),type:"separator"},...i,{label:(0,C.localize)(1,null),type:"separator"},...t],g}getQuickAccessProviders(){const u=[],g=[];for(const t of this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)))if(t.prefix!==Ot.PREFIX)for(const i of t.helpEntries){const n=i.prefix||t.prefix,a=n||"\u2026";(i.needsEditor?g:u).push({prefix:n,label:a,ariaLabel:(0,C.localize)(2,null,a,i.description),description:i.description})}return{editorProviders:g,globalProviders:u}}};b.PREFIX="?",b=Be([fe(0,D.IQuickInputService)],b),e.HelpQuickAccessProvider=b}),define(Q[622],J([0,1,36,104,67,621]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.Registry.as(C.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:N.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(Q[623],J([0,1,10,23,86,2,9,104,75,36]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends D.Disposable{constructor(i,n){super();this.quickInputService=i,this.instantiationService=n,this.registry=u.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",n){this.doShowOrPick(i,!1,n)}doShowOrPick(i,n,a){var c;const[d,s]=this.getOrInstantiateProvider(i),r=this.visibleQuickAccess,o=r==null?void 0:r.descriptor;if(r&&s&&o===s){i!==s.prefix&&!(a==null?void 0:a.preserveValue)&&(r.picker.value=i),this.adjustValueSelection(r.picker,s,a);return}if(s&&!(a==null?void 0:a.preserveValue)){let p;if(r&&o&&o!==s){const f=r.value.substr(o.prefix.length);f&&(p=`${s.prefix}${f}`)}if(!p){const f=d==null?void 0:d.defaultFilterValue;f===b.DefaultQuickAccessFilterValue.LAST?p=this.lastAcceptedPickerValues.get(s):typeof f=="string"&&(p=`${s.prefix}${f}`)}typeof p=="string"&&(i=p)}const l=new D.DisposableStore,h=l.add(this.quickInputService.createQuickPick());h.value=i,this.adjustValueSelection(h,s,a),h.placeholder=s==null?void 0:s.placeholder,h.quickNavigate=a==null?void 0:a.quickNavigateConfiguration,h.hideInput=!!h.quickNavigate&&!r,(typeof(a==null?void 0:a.itemActivation)=="number"||(a==null?void 0:a.quickNavigateConfiguration))&&(h.itemActivation=(c=a==null?void 0:a.itemActivation)!==null&&c!==void 0?c:v.ItemActivation.SECOND),h.contextKey=s==null?void 0:s.contextKey,h.filterValue=p=>p.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(h.ariaLabel=s==null?void 0:s.placeholder);let m;n&&(m=new w.DeferredPromise,l.add((0,N.once)(h.onWillAccept)(p=>{p.veto(),h.hide()}))),l.add(this.registerPickerListeners(h,d,s,i));const y=l.add(new C.CancellationTokenSource);if(d&&l.add(d.provide(h,y.token)),(0,N.once)(h.onDidHide)(()=>{h.selectedItems.length===0&&y.cancel(),l.dispose(),m==null||m.complete(h.selectedItems.slice(0))}),h.show(),n)return m==null?void 0:m.p}adjustValueSelection(i,n,a){var c;let d;(a==null?void 0:a.preserveValue)?d=[i.value.length,i.value.length]:d=[(c=n==null?void 0:n.prefix.length)!==null&&c!==void 0?c:0,i.value.length],i.valueSelection=d}registerPickerListeners(i,n,a,c){const d=new D.DisposableStore,s=this.visibleQuickAccess={picker:i,descriptor:a,value:c};return d.add((0,D.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(i.onDidChangeValue(r=>{const[o]=this.getOrInstantiateProvider(r);o!==n?this.show(r,{preserveValue:!0}):s.value=r})),a&&d.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(a,i.value)})),d}getOrInstantiateProvider(i){const n=this.registry.getQuickAccessProvider(i);if(!n)return[void 0,void 0];let a=this.mapProviderToDescriptor.get(n);return a||(a=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,a)),[a,n]}};g=Be([fe(0,v.IQuickInputService),fe(1,S.IInstantiationService)],g),e.QuickAccessController=g}),define(Q[77],J([0,1,4,2,20,322,9]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const b="__$__targetStorageMarker";e.IStorageService=(0,S.createDecorator)("storageService");var v;(function(t){t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends C.Disposable{constructor(i={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=i,this._onDidChangeValue=this._register(new w.PauseableEmitter),this._onDidChangeTarget=this._register(new w.PauseableEmitter),this._onWillSaveState=this._register(new w.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(i,n){n===b?(i===0?this._globalKeyTargets=void 0:i===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:i})):this._onDidChangeValue.fire({scope:i,key:n,target:this.getKeyTargets(i)[n]})}get(i,n,a){var c;return(c=this.getStorage(n))===null||c===void 0?void 0:c.get(i,a)}getBoolean(i,n,a){var c;return(c=this.getStorage(n))===null||c===void 0?void 0:c.getBoolean(i,a)}getNumber(i,n,a){var c;return(c=this.getStorage(n))===null||c===void 0?void 0:c.getNumber(i,a)}store(i,n,a,c){if((0,N.isUndefinedOrNull)(n)){this.remove(i,a);return}this.withPausedEmitters(()=>{var d;this.updateKeyTarget(i,a,c),(d=this.getStorage(a))===null||d===void 0||d.set(i,n)})}remove(i,n){this.withPausedEmitters(()=>{var a;this.updateKeyTarget(i,n,void 0),(a=this.getStorage(n))===null||a===void 0||a.delete(i)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,n,a){var c,d;const s=this.getKeyTargets(n);typeof a=="number"?s[i]!==a&&(s[i]=a,(c=this.getStorage(n))===null||c===void 0||c.set(b,JSON.stringify(s))):typeof s[i]=="number"&&(delete s[i],(d=this.getStorage(n))===null||d===void 0||d.set(b,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(i){return i===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(i){const n=this.get(b,i);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends u{constructor(){super();this.globalStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.globalStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i)))}getStorage(i){return i===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=g}),define(Q[624],J([0,1,10,86,47,3,265,61,9,77]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class g{constructor(n,a){this.lineCount=n,this.data=a}}let t=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new N.LRUCache(20,.75);const a="codelens/cache";(0,w.runWhenIdle)(()=>n.remove(a,1));const c="codelens/cache2",d=n.get(c,1,"{}");this._deserialize(d),(0,C.once)(n.onWillSaveState)(s=>{s.reason===u.WillSaveStateReason.SHUTDOWN&&n.store(c,this._serialize(),1,1)})}put(n,a){const c=a.lenses.map(r=>{var o;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(o=r.symbol.command)===null||o===void 0?void 0:o.title}}}),d=new S.CodeLensModel;d.add({lenses:c,dispose:()=>{}},this._fakeProvider);const s=new g(n.getLineCount(),d);this._cache.set(n.uri.toString(),s)}get(n){const a=this._cache.get(n.uri.toString());return a&&a.lineCount===n.getLineCount()?a.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[a,c]of this._cache){const d=new Set;for(const s of c.data.lenses)d.add(s.symbol.range.startLineNumber);n[a]={lineCount:c.lineCount,lines:[...d.values()]}}return JSON.stringify(n)}_deserialize(n){try{const a=JSON.parse(n);for(const c in a){const d=a[c],s=[];for(const o of d.lines)s.push({range:new D.Range(o,1,o,11)});const r=new S.CodeLensModel;r.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(c,new g(d.lineCount,r))}}catch{}}};t=Be([fe(0,u.IStorageService)],t),e.CodeLensCache=t,(0,b.registerSingleton)(e.ICodeLensCache,t)}),define(Q[625],J([0,1,10,2,47,18,39,61,9,77]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class g{constructor(d){this.name=d}select(d,s,r){if(r.length===0)return 0;let o=r[0].score[0];for(let l=0;l<r.length;l++){const{score:h,completion:m}=r[l];if(h[0]!==o)break;if(m.preselect)return l}return 0}}e.Memory=g;class t extends g{constructor(){super("first")}memorize(d,s,r){}toJSON(){}fromJSON(){}}e.NoMemory=t;class i extends g{constructor(){super("recentlyUsed");this._cache=new N.LRUCache(300,.66),this._seq=0}memorize(d,s,r){const o=`${d.getLanguageId()}/${r.textLabel}`;this._cache.set(o,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})}select(d,s,r){if(r.length===0)return 0;const o=d.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(o))return super.select(d,s,r);let l=r[0].score[0],h=-1,m=-1,y=-1;for(let p=0;p<r.length&&r[p].score[0]===l;p++){const f=`${d.getLanguageId()}/${r[p].textLabel}`,_=this._cache.peek(f);if(_&&_.touch>y&&_.type===r[p].completion.kind&&_.insertText===r[p].completion.insertText&&(y=_.touch,m=p),r[p].completion.preselect&&h===-1)return h=p}return m!==-1?m:h!==-1?h:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();let s=0;for(const[r,o]of d)o.touch=s,o.type=typeof o.type=="number"?o.type:D.CompletionItemKinds.fromString(o.type),this._cache.set(r,o);this._seq=this._cache.size}}e.LRUMemory=i;class n extends g{constructor(){super("recentlyUsedByPrefix");this._trie=N.TernarySearchTree.forStrings(),this._seq=0}memorize(d,s,r){const{word:o}=d.getWordUntilPosition(s),l=`${d.getLanguageId()}/${o}`;this._trie.set(l,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})}select(d,s,r){let{word:o}=d.getWordUntilPosition(s);if(!o)return super.select(d,s,r);let l=`${d.getLanguageId()}/${o}`,h=this._trie.get(l);if(h||(h=this._trie.findSubstr(l)),h)for(let m=0;m<r.length;m++){let{kind:y,insertText:p}=r[m].completion;if(y===h.type&&p===h.insertText)return m}return super.select(d,s,r)}toJSON(){let d=[];return this._trie.forEach((s,r)=>d.push([r,s])),d.sort((s,r)=>-(s[1].touch-r[1].touch)).forEach((s,r)=>s[1].touch=r),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[s,r]of d)r.type=typeof r.type=="number"?r.type:D.CompletionItemKinds.fromString(r.type),this._trie.set(s,r)}}}e.PrefixMemory=n;let a=class Ft{constructor(d,s){this._storageService=d,this._configService=s,this._disposables=new C.DisposableStore,this._persistSoon=new w.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(r=>{r.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,s,r){this._withStrategy(d,s).memorize(d,s,r),this._persistSoon.schedule()}select(d,s,r){return this._withStrategy(d,s).select(d,s,r)}_withStrategy(d,s){var r;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(s.lineNumber,s.column),resource:d.uri});if(((r=this._strategy)===null||r===void 0?void 0:r.name)!==o){this._saveState();const l=Ft._strategyCtors.get(o)||t;this._strategy=new l;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,y=this._storageService.get(`${Ft._storagePrefix}/${o}`,m);y&&this._strategy.fromJSON(JSON.parse(y))}catch{}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,r=JSON.stringify(this._strategy);this._storageService.store(`${Ft._storagePrefix}/${this._strategy.name}`,r,s,1)}}};a._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",i],["first",t]]),a._storagePrefix="suggest/memories",a=Be([fe(0,u.IStorageService),fe(1,S.IConfigurationService)],a),e.SuggestMemoryService=a,e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,a,!0)}),define(Q[85],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,w.createDecorator)("telemetryService")}),define(Q[626],J([0,1,477,14,72,2,47,80,20,575,26,39,125,9,42,614,77,85]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let r=class Bt extends c.PickerQuickAccessProvider{constructor(h,m,y,p,f,_){super(Bt.PREFIX,h);this.instantiationService=m,this.keybindingService=y,this.commandService=p,this.telemetryService=f,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(o)),this.options=h}_getPicks(h,m,y){return De(this,void 0,void 0,function*(){const p=yield this.getCommandPicks(m,y);if(y.isCancellationRequested)return[];const f=[];for(const T of p){const k=(0,v.withNullAsUndefined)(Bt.WORD_FILTER(h,T.label)),A=T.commandAlias?(0,v.withNullAsUndefined)(Bt.WORD_FILTER(h,T.commandAlias)):void 0;k||A?(T.highlights={label:k,detail:this.options.showAlias?A:void 0},f.push(T)):h===T.commandId&&f.push(T)}const _=new Map;for(const T of f){const k=_.get(T.label);k?(T.description=T.commandId,k.description=k.commandId):_.set(T.label,T)}f.sort((T,k)=>{const A=this.commandsHistory.peek(T.commandId),P=this.commandsHistory.peek(k.commandId);return A&&P?A>P?-1:1:A?-1:P?1:T.label.localeCompare(k.label)});const I=[];let E=!1;for(let T=0;T<f.length;T++){const k=f[T],A=this.keybindingService.lookupKeybinding(k.commandId),P=A?(0,u.localize)(0,null,k.label,A.getAriaLabel()):k.label;T===0&&this.commandsHistory.peek(k.commandId)&&(I.push({type:"separator",label:(0,u.localize)(1,null)}),E=!0),T!==0&&E&&!this.commandsHistory.peek(k.commandId)&&(I.push({type:"separator",label:(0,u.localize)(2,null)}),E=!1),I.push(Object.assign(Object.assign({},k),{ariaLabel:P,detail:this.options.showAlias&&k.commandAlias!==k.label?k.commandAlias:void 0,keybinding:A,accept:()=>De(this,void 0,void 0,function*(){this.commandsHistory.push(k.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:k.commandId,from:"quick open"});try{yield this.commandService.executeCommand(k.commandId)}catch(F){(0,C.isPromiseCanceledError)(F)||this.dialogService.show(b.default.Error,(0,u.localize)(3,null,k.label,(0,w.toErrorMessage)(F)))}})}))}return I})}};r.PREFIX=">",r.WORD_FILTER=(0,N.or)(N.matchesPrefix,N.matchesWords,N.matchesContiguousSubString),r=Be([fe(1,n.IInstantiationService),fe(2,a.IKeybindingService),fe(3,g.ICommandService),fe(4,s.ITelemetryService),fe(5,i.IDialogService)],r),e.AbstractCommandsQuickAccessProvider=r;let o=class nt extends D.Disposable{constructor(h,m){super();this.storageService=h,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=nt.getConfiguredCommandHistoryLength(this.configurationService),nt.cache&&nt.cache.limit!==this.configuredCommandsHistoryLength&&(nt.cache.limit=this.configuredCommandsHistoryLength,nt.saveState(this.storageService))}load(){const h=this.storageService.get(nt.PREF_KEY_CACHE,0);let m;if(h)try{m=JSON.parse(h)}catch{}const y=nt.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let p;m.usesLRU?p=m.entries:p=m.entries.sort((f,_)=>f.value-_.value),p.forEach(f=>y.set(f.key,f.value))}nt.counter=this.storageService.getNumber(nt.PREF_KEY_COUNTER,0,nt.counter)}push(h){!nt.cache||(nt.cache.set(h,nt.counter++),nt.saveState(this.storageService))}peek(h){var m;return(m=nt.cache)===null||m===void 0?void 0:m.peek(h)}static saveState(h){if(!nt.cache)return;const m={usesLRU:!0,entries:[]};nt.cache.forEach((y,p)=>m.entries.push({key:p,value:y})),h.store(nt.PREF_KEY_CACHE,JSON.stringify(m),0,0),h.store(nt.PREF_KEY_COUNTER,nt.counter,0,0)}static getConfiguredCommandHistoryLength(h){var m,y;const f=(y=(m=h.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||y===void 0?void 0:y.history;return typeof f=="number"?f:nt.DEFAULT_COMMANDS_HISTORY_LENGTH}};o.DEFAULT_COMMANDS_HISTORY_LENGTH=50,o.PREF_KEY_CACHE="commandPalette.mru.cache",o.PREF_KEY_COUNTER="commandPalette.mru.counter",o.counter=1,o=Be([fe(0,d.IStorageService),fe(1,t.IConfigurationService)],o),e.CommandsHistory=o}),define(Q[627],J([0,1,95,626]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class N extends C.AbstractCommandsQuickAccessProvider{constructor(S,b,v,u,g,t){super(S,b,v,u,g,t)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const b=[];for(const v of S.getSupportedActions())b.push({commandId:v.id,commandAlias:v.alias,label:(0,w.stripIcons)(v.label)||v.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=N}),define(Q[22],J([0,1,10,30,4,20,577,196,36]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapUnicodeHighlight=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerUnicodeHighlightForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.simpleCheckboxBorder=e.simpleCheckboxForeground=e.simpleCheckboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(T){return`--vscode-${T.replace(".","-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new N.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(k,A,P,F=!1,R){let M={id:k,description:P,defaults:A,needsTransparency:F,deprecationMessage:R};this.colorsById[k]=M;let O={type:"string",description:P,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return R&&(O.deprecationMessage=R),this.colorSchema.properties[k]=O,this.colorReferenceSchema.enum.push(k),this.colorReferenceSchema.enumDescriptions.push(P),this._onDidChangeSchema.fire(),k}getColors(){return Object.keys(this.colorsById).map(k=>this.colorsById[k])}resolveDefaultColor(k,A){const P=this.colorsById[k];if(P&&P.defaults){const F=P.defaults[A.type];return _(F,A)}}getColorSchema(){return this.colorSchema}toString(){let k=(A,P)=>{let F=A.indexOf(".")===-1?0:1,R=P.indexOf(".")===-1?0:1;return F!==R?F-R:A.localeCompare(P)};return Object.keys(this.colorsById).sort(k).map(A=>`- \`${A}\`: ${this.colorsById[A].description}`).join(`
`)}}const t=new g;v.Registry.add(e.Extensions.ColorContribution,t);function i(T,k,A,P,F){return t.registerColor(T,k,A,P,F)}e.registerColor=i,e.foreground=i("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},S.localize(0,null)),e.errorForeground=i("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},S.localize(1,null)),e.descriptionForeground=i("descriptionForeground",{light:"#717171",dark:m(e.foreground,.7),hc:m(e.foreground,.7)},S.localize(2,null)),e.iconForeground=i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},S.localize(3,null)),e.focusBorder=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},S.localize(4,null)),e.contrastBorder=i("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},S.localize(5,null)),e.activeContrastBorder=i("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},S.localize(6,null)),e.selectionBackground=i("selection.background",{light:null,dark:null,hc:null},S.localize(7,null)),e.textSeparatorForeground=i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:C.Color.black},S.localize(8,null)),e.textLinkForeground=i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(9,null)),e.textLinkActiveForeground=i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(10,null)),e.textPreformatForeground=i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},S.localize(11,null)),e.textBlockQuoteBackground=i("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},S.localize(12,null)),e.textBlockQuoteBorder=i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:C.Color.white},S.localize(13,null)),e.textCodeBlockBackground=i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:C.Color.black},S.localize(14,null)),e.widgetShadow=i("widget.shadow",{dark:m(C.Color.black,.36),light:m(C.Color.black,.16),hc:null},S.localize(15,null)),e.inputBackground=i("input.background",{dark:"#3C3C3C",light:C.Color.white,hc:C.Color.black},S.localize(16,null)),e.inputForeground=i("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(17,null)),e.inputBorder=i("input.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(18,null)),e.inputActiveOptionBorder=i("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},S.localize(19,null)),e.inputActiveOptionHoverBackground=i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},S.localize(20,null)),e.inputActiveOptionBackground=i("inputOption.activeBackground",{dark:m(e.focusBorder,.4),light:m(e.focusBorder,.2),hc:C.Color.transparent},S.localize(21,null)),e.inputActiveOptionForeground=i("inputOption.activeForeground",{dark:C.Color.white,light:C.Color.black,hc:null},S.localize(22,null)),e.inputPlaceholderForeground=i("input.placeholderForeground",{light:m(e.foreground,.5),dark:m(e.foreground,.5),hc:m(e.foreground,.7)},S.localize(23,null)),e.inputValidationInfoBackground=i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:C.Color.black},S.localize(24,null)),e.inputValidationInfoForeground=i("inputValidation.infoForeground",{dark:null,light:null,hc:null},S.localize(25,null)),e.inputValidationInfoBorder=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},S.localize(26,null)),e.inputValidationWarningBackground=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:C.Color.black},S.localize(27,null)),e.inputValidationWarningForeground=i("inputValidation.warningForeground",{dark:null,light:null,hc:null},S.localize(28,null)),e.inputValidationWarningBorder=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},S.localize(29,null)),e.inputValidationErrorBackground=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:C.Color.black},S.localize(30,null)),e.inputValidationErrorForeground=i("inputValidation.errorForeground",{dark:null,light:null,hc:null},S.localize(31,null)),e.inputValidationErrorBorder=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(32,null)),e.selectBackground=i("dropdown.background",{dark:"#3C3C3C",light:C.Color.white,hc:C.Color.black},S.localize(33,null)),e.selectListBackground=i("dropdown.listBackground",{dark:null,light:null,hc:C.Color.black},S.localize(34,null)),e.selectForeground=i("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:C.Color.white},S.localize(35,null)),e.selectBorder=i("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hc:e.contrastBorder},S.localize(36,null)),e.simpleCheckboxBackground=i("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(37,null)),e.simpleCheckboxForeground=i("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hc:e.selectForeground},S.localize(38,null)),e.simpleCheckboxBorder=i("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hc:e.selectBorder},S.localize(39,null)),e.buttonForeground=i("button.foreground",{dark:C.Color.white,light:C.Color.white,hc:C.Color.white},S.localize(40,null)),e.buttonBackground=i("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},S.localize(41,null)),e.buttonHoverBackground=i("button.hoverBackground",{dark:h(e.buttonBackground,.2),light:l(e.buttonBackground,.2),hc:null},S.localize(42,null)),e.buttonBorder=i("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hc:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=i("button.secondaryForeground",{dark:C.Color.white,light:C.Color.white,hc:C.Color.white},S.localize(44,null)),e.buttonSecondaryBackground=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},S.localize(45,null)),e.buttonSecondaryHoverBackground=i("button.secondaryHoverBackground",{dark:h(e.buttonSecondaryBackground,.2),light:l(e.buttonSecondaryBackground,.2),hc:null},S.localize(46,null)),e.badgeBackground=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:C.Color.black},S.localize(47,null)),e.badgeForeground=i("badge.foreground",{dark:C.Color.white,light:"#333",hc:C.Color.white},S.localize(48,null)),e.scrollbarShadow=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},S.localize(49,null)),e.scrollbarSliderBackground=i("scrollbarSlider.background",{dark:C.Color.fromHex("#797979").transparent(.4),light:C.Color.fromHex("#646464").transparent(.4),hc:m(e.contrastBorder,.6)},S.localize(50,null)),e.scrollbarSliderHoverBackground=i("scrollbarSlider.hoverBackground",{dark:C.Color.fromHex("#646464").transparent(.7),light:C.Color.fromHex("#646464").transparent(.7),hc:m(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=i("scrollbarSlider.activeBackground",{dark:C.Color.fromHex("#BFBFBF").transparent(.4),light:C.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=i("progressBar.background",{dark:C.Color.fromHex("#0E70C0"),light:C.Color.fromHex("#0E70C0"),hc:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=i("editorError.background",{dark:null,light:null,hc:null},S.localize(54,null),!0),e.editorErrorForeground=i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},S.localize(55,null)),e.editorErrorBorder=i("editorError.border",{dark:null,light:null,hc:C.Color.fromHex("#E47777").transparent(.8)},S.localize(56,null)),e.editorWarningBackground=i("editorWarning.background",{dark:null,light:null,hc:null},S.localize(57,null),!0),e.editorWarningForeground=i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},S.localize(58,null)),e.editorWarningBorder=i("editorWarning.border",{dark:null,light:null,hc:C.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=i("editorInfo.background",{dark:null,light:null,hc:null},S.localize(60,null),!0),e.editorInfoForeground=i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},S.localize(61,null)),e.editorInfoBorder=i("editorInfo.border",{dark:null,light:null,hc:C.Color.fromHex("#3794FF").transparent(.8)},S.localize(62,null)),e.editorHintForeground=i("editorHint.foreground",{dark:C.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},S.localize(63,null)),e.editorHintBorder=i("editorHint.border",{dark:null,light:null,hc:C.Color.fromHex("#eeeeee").transparent(.8)},S.localize(64,null)),e.sashHoverBorder=i("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hc:e.focusBorder},S.localize(65,null)),e.editorBackground=i("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:C.Color.black},S.localize(66,null)),e.editorForeground=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:C.Color.white},S.localize(67,null)),e.editorWidgetBackground=i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},S.localize(68,null)),e.editorWidgetForeground=i("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(69,null)),e.editorWidgetBorder=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},S.localize(70,null)),e.editorWidgetResizeBorder=i("editorWidget.resizeBorder",{light:null,dark:null,hc:null},S.localize(71,null)),e.quickInputBackground=i("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(72,null)),e.quickInputForeground=i("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(73,null)),e.quickInputTitleBackground=i("quickInputTitle.background",{dark:new C.Color(new C.RGBA(255,255,255,.105)),light:new C.Color(new C.RGBA(0,0,0,.06)),hc:"#000000"},S.localize(74,null)),e.pickerGroupForeground=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:C.Color.white},S.localize(75,null)),e.pickerGroupBorder=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:C.Color.white},S.localize(76,null)),e.keybindingLabelBackground=i("keybindingLabel.background",{dark:new C.Color(new C.RGBA(128,128,128,.17)),light:new C.Color(new C.RGBA(221,221,221,.4)),hc:C.Color.transparent},S.localize(77,null)),e.keybindingLabelForeground=i("keybindingLabel.foreground",{dark:C.Color.fromHex("#CCCCCC"),light:C.Color.fromHex("#555555"),hc:C.Color.white},S.localize(78,null)),e.keybindingLabelBorder=i("keybindingLabel.border",{dark:new C.Color(new C.RGBA(51,51,51,.6)),light:new C.Color(new C.RGBA(204,204,204,.4)),hc:new C.Color(new C.RGBA(111,195,223))},S.localize(79,null)),e.keybindingLabelBottomBorder=i("keybindingLabel.bottomBorder",{dark:new C.Color(new C.RGBA(68,68,68,.6)),light:new C.Color(new C.RGBA(187,187,187,.4)),hc:new C.Color(new C.RGBA(111,195,223))},S.localize(80,null)),e.editorSelectionBackground=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},S.localize(81,null)),e.editorSelectionForeground=i("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},S.localize(82,null)),e.editorInactiveSelection=i("editor.inactiveSelectionBackground",{light:m(e.editorSelectionBackground,.5),dark:m(e.editorSelectionBackground,.5),hc:m(e.editorSelectionBackground,.5)},S.localize(83,null),!0),e.editorSelectionHighlight=i("editor.selectionHighlightBackground",{light:f(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:f(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},S.localize(84,null),!0),e.editorSelectionHighlightBorder=i("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(85,null)),e.editorFindMatch=i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},S.localize(86,null)),e.editorFindMatchHighlight=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},S.localize(87,null),!0),e.editorFindRangeHighlight=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},S.localize(88,null),!0),e.editorFindMatchBorder=i("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(89,null)),e.editorFindMatchHighlightBorder=i("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(90,null)),e.editorFindRangeHighlightBorder=i("editor.findRangeHighlightBorder",{dark:null,light:null,hc:m(e.activeContrastBorder,.4)},S.localize(91,null),!0),e.searchEditorFindMatch=i("searchEditor.findMatchBackground",{light:m(e.editorFindMatchHighlight,.66),dark:m(e.editorFindMatchHighlight,.66),hc:e.editorFindMatchHighlight},S.localize(92,null)),e.searchEditorFindMatchBorder=i("searchEditor.findMatchBorder",{light:m(e.editorFindMatchHighlightBorder,.66),dark:m(e.editorFindMatchHighlightBorder,.66),hc:e.editorFindMatchHighlightBorder},S.localize(93,null)),e.editorHoverHighlight=i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},S.localize(94,null),!0),e.editorHoverBackground=i("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(95,null)),e.editorHoverForeground=i("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(96,null)),e.editorHoverBorder=i("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},S.localize(97,null)),e.editorHoverStatusBarBackground=i("editorHoverWidget.statusBarBackground",{dark:h(e.editorHoverBackground,.2),light:l(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},S.localize(98,null)),e.editorActiveLinkForeground=i("editorLink.activeForeground",{dark:"#4E94CE",light:C.Color.blue,hc:C.Color.cyan},S.localize(99,null)),e.editorInlayHintForeground=i("editorInlayHint.foreground",{dark:m(e.badgeForeground,.8),light:m(e.badgeForeground,.8),hc:e.badgeForeground},S.localize(100,null)),e.editorInlayHintBackground=i("editorInlayHint.background",{dark:m(e.badgeBackground,.6),light:m(e.badgeBackground,.3),hc:e.badgeBackground},S.localize(101,null)),e.editorInlayHintTypeForeground=i("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(102,null)),e.editorInlayHintTypeBackground=i("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(103,null)),e.editorInlayHintParameterForeground=i("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(104,null)),e.editorInlayHintParameterBackground=i("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(105,null)),e.editorLightBulbForeground=i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},S.localize(106,null)),e.editorLightBulbAutoFixForeground=i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(107,null)),e.defaultInsertColor=new C.Color(new C.RGBA(155,185,85,.2)),e.defaultRemoveColor=new C.Color(new C.RGBA(255,0,0,.2)),e.diffInserted=i("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},S.localize(108,null),!0),e.diffRemoved=i("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},S.localize(109,null),!0),e.diffInsertedOutline=i("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},S.localize(110,null)),e.diffRemovedOutline=i("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},S.localize(111,null)),e.diffBorder=i("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(112,null)),e.diffDiagonalFill=i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},S.localize(113,null)),e.listFocusBackground=i("list.focusBackground",{dark:null,light:null,hc:null},S.localize(114,null)),e.listFocusForeground=i("list.focusForeground",{dark:null,light:null,hc:null},S.localize(115,null)),e.listFocusOutline=i("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},S.localize(116,null)),e.listActiveSelectionBackground=i("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},S.localize(117,null)),e.listActiveSelectionForeground=i("list.activeSelectionForeground",{dark:C.Color.white,light:C.Color.white,hc:null},S.localize(118,null)),e.listActiveSelectionIconForeground=i("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(119,null)),e.listInactiveSelectionBackground=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},S.localize(120,null)),e.listInactiveSelectionForeground=i("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},S.localize(121,null)),e.listInactiveSelectionIconForeground=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(122,null)),e.listInactiveFocusBackground=i("list.inactiveFocusBackground",{dark:null,light:null,hc:null},S.localize(123,null)),e.listInactiveFocusOutline=i("list.inactiveFocusOutline",{dark:null,light:null,hc:null},S.localize(124,null)),e.listHoverBackground=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},S.localize(125,null)),e.listHoverForeground=i("list.hoverForeground",{dark:null,light:null,hc:null},S.localize(126,null)),e.listDropBackground=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},S.localize(127,null)),e.listHighlightForeground=i("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},S.localize(128,null)),e.listFocusHighlightForeground=i("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:p(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},S.localize(129,null)),e.listInvalidItemForeground=i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},S.localize(130,null)),e.listErrorForeground=i("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},S.localize(131,null)),e.listWarningForeground=i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},S.localize(132,null)),e.listFilterWidgetBackground=i("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:C.Color.black},S.localize(133,null)),e.listFilterWidgetOutline=i("listFilterWidget.outline",{dark:C.Color.transparent,light:C.Color.transparent,hc:"#f38518"},S.localize(134,null)),e.listFilterWidgetNoMatchesOutline=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(135,null)),e.listFilterMatchHighlight=i("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hc:null},S.localize(136,null)),e.listFilterMatchHighlightBorder=i("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hc:e.contrastBorder},S.localize(137,null)),e.treeIndentGuidesStroke=i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},S.localize(138,null)),e.tableColumnsBorder=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},S.localize(139,null)),e.tableOddRowsBackgroundColor=i("tree.tableOddRowsBackground",{dark:m(e.foreground,.04),light:m(e.foreground,.04),hc:null},S.localize(140,null)),e.listDeemphasizedForeground=i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},S.localize(141,null)),e._deprecatedQuickInputListFocusBackground=i("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,S.localize(142,null)),e.quickInputListFocusForeground=i("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(143,null)),e.quickInputListFocusIconForeground=i("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},S.localize(144,null)),e.quickInputListFocusBackground=i("quickInputList.focusBackground",{dark:y(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:y(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},S.localize(145,null)),e.menuBorder=i("menu.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(146,null)),e.menuForeground=i("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},S.localize(147,null)),e.menuBackground=i("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(148,null)),e.menuSelectionForeground=i("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(149,null)),e.menuSelectionBackground=i("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},S.localize(150,null)),e.menuSelectionBorder=i("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(151,null)),e.menuSeparatorBackground=i("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},S.localize(152,null)),e.toolbarHoverBackground=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},S.localize(153,null)),e.toolbarHoverOutline=i("toolbar.hoverOutline",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(154,null)),e.toolbarActiveBackground=i("toolbar.activeBackground",{dark:h(e.toolbarHoverBackground,.1),light:l(e.toolbarHoverBackground,.1),hc:null},S.localize(155,null)),e.snippetTabstopHighlightBackground=i("editor.snippetTabstopHighlightBackground",{dark:new C.Color(new C.RGBA(124,124,124,.3)),light:new C.Color(new C.RGBA(10,50,100,.2)),hc:new C.Color(new C.RGBA(124,124,124,.3))},S.localize(156,null)),e.snippetTabstopHighlightBorder=i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},S.localize(157,null)),e.snippetFinalTabstopHighlightBackground=i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},S.localize(158,null)),e.snippetFinalTabstopHighlightBorder=i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new C.Color(new C.RGBA(10,50,100,.5)),hc:"#525252"},S.localize(159,null)),e.breadcrumbsForeground=i("breadcrumb.foreground",{light:m(e.foreground,.8),dark:m(e.foreground,.8),hc:m(e.foreground,.8)},S.localize(160,null)),e.breadcrumbsBackground=i("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hc:e.editorBackground},S.localize(161,null)),e.breadcrumbsFocusForeground=i("breadcrumb.focusForeground",{light:l(e.foreground,.2),dark:h(e.foreground,.1),hc:h(e.foreground,.1)},S.localize(162,null)),e.breadcrumbsActiveSelectionForeground=i("breadcrumb.activeSelectionForeground",{light:l(e.foreground,.2),dark:h(e.foreground,.1),hc:h(e.foreground,.1)},S.localize(163,null)),e.breadcrumbsPickerBackground=i("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(164,null));const n=.5,a=C.Color.fromHex("#40C8AE").transparent(n),c=C.Color.fromHex("#40A6FF").transparent(n),d=C.Color.fromHex("#606060").transparent(.4),s=.4,r=1;e.mergeCurrentHeaderBackground=i("merge.currentHeaderBackground",{dark:a,light:a,hc:null},S.localize(165,null),!0),e.mergeCurrentContentBackground=i("merge.currentContentBackground",{dark:m(e.mergeCurrentHeaderBackground,s),light:m(e.mergeCurrentHeaderBackground,s),hc:m(e.mergeCurrentHeaderBackground,s)},S.localize(166,null),!0),e.mergeIncomingHeaderBackground=i("merge.incomingHeaderBackground",{dark:c,light:c,hc:null},S.localize(167,null),!0),e.mergeIncomingContentBackground=i("merge.incomingContentBackground",{dark:m(e.mergeIncomingHeaderBackground,s),light:m(e.mergeIncomingHeaderBackground,s),hc:m(e.mergeIncomingHeaderBackground,s)},S.localize(168,null),!0),e.mergeCommonHeaderBackground=i("merge.commonHeaderBackground",{dark:d,light:d,hc:null},S.localize(169,null),!0),e.mergeCommonContentBackground=i("merge.commonContentBackground",{dark:m(e.mergeCommonHeaderBackground,s),light:m(e.mergeCommonHeaderBackground,s),hc:m(e.mergeCommonHeaderBackground,s)},S.localize(170,null),!0),e.mergeBorder=i("merge.border",{dark:null,light:null,hc:"#C3DF6F"},S.localize(171,null)),e.overviewRulerCurrentContentForeground=i("editorOverviewRuler.currentContentForeground",{dark:m(e.mergeCurrentHeaderBackground,r),light:m(e.mergeCurrentHeaderBackground,r),hc:e.mergeBorder},S.localize(172,null)),e.overviewRulerIncomingContentForeground=i("editorOverviewRuler.incomingContentForeground",{dark:m(e.mergeIncomingHeaderBackground,r),light:m(e.mergeIncomingHeaderBackground,r),hc:e.mergeBorder},S.localize(173,null)),e.overviewRulerCommonContentForeground=i("editorOverviewRuler.commonContentForeground",{dark:m(e.mergeCommonHeaderBackground,r),light:m(e.mergeCommonHeaderBackground,r),hc:e.mergeBorder},S.localize(174,null)),e.overviewRulerFindMatchForeground=i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(175,null),!0),e.overviewRulerSelectionHighlightForeground=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},S.localize(176,null),!0),e.overviewRulerUnicodeHighlightForeground=i("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(177,null),!0),e.minimapFindMatch=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(178,null),!0),e.minimapSelectionOccurrenceHighlight=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},S.localize(179,null),!0),e.minimapSelection=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},S.localize(180,null),!0),e.minimapError=i("minimap.errorHighlight",{dark:new C.Color(new C.RGBA(255,18,18,.7)),light:new C.Color(new C.RGBA(255,18,18,.7)),hc:new C.Color(new C.RGBA(255,50,50,1))},S.localize(181,null)),e.minimapWarning=i("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},S.localize(182,null)),e.minimapBackground=i("minimap.background",{dark:null,light:null,hc:null},S.localize(183,null)),e.minimapForegroundOpacity=i("minimap.foregroundOpacity",{dark:C.Color.fromHex("#000f"),light:C.Color.fromHex("#000f"),hc:C.Color.fromHex("#000f")},S.localize(184,null)),e.minimapUnicodeHighlight=i("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(185,null)),e.minimapSliderBackground=i("minimapSlider.background",{light:m(e.scrollbarSliderBackground,.5),dark:m(e.scrollbarSliderBackground,.5),hc:m(e.scrollbarSliderBackground,.5)},S.localize(186,null)),e.minimapSliderHoverBackground=i("minimapSlider.hoverBackground",{light:m(e.scrollbarSliderHoverBackground,.5),dark:m(e.scrollbarSliderHoverBackground,.5),hc:m(e.scrollbarSliderHoverBackground,.5)},S.localize(187,null)),e.minimapSliderActiveBackground=i("minimapSlider.activeBackground",{light:m(e.scrollbarSliderActiveBackground,.5),dark:m(e.scrollbarSliderActiveBackground,.5),hc:m(e.scrollbarSliderActiveBackground,.5)},S.localize(188,null)),e.problemsErrorIconForeground=i("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(189,null)),e.problemsWarningIconForeground=i("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(190,null)),e.problemsInfoIconForeground=i("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(191,null)),e.chartsForeground=i("charts.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(192,null)),e.chartsLines=i("charts.lines",{dark:m(e.foreground,.5),light:m(e.foreground,.5),hc:m(e.foreground,.5)},S.localize(193,null)),e.chartsRed=i("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(194,null)),e.chartsBlue=i("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(195,null)),e.chartsYellow=i("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(196,null)),e.chartsOrange=i("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hc:e.minimapFindMatch},S.localize(197,null)),e.chartsGreen=i("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},S.localize(198,null)),e.chartsPurple=i("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},S.localize(199,null));function o(T,k){var A,P,F;switch(T.op){case 0:return(A=_(T.value,k))===null||A===void 0?void 0:A.darken(T.factor);case 1:return(P=_(T.value,k))===null||P===void 0?void 0:P.lighten(T.factor);case 2:return(F=_(T.value,k))===null||F===void 0?void 0:F.transparent(T.factor);case 3:for(const R of T.values){const M=_(R,k);if(M)return M}return;case 5:return _(k.defines(T.if)?T.then:T.else,k);case 4:{const R=_(T.value,k);if(!R)return;const M=_(T.background,k);return M?R.isDarkerThan(M)?C.Color.getLighterColor(R,M,T.factor).transparent(T.transparency):C.Color.getDarkerColor(R,M,T.factor).transparent(T.transparency):R.transparent(T.factor*T.transparency)}default:throw(0,D.assertNever)(T)}}e.executeTransform=o;function l(T,k){return{op:0,value:T,factor:k}}e.darken=l;function h(T,k){return{op:1,value:T,factor:k}}e.lighten=h;function m(T,k){return{op:2,value:T,factor:k}}e.transparent=m;function y(...T){return{op:3,values:T}}e.oneOf=y;function p(T,k,A){return{op:5,if:T,then:k,else:A}}e.ifDefinedThenElse=p;function f(T,k,A,P){return{op:4,value:T,background:k,factor:A,transparency:P}}function _(T,k){if(T!==null){if(typeof T=="string")return T[0]==="#"?C.Color.fromHex(T):k.getColor(T);if(T instanceof C.Color)return T;if(typeof T=="object")return o(T,k)}}e.resolveColorValue=_,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let I=v.Registry.as(b.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,t.getColorSchema());const E=new w.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);t.onDidChangeSchema(()=>{E.isScheduled()||E.schedule()})}),define(Q[128],J([0,1,7,96,56,10,2,22]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class v{constructor(m,y){this.x=m,this.y=y,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-w.StandardWindow.scrollX,this.y-w.StandardWindow.scrollY)}}e.PageCoordinates=v;class u{constructor(m,y){this.clientX=m,this.clientY=y,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new v(this.clientX+w.StandardWindow.scrollX,this.clientY+w.StandardWindow.scrollY)}}e.ClientCoordinates=u;class g{constructor(m,y,p,f){this.x=m,this.y=y,this.width=p,this.height=f,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class t{constructor(m,y){this.x=m,this.y=y,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=t;function i(h){const m=w.getDomNodePagePosition(h);return new g(m.left,m.top,m.width,m.height)}e.createEditorPagePosition=i;function n(h,m,y){const p=m.width/h.offsetWidth,f=m.height/h.offsetHeight,_=(y.x-m.x)/p,I=(y.y-m.y)/f;return new t(_,I)}e.createCoordinatesRelativeToEditor=n;class a extends N.StandardMouseEvent{constructor(m,y){super(m);this._editorMouseEventBrand=void 0,this.pos=new v(this.posx,this.posy),this.editorPos=i(y),this.relativePos=n(y,this.editorPos,this.pos)}}e.EditorMouseEvent=a;class c{constructor(m){this._editorViewDomNode=m}_create(m){return new a(m,this._editorViewDomNode)}onContextMenu(m,y){return w.addDisposableListener(m,"contextmenu",p=>{y(this._create(p))})}onMouseUp(m,y){return w.addDisposableListener(m,"mouseup",p=>{y(this._create(p))})}onMouseDown(m,y){return w.addDisposableListener(m,"mousedown",p=>{y(this._create(p))})}onMouseLeave(m,y){return w.addDisposableNonBubblingMouseOutListener(m,p=>{y(this._create(p))})}onMouseMoveThrottled(m,y,p,f){const _=(I,E)=>p(I,this._create(E));return w.addDisposableThrottledListener(m,"mousemove",y,_,f)}}e.EditorMouseEventFactory=c;class d{constructor(m){this._editorViewDomNode=m}_create(m){return new a(m,this._editorViewDomNode)}onPointerUp(m,y){return w.addDisposableListener(m,"pointerup",p=>{y(this._create(p))})}onPointerDown(m,y){return w.addDisposableListener(m,"pointerdown",p=>{y(this._create(p))})}onPointerLeave(m,y){return w.addDisposableNonBubblingPointerOutListener(m,p=>{y(this._create(p))})}onPointerMoveThrottled(m,y,p,f){const _=(I,E)=>p(I,this._create(E));return w.addDisposableThrottledListener(m,"pointermove",y,_,f)}}e.EditorPointerEventFactory=d;class s extends S.Disposable{constructor(m){super();this._editorViewDomNode=m,this._globalMouseMoveMonitor=this._register(new C.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(m,y,p,f,_){this._keydownListener=w.addStandardDisposableListener(document,"keydown",E=>{E.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,E.browserEvent)},!0);const I=(E,T)=>p(E,new a(T,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(m,y,I,f,E=>{this._keydownListener.dispose(),_(E)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=s;class r{constructor(m){this._editor=m,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(m){const y=this.getOrCreateRule(m);return y.increaseRefCount(),{className:y.className,dispose:()=>{y.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(m){const y=this.computeUniqueKey(m);let p=this._rules.get(y);if(!p){const f=this._counter++;p=new o(y,`dyn-rule-${f}`,w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,m),this._rules.set(y,p)}return p}computeUniqueKey(m){return JSON.stringify(m)}garbageCollect(){for(const m of this._rules.values())m.hasReferences()||(this._rules.delete(m.key),m.dispose())}}e.DynamicCssRules=r;class o{constructor(m,y,p,f){this.key=m,this.className=y,this.properties=f,this._referenceCount=0,this._styleElement=w.createStyleSheet(p),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(m,y){let p=`.${m} {`;for(const f in y){const _=y[f];let I;typeof _=="object"?I=`var(${(0,b.asCssVariableName)(_.id)})`:I=_,p+=`
	${l(f)}: ${I};`}return p+=`
}`,p}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function l(h){return h.replace(/(^[A-Z])/,([m])=>m.toLowerCase()).replace(/([A-Z])/g,([m])=>`-${m.toLowerCase()}`)}}),define(Q[129],J([0,1,22]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function C(v,u){const g=Object.create(null);for(let t in u){const i=u[t];i&&(g[t]=(0,w.resolveColorValue)(i,v))}return g}e.computeStyles=C;function N(v,u,g){function t(){const i=C(v.getColorTheme(),u);typeof g=="function"?g(i):g.style(i)}return t(),v.onDidColorThemeChange(t)}e.attachStyler=N;function D(v,u,g){return N(u,{badgeBackground:(g==null?void 0:g.badgeBackground)||w.badgeBackground,badgeForeground:(g==null?void 0:g.badgeForeground)||w.badgeForeground,badgeBorder:w.contrastBorder},v)}e.attachBadgeStyler=D;function S(v,u,g){return N(u,Object.assign(Object.assign({},e.defaultListStyles),g||{}),v)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:w.listFocusBackground,listFocusForeground:w.listFocusForeground,listFocusOutline:w.listFocusOutline,listActiveSelectionBackground:w.listActiveSelectionBackground,listActiveSelectionForeground:w.listActiveSelectionForeground,listActiveSelectionIconForeground:w.listActiveSelectionIconForeground,listFocusAndSelectionBackground:w.listActiveSelectionBackground,listFocusAndSelectionForeground:w.listActiveSelectionForeground,listInactiveSelectionBackground:w.listInactiveSelectionBackground,listInactiveSelectionIconForeground:w.listInactiveSelectionIconForeground,listInactiveSelectionForeground:w.listInactiveSelectionForeground,listInactiveFocusBackground:w.listInactiveFocusBackground,listInactiveFocusOutline:w.listInactiveFocusOutline,listHoverBackground:w.listHoverBackground,listHoverForeground:w.listHoverForeground,listDropBackground:w.listDropBackground,listSelectionOutline:w.activeContrastBorder,listHoverOutline:w.activeContrastBorder,listFilterWidgetBackground:w.listFilterWidgetBackground,listFilterWidgetOutline:w.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:w.listFilterWidgetNoMatchesOutline,listMatchesShadow:w.widgetShadow,treeIndentGuidesStroke:w.treeIndentGuidesStroke,tableColumnsBorder:w.tableColumnsBorder,tableOddRowsBackgroundColor:w.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:w.widgetShadow,borderColor:w.menuBorder,foregroundColor:w.menuForeground,backgroundColor:w.menuBackground,selectionForegroundColor:w.menuSelectionForeground,selectionBackgroundColor:w.menuSelectionBackground,selectionBorderColor:w.menuSelectionBorder,separatorColor:w.menuSeparatorBackground,scrollbarShadow:w.scrollbarShadow,scrollbarSliderBackground:w.scrollbarSliderBackground,scrollbarSliderHoverBackground:w.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:w.scrollbarSliderActiveBackground};function b(v,u,g){return N(u,Object.assign(Object.assign({},e.defaultMenuStyles),g),v)}e.attachMenuStyler=b}),define(Q[628],J([0,1,7,56,474,50,14,2,129,392]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(t,i,n,a,c){this.contextViewService=t,this.telemetryService=i,this.notificationService=n,this.keybindingService=a,this.themeService=c,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let n,a=(0,w.isHTMLElement)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:c=>{let d=t.getMenuClassName?t.getMenuClassName():"";d&&(c.className+=" "+d),this.options.blockMouse&&(this.block=c.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,w.addDisposableListener)(this.block,w.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const s=new b.DisposableStore,r=t.actionRunner||new D.ActionRunner;return r.onBeforeRun(this.onActionRun,this,s),r.onDidRun(this.onDidActionRun,this,s),n=new N.Menu(c,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:r,getKeyBinding:t.getKeyBinding?t.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)}),s.add((0,v.attachMenuStyler)(n,this.themeService)),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),s.add((0,w.addDisposableListener)(window,w.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),s.add((0,w.addDisposableListener)(window,w.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;let l=new C.StandardMouseEvent(o),h=l.target;if(!l.rightButton){for(;h;){if(h===c)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(s,n)},focus:()=>{n&&n.focus(!!t.autoSelectFirstItem)},onHide:c=>{t.onHide&&t.onHide(!!c),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},a,!!a)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,S.isPromiseCanceledError)(t.error)&&this.notificationService.error(t.error)}}e.ContextMenuHandler=u}),define(Q[130],J([0,1]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var w;(function(C){C.DARK="dark",C.LIGHT="light",C.HIGH_CONTRAST="hc"})(w=e.ColorScheme||(e.ColorScheme={}))}),define(Q[273],J([0,1,33,31,17,423,119,149,120,130,29]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const t=function(){return N.isNative?!0:!(N.isLinux||w.isFirefox||w.isSafari)}();let i=!0;class n{constructor(y,p){this._domNode=y,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=p}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=n;class a{constructor(y,p){this.themeType=p;const f=y.options,_=f.get(43);this.renderWhitespace=f.get(87),this.renderControlCharacters=f.get(82),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!f.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=f.get(58),this.stopRenderingLineAfter=f.get(104),this.fontLigatures=f.get(44)}equals(y){return this.themeType===y.themeType&&this.renderWhitespace===y.renderWhitespace&&this.renderControlCharacters===y.renderControlCharacters&&this.spaceWidth===y.spaceWidth&&this.middotWidth===y.middotWidth&&this.wsmiddotWidth===y.wsmiddotWidth&&this.useMonospaceOptimizations===y.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===y.canUseHalfwidthRightwardsArrow&&this.lineHeight===y.lineHeight&&this.stopRenderingLineAfter===y.stopRenderingLineAfter&&this.fontLigatures===y.fontLigatures}}e.ViewLineOptions=a;class c{constructor(y){this._options=y,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(y){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,C.createFastDomNode)(y);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(y){this._isMaybeInvalid=!0,this._options=y}onSelectionChanged(){return this._options.themeType===u.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(y,p,f,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const I=f.getViewLineRenderingData(y),E=this._options,T=b.LineDecoration.filter(I.inlineDecorations,y,I.minColumn,I.maxColumn);let k=null;if(E.themeType===u.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const R=f.selections;for(const M of R){if(M.endLineNumber<y||M.startLineNumber>y)continue;const O=M.startLineNumber===y?M.startColumn:I.minColumn,L=M.endLineNumber===y?M.endColumn:I.maxColumn;O<L&&(E.themeType===u.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?T.push(new b.LineDecoration(O,L,"inline-selected-text",0)):(k||(k=[]),k.push(new v.LineRange(O-1,L-1))))}}const A=new v.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,I.content,I.continuesWithWrappedLine,I.isBasicASCII,I.containsRTL,I.minColumn-1,I.tokens,T,I.tabSize,I.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==g.EditorFontLigatures.OFF,k);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(p)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(c.CLASS_NAME),_.appendASCIIString('">');const P=(0,v.renderViewLine)(A,_);_.appendASCIIString("</div>");let F=null;return i&&t&&I.isBasicASCII&&E.useMonospaceOptimizations&&P.containsForeignElements===0&&I.content.length<300&&A.lineTokens.getCount()<100&&(F=new d(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping)),F||(F=o(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=F,!0}layoutLine(y,p){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(p),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof d:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof d?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof d&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(y,p,f,_){if(!this._renderedViewLine)return null;p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p)),f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f));const I=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;I!==-1&&p>I+1&&f>I+1&&(E=!0),I!==-1&&p>I+1&&(p=I+1),I!==-1&&f>I+1&&(f=I+1);const T=this._renderedViewLine.getVisibleRangesForRange(y,p,f,_);return T&&T.length>0?new S.VisibleRanges(E,T):null}getColumnOfNodeOffset(y,p,f){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(y,p,f):1}}e.ViewLine=c,c.CLASS_NAME="view-line";class d{constructor(y,p,f){this.domNode=y,this.input=p,this._characterMapping=f,this._charWidth=p.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return i;const y=this.getWidth(),p=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(y-p)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1),i}toSlowRenderedLine(){return o(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(y,p,f,_){const I=this._getCharPosition(p),E=this._getCharPosition(f);return[new S.FloatHorizontalRange(I,E-I)]}_getCharPosition(y){const p=this._characterMapping.getAbsoluteOffset(y);return this._charWidth*p}getColumnOfNodeOffset(y,p,f){const _=p.textContent.length;let I=-1;for(;p;)p=p.previousSibling,I++;return this._characterMapping.getColumn(new v.DomPosition(I,f),_)}}class s{constructor(y,p,f,_,I){if(this.domNode=y,this.input=p,this._characterMapping=f,this._isWhitespaceOnly=/^\s*$/.test(p.lineContent),this._containsForeignElements=I,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,T=this._characterMapping.length;E<=T;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(y){return y.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(y,p,f,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const I=this._readPixelOffset(this.domNode,y,p,_);if(I===-1)return null;const E=this._readPixelOffset(this.domNode,y,f,_);return E===-1?null:[new S.FloatHorizontalRange(I,E-I)]}return this._readVisibleRangesForRange(this.domNode,y,p,f,_)}_readVisibleRangesForRange(y,p,f,_,I){if(f===_){const E=this._readPixelOffset(y,p,f,I);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(y,f,_,I)}_readPixelOffset(y,p,f,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const I=this._getReadingTarget(y);return I.firstChild?I.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const I=this._pixelOffsetCache[f];if(I!==-1)return I;const E=this._actualReadPixelOffset(y,p,f,_);return this._pixelOffsetCache[f]=E,E}return this._actualReadPixelOffset(y,p,f,_)}_actualReadPixelOffset(y,p,f,_){if(this._characterMapping.length===0){const k=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),0,0,0,0,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);return!k||k.length===0?-1:k[0].left}if(f===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const I=this._characterMapping.getDomPosition(f),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),I.partIndex,I.charIndex,I.partIndex,I.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);if(!E||E.length===0)return-1;const T=E[0].left;if(this.input.isBasicASCII){const k=this._characterMapping.getAbsoluteOffset(f),A=Math.round(this.input.spaceWidth*k);if(Math.abs(A-T)<=1)return A}return T}_readRawVisibleRangesForRange(y,p,f,_){if(p===1&&f===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth())];const I=this._characterMapping.getDomPosition(p),E=this._characterMapping.getDomPosition(f);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),I.partIndex,I.charIndex,E.partIndex,E.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode)}getColumnOfNodeOffset(y,p,f){const _=p.textContent.length;let I=-1;for(;p;)p=p.previousSibling,I++;return this._characterMapping.getColumn(new v.DomPosition(I,f),_)}}class r extends s{_readVisibleRangesForRange(y,p,f,_,I){const E=super._readVisibleRangesForRange(y,p,f,_,I);if(!E||E.length===0||f===_||f===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const T=this._readPixelOffset(y,p,_,I);if(T!==-1){const k=E[E.length-1];k.left<T&&(k.width=T-k.left)}}return E}}const o=function(){return w.isWebKit?l:h}();function l(m,y,p,f,_){return new r(m,y,p,f,_)}function h(m,y,p,f,_){return new s(m,y,p,f,_)}}),define(Q[629],J([0,1,17,10,60,175,49,273,11,3,119,140,352]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(s){this._currentVisibleRange=s}}class n{constructor(s,r,o,l,h,m){this.lineNumber=s,this.startColumn=r,this.endColumn=o,this.startScrollTop=l,this.stopScrollTop=h,this.scrollType=m,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class a{constructor(s,r,o,l){this.selections=s,this.startScrollTop=r,this.stopScrollTop=o,this.scrollType=l,this.type="selections";let h=s[0].startLineNumber,m=s[0].endLineNumber;for(let y=1,p=s.length;y<p;y++){const f=s[y];h=Math.min(h,f.startLineNumber),m=Math.max(m,f.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=m}}class c extends S.ViewPart{constructor(s,r){super(s);this._linesContent=r,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const o=this._context.configuration,l=this._context.configuration.options,h=l.get(43),m=l.get(131);this._lineHeight=l.get(58),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=l.get(88),this._cursorSurroundingLines=l.get(25),this._cursorSurroundingLinesStyle=l.get(26),this._canUseLayerHinting=!l.get(28),this._viewLineOptions=new b.ViewLineOptions(o,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${t.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,N.applyFontInfo)(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new C.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new C.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s),s.hasChanged(131)&&(this._maxLineWidth=0);const r=this._context.configuration.options,o=r.get(43),l=r.get(131);return this._lineHeight=r.get(58),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=r.get(88),this._cursorSurroundingLines=r.get(25),this._cursorSurroundingLinesStyle=r.get(26),this._canUseLayerHinting=!r.get(28),(0,N.applyFontInfo)(this.domNode,o),this._onOptionsMaybeChanged(),s.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const s=this._context.configuration,r=new b.ViewLineOptions(s,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;const o=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=o;h<=l;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(s){const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let l=!1;for(let h=r;h<=o;h++)l=this._visibleLines.getVisibleLine(h).onSelectionChanged()||l;return l}onDecorationsChanged(s){{const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let l=r;l<=o;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(s){const r=this._visibleLines.onFlushed(s);return this._maxLineWidth=0,r}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onRevealRangeRequest(s){const r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),s.source,s.range,s.selections,s.verticalType);if(r===-1)return!1;let o=this._context.viewLayout.validateScrollPosition({scrollTop:r});s.revealHorizontal?s.range&&s.range.startLineNumber!==s.range.endLineNumber?o={scrollTop:o.scrollTop,scrollLeft:0}:s.range?this._horizontalRevealRequest=new n(s.range.startLineNumber,s.range.startColumn,s.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,s.scrollType):s.selections&&s.selections.length>0&&(this._horizontalRevealRequest=new a(s.selections,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,s.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-o.scrollTop)<=this._lineHeight?1:s.scrollType;return this._context.model.setScrollPosition(o,h),!0}onScrollChanged(s){if(this._horizontalRevealRequest&&s.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&s.scrollTopChanged){const r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),o=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(s.scrollTop<r||s.scrollTop>o)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(s.scrollWidth),this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(s)}onThemeChanged(s){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(s,r){const o=this._getViewLineDomNode(s);if(o===null)return null;const l=this._getLineNumberFor(o);if(l===-1||l<1||l>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(l)===1)return new v.Position(l,1);const h=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(l<h||l>m)return null;let y=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,s,r);const p=this._context.model.getLineMinColumn(l);return y<p&&(y=p),new v.Position(l,y)}_getViewLineDomNode(s){for(;s&&s.nodeType===1;){if(s.className===b.ViewLine.CLASS_NAME)return s;s=s.parentElement}return null}_getLineNumberFor(s){const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let l=r;l<=o;l++){const h=this._visibleLines.getVisibleLine(l);if(s===h.getDomNode())return l}return-1}getLineWidth(s){const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();return s<r||s>o?-1:this._visibleLines.getVisibleLine(s).getWidth()}linesVisibleRangesForRange(s,r){if(this.shouldRender())return null;const o=s.endLineNumber,l=u.Range.intersectRanges(s,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;let h=[],m=0;const y=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;r&&(p=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(l.startLineNumber,1)).lineNumber);const f=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let I=l.startLineNumber;I<=l.endLineNumber;I++){if(I<f||I>_)continue;const E=I===l.startLineNumber?l.startColumn:1,T=I===l.endLineNumber?l.endColumn:this._context.model.getLineMaxColumn(I),k=this._visibleLines.getVisibleLine(I).getVisibleRangesForRange(I,E,T,y);if(!!k){if(r&&I<o){const A=p;p=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(I+1,1)).lineNumber,A!==p&&(k.ranges[k.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[m++]=new g.LineVisibleRanges(k.outsideRenderedLine,I,g.HorizontalRange.from(k.ranges))}}return m===0?null:h}_visibleRangesForLineRange(s,r,o){return this.shouldRender()||s<this._visibleLines.getStartLineNumber()||s>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(s,r,o,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(s){const r=this._visibleRangesForLineRange(s.lineNumber,s.column,s.column);return r?new g.HorizontalPosition(r.outsideRenderedLine,r.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(s){const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let l=1,h=!0;for(let m=r;m<=o;m++){const y=this._visibleLines.getVisibleLine(m);if(s&&!y.getWidthIsFast()){h=!1;continue}l=Math.max(l,y.getWidth())}return h&&r===1&&o===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),h}_checkMonospaceFontAssumptions(){let s=-1,r=-1;const o=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=o;h<=l;h++){const m=this._visibleLines.getVisibleLine(h);if(m.needsMonospaceFontCheck()){const y=m.getWidth();y>r&&(r=y,s=h)}}if(s!==-1&&!this._visibleLines.getVisibleLine(s).monospaceAssumptionsAreValid())for(let h=o;h<=l;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(s){if(this._visibleLines.renderLines(s),this._lastRenderedData.setCurrentVisibleRange(s.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const o=this._horizontalRevealRequest;if(s.startLineNumber<=o.minLineNumber&&o.maxLineNumber<=s.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(o);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:l.scrollLeft},o.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),w.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const o=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let h=o;h<=l;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const r=this._context.viewLayout.getCurrentScrollTop()-s.bigNumbersDelta;this._linesContent.setTop(-r),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(s){const r=Math.ceil(s);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(s,r,o,l,h){const m=s.top,y=s.height,p=m+y;let f,_,I;if(l&&l.length>0){let k=l[0].startLineNumber,A=l[0].endLineNumber;for(let P=1,F=l.length;P<F;P++){const R=l[P];k=Math.min(k,R.startLineNumber),A=Math.max(A,R.endLineNumber)}f=!1,_=this._context.viewLayout.getVerticalOffsetForLineNumber(k),I=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(o)f=!0,_=this._context.viewLayout.getVerticalOffsetForLineNumber(o.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(o.endLineNumber)+this._lineHeight;else return-1;if(!(r==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const k=Math.min(y/this._lineHeight/2,this._cursorSurroundingLines);_-=k*this._lineHeight,I+=Math.max(0,k-1)*this._lineHeight}(h===0||h===4)&&(I+=this._lineHeight);let T;if(I-_>y){if(!f)return-1;T=_}else if(h===5||h===6)if(h===6&&m<=_&&I<=p)T=m;else{const k=Math.max(5*this._lineHeight,y*.2),A=_-k,P=I-y;T=Math.max(P,A)}else if(h===1||h===2)if(h===2&&m<=_&&I<=p)T=m;else{const k=(_+I)/2;T=Math.max(0,k-y/2)}else T=this._computeMinimumScrolling(m,p,_,I,h===3,h===4);return T}_computeScrollLeftToReveal(s){const r=this._context.viewLayout.getCurrentViewport(),o=r.left,l=o+r.width;let h=1073741824,m=0;if(s.type==="range"){const p=this._visibleRangesForLineRange(s.lineNumber,s.startColumn,s.endColumn);if(!p)return null;for(const f of p.ranges)h=Math.min(h,Math.round(f.left)),m=Math.max(m,Math.round(f.left+f.width))}else for(const p of s.selections){if(p.startLineNumber!==p.endLineNumber)return null;const f=this._visibleRangesForLineRange(p.startLineNumber,p.startColumn,p.endColumn);if(!f)return null;for(const _ of f.ranges)h=Math.min(h,Math.round(_.left)),m=Math.max(m,Math.round(_.left+_.width))}return h=Math.max(0,h-c.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding,s.type==="selections"&&m-h>r.width?null:{scrollLeft:this._computeMinimumScrolling(o,l,h,m),maxHorizontalOffset:m}}_computeMinimumScrolling(s,r,o,l,h,m){s=s|0,r=r|0,o=o|0,l=l|0,h=!!h,m=!!m;const y=r-s;if(l-o<y){if(h)return o;if(m)return Math.max(0,l-y);if(o<s)return o;if(l>r)return Math.max(0,l-y)}else return o;return s}}e.ViewLines=c,c.HORIZONTAL_EXTRA_PX=30}),define(Q[13],J([0,1,27,4,2,9,36,130]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,D.createDecorator)("themeService");var v;(function(d){function s(r){return r&&typeof r=="object"&&typeof r.id=="string"}d.isThemeColor=s})(v=e.ThemeColor||(e.ThemeColor={}));function u(d){return{id:d}}e.themeColorFromId=u;var g;(function(d){function s(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color=="undefined"||v.isThemeColor(f.color))}d.isThemeIcon=s;const r=new RegExp(`^\\$\\((${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?)\\)$`);function o(f){const _=r.exec(f);if(!_)return;let[,I]=_;return{id:I}}d.fromString=o;function l(f){return{id:f}}d.fromId=l;function h(f,_){let I=f.id;const E=I.lastIndexOf("~");return E!==-1&&(I=I.substring(0,E)),_&&(I=`${I}~${_}`),{id:I}}d.modify=h;function m(f){const _=f.id.lastIndexOf("~");if(_!==-1)return f.id.substring(_+1)}d.getModifier=m;function y(f,_){var I,E;return f.id===_.id&&((I=f.color)===null||I===void 0?void 0:I.id)===((E=_.color)===null||E===void 0?void 0:E.id)}d.isEqual=y;function p(f,_){return{id:f.id,color:_?u(_):void 0}}d.asThemeIcon=p,d.asClassNameArray=w.CSSIcon.asClassNameArray,d.asClassName=w.CSSIcon.asClassName,d.asCSSSelector=w.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function t(d){switch(d){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=t,e.Extensions={ThemingContribution:"base.contributions.theming"};class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new C.Emitter}onColorThemeChange(s){return this.themingParticipants.push(s),this.onThemingParticipantAddedEmitter.fire(s),(0,N.toDisposable)(()=>{const r=this.themingParticipants.indexOf(s);this.themingParticipants.splice(r,1)})}getThemingParticipants(){return this.themingParticipants}}let n=new i;S.Registry.add(e.Extensions.ThemingContribution,n);function a(d){return n.onColorThemeChange(d)}e.registerThemingParticipant=a;class c extends N.Disposable{constructor(s){super();this.themeService=s,this.theme=s.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(r=>this.onThemeChange(r)))}onThemeChange(s){this.theme=s,this.updateStyles()}updateStyles(){}}e.Themable=c}),define(Q[630],J([0,1,4,2,13]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let D=class extends C.Disposable{constructor(v,u){super();this._themeService=u,this._onCodeEditorAdd=this._register(new w.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new w.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new w.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new w.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=v||null}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}removeDiffEditor(v){delete this._diffEditors[v.getId()]&&this._onDiffEditorRemove.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const u=this.listCodeEditors();for(const g of u){if(g.hasTextFocus())return g;g.hasWidgetFocus()&&(v=g)}return v}removeDecorationType(v){const u=this._decorationOptionProviders.get(v);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(v),u.dispose(),this.listCodeEditors().forEach(g=>g.removeDecorations(v))))}setModelProperty(v,u,g){const t=v.toString();let i;this._modelProperties.has(t)?i=this._modelProperties.get(t):(i=new Map,this._modelProperties.set(t,i)),i.set(u,g)}getModelProperty(v,u){const g=v.toString();if(this._modelProperties.has(g))return this._modelProperties.get(g).get(u)}};D=Be([fe(1,N.IThemeService)],D),e.AbstractCodeEditorService=D;class S{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=S}),define(Q[631],J([0,1,7,31,65,49,13,22]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends D.ViewPart{constructor(g,t,i,n){super(g);const a=this._context.configuration.options,c=a.get(91),d=a.get(66),s=a.get(34),r=a.get(94),o={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:s,scrollPredominantAxis:r,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new N.SmoothScrollableElement(t.domNode,o,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,C.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const l=(h,m,y)=>{const p={};if(m){const f=h.scrollTop;f&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+f,h.scrollTop=0)}if(y){const f=h.scrollLeft;f&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+f,h.scrollLeft=0)}this._context.model.setScrollPosition(p,1)};this._register(w.addDisposableListener(i.domNode,"scroll",h=>l(i.domNode,!0,!0))),this._register(w.addDisposableListener(t.domNode,"scroll",h=>l(t.domNode,!0,!1))),this._register(w.addDisposableListener(n.domNode,"scroll",h=>l(n.domNode,!0,!1))),this._register(w.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",h=>l(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,t=g.get(130);this.scrollbarDomNode.setLeft(t.contentLeft),g.get(64).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(g){this.scrollbar.delegateVerticalScrollbarMouseDown(g)}onConfigurationChanged(g){if(g.hasChanged(91)||g.hasChanged(66)||g.hasChanged(34)){const t=this._context.configuration.options,i=t.get(91),n=t.get(66),a=t.get(34),c=t.get(94),d={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:a,scrollPredominantAxis:c};this.scrollbar.updateOptions(d)}return g.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=v,(0,S.registerThemingParticipant)((u,g)=>{const t=u.getColor(b.scrollbarShadow);t&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=u.getColor(b.scrollbarSliderBackground);i&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const n=u.getColor(b.scrollbarSliderHoverBackground);n&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);const a=u.getColor(b.scrollbarSliderActiveBackground);a&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${a};
			}
		`)})}),define(Q[632],J([0,1,7,31,96,2,17,8,175,49,29,3,232,261,66,22,13,21,57,396,53,86,355]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,y=2;class p{constructor(R,M,O){const L=R.options,B=L.get(128),x=L.get(130),U=x.minimap,K=L.get(43),Z=L.get(64);this.renderMinimap=U.renderMinimap,this.size=Z.size,this.minimapHeightIsEditorHeight=U.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=L.get(93),this.showSlider=Z.showSlider,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=L.get(58),this.minimapLeft=U.minimapLeft,this.minimapWidth=U.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=U.minimapCanvasInnerWidth,this.canvasInnerHeight=U.minimapCanvasInnerHeight,this.canvasOuterWidth=U.minimapCanvasOuterWidth,this.canvasOuterHeight=U.minimapCanvasOuterHeight,this.isSampling=U.minimapIsSampling,this.editorHeight=x.height,this.fontScale=U.minimapScale,this.minimapLineHeight=U.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>o.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=p._getMinimapBackground(M,this.defaultBackgroundColor),this.foregroundAlpha=p._getMinimapForegroundOpacity(M)}static _getMinimapBackground(R,M){const O=R.getColor(c.minimapBackground);return O?new i.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):M}static _getMinimapForegroundOpacity(R){const M=R.getColor(c.minimapForegroundOpacity);return M?i.RGBA8._clamp(Math.round(255*M.rgba.a)):255}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(R.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)&&this.foregroundAlpha===R.foregroundAlpha}}class f{constructor(R,M,O,L,B,x,U,K){this.scrollTop=R,this.scrollHeight=M,this.sliderNeeded=O,this._computedSliderRatio=L,this.sliderTop=B,this.sliderHeight=x,this.startLineNumber=U,this.endLineNumber=K}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,M,O,L,B,x,U,K,Z,ee,X){const ne=R.pixelRatio,Y=R.minimapLineHeight,j=Math.floor(R.canvasInnerHeight/Y),W=R.lineHeight;if(R.minimapHeightIsEditorHeight){const de=K*R.lineHeight+(R.scrollBeyondLastLine?B-R.lineHeight:0),q=Math.max(1,Math.floor(B*B/de)),z=Math.max(0,R.minimapHeight-q),$=z/(ee-B),se=Z*$,te=z>0,ae=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new f(Z,ee,te,$,se,q,1,Math.min(U,ae))}let V;if(x&&O!==U){const de=O-M+1;V=Math.floor(de*Y/ne)}else{const de=B/W;V=Math.floor(de*Y/ne)}let G;R.scrollBeyondLastLine?G=(U-1)*Y/ne:G=Math.max(0,U*Y/ne-V),G=Math.min(R.minimapHeight-V,G);const oe=G/(ee-B),ce=Z*oe;let ie=0;if(R.scrollBeyondLastLine&&(ie=B/W-1),j>=U+ie){const de=1,q=U,z=G>0;return new f(Z,ee,z,oe,ce,V,de,q)}else{let de=Math.max(1,Math.floor(M-ce*ne/Y));X&&X.scrollHeight===ee&&(X.scrollTop>Z&&(de=Math.min(de,X.startLineNumber)),X.scrollTop<Z&&(de=Math.max(de,X.startLineNumber)));const q=Math.min(U,de+j-1),z=(Z-L)/W,$=(M-de+z)*Y/ne;return new f(Z,ee,!0,oe,$,V,de,q)}}}class _{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class I{constructor(R,M,O){this.renderedLayout=R,this._imageData=M,this._renderedLines=new v.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(R.startLineNumber,O)}linesEquals(R){if(!this.scrollEquals(R))return!1;const O=this._renderedLines._get().lines;for(let L=0,B=O.length;L<B;L++)if(O[L].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,M){return this._renderedLines.onLinesChanged(R,M)}onLinesDeleted(R,M){this._renderedLines.onLinesDeleted(R,M)}onLinesInserted(R,M){this._renderedLines.onLinesInserted(R,M)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class E{constructor(R,M,O,L){this._backgroundFillData=E._createBackgroundFillData(M,O,L),this._buffers=[R.createImageData(M,O),R.createImageData(M,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,M,O){const L=O.r,B=O.g,x=O.b,U=O.a,K=new Uint8ClampedArray(R*M*4);let Z=0;for(let ee=0;ee<M;ee++)for(let X=0;X<R;X++)K[Z]=L,K[Z+1]=B,K[Z+2]=x,K[Z+3]=U,Z+=4;return K}}class T{constructor(R,M){this.samplingRatio=R,this.minimapLines=M}static compute(R,M,O){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const L=R.pixelRatio,B=R.lineHeight,x=R.scrollBeyondLastLine,{minimapLineCount:U}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:M,scrollBeyondLastLine:x,height:R.editorHeight,lineHeight:B,pixelRatio:L}),K=M/U,Z=K/2;if(!O||O.minimapLines.length===0){const ce=[];if(ce[0]=1,U>1){for(let ie=0,de=U-1;ie<de;ie++)ce[ie]=Math.round(ie*K+Z);ce[U-1]=M}return[new T(K,ce),[]]}const ee=O.minimapLines,X=ee.length,ne=[];let Y=0,j=0,W=1;const V=10;let G=[],oe=null;for(let ce=0;ce<U;ce++){const ie=Math.max(W,Math.round(ce*K)),de=Math.max(ie,Math.round((ce+1)*K));for(;Y<X&&ee[Y]<ie;){if(G.length<V){const z=Y+1+j;oe&&oe.type==="deleted"&&oe._oldIndex===Y-1?oe.deleteToLineNumber++:(oe={type:"deleted",_oldIndex:Y,deleteFromLineNumber:z,deleteToLineNumber:z},G.push(oe)),j--}Y++}let q;if(Y<X&&ee[Y]<=de)q=ee[Y],Y++;else if(ce===0?q=1:ce+1===U?q=M:q=Math.round(ce*K+Z),G.length<V){const z=Y+1+j;oe&&oe.type==="inserted"&&oe._i===ce-1?oe.insertToLineNumber++:(oe={type:"inserted",_i:ce,insertFromLineNumber:z,insertToLineNumber:z},G.push(oe)),j++}ne[ce]=q,W=q}if(G.length<V)for(;Y<X;){const ce=Y+1+j;oe&&oe.type==="deleted"&&oe._oldIndex===Y-1?oe.deleteToLineNumber++:(oe={type:"deleted",_oldIndex:Y,deleteFromLineNumber:ce,deleteToLineNumber:ce},G.push(oe)),j--,Y++}else G=[{type:"flush"}];return[new T(K,ne),G]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,M){let O=this.modelLineToMinimapLine(R)-1;for(;O>0&&this.minimapLines[O-1]>=R;)O--;let L=this.modelLineToMinimapLine(M)-1;for(;L+1<this.minimapLines.length&&this.minimapLines[L+1]<=M;)L++;if(O===L){const B=this.minimapLines[O];if(B<R||B>M)return null}return[O+1,L+1]}decorationLineRangeToMinimapLineRange(R,M){let O=this.modelLineToMinimapLine(R),L=this.modelLineToMinimapLine(M);return R!==M&&L===O&&(L===this.minimapLines.length?O>1&&O--:L++),[O,L]}onLinesDeleted(R){const M=R.toLineNumber-R.fromLineNumber+1;let O=this.minimapLines.length,L=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<R.fromLineNumber);B--)this.minimapLines[B]<=R.toLineNumber?(this.minimapLines[B]=Math.max(1,R.fromLineNumber-1),O=Math.min(O,B),L=Math.max(L,B)):this.minimapLines[B]-=M;return[O,L]}onLinesInserted(R){const M=R.toLineNumber-R.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<R.fromLineNumber);O--)this.minimapLines[O]+=M}}class k extends u.ViewPart{constructor(R){super(R);this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);const[M]=T.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=M,this._shouldCheckSampling=!1,this._actual=new A(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const M=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return M?this._actual.onLinesChanged(M[0],M[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[M,O]=this._samplingState.onLinesDeleted(R);return M<=O&&this._actual.onLinesChanged(M+1,O+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){const M=[];for(const O of R.ranges){const L=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);L&&M.push({fromLineNumber:L[0],toLineNumber:L[1]})}return M.length?this._actual.onTokensChanged(M):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let M=R.visibleRange.startLineNumber,O=R.visibleRange.endLineNumber;this._samplingState&&(M=this._samplingState.modelLineToMinimapLine(M),O=this._samplingState.modelLineToMinimapLine(O));const L={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:M,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(M),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(L)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[M,O]=T.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=M,R&&this._samplingState)for(const L of O)switch(L.type){case"deleted":this._actual.onLinesDeleted(L.deleteFromLineNumber,L.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(L.insertFromLineNumber,L.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getLineMaxColumn(R){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[R-1]):this._context.model.getLineMaxColumn(R)}getMinimapLinesRenderingData(R,M,O){if(this._samplingState){const L=[];for(let B=0,x=M-R+1;B<x;B++)O[B]?L[B]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+B-1]):L[B]=null;return L}return this._context.model.getMinimapLinesRenderingData(R,M,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[M,O]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new s.Selection(M,R.startColumn,O,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,M){let O;if(this._samplingState){const B=this._samplingState.minimapLines[R-1],x=this._samplingState.minimapLines[M-1];O=new t.Range(B,1,x,this._context.model.getLineMaxColumn(x))}else O=new t.Range(R,1,M,this._context.model.getLineMaxColumn(M));const L=this._context.model.getDecorationsInViewport(O);if(this._samplingState){const B=[];for(const x of L){if(!x.options.minimap)continue;const U=x.range,K=this._samplingState.modelLineToMinimapLine(U.startLineNumber),Z=this._samplingState.modelLineToMinimapLine(U.endLineNumber);B.push(new a.ViewModelDecoration(new t.Range(K,U.startColumn,Z,U.endColumn),x.options))}return B}return L}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new t.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=k;class A extends D.Disposable{constructor(R,M){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=M,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(c.minimapSelection),this._domNode=(0,C.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,C.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,C.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,C.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,C.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,C.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=w.addStandardDisposableListener(this._domNode.domNode,"mousedown",O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.leftButton&&this._lastRenderData){const Z=w.getDomNodePagePosition(this._slider.domNode),ee=Z.top+Z.height/2;this._startSliderDragging(O.buttons,O.posx,ee,O.posy,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.browserEvent.offsetY;let K=Math.floor(x/B)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}),this._sliderMouseMoveMonitor=new N.GlobalMouseMoveMonitor,this._sliderMouseDownListener=w.addStandardDisposableListener(this._slider.domNode,"mousedown",O=>{O.preventDefault(),O.stopPropagation(),O.leftButton&&this._lastRenderData&&this._startSliderDragging(O.buttons,O.posx,O.posy,O.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=r.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=w.addDisposableListener(this._domNode.domNode,r.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=w.addDisposableListener(this._domNode.domNode,r.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=w.addStandardDisposableListener(this._domNode.domNode,r.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,M,O,L,B){this._slider.toggleClassName("active",!0);const x=(U,K)=>{const Z=Math.abs(K-M);if(S.isWindows&&Z>m){this._model.setScrollTop(B.scrollTop);return}const ee=U-O;this._model.setScrollTop(B.getDesiredScrollTopFromDelta(ee))};L!==O&&x(L,M),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,N.standardMouseMoveMerger,U=>x(U.posy,U.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const M=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-M);this._model.setScrollTop(O)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,M){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,M):!1}onLinesDeleted(R,M){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,M),!0}onLinesInserted(R,M){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,M),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(c.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=f.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const M=this._model.getSelections();M.sort(t.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber);O.sort((ne,Y)=>(ne.options.zIndex||0)-(Y.options.zIndex||0));const{canvasInnerWidth:L,canvasInnerHeight:B}=this._model.options,x=this._model.options.minimapLineHeight,U=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,Z=this._decorationsCanvas.domNode.getContext("2d");Z.clearRect(0,0,L,B);const ee=new P(R.startLineNumber,R.endLineNumber,!1);this._renderSelectionLineHighlights(Z,M,ee,R,x),this._renderDecorationsLineHighlights(Z,O,ee,R,x);const X=new P(R.startLineNumber,R.endLineNumber,null);this._renderSelectionsHighlights(Z,M,X,R,x,K,U,L),this._renderDecorationsHighlights(Z,O,X,R,x,K,U,L)}}_renderSelectionLineHighlights(R,M,O,L,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;R.fillStyle=this._selectionColor.transparent(.5).toString();let x=0,U=0;for(const K of M){const Z=Math.max(L.startLineNumber,K.startLineNumber),ee=Math.min(L.endLineNumber,K.endLineNumber);if(Z>ee)continue;for(let Y=Z;Y<=ee;Y++)O.set(Y,!0);const X=(Z-L.startLineNumber)*B,ne=(ee-L.startLineNumber)*B+B;U>=X||(U>x&&R.fillRect(g.MINIMAP_GUTTER_WIDTH,x,R.canvas.width,U-x),x=X),U=ne}U>x&&R.fillRect(g.MINIMAP_GUTTER_WIDTH,x,R.canvas.width,U-x)}_renderDecorationsLineHighlights(R,M,O,L,B){const x=new Map;for(let U=M.length-1;U>=0;U--){const K=M[U],Z=K.options.minimap;if(!Z||Z.position!==l.MinimapPosition.Inline)continue;const ee=Math.max(L.startLineNumber,K.range.startLineNumber),X=Math.min(L.endLineNumber,K.range.endLineNumber);if(ee>X)continue;const ne=Z.getColor(this._theme);if(!ne||ne.isTransparent())continue;let Y=x.get(ne.toString());Y||(Y=ne.transparent(.5).toString(),x.set(ne.toString(),Y)),R.fillStyle=Y;for(let j=ee;j<=X;j++){if(O.has(j))continue;O.set(j,!0);const W=(ee-L.startLineNumber)*B;R.fillRect(g.MINIMAP_GUTTER_WIDTH,W,R.canvas.width,B)}}}_renderSelectionsHighlights(R,M,O,L,B,x,U,K){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Z of M){const ee=Math.max(L.startLineNumber,Z.startLineNumber),X=Math.min(L.endLineNumber,Z.endLineNumber);if(!(ee>X))for(let ne=ee;ne<=X;ne++)this.renderDecorationOnLine(R,O,Z,this._selectionColor,L,ne,B,B,x,U,K)}}_renderDecorationsHighlights(R,M,O,L,B,x,U,K){for(const Z of M){const ee=Z.options.minimap;if(!ee)continue;const X=Math.max(L.startLineNumber,Z.range.startLineNumber),ne=Math.min(L.endLineNumber,Z.range.endLineNumber);if(X>ne)continue;const Y=ee.getColor(this._theme);if(!(!Y||Y.isTransparent()))for(let j=X;j<=ne;j++)switch(ee.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(R,O,Z.range,Y,L,j,B,B,x,U,K);continue;case l.MinimapPosition.Gutter:{const W=(j-L.startLineNumber)*B,V=2;this.renderDecoration(R,Y,V,W,y,B);continue}}}}renderDecorationOnLine(R,M,O,L,B,x,U,K,Z,ee,X){const ne=(x-B.startLineNumber)*K;if(ne+U<0||ne>this._model.options.canvasInnerHeight)return;const{startLineNumber:Y,endLineNumber:j}=O,W=Y===x?O.startColumn:1,V=j===x?O.endColumn:this._model.getLineMaxColumn(x),G=this.getXOffsetForPosition(M,x,W,Z,ee,X),oe=this.getXOffsetForPosition(M,x,V,Z,ee,X);this.renderDecoration(R,L,G,ne,oe-G,U)}getXOffsetForPosition(R,M,O,L,B,x){if(O===1)return g.MINIMAP_GUTTER_WIDTH;if((O-1)*B>=x)return x;let K=R.get(M);if(!K){const Z=this._model.getLineContent(M);K=[g.MINIMAP_GUTTER_WIDTH];let ee=g.MINIMAP_GUTTER_WIDTH;for(let X=1;X<Z.length+1;X++){const ne=Z.charCodeAt(X-1),Y=ne===9?L*B:b.isFullWidthCharacter(ne)?2*B:B,j=ee+Y;if(j>=x){K[X]=x;break}K[X]=j,ee=j}R.set(M,K)}return O-1<K.length?K[O-1]:x}renderDecoration(R,M,O,L,B,x){R.fillStyle=M&&M.toString()||"",R.fillRect(O,L,B,x)}renderLines(R){const M=R.startLineNumber,O=R.endLineNumber,L=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const le=this._lastRenderData._get();return new I(R,le.imageData,le.lines)}const B=this._getBuffer();if(!B)return null;const[x,U,K]=A._renderUntouchedLines(B,M,O,L,this._lastRenderData),Z=this._model.getMinimapLinesRenderingData(M,O,K),ee=this._model.getOptions().tabSize,X=this._model.options.defaultBackgroundColor,ne=this._model.options.backgroundColor,Y=this._model.options.foregroundAlpha,j=this._model.tokensColorTracker,W=j.backgroundIsLight(),V=this._model.options.renderMinimap,G=this._model.options.charRenderer(),oe=this._model.options.fontScale,ce=this._model.options.minimapCharWidth,de=(V===1?2:2+1)*oe,q=L>de?Math.floor((L-de)/2):0,z=ne.a/255,$=new i.RGBA8(Math.round((ne.r-X.r)*z+X.r),Math.round((ne.g-X.g)*z+X.g),Math.round((ne.b-X.b)*z+X.b),255);let se=0;const te=[];for(let le=0,he=O-M+1;le<he;le++)K[le]&&A._renderLine(B,$,ne.a,W,V,ce,j,Y,G,se,q,ee,Z[le],oe,L),te[le]=new _(se),se+=L;const ae=x===-1?0:x,_e=(U===-1?B.height:U)-ae;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,ae,B.width,_e),new I(R,B,te)}static _renderUntouchedLines(R,M,O,L,B){const x=[];if(!B){for(let $=0,se=O-M+1;$<se;$++)x[$]=!0;return[-1,-1,x]}const U=B._get(),K=U.imageData.data,Z=U.rendLineNumberStart,ee=U.lines,X=ee.length,ne=R.width,Y=R.data,j=(O-M+1)*L*ne*4;let W=-1,V=-1,G=-1,oe=-1,ce=-1,ie=-1,de=0;for(let $=M;$<=O;$++){const se=$-M,te=$-Z,ae=te>=0&&te<X?ee[te].dy:-1;if(ae===-1){x[se]=!0,de+=L;continue}const me=ae*ne*4,_e=(ae+L)*ne*4,we=de*ne*4,le=(de+L)*ne*4;oe===me&&ie===we?(oe=_e,ie=le):(G!==-1&&(Y.set(K.subarray(G,oe),ce),W===-1&&G===0&&G===ce&&(W=oe),V===-1&&oe===j&&G===ce&&(V=G)),G=me,oe=_e,ce=we,ie=le),x[se]=!1,de+=L}G!==-1&&(Y.set(K.subarray(G,oe),ce),W===-1&&G===0&&G===ce&&(W=oe),V===-1&&oe===j&&G===ce&&(V=G));const q=W===-1?-1:W/(ne*4),z=V===-1?-1:V/(ne*4);return[q,z,x]}static _renderLine(R,M,O,L,B,x,U,K,Z,ee,X,ne,Y,j,W){const V=Y.content,G=Y.tokens,oe=R.width-x,ce=W===1;let ie=g.MINIMAP_GUTTER_WIDTH,de=0,q=0;for(let z=0,$=G.getCount();z<$;z++){const se=G.getEndOffset(z),te=G.getForeground(z),ae=U.getColor(te);for(;de<se;de++){if(ie>oe)return;const me=V.charCodeAt(de);if(me===9){const _e=ne-(de+q)%ne;q+=_e-1,ie+=_e*x}else if(me===32)ie+=x;else{const _e=b.isFullWidthCharacter(me)?2:1;for(let we=0;we<_e;we++)if(B===2?Z.blockRenderChar(R,ie,ee+X,ae,K,M,O,ce):Z.renderChar(R,ie,ee+X,me,ae,K,M,O,j,L,ce),ie+=x,ie>oe)return}}}}}class P{constructor(R,M,O){this._startLineNumber=R,this._endLineNumber=M,this._defaultValue=O,this._values=[];for(let L=0,B=this._endLineNumber-this._startLineNumber+1;L<B;L++)this._values[L]=O}has(R){return this.get(R)!==this._defaultValue}set(R,M){R<this._startLineNumber||R>this._endLineNumber||(this._values[R-this._startLineNumber]=M)}get(R){return R<this._startLineNumber||R>this._endLineNumber?this._defaultValue:this._values[R-this._startLineNumber]}}(0,d.registerThemingParticipant)((F,R)=>{const M=F.getColor(c.minimapSliderBackground);M&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${M}; }`);const O=F.getColor(c.minimapSliderHoverBackground);O&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${O}; }`);const L=F.getColor(c.minimapSliderActiveBackground);L&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${L}; }`);const B=F.getColor(c.scrollbarShadow);B&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${B} -6px 0 6px -6px inset; }`)})}),define(Q[633],J([0,1,31,49,22,13,358]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends C.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(91);this._useShadows=g.useShadows,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(130);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}onConfigurationChanged(v){const g=this._context.configuration.options.get(91);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.scrollbarShadow);u&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(Q[634],J([0,1,99,22,13,359]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class S{constructor(i,n){this.lineNumber=i,this.ranges=n}}function b(t){return new D(t)}function v(t){return new S(t.lineNumber,t.ranges.map(b))}class u extends w.DynamicViewOverlay{constructor(i){super();this._previousFrameVisibleRangesWithStyle=[],this._context=i;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let n=0,a=i.length;n<a;n++)if(i[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,n,a){const c=this._typicalHalfwidthCharacterWidth/4;let d=null,s=null;if(a&&a.length>0&&n.length>0){const r=n[0].lineNumber;if(r===i.startLineNumber)for(let l=0;!d&&l<a.length;l++)a[l].lineNumber===r&&(d=a[l].ranges[0]);const o=n[n.length-1].lineNumber;if(o===i.endLineNumber)for(let l=a.length-1;!s&&l>=0;l--)a[l].lineNumber===o&&(s=a[l].ranges[0]);d&&!d.startStyle&&(d=null),s&&!s.startStyle&&(s=null)}for(let r=0,o=n.length;r<o;r++){const l=n[r].ranges[0],h=l.left,m=l.left+l.width,y={top:0,bottom:0},p={top:0,bottom:0};if(r>0){const f=n[r-1].ranges[0].left,_=n[r-1].ranges[0].left+n[r-1].ranges[0].width;g(h-f)<c?y.top=2:h>f&&(y.top=1),g(m-_)<c?p.top=2:f<m&&m<_&&(p.top=1)}else d&&(y.top=d.startStyle.top,p.top=d.endStyle.top);if(r+1<o){const f=n[r+1].ranges[0].left,_=n[r+1].ranges[0].left+n[r+1].ranges[0].width;g(h-f)<c?y.bottom=2:f<h&&h<_&&(y.bottom=1),g(m-_)<c?p.bottom=2:m<_&&(p.bottom=1)}else s&&(y.bottom=s.startStyle.bottom,p.bottom=s.endStyle.bottom);l.startStyle=y,l.endStyle=p}}_getVisibleRangesWithStyle(i,n,a){const d=(n.linesVisibleRangesForRange(i,!0)||[]).map(v);return!this._visibleRangesHaveGaps(d)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,d,a),d}_createSelectionPiece(i,n,a,c,d){return'<div class="cslr '+a+'" style="top:'+i.toString()+"px;left:"+c.toString()+"px;width:"+d.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(i,n,a,c){if(c.length===0)return;const d=!!c[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),o=c[0].lineNumber,l=c[c.length-1].lineNumber;for(let h=0,m=c.length;h<m;h++){const y=c[h],p=y.lineNumber,f=p-n,_=a&&(p===l||p===o)?r:s,I=a&&p===o?1:0;let E="",T="";for(let k=0,A=y.ranges.length;k<A;k++){const P=y.ranges[k];if(d){const R=P.startStyle,M=P.endStyle;if(R.top===1||R.bottom===1){E+=this._createSelectionPiece(I,_,u.SELECTION_CLASS_NAME,P.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let O=u.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(O+=" "+u.SELECTION_TOP_RIGHT),R.bottom===1&&(O+=" "+u.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(I,_,O,P.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(M.top===1||M.bottom===1){E+=this._createSelectionPiece(I,_,u.SELECTION_CLASS_NAME,P.left+P.width,u.ROUNDED_PIECE_WIDTH);let O=u.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(O+=" "+u.SELECTION_TOP_LEFT),M.bottom===1&&(O+=" "+u.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(I,_,O,P.left+P.width,u.ROUNDED_PIECE_WIDTH)}}let F=u.SELECTION_CLASS_NAME;if(d){const R=P.startStyle,M=P.endStyle;R.top===0&&(F+=" "+u.SELECTION_TOP_LEFT),R.bottom===0&&(F+=" "+u.SELECTION_BOTTOM_LEFT),M.top===0&&(F+=" "+u.SELECTION_TOP_RIGHT),M.bottom===0&&(F+=" "+u.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(I,_,F,P.left,P.width)}i[f][0]+=E,i[f][1]+=T}}prepareRender(i){const n=[],a=i.visibleRange.startLineNumber,c=i.visibleRange.endLineNumber;for(let s=a;s<=c;s++){const r=s-a;n[r]=["",""]}const d=[];for(let s=0,r=this._selections.length;s<r;s++){const o=this._selections[s];if(o.isEmpty()){d[s]=null;continue}const l=this._getVisibleRangesWithStyle(o,i,this._previousFrameVisibleRangesWithStyle[s]);d[s]=l,this._actualRenderOneSelection(n,a,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=d,this._renderResult=n.map(([s,r])=>s+r)}render(i,n){if(!this._renderResult)return"";const a=n-i;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,N.registerThemingParticipant)((t,i)=>{const n=t.getColor(C.editorSelectionBackground);n&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const a=t.getColor(C.editorInactiveSelection);a&&i.addRule(`.monaco-editor .selected-text { background-color: ${a}; }`);const c=t.getColor(C.editorSelectionForeground);c&&!c.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${c}; }`)});function g(t){return t<0?-t:t}}),define(Q[274],J([0,1,18,13,68,420,34]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(i,n,a,c){this._legend=i,this._themeService=n,this._languageService=a,this._logService=c,this._hashTable=new g,this._hasWarnedOverlappingTokens=!1}getMetadata(i,n,a){const c=this._languageService.languageIdCodec.encodeLanguageId(a),d=this._hashTable.get(i,n,c);let s;if(d)s=d.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${n}: foreground ${w.TokenMetadata.getForeground(s)}, fontStyle ${w.TokenMetadata.getFontStyle(s).toString(2)}`);else{let r=this._legend.tokenTypes[i];const o=[];if(r){let l=n;for(let m=0;l>0&&m<this._legend.tokenModifiers.length;m++)l&1&&o.push(this._legend.tokenModifiers[m]),l=l>>1;l>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),o.push("not-in-legend"));const h=this._themeService.getColorTheme().getTokenStyleMetadata(r,o,a);typeof h=="undefined"?s=2147483647:(s=0,typeof h.italic!="undefined"&&(s|=(h.italic?1:0)<<10|1),typeof h.bold!="undefined"&&(s|=(h.bold?2:0)<<10|2),typeof h.underline!="undefined"&&(s|=(h.underline?4:0)<<10|4),typeof h.strikethrough!="undefined"&&(s|=(h.strikethrough?8:0)<<10|8),h.foreground&&(s|=h.foreground<<14|16),s===0&&(s=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,r="not-in-legend";this._hashTable.add(i,n,c,s),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${r}) / ${n} (${o.join(" ")}): foreground ${w.TokenMetadata.getForeground(s)}, fontStyle ${w.TokenMetadata.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(i,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${n}`))}};b=Be([fe(1,C.IThemeService),fe(2,S.ILanguageService),fe(3,N.ILogService)],b),e.SemanticTokensProviderStyling=b;function v(t,i,n){const a=t.data,c=t.data.length/5|0,d=Math.max(Math.ceil(c/1024),400),s=[];let r=0,o=1,l=0;for(;r<c;){const h=r;let m=Math.min(h+d,c);if(m<c){let k=m;for(;k-1>h&&a[5*k]===0;)k--;if(k-1===h){let A=m;for(;A+1<c&&a[5*A]===0;)A++;m=A}else m=k}let y=new Uint32Array((m-h)*4),p=0,f=0,_=0,I=0,E=0;for(;r<m;){const k=5*r,A=a[k],P=a[k+1],F=o+A|0,R=A===0?l+P|0:P,M=a[k+2],O=a[k+3],L=a[k+4],B=i.getMetadata(O,L,n);B!==2147483647&&(f===0&&(f=F),_===F&&E>R&&(i.warnOverlappingSemanticTokens(F,R+1),I<R?y[p-4+2]=R:p-=4),y[p]=F-f,y[p+1]=R,y[p+2]=R+M,y[p+3]=B,p+=4,_=F,I=R,E=R+M),o=F,l=R,r++}p!==y.length&&(y=y.subarray(0,p));const T=D.SparseMultilineTokens.create(f,y);s.push(T)}return s}e.toMultilineTokens2=v;class u{constructor(i,n,a,c){this.tokenTypeIndex=i,this.tokenModifierSet=n,this.languageId=a,this.metadata=c,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,n){for(let a=0;a<n;a++)i[a]=null}_hash2(i,n){return(i<<5)-i+n|0}_hashFunc(i,n,a){return this._hash2(this._hash2(i,n),a)%this._currentLength}get(i,n,a){const c=this._hashFunc(i,n,a);let d=this._elements[c];for(;d;){if(d.tokenTypeIndex===i&&d.tokenModifierSet===n&&d.languageId===a)return d;d=d.next}return null}add(i,n,a,c){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const d=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const s of d){let r=s;for(;r;){const o=r.next;r.next=null,this._add(r),r=o}}}this._add(new u(i,n,a,c))}_add(i){const n=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[n],this._elements[n]=i}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(Q[52],J([0,1,503,30,22,13]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,N.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},w.localize(0,null)),e.editorLineHighlightBorder=(0,N.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},w.localize(1,null)),e.editorRangeHighlight=(0,N.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},w.localize(2,null),!0),e.editorRangeHighlightBorder=(0,N.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:N.activeContrastBorder},w.localize(3,null),!0),e.editorSymbolHighlight=(0,N.registerColor)("editor.symbolHighlightBackground",{dark:N.editorFindMatchHighlight,light:N.editorFindMatchHighlight,hc:null},w.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,N.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:N.activeContrastBorder},w.localize(5,null),!0),e.editorCursorForeground=(0,N.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:C.Color.black,hc:C.Color.white},w.localize(6,null)),e.editorCursorBackground=(0,N.registerColor)("editorCursor.background",null,w.localize(7,null)),e.editorWhitespaces=(0,N.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},w.localize(8,null)),e.editorIndentGuides=(0,N.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},w.localize(9,null)),e.editorActiveIndentGuides=(0,N.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},w.localize(10,null)),e.editorLineNumbers=(0,N.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:C.Color.white},w.localize(11,null));const S=(0,N.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:N.activeContrastBorder},w.localize(12,null),!1,w.localize(13,null));e.editorActiveLineNumber=(0,N.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},w.localize(14,null)),e.editorRuler=(0,N.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:C.Color.lightgrey,hc:C.Color.white},w.localize(15,null)),e.editorCodeLensForeground=(0,N.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},w.localize(16,null)),e.editorBracketMatchBackground=(0,N.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},w.localize(17,null)),e.editorBracketMatchBorder=(0,N.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:N.contrastBorder},w.localize(18,null)),e.editorOverviewRulerBorder=(0,N.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},w.localize(19,null)),e.editorOverviewRulerBackground=(0,N.registerColor)("editorOverviewRuler.background",null,w.localize(20,null)),e.editorGutter=(0,N.registerColor)("editorGutter.background",{dark:N.editorBackground,light:N.editorBackground,hc:N.editorBackground},w.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,N.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:C.Color.fromHex("#fff").transparent(.8)},w.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,N.registerColor)("editorUnnecessaryCode.opacity",{dark:C.Color.fromHex("#000a"),light:C.Color.fromHex("#0007"),hc:null},w.localize(23,null)),e.ghostTextBorder=(0,N.registerColor)("editorGhostText.border",{dark:null,light:null,hc:C.Color.fromHex("#fff").transparent(.8)},w.localize(24,null)),e.ghostTextForeground=(0,N.registerColor)("editorGhostText.foreground",{dark:C.Color.fromHex("#ffffff56"),light:C.Color.fromHex("#0007"),hc:null},w.localize(25,null)),e.ghostTextBackground=(0,N.registerColor)("editorGhostText.background",{dark:null,light:null,hc:null},w.localize(26,null));const b=new C.Color(new C.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,N.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:b,light:b,hc:b},w.localize(27,null),!0),e.overviewRulerError=(0,N.registerColor)("editorOverviewRuler.errorForeground",{dark:new C.Color(new C.RGBA(255,18,18,.7)),light:new C.Color(new C.RGBA(255,18,18,.7)),hc:new C.Color(new C.RGBA(255,50,50,1))},w.localize(28,null)),e.overviewRulerWarning=(0,N.registerColor)("editorOverviewRuler.warningForeground",{dark:N.editorWarningForeground,light:N.editorWarningForeground,hc:N.editorWarningBorder},w.localize(29,null)),e.overviewRulerInfo=(0,N.registerColor)("editorOverviewRuler.infoForeground",{dark:N.editorInfoForeground,light:N.editorInfoForeground,hc:N.editorInfoBorder},w.localize(30,null)),e.editorBracketHighlightingForeground1=(0,N.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},w.localize(31,null)),e.editorBracketHighlightingForeground2=(0,N.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},w.localize(32,null)),e.editorBracketHighlightingForeground3=(0,N.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},w.localize(33,null)),e.editorBracketHighlightingForeground4=(0,N.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(34,null)),e.editorBracketHighlightingForeground5=(0,N.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(35,null)),e.editorBracketHighlightingForeground6=(0,N.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,N.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new C.Color(new C.RGBA(255,18,18,.8)),light:new C.Color(new C.RGBA(255,18,18,.8)),hc:new C.Color(new C.RGBA(255,50,50,1))},w.localize(37,null)),e.editorBracketPairGuideBackground1=(0,N.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(38,null)),e.editorBracketPairGuideBackground2=(0,N.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(39,null)),e.editorBracketPairGuideBackground3=(0,N.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(40,null)),e.editorBracketPairGuideBackground4=(0,N.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(41,null)),e.editorBracketPairGuideBackground5=(0,N.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(42,null)),e.editorBracketPairGuideBackground6=(0,N.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,N.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,N.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,N.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,N.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,N.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,N.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},w.localize(49,null)),e.editorUnicodeHighlightBorder=(0,N.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},w.localize(50,null)),(0,D.registerThemingParticipant)((v,u)=>{const g=v.getColor(N.editorBackground);g&&u.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${g}; }`);const t=v.getColor(N.editorForeground);t&&u.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${t}; }`);const i=v.getColor(e.editorGutter);i&&u.addRule(`.monaco-editor .margin { background-color: ${i}; }`);const n=v.getColor(e.editorRangeHighlight);n&&u.addRule(`.monaco-editor .rangeHighlight { background-color: ${n}; }`);const a=v.getColor(e.editorRangeHighlightBorder);a&&u.addRule(`.monaco-editor .rangeHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${a}; }`);const c=v.getColor(e.editorSymbolHighlight);c&&u.addRule(`.monaco-editor .symbolHighlight { background-color: ${c}; }`);const d=v.getColor(e.editorSymbolHighlightBorder);d&&u.addRule(`.monaco-editor .symbolHighlight { border: 1px ${v.type==="hc"?"dotted":"solid"} ${d}; }`);const s=v.getColor(e.editorWhitespaces);s&&(u.addRule(`.monaco-editor .mtkw { color: ${s} !important; }`),u.addRule(`.monaco-editor .mtkz { color: ${s} !important; }`))})}),define(Q[635],J([0,1,99,52,19,13,21,347]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let b=!0;class v extends w.DynamicViewOverlay{constructor(i){super();this._context=i;const n=this._context.configuration.options,a=n.get(130);this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const n=b?this._selections.slice(0,1):this._selections,a=n.map(d=>d.positionLineNumber);a.sort((d,s)=>d-s),N.equals(this._cursorLineNumbers,a)||(this._cursorLineNumbers=a,i=!0);const c=n.every(d=>d.isEmpty());return this._selectionIsEmpty!==c&&(this._selectionIsEmpty=c,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const n=this._context.configuration.options,a=n.get(130);return this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(i),a=i.visibleRange.startLineNumber,c=i.visibleRange.endLineNumber,d=this._cursorLineNumbers.length;let s=0;const r=[];for(let o=a;o<=c;o++){const l=o-a;for(;s<d&&this._cursorLineNumbers[s]<o;)s++;s<d&&this._cursorLineNumbers[s]===o?r[l]=n:r[l]=""}this._renderData=r}render(i,n){if(!this._renderData)return"";const a=n-i;return a>=this._renderData.length?"":this._renderData[a]}}e.AbstractLineHighlightOverlay=v;class u extends v{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=u;class g extends v{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=g,(0,D.registerThemingParticipant)((t,i)=>{b=!1;const n=t.getColor(C.editorLineHighlight);if(n&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||t.defines(C.editorLineHighlightBorder)){const a=t.getColor(C.editorLineHighlightBorder);a&&(b=!0,i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${a}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${a}; }`),t.type==="hc"&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(Q[636],J([0,1,99,52,13,11,19,20,178,350]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class u extends w.DynamicViewOverlay{constructor(i){super();this._context=i,this._primaryPosition=null;const n=this._context.configuration.options,a=n.get(131),c=n.get(43);this._lineHeight=n.get(58),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options,a=n.get(131),c=n.get(43);return this._lineHeight=n.get(58),this._spaceWidth=c.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),!0}onCursorStateChanged(i){var n;const c=i.selections[0].getPosition();return((n=this._primaryPosition)===null||n===void 0?void 0:n.equals(c))?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var n,a,c,d;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,o=i.scrollWidth,l=this._lineHeight,h=this._primaryPosition,m=this.getGuidesByLine(s,r,h),y=[];for(let p=s;p<=r;p++){const f=p-s,_=m[f];let I="";const E=(a=(n=i.visibleRangeForPosition(new D.Position(p,1)))===null||n===void 0?void 0:n.left)!==null&&a!==void 0?a:0;for(const T of _){const k=E+(T.visibleColumn-1)*this._spaceWidth;if(k>o||this._maxIndentLeft>0&&k>this._maxIndentLeft)break;const A=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",P=T.horizontalLine?((d=(c=i.visibleRangeForPosition(new D.Position(p,T.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&d!==void 0?d:k+this._spaceWidth)-k:this._spaceWidth;I+=`<div class="core-guide ${T.className} ${A}" style="left:${k}px;height:${l}px;width:${P}px"></div>`}y[f]=I}this._renderResult=y}getGuidesByLine(i,n,a){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(i,n,a,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?v.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?v.HorizontalGuidesState.EnabledForActive:v.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,d=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(i,n):null;let s=0,r=0,o=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&a){const m=this._context.model.getActiveIndentGuide(a.lineNumber,i,n);s=m.startLineNumber,r=m.endLineNumber,o=m.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),h=[];for(let m=i;m<=n;m++){const y=new Array;h.push(y);const p=c?c[m-i]:[],f=new S.ArrayQueue(p),_=d?d[m-i]:[];for(let I=1;I<=_;I++){const E=(I-1)*l+1,T=p.length===0&&s<=m&&m<=r&&I===o;y.push(...f.takeWhile(A=>A.visibleColumn<E)||[]);const k=f.peek();(!k||k.visibleColumn!==E||k.horizontalLine)&&y.push(new v.IndentGuide(E,T?"core-guide-indent-active":"core-guide-indent",null))}y.push(...f.takeWhile(I=>!0)||[])}return h}render(i,n){if(!this._renderResult)return"";const a=n-i;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}e.IndentGuidesOverlay=u;function g(t){if(!(t&&t.isTransparent()))return t}(0,N.registerThemingParticipant)((t,i)=>{const n=t.getColor(C.editorIndentGuides);n&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const a=t.getColor(C.editorActiveIndentGuides)||n;a&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${a} inset; }`);const c=[{bracketColor:C.editorBracketHighlightingForeground1,guideColor:C.editorBracketPairGuideBackground1,guideColorActive:C.editorBracketPairGuideActiveBackground1},{bracketColor:C.editorBracketHighlightingForeground2,guideColor:C.editorBracketPairGuideBackground2,guideColorActive:C.editorBracketPairGuideActiveBackground2},{bracketColor:C.editorBracketHighlightingForeground3,guideColor:C.editorBracketPairGuideBackground3,guideColorActive:C.editorBracketPairGuideActiveBackground3},{bracketColor:C.editorBracketHighlightingForeground4,guideColor:C.editorBracketPairGuideBackground4,guideColorActive:C.editorBracketPairGuideActiveBackground4},{bracketColor:C.editorBracketHighlightingForeground5,guideColor:C.editorBracketPairGuideBackground5,guideColorActive:C.editorBracketPairGuideActiveBackground5},{bracketColor:C.editorBracketHighlightingForeground6,guideColor:C.editorBracketPairGuideBackground6,guideColorActive:C.editorBracketPairGuideActiveBackground6}],d=new v.BracketPairGuidesClassNames,s=c.map(r=>{var o,l;const h=t.getColor(r.bracketColor),m=t.getColor(r.guideColor),y=t.getColor(r.guideColorActive),p=g((o=g(m))!==null&&o!==void 0?o:h==null?void 0:h.transparent(.3)),f=g((l=g(y))!==null&&l!==void 0?l:h);if(!(!p||!f))return{guideColor:p,guideColorActive:f}}).filter(b.isDefined);if(s.length>0){for(let r=0;r<30;r++){const o=s[r%s.length];i.addRule(`.monaco-editor .${d.getInlineClassNameOfLevel(r).replace(/ /g,".")} { --guide-color: ${o.guideColor}; --guide-color-active: ${o.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${d.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${d.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${d.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(Q[275],J([0,1,17,99,11,52,13,351]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends C.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new N.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(58);const g=u.get(59);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=u.get(83);const t=u.get(130);this._lineNumbersLeft=t.lineNumbersLeft,this._lineNumbersWidth=t.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const g=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(g);let t=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,t=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(t=!0),t}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new N.Position(u,1));if(g.column!==1)return"";const t=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(t);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-t);return i===0?'<span class="relative-current-line-number">'+t+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===t||t%10==0?String(t):"":String(t)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=w.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",t=u.visibleRange.startLineNumber,i=u.visibleRange.endLineNumber,n='<div class="'+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',a=this._context.model.getLineCount(),c=[];for(let d=t;d<=i;d++){const s=d-t;if(!this._renderFinalNewline&&d===a&&this._context.model.getLineLength(d)===0){c[s]="";continue}const r=this._getLineRenderLineNumber(d);r?d===this._activeLineNumber?c[s]='<div class="active-line-number '+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+r+"</div>":c[s]=n+r+"</div>":c[s]=""}this._renderResult=c}render(u,g){if(!this._renderResult)return"";const t=g-u;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((v,u)=>{const g=v.getColor(D.editorLineNumbers);g&&u.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const t=v.getColor(D.editorActiveLineNumber);t&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${t}; }`)})}),define(Q[637],J([0,1,485,33,31,17,8,60,174,230,49,275,243,29,113,11,3,21,140,346]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class o{constructor(p,f,_,I,E){this._context=p,this.modelLineNumber=f,this.distanceToModelLineStart=_,this.widthOfHiddenLineTextBefore=I,this.distanceToModelLineEnd=E,this._visibleTextAreaBrand=void 0,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(p){const f=new c.Position(this.modelLineNumber,this.distanceToModelLineStart+1),_=new c.Position(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd),I=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(f),E=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(_);I.lineNumber===E.lineNumber?(this.visibleTextareaStart=p.visibleRangeForPosition(I),this.visibleTextareaEnd=p.visibleRangeForPosition(E)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const l=C.isFirefox;class h extends g.ViewPart{constructor(p,f,_){super(p);this._primaryCursorPosition=new c.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=f,this._visibleRangeProvider=_,this._scrollLeft=0,this._scrollTop=0;const I=this._context.configuration.options,E=I.get(130);this._setAccessibilityOptions(I),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=I.get(43),this._lineHeight=I.get(58),this._emptySelectionClipboard=I.get(32),this._copyWithSyntaxHighlighting=I.get(21),this._visibleTextArea=null,this._selections=[new s.Selection(1,1,1,1)],this._modelSelections=[new s.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,N.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("tabindex",String(I.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),I.get(30)&&I.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,N.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:P=>this._context.model.getLineMaxColumn(P),getValueInRange:(P,F)=>this._context.model.getValueInRange(P,F)},k={getDataToCopy:()=>{const P=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),F=this._context.model.getEOL(),R=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),M=Array.isArray(P)?P:null,O=Array.isArray(P)?P.join(F):P;let L,B=null;if(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&O.length<65536){const x=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);x&&(L=x.html,B=x.mode)}return{isFromEmptySelection:R,multicursorText:M,text:O,html:L,mode:B}},getScreenReaderContent:P=>{if(this._accessibilitySupport===1){if(D.isMacintosh){const F=this._selections[0];if(F.isEmpty()){const R=F.getStartPosition();let M=this._getWordBeforePosition(R);if(M.length===0&&(M=this._getCharacterBeforePosition(R)),M.length>0)return new u.TextAreaState(M,M.length,M.length,R,R)}}return u.TextAreaState.EMPTY}if(C.isAndroid){const F=this._selections[0];if(F.isEmpty()){const R=F.getStartPosition(),[M,O]=this._getAndroidWordAtPosition(R);if(M.length>0)return new u.TextAreaState(M,O,O,R,R)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(P,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(P,F,R)=>this._context.model.deduceModelPositionRelativeToViewPosition(P,F,R)},A=this._register(new v.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new v.TextAreaInput(k,A,D.OS,C)),this._register(this._textAreaInput.onKeyDown(P=>{this._viewController.emitKeyDown(P)})),this._register(this._textAreaInput.onKeyUp(P=>{this._viewController.emitKeyUp(P)})),this._register(this._textAreaInput.onPaste(P=>{let F=!1,R=null,M=null;P.metadata&&(F=this._emptySelectionClipboard&&!!P.metadata.isFromEmptySelection,R=typeof P.metadata.multicursorText!="undefined"?P.metadata.multicursorText:null,M=P.metadata.mode),this._viewController.paste(P.text,F,R,M)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(P=>{P.replacePrevCharCnt||P.replaceNextCharCnt||P.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${P.text}>>, ${P.replacePrevCharCnt}, ${P.replaceNextCharCnt}, ${P.positionDelta}`),this._viewController.compositionType(P.text,P.replacePrevCharCnt,P.replaceNextCharCnt,P.positionDelta)):(u._debugComposition&&console.log(` => type: <<${P.text}>>`),this._viewController.type(P.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(P=>{this._viewController.setSelection(P)})),this._register(this._textAreaInput.onCompositionStart(P=>{const F=this.textArea.domNode,R=this._modelSelections[0],{distanceToModelLineStart:M,widthOfHiddenTextBefore:O}=(()=>{const B=F.value.substring(0,Math.min(F.selectionStart,F.selectionEnd)),x=B.lastIndexOf(`
`),U=B.substring(x+1),K=U.lastIndexOf("	"),Z=U.length-K-1,ee=R.getStartPosition(),X=Math.min(ee.column-1,Z),ne=ee.column-1-X,Y=U.substring(0,U.length-X),j=m(Y,this._fontInfo);return{distanceToModelLineStart:ne,widthOfHiddenTextBefore:j}})(),{distanceToModelLineEnd:L}=(()=>{const B=F.value.substring(Math.max(F.selectionStart,F.selectionEnd)),x=B.indexOf(`
`),U=x===-1?B:B.substring(0,x),K=U.indexOf("	"),Z=K===-1?U.length:U.length-K-1,ee=R.getEndPosition(),X=Math.min(this._context.model.getModelLineMaxColumn(ee.lineNumber)-ee.column,Z);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(ee.lineNumber)-ee.column-X}})();this._context.model.revealRange("keyboard",!0,d.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new o(this._context,R.startLineNumber,M,O,L),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(P=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(p){const f='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',_=this._context.model.getLineContent(p.lineNumber),I=(0,a.getMapForWordSeparators)(f);let E=!0,T=p.column,k=!0,A=p.column,P=0;for(;P<50&&(E||k);){if(E&&T<=1&&(E=!1),E){const F=_.charCodeAt(T-2);I.get(F)!==0?E=!1:T--}if(k&&A>_.length&&(k=!1),k){const F=_.charCodeAt(A-1);I.get(F)!==0?k=!1:A++}P++}return[_.substring(T-1,A-1),p.column-T]}_getWordBeforePosition(p){const f=this._context.model.getLineContent(p.lineNumber),_=(0,a.getMapForWordSeparators)(this._context.configuration.options.get(116));let I=p.column,E=0;for(;I>1;){const T=f.charCodeAt(I-2);if(_.get(T)!==0||E>50)return f.substring(I-1,p.column-1);E++,I--}return f.substring(0,p.column-1)}_getCharacterBeforePosition(p){if(p.column>1){const _=this._context.model.getLineContent(p.lineNumber).charAt(p.column-2);if(!S.isHighSurrogate(_.charCodeAt(0)))return _}return""}_getAriaLabel(p){return p.get(2)===1?w.localize(1,null,D.isLinux?"Shift+Alt+F1":"Alt+F1"):p.get(4)}_setAccessibilityOptions(p){this._accessibilitySupport=p.get(2);const f=p.get(3);this._accessibilitySupport===2&&f===n.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=f}onConfigurationChanged(p){const f=this._context.configuration.options,_=f.get(130);return this._setAccessibilityOptions(f),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._contentHeight=_.height,this._fontInfo=f.get(43),this._lineHeight=f.get(58),this._emptySelectionClipboard=f.get(32),this._copyWithSyntaxHighlighting=f.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(f)),this.textArea.setAttribute("tabindex",String(f.get(111))),(p.hasChanged(30)||p.hasChanged(80))&&(f.get(30)&&f.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),p.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(p){return this._selections=p.selections.slice(0),this._modelSelections=p.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return this._scrollLeft=p.scrollLeft,this._scrollTop=p.scrollTop,!0}onZonesChanged(p){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(p){p.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",p.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),p.role&&this.textArea.setAttribute("role",p.role)}prepareRender(p){this._primaryCursorPosition=new c.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=p.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(p)}render(p){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const _=this._visibleTextArea.visibleTextareaStart,I=this._visibleTextArea.visibleTextareaEnd;if(_&&I&&I.left>=this._scrollLeft&&_.left<=this._scrollLeft+this._contentWidth){const E=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,T=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=T*this._lineHeight;let k=this._visibleTextArea.widthOfHiddenLineTextBefore,A=this._contentLeft+_.left-this._scrollLeft,P=I.left-_.left;if(A<this._contentLeft){const F=this._contentLeft-A;A+=F,k+=F,P-=F}P>this._contentWidth&&(P=this._contentWidth),this.textArea.domNode.scrollLeft=k,this._renderInsideEditor(null,E,A,P,this._lineHeight)}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const p=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(p<this._contentLeft||p>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const f=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(f<0||f>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,f,p,l?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const _=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=_*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,f,p,l?0:1,l?0:1)}_newlinecount(p){let f=0,_=-1;do{if(_=p.indexOf(`
`,_+1),_===-1)break;f++}while(!0);return f}_renderInsideEditor(p,f,_,I,E){this._lastRenderPosition=p;const T=this.textArea,k=this.textAreaCover;(0,b.applyFontInfo)(T,this._fontInfo),T.setTop(f),T.setLeft(_),T.setWidth(I),T.setHeight(E),k.setTop(0),k.setLeft(0),k.setWidth(0),k.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const p=this.textArea,f=this.textAreaCover;if((0,b.applyFontInfo)(p,this._fontInfo),p.setTop(0),p.setLeft(0),f.setTop(0),f.setLeft(0),l){p.setWidth(0),p.setHeight(0),f.setWidth(0),f.setHeight(0);return}p.setWidth(1),p.setHeight(1),f.setWidth(1),f.setHeight(1);const _=this._context.configuration.options;_.get(49)?f.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):_.get(59).renderType!==0?f.setClassName("monaco-editor-background textAreaCover "+t.LineNumbersOverlay.CLASS_NAME):f.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function m(y,p){if(y.length===0)return 0;const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const _=document.createElement("span");(0,b.applyFontInfo)(_,p),_.style.whiteSpace="pre",_.append(y),f.appendChild(_),document.body.appendChild(f);const I=_.offsetWidth;return document.body.removeChild(f),I}}),define(Q[638],J([0,1,31,30,49,11,18,52,66]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(i,n){const a=i.options;this.lineHeight=a.get(58),this.pixelRatio=a.get(128),this.overviewRulerLanes=a.get(73),this.renderBorder=a.get(72);const c=n.getColor(b.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=a.get(51);const d=n.getColor(b.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=n.type;const s=a.get(64),r=s.enabled,o=s.side,l=r?n.getColor(b.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;l===null||o==="left"?this.backgroundColor=null:this.backgroundColor=C.Color.Format.CSS.formatHex(l);const m=a.get(130).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[y,p]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=y,this.w=p}_initLanes(i,n,a){const c=n-i;if(a>=3){const d=Math.floor(c/3),s=Math.floor(c/3),r=c-d-s,o=i,l=o+d,h=o+d+r;return[[0,o,l,o,h,o,l,o],[0,d,r,d+r,s,d+r+s,r+s,d+r+s]]}else if(a===2){const d=Math.floor(c/2),s=c-d,r=i,o=r+d;return[[0,r,r,r,o,r,r,r],[0,d,d,d,s,d+s,d+s,d+s]]}else{const d=i,s=c;return[[0,d,d,d,d,d,d,d],[0,s,s,s,s,s,s,s]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class g extends N.ViewPart{constructor(i){super(i);this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const n=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let n=0,a=i.selections.length;n<a;n++)this._cursorPositions[n]=i.selections[n].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const i=this._settings.canvasWidth,n=this._settings.canvasHeight,a=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),s=n/d,r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),o=6*this._settings.pixelRatio|0,l=o/2|0,h=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?h.clearRect(0,0,i,n):(h.fillStyle=this._settings.backgroundColor,h.fillRect(0,0,i,n));const m=this._settings.x,y=this._settings.w;r.sort(v.OverviewRulerDecorationsGroup.cmp);for(const p of r){const f=p.color,_=p.data;h.fillStyle=f;let I=0,E=0,T=0;for(let k=0,A=_.length/3;k<A;k++){const P=_[3*k],F=_[3*k+1],R=_[3*k+2];let M=c.getVerticalOffsetForLineNumber(F)*s|0,O=(c.getVerticalOffsetForLineNumber(R)+a)*s|0;if(O-M<o){let B=(M+O)/2|0;B<l?B=l:B+l>n&&(B=n-l),M=B-l,O=B+l}M>T+1||P!==I?(k!==0&&h.fillRect(m[I],E,y[I],T-E),I=P,E=M,T=O):O>T&&(T=O)}h.fillRect(m[I],E,y[I],T-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const p=2*this._settings.pixelRatio|0,f=p/2|0,_=this._settings.x[7],I=this._settings.w[7];h.fillStyle=this._settings.cursorColor;let E=-100,T=-100;for(let k=0,A=this._cursorPositions.length;k<A;k++){const P=this._cursorPositions[k];let F=c.getVerticalOffsetForLineNumber(P.lineNumber)*s|0;F<f?F=f:F+f>n&&(F=n-f);const R=F-f,M=R+p;R>T+1?(k!==0&&h.fillRect(_,E,I,T-E),E=R,T=M):M>T&&(T=M)}h.fillRect(_,E,I,T-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,n),h.stroke(),h.moveTo(0,0),h.lineTo(i,0),h.stroke())}}e.DecorationsOverviewRuler=g}),define(Q[639],J([0,1,31,49,52,13,357]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends C.ViewPart{constructor(v){super(v);this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(90),this._typicalHalfwidthCharacterWidth=u.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const u=this._context.configuration.options;return this._rulers=u.get(90),this._typicalHalfwidthCharacterWidth=u.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,u=this._rulers.length;if(v===u)return;if(v<u){const{tabSize:t}=this._context.model.getTextModelOptions(),i=t;let n=u-v;for(;n>0;){const a=(0,w.createFastDomNode)(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(i),this.domNode.appendChild(a),this._renderedRulers.push(a),n--}return}let g=v-u;for(;g>0;){const t=this._renderedRulers.pop();this.domNode.removeChild(t),g--}}render(v){this._ensureRulersCount();for(let u=0,g=this._rulers.length;u<g;u++){const t=this._renderedRulers[u],i=this._rulers[u];t.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),t.setHeight(Math.min(v.scrollHeight,1e6)),t.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.editorRuler);u&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(Q[640],J([0,1,31,10,49,498,29,52,13,360]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class u extends N.ViewPart{constructor(t){super(t);const i=this._context.configuration.options;this._readOnly=i.get(80),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new C.TimeoutTimer,this._cursorFlatBlinkInterval=new C.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const i=this._context.configuration.options;this._readOnly=i.get(80),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let n=0,a=this._secondaryCursors.length;n<a;n++)this._secondaryCursors[n].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,i){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<i.length){const n=i.length-this._secondaryCursors.length;for(let a=0;a<n;a++){const c=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(c.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(c)}}else if(this._secondaryCursors.length>i.length){const n=this._secondaryCursors.length-i.length;for(let a=0;a<n;a++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<i.length;n++)this._secondaryCursors[n].onCursorPositionChanged(i[n])}onCursorStateChanged(t){const i=[];for(let a=0,c=t.selections.length;a<c;a++)i[a]=t.selections[a].getPosition();this._onCursorPositionChanged(i[0],i.slice(1));const n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const i=n=>{for(let a=0,c=t.ranges.length;a<c;a++)if(t.ranges[a].fromLineNumber<=n.lineNumber&&n.lineNumber<=t.ranges[a].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(i(n.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),i=t===0,n=t===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!n&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},u.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},u.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].prepareRender(t)}render(t){const i=[];let n=0;const a=this._primaryCursor.render(t);a&&(i[n++]=a);for(let c=0,d=this._secondaryCursors.length;c<d;c++){const s=this._secondaryCursors[c].render(t);s&&(i[n++]=s)}this._renderData=i}getLastRenderData(){return this._renderData}}e.ViewCursors=u,u.BLINK_INTERVAL=500,(0,v.registerThemingParticipant)((g,t)=>{const i=g.getColor(b.editorCursorForeground);if(i){let n=g.getColor(b.editorCursorBackground);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),g.type==="hc"&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}})}),define(Q[641],J([0,1,4,2,3,52,13]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends C.Disposable{constructor(g){super();this.textModel=g,this.colorProvider=new v,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.onDidChangeOptions(t=>{this.colorizationOptions=g.getOptions().bracketPairColorizationOptions})),this._register(g.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(g,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,a=this.textModel.bracketPairs.getBracketsInRange(g);for(const c of a)n.push({id:`bracket${c.range.toString()}-${c.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(c)},ownerId:0,range:c.range});return n}getAllDecorations(g,t){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new N.Range(1,1,this.textModel.getLineCount(),1),g,t):[]}}e.ColorizedBracketPairsDecorationProvider=b;class v{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,S.registerThemingParticipant)((u,g)=>{const t=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],i=new v;g.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${u.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=t.map(a=>u.getColor(a)).filter(a=>!!a).filter(a=>!a.isTransparent());for(let a=0;a<30;a++){const c=n[a%n.length];g.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a)} { color: ${c}; }`)}})}),define(Q[642],J([0,1,74,2,53,13,52,44,3,48,4,22,47]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class n extends C.Disposable{constructor(d){super();this.model=d,this._markersData=new Map,this._register((0,C.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(d,s){const r=[...this._markersData.keys()];this._markersData.clear();const o=this.model.deltaDecorations(r,s);for(let l=0;l<o.length;l++)this._markersData.set(o[l],d[l]);return r.length!==0||o.length!==0}getMarker(d){return this._markersData.get(d.id)}}let a=class extends C.Disposable{constructor(d,s){super();this._markerService=s,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new i.ResourceMap,d.getModels().forEach(r=>this._onModelAdded(r)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,s){const r=this._markerDecorations.get(d);return r&&r.getMarker(s)||null}_handleMarkerChange(d){d.forEach(s=>{const r=this._markerDecorations.get(s);r&&this._updateDecorations(r)})}_onModelAdded(d){const s=new n(d);this._markerDecorations.set(d.uri,s),this._updateDecorations(s)}_onModelRemoved(d){const s=this._markerDecorations.get(d.uri);s&&(s.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===u.Schemas.inMemory||d.uri.scheme===u.Schemas.internal||d.uri.scheme===u.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:d.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[d.uri]))}_updateDecorations(d){const s=this._markerService.read({resource:d.model.uri,take:500}),r=s.map(o=>({range:this._createDecorationRange(d.model,o),options:this._createDecorationOption(o)}));d.update(s,r)&&this._onDidChangeMarker.fire(d.model)}_createDecorationRange(d,s){let r=v.Range.lift(s);return s.severity===w.MarkerSeverity.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(r=r.setEndPosition(r.startLineNumber,r.startColumn+2)),d.validateRange(r)}_createDecorationOption(d){let s,r,o,l,h;switch(d.severity){case w.MarkerSeverity.Hint:this._hasMarkerTag(d,2)?s=void 0:this._hasMarkerTag(d,1)?s="squiggly-unnecessary":s="squiggly-hint",o=0;break;case w.MarkerSeverity.Warning:s="squiggly-warning",r=(0,D.themeColorFromId)(S.overviewRulerWarning),o=20,h={color:(0,D.themeColorFromId)(t.minimapWarning),position:N.MinimapPosition.Inline};break;case w.MarkerSeverity.Info:s="squiggly-info",r=(0,D.themeColorFromId)(S.overviewRulerInfo),o=10;break;case w.MarkerSeverity.Error:default:s="squiggly-error",r=(0,D.themeColorFromId)(S.overviewRulerError),o=30,h={color:(0,D.themeColorFromId)(t.minimapError),position:N.MinimapPosition.Inline};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:r,position:N.OverviewRulerLane.Right},minimap:h,zIndex:o,inlineClassName:l}}_hasMarkerTag(d,s){return d.tags?d.tags.indexOf(s)>=0:!1}};a=Be([fe(0,b.IModelService),fe(1,w.IMarkerService)],a),e.MarkerDecorationsService=a}),define(Q[643],J([0,1,7,96,57,27,4,2,177,510,42,22,13,366]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(c){c.Hidden={type:0};class d{constructor(r,o,l,h){this.actions=r,this.trigger=o,this.editorPosition=l,this.widgetPosition=h,this.type=1}}c.Showing=d})(n||(n={}));let a=class bi extends b.Disposable{constructor(d,s,r,o){super();this._editor=d,this._quickFixActionId=s,this._preferredFixActionId=r,this._keybindingService=o,this._onClick=this._register(new S.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=D.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),N.Gesture.ignoreTarget(this._domNode),this._register(w.addStandardDisposableGenericMouseDownListner(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:h,height:m}=w.getDomNodePagePosition(this._domNode),y=this._editor.getOption(58);let p=Math.floor(y/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(p+=y),this._onClick.fire({x:l.posx,y:h+m+p,actions:this.state.actions,trigger:this.state.trigger})})),this._register(w.addDisposableListener(this._domNode,"mouseenter",l=>{if((l.buttons&1)!=1)return;this.hide();const h=new C.GlobalMouseMoveMonitor;h.startMonitoring(l.target,l.buttons,C.standardMouseMoveMerger,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(d,s,r){if(d.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(56).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:h,column:m}=l.validatePosition(r),y=l.getOptions().tabSize,p=o.get(43),f=l.getLineContent(h),_=(0,v.computeIndentLevel)(f,y),I=p.spaceWidth*_>22,E=k=>k>2&&this._editor.getTopForLineNumber(k)===this._editor.getTopForLineNumber(k-1);let T=h;if(!I){if(h>1&&!E(h-1))T-=1;else if(!E(h+1))T+=1;else if(m*p.spaceWidth<22)return this.hide()}this.state=new n.Showing(d,s,r,{position:{lineNumber:T,column:1},preference:bi._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(d){this._state=d,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...D.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...D.Codicon.lightbulbAutofix.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(s){this.title=u.localize(0,null,s.getLabel());return}}this._domNode.classList.remove(...D.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...D.Codicon.lightBulb.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._quickFixActionId);d?this.title=u.localize(1,null,d.getLabel()):this.title=u.localize(2,null)}set title(d){this._domNode.title=d}};a._posPref=[0],a=Be([fe(3,g.IKeybindingService)],a),e.LightBulbWidget=a,(0,i.registerThemingParticipant)((c,d)=>{var s;const r=(s=c.getColor(t.editorBackground))===null||s===void 0?void 0:s.transparent(.7),o=c.getColor(t.editorLightBulbForeground);o&&d.addRule(`
		.monaco-editor .contentWidgets ${D.Codicon.lightBulb.cssSelector} {
			color: ${o};
			background-color: ${r};
		}`);const l=c.getColor(t.editorLightBulbAutoFixForeground);l&&d.addRule(`
		.monaco-editor .contentWidgets ${D.Codicon.lightbulbAutofix.cssSelector} {
			color: ${l};
			background-color: ${r};
		}`)})}),define(Q[644],J([0,1,33,7,96,58,30,4,2,512,22,13,368]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=C.$;class n extends v.Disposable{constructor(h,m,y){super();this.model=m,this.domNode=i(".colorpicker-header"),C.append(h,this.domNode),this.pickedColorNode=C.append(this.domNode,i(".picked-color"));const p=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",p);const f=C.append(this.domNode,i(".original-color"));f.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=y.getColorTheme().getColor(g.editorHoverBackground)||S.Color.white,this._register((0,t.registerThemingParticipant)((_,I)=>{this.backgroundColor=_.getColor(g.editorHoverBackground)||S.Color.white})),this._register(C.addDisposableListener(this.pickedColorNode,C.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(C.addDisposableListener(f,C.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this._register(m.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(m.color)||"",this.pickedColorNode.classList.toggle("light",m.color.rgba.a<.5?this.backgroundColor.isLighter():m.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(h){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h)||"",this.pickedColorNode.classList.toggle("light",h.rgba.a<.5?this.backgroundColor.isLighter():h.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=n;class a extends v.Disposable{constructor(h,m,y){super();this.model=m,this.pixelRatio=y,this.domNode=i(".colorpicker-body"),C.append(h,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new r(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:h,v:m}){const y=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(y.h,h,m,y.a))}onDidOpacityChange(h){const m=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(m.h,m.s,m.v,h))}onDidHueChange(h){const m=this.model.color.hsva,y=(1-h)*360;this.model.color=new S.Color(new S.HSVA(y===360?0:y,m.s,m.v,m.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=a;class c extends v.Disposable{constructor(h,m,y){super();this.model=m,this.pixelRatio=y,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=i(".saturation-wrap"),C.append(h,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",C.append(this.domNode,this.canvas),this.selection=i(".saturation-selection"),C.append(this.domNode,this.selection),this.layout(),this._register(C.addDisposableGenericMouseDownListner(this.domNode,p=>this.onMouseDown(p))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(h){this.monitor=this._register(new N.GlobalMouseMoveMonitor);const m=C.getDomNodePagePosition(this.domNode);h.target!==this.selection&&this.onDidChangePosition(h.offsetX,h.offsetY),this.monitor.startMonitoring(h.target,h.buttons,N.standardMouseMoveMerger,p=>this.onDidChangePosition(p.posx-m.left,p.posy-m.top),()=>null);const y=C.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),y.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(h,m){const y=Math.max(0,Math.min(1,h/this.width)),p=Math.max(0,Math.min(1,1-m/this.height));this.paintSelection(y,p),this._onDidChange.fire({s:y,v:p})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const h=this.model.color.hsva;this.paintSelection(h.s,h.v)}paint(){const h=this.model.color.hsva,m=new S.Color(new S.HSVA(h.h,1,1,1)),y=this.canvas.getContext("2d"),p=y.createLinearGradient(0,0,this.canvas.width,0);p.addColorStop(0,"rgba(255, 255, 255, 1)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)");const f=y.createLinearGradient(0,0,0,this.canvas.height);f.addColorStop(0,"rgba(0, 0, 0, 0)"),f.addColorStop(1,"rgba(0, 0, 0, 1)"),y.rect(0,0,this.canvas.width,this.canvas.height),y.fillStyle=S.Color.Format.CSS.format(m),y.fill(),y.fillStyle=p,y.fill(),y.fillStyle=f,y.fill()}paintSelection(h,m){this.selection.style.left=`${h*this.width}px`,this.selection.style.top=`${this.height-m*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends v.Disposable{constructor(h,m){super();this.model=m,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=C.append(h,i(".strip")),this.overlay=C.append(this.domNode,i(".overlay")),this.slider=C.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(C.addDisposableGenericMouseDownListner(this.domNode,y=>this.onMouseDown(y))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const h=this.getValue(this.model.color);this.updateSliderPosition(h)}onMouseDown(h){const m=this._register(new N.GlobalMouseMoveMonitor),y=C.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),h.target!==this.slider&&this.onDidChangeTop(h.offsetY),m.startMonitoring(h.target,h.buttons,N.standardMouseMoveMerger,f=>this.onDidChangeTop(f.posy-y.top),()=>null);const p=C.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),p.dispose(),m.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(h){const m=Math.max(0,Math.min(1,1-h/this.height));this.updateSliderPosition(m),this._onDidChange.fire(m)}updateSliderPosition(h){this.slider.style.top=`${(1-h)*this.height}px`}}class s extends d{constructor(h,m){super(h,m);this.domNode.classList.add("opacity-strip"),this._register(m.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(h){const{r:m,g:y,b:p}=h.rgba,f=new S.Color(new S.RGBA(m,y,p,1)),_=new S.Color(new S.RGBA(m,y,p,0));this.overlay.style.background=`linear-gradient(to bottom, ${f} 0%, ${_} 100%)`}getValue(h){return h.hsva.a}}class r extends d{constructor(h,m){super(h,m);this.domNode.classList.add("hue-strip")}getValue(h){return 1-h.hsva.h/360}}class o extends D.Widget{constructor(h,m,y,p){super();this.model=m,this.pixelRatio=y,this._register((0,w.onDidChangeZoomLevel)(()=>this.layout()));const f=i(".colorpicker-widget");h.appendChild(f);const _=new n(f,this.model,p);this.body=new a(f,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=o}),define(Q[645],J([0,1,7,219,213,188,72,170,2,41,62,528,9,42,126,129,13,124]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let r=class{constructor(E){this._resolverService=E}hasChildren(E){return E instanceof s.ReferencesModel||E instanceof s.FileReferences}getChildren(E){if(E instanceof s.ReferencesModel)return E.groups;if(E instanceof s.FileReferences)return E.resolve(this._resolverService).then(T=>T.children);throw new Error("bad tree")}};r=Be([fe(0,g.ITextModelService)],r),e.DataSource=r;class o{getHeight(){return 23}getTemplateId(E){return E instanceof s.FileReferences?y.id:f.id}}e.Delegate=o;let l=class{constructor(E){this._keybindingService=E}getKeyboardNavigationLabel(E){var T;if(E instanceof s.OneReference){const k=(T=E.parent.getPreview(E))===null||T===void 0?void 0:T.preview(E.range);if(k)return k.value}return(0,u.basename)(E.uri)}};l=Be([fe(0,n.IKeybindingService)],l),e.StringRepresentationProvider=l;class h{getId(E){return E instanceof s.OneReference?E.id:E.uri}}e.IdentityProvider=h;let m=class extends v.Disposable{constructor(E,T,k){super();this._uriLabel=T;const A=document.createElement("div");A.classList.add("reference-file"),this.file=this._register(new D.IconLabel(A,{supportHighlights:!0})),this.badge=new C.CountBadge(w.append(A,w.$(".count"))),this._register((0,c.attachBadgeStyler)(this.badge,k)),E.appendChild(A)}set(E,T){let k=(0,u.dirname)(E.uri);this.file.setLabel((0,b.getBaseLabel)(E.uri),this._uriLabel.getUriLabel(k,{relative:!0}),{title:this._uriLabel.getUriLabel(E.uri),matches:T});const A=E.children.length;this.badge.setCount(A),A>1?this.badge.setTitleFormat((0,t.localize)(0,null,A)):this.badge.setTitleFormat((0,t.localize)(1,null,A))}};m=Be([fe(1,a.ILabelService),fe(2,d.IThemeService)],m);let y=class _i{constructor(E){this._instantiationService=E,this.templateId=_i.id}renderTemplate(E){return this._instantiationService.createInstance(m,E)}renderElement(E,T,k){k.set(E.element,(0,S.createMatches)(E.filterData))}disposeTemplate(E){E.dispose()}};y.id="FileReferencesRenderer",y=Be([fe(0,i.IInstantiationService)],y),e.FileReferencesRenderer=y;class p{constructor(E){this.label=new N.HighlightedLabel(E)}set(E,T){var k;const A=(k=E.parent.getPreview(E))===null||k===void 0?void 0:k.preview(E.range);if(!A||!A.value)this.label.set(`${(0,u.basename)(E.uri)}:${E.range.startLineNumber+1}:${E.range.startColumn+1}`);else{const{value:P,highlight:F}=A;T&&!S.FuzzyScore.isDefault(T)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,S.createMatches)(T))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[F]))}}}class f{constructor(){this.templateId=f.id}renderTemplate(E){return new p(E)}renderElement(E,T,k){k.set(E.element,E.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=f,f.id="OneReferenceRenderer";class _{getWidgetAriaLabel(){return(0,t.localize)(2,null)}getAriaLabel(E){return E.ariaMessage}}e.AccessibilityProvider=_}),define(Q[646],J([0,1,7,2,8,60,29,73,11,3,89,34,52,149,120,9,13,375]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const r=(s=window.trustedTypes)===null||s===void 0?void 0:s.createPolicy("editorGhostText",{createHTML:p=>p});let o=class extends C.Disposable{constructor(f,_,I,E){super();this.editor=f,this.model=_,this.instantiationService=I,this.languageService=E,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(l,this.editor)),this.additionalLinesWidget=this._register(new h(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(T=>{(T.hasChanged(29)||T.hasChanged(104)||T.hasChanged(87)||T.hasChanged(82)||T.hasChanged(44)||T.hasChanged(43)||T.hasChanged(58))&&this.update()})),this._register((0,C.toDisposable)(()=>{var T;this.disposed=!0,this.update(),(T=this.viewMoreContentWidget)===null||T===void 0||T.dispose(),this.viewMoreContentWidget=void 0})),this._register(_.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(f){return this.additionalLinesWidget.viewZoneId===f}update(){var f;const _=this.model.ghostText;if(!this.editor.hasModel()||!_||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const I=new Array,E=new Array;function T(F,R){if(E.length>0){const M=E[E.length-1];R&&M.decorations.push(new n.LineDecoration(M.content.length+1,M.content.length+1+F[0].length,R,0)),M.content+=F[0],F=F.slice(1)}for(const M of F)E.push({content:M,decorations:R?[new n.LineDecoration(1,M.length+1,R,0)]:[]})}const k=this.editor.getModel().getLineContent(_.lineNumber);this.editor.getModel().getLineTokens(_.lineNumber);let A,P=0;for(const F of _.parts){let R=F.lines;A===void 0?(I.push({column:F.column,text:R[0],preview:F.preview}),R=R.slice(1)):T([k.substring(P,F.column-1)],void 0),R.length>0&&(T(R,"ghost-text"),A===void 0&&F.column<=k.length&&(A=F.column)),P=F.column-1}A!==void 0&&T([k.substring(P)],void 0),this.partsWidget.setParts(_.lineNumber,I,A!==void 0?{column:A,length:k.length+1-A}:void 0),this.additionalLinesWidget.updateLines(_.lineNumber,E,_.additionalReservedLineCount),_.parts.some(F=>F.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new v.Position(_.lineNumber,this.editor.getModel().getLineMaxColumn(_.lineNumber)),"",0):((f=this.viewMoreContentWidget)===null||f===void 0||f.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(f,_,I){const E=this.editor.getOption(43),T=document.createElement("div");T.className="suggest-preview-additional-widget",(0,D.applyFontInfo)(T,E);const k=document.createElement("span");k.className="content-spacer",k.append(_),T.append(k);const A=document.createElement("span");A.className="content-newline suggest-preview-text",A.append("\u23CE  "),T.append(A);const P=new C.DisposableStore,F=document.createElement("div");return F.className="button suggest-preview-text",F.append(`+${I} lines\u2026`),P.add(w.addStandardDisposableListener(F,"mousedown",R=>{var M;(M=this.model)===null||M===void 0||M.setExpanded(!0),R.preventDefault(),this.editor.focus()})),T.append(F),new y(this.editor,f,T,P)}};o=Be([fe(2,c.IInstantiationService),fe(3,t.ILanguageService)],o),e.GhostTextWidget=o;class l{constructor(f){this.editor=f,this.decorationIds=[],this.disposableStore=new C.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(f,_,I){if(this.disposableStore.clear(),!this.editor.getModel())return;const T=new Array;I&&T.push({range:u.Range.fromPositions(new v.Position(f,I.column),new v.Position(f,I.column+I.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,_.map(k=>({range:u.Range.fromPositions(new v.Position(f,k.column)),options:{description:"ghost-text",after:{content:k.text,inlineClassName:k.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(T))}}class h{constructor(f,_){this.editor=f,this.languageIdCodec=_,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(f=>{this._viewZoneId&&(f.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(f,_,I){const E=this.editor.getModel();if(!E)return;const{tabSize:T}=E.getOptions();this.editor.changeViewZones(k=>{this._viewZoneId&&(k.removeZone(this._viewZoneId),this._viewZoneId=void 0);const A=Math.max(_.length,I);if(A>0){const P=document.createElement("div");m(P,T,_,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=k.addZone({afterLineNumber:f,heightInLines:A,domNode:P})}})}}function m(p,f,_,I,E){const T=I.get(29),k=I.get(104),A="none",P=I.get(82),F=I.get(44),R=I.get(43),M=I.get(58),O=(0,g.createStringBuilder)(1e4);O.appendASCIIString('<div class="suggest-preview-text">');for(let x=0,U=_.length;x<U;x++){const K=_[x],Z=K.content;O.appendASCIIString('<div class="view-line'),O.appendASCIIString('" style="top:'),O.appendASCIIString(String(x*M)),O.appendASCIIString('px;width:1000000px;">');const ee=N.isBasicASCII(Z),X=N.containsRTL(Z),ne=b.LineTokens.createEmpty(Z,E);(0,a.renderViewLine)(new a.RenderLineInput(R.isMonospace&&!T,R.canUseHalfwidthRightwardsArrow,Z,!1,ee,X,0,ne,K.decorations,f,0,R.spaceWidth,R.middotWidth,R.wsmiddotWidth,k,A,P,F!==S.EditorFontLigatures.OFF,null),O),O.appendASCIIString("</div>")}O.appendASCIIString("</div>"),(0,D.applyFontInfo)(p,R);const L=O.build(),B=r?r.createHTML(L):L;p.innerHTML=B}class y extends C.Disposable{constructor(f,_,I,E){super();this.editor=f,this.position=_,this.domNode=I,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(E),this._register((0,C.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,d.registerThemingParticipant)((p,f)=>{const _=p.getColor(i.ghostTextForeground);_&&(f.addRule(`.monaco-editor .ghost-text-decoration { color: ${_.toString()} !important; }`),f.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${_.toString()} !important; }`),f.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${_.toString()} !important; }`));const I=p.getColor(i.ghostTextBackground);I&&(f.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${I.toString()}; }`),f.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${I.toString()}; }`),f.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${I.toString()}; }`));const E=p.getColor(i.ghostTextBorder);E&&(f.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${E}; }`),f.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${E}; }`),f.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${E}; }`))})}),define(Q[276],J([0,1,86,2,20,145,53,52,13]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,i){var n;const a=new C.DisposableStore;t.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const c=a.add(new C.MutableDisposable);return c.value=this.doProvide(t,i),a.add(this.onDidActiveTextEditorControlChange(()=>{c.value=void 0,c.value=this.doProvide(t,i)})),a}doProvide(t,i){const n=new C.DisposableStore,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const c={editor:a},d=(0,D.getCodeEditor)(a);if(d){let s=(0,N.withNullAsUndefined)(a.saveViewState());n.add(d.onDidChangeCursorPosition(()=>{s=(0,N.withNullAsUndefined)(a.saveViewState())})),c.restoreViewState=()=>{s&&a===this.activeTextEditorControl&&a.restoreViewState(s)},n.add((0,w.once)(i.onCancellationRequested)(()=>{var r;return(r=c.restoreViewState)===null||r===void 0?void 0:r.call(c)}))}n.add((0,C.toDisposable)(()=>this.clearDecorations(a))),n.add(this.provideWithTextEditor(c,t,i))}else n.add(this.provideWithoutTextEditor(t,i));return n}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},i){t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus()}getModel(t){var i;return(0,D.isDiffEditor)(t)?(i=t.getModel())===null||i===void 0?void 0:i.modified:t.getModel()}addDecorations(t,i){t.changeDecorations(n=>{const a=[];this.rangeHighlightDecorationId&&(a.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),a.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const c=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,v.themeColorFromId)(b.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}],[d,s]=n.deltaDecorations(a,c);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:s}})}clearDecorations(t){const i=this.rangeHighlightDecorationId;i&&(t.changeDecorations(n=>{n.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(Q[647],J([0,1,2,145,276,548]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends N.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const u=(0,D.localize)(0,null);return v.items=[{label:u}],v.ariaLabel=u,w.Disposable.None}provideWithTextEditor(v,u,g){const t=v.editor,i=new w.DisposableStore;i.add(u.onDidAccept(c=>{const[d]=u.selectedItems;if(d){if(!this.isValidLineNumber(t,d.lineNumber))return;this.gotoLocation(v,{range:this.toRange(d.lineNumber,d.column),keyMods:u.keyMods,preserveFocus:c.inBackground}),c.inBackground||u.hide()}}));const n=()=>{const c=this.parsePosition(t,u.value.trim().substr(S.PREFIX.length)),d=this.getPickLabel(t,c.lineNumber,c.column);if(u.items=[{lineNumber:c.lineNumber,column:c.column,label:d}],u.ariaLabel=d,!this.isValidLineNumber(t,c.lineNumber)){this.clearDecorations(t);return}const s=this.toRange(c.lineNumber,c.column);t.revealRangeInCenter(s,0),this.addDecorations(t,s)};n(),i.add(u.onDidChangeValue(()=>n()));const a=(0,C.getCodeEditor)(t);return a&&a.getOptions().get(59).renderType===2&&(a.updateOptions({lineNumbers:"on"}),i.add((0,w.toDisposable)(()=>a.updateOptions({lineNumbers:"relative"})))),i}toRange(v=1,u=1){return{startLineNumber:v,startColumn:u,endLineNumber:v,endColumn:u}}parsePosition(v,u){const g=u.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),t=this.lineCount(v)+1;return{lineNumber:g[0]>0?g[0]:t+g[0],column:g[1]}}getPickLabel(v,u,g){if(this.isValidLineNumber(v,u))return this.isValidColumn(v,u,g)?(0,D.localize)(1,null,u,g):(0,D.localize)(2,null,u);const t=v.getPosition()||{lineNumber:1,column:1},i=this.lineCount(v);return i>1?(0,D.localize)(3,null,t.lineNumber,t.column,i):(0,D.localize)(4,null,t.lineNumber,t.column)}isValidLineNumber(v,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(v)}isValidColumn(v,u,g){if(!g||typeof g!="number")return!1;const t=this.getModel(v);if(!t)return!1;const i={lineNumber:u,column:g};return t.validatePosition(i).equals(i)}lineCount(v){var u,g;return(g=(u=this.getModel(v))===null||u===void 0?void 0:u.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(Q[648],J([0,1,10,23,27,315,2,8,3,18,262,276,549]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class n extends t.AbstractEditorNavigationQuickAccessProvider{constructor(s=Object.create(null)){super(s);this.options=s,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,i.localize)(0,null)),S.Disposable.None}provideWithTextEditor(s,r,o){const l=s.editor,h=this.getModel(l);return h?u.DocumentSymbolProviderRegistry.has(h)?this.doProvideWithEditorSymbols(s,h,r,o):this.doProvideWithoutEditorSymbols(s,h,r,o):S.Disposable.None}doProvideWithoutEditorSymbols(s,r,o,l){const h=new S.DisposableStore;return this.provideLabelPick(o,(0,i.localize)(1,null)),(()=>De(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(r,h))||l.isCancellationRequested||h.add(this.doProvideWithEditorSymbols(s,r,o,l))}))(),h}provideLabelPick(s,r){s.items=[{label:r,index:0,kind:14}],s.ariaLabel=r}waitForLanguageSymbolRegistry(s,r){return De(this,void 0,void 0,function*(){if(u.DocumentSymbolProviderRegistry.has(s))return!0;const o=new w.DeferredPromise,l=r.add(u.DocumentSymbolProviderRegistry.onDidChange(()=>{u.DocumentSymbolProviderRegistry.has(s)&&(l.dispose(),o.complete(!0))}));return r.add((0,S.toDisposable)(()=>o.complete(!1))),o.p})}doProvideWithEditorSymbols(s,r,o,l){const h=s.editor,m=new S.DisposableStore;m.add(o.onDidAccept(I=>{const[E]=o.selectedItems;E&&E.range&&(this.gotoLocation(s,{range:E.range.selection,keyMods:o.keyMods,preserveFocus:I.inBackground}),I.inBackground||o.hide())})),m.add(o.onDidTriggerItemButton(({item:I})=>{I&&I.range&&(this.gotoLocation(s,{range:I.range.selection,keyMods:o.keyMods,forceSideBySide:!0}),o.hide())}));const y=this.getDocumentSymbols(r,l);let p;const f=()=>De(this,void 0,void 0,function*(){p==null||p.dispose(!0),o.busy=!1,p=new C.CancellationTokenSource(l),o.busy=!0;try{const I=(0,D.prepareQuery)(o.value.substr(n.PREFIX.length).trim()),E=yield this.doGetSymbolPicks(y,I,void 0,p.token);if(l.isCancellationRequested)return;E.length>0?o.items=E:I.original.length>0?this.provideLabelPick(o,(0,i.localize)(2,null)):this.provideLabelPick(o,(0,i.localize)(3,null))}finally{l.isCancellationRequested||(o.busy=!1)}});m.add(o.onDidChangeValue(()=>f())),f();let _=!0;return m.add(o.onDidChangeActive(()=>{const[I]=o.activeItems;if(I&&I.range){if(_){_=!1;return}h.revealRangeInCenter(I.range.selection,0),this.addDecorations(h,I.range.decoration)}})),m}doGetSymbolPicks(s,r,o,l){return De(this,void 0,void 0,function*(){const h=yield s;if(l.isCancellationRequested)return[];const m=r.original.indexOf(n.SCOPE_PREFIX)===0,y=m?1:0;let p,f;r.values&&r.values.length>1?(p=(0,D.pieceToQuery)(r.values[0]),f=(0,D.pieceToQuery)(r.values.slice(1))):p=r;const _=[];for(let T=0;T<h.length;T++){const k=h[T],A=(0,b.trim)(k.name),P=`$(${u.SymbolKinds.toIcon(k.kind).id}) ${A}`,F=P.length-A.length;let R=k.containerName;(o==null?void 0:o.extraContainerLabel)&&(R?R=`${o.extraContainerLabel} \u2022 ${R}`:R=o.extraContainerLabel);let M,O,L,B;if(r.original.length>y){let U=!1;if(p!==r&&([M,O]=(0,D.scoreFuzzy2)(P,Object.assign(Object.assign({},r),{values:void 0}),y,F),typeof M=="number"&&(U=!0)),typeof M!="number"&&([M,O]=(0,D.scoreFuzzy2)(P,p,y,F),typeof M!="number"))continue;if(!U&&f){if(R&&f.original.length>0&&([L,B]=(0,D.scoreFuzzy2)(R,f)),typeof L!="number")continue;typeof M=="number"&&(M+=L)}}const x=k.tags&&k.tags.indexOf(1)>=0;_.push({index:T,kind:k.kind,score:M,label:P,ariaLabel:A,description:R,highlights:x?void 0:{label:O,description:B},range:{selection:v.Range.collapseToStart(k.selectionRange),decoration:k.range},strikethrough:x,buttons:(()=>{var U,K;const Z=((U=this.options)===null||U===void 0?void 0:U.openSideBySideDirection)?(K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection():void 0;if(!!Z)return[{iconClass:Z==="right"?N.Codicon.splitHorizontal.classNames:N.Codicon.splitVertical.classNames,tooltip:Z==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]})()})}const I=_.sort((T,k)=>m?this.compareByKindAndScore(T,k):this.compareByScore(T,k));let E=[];if(m){let P=function(){k&&typeof T=="number"&&A>0&&(k.label=(0,b.format)(c[T]||a,A))},T,k,A=0;for(const F of I)T!==F.kind?(P(),T=F.kind,A=1,k={type:"separator"},E.push(k)):A++,E.push(F);P()}else I.length>0&&(E=[{label:(0,i.localize)(6,null,_.length),type:"separator"},...I]);return E})}compareByScore(s,r){if(typeof s.score!="number"&&typeof r.score=="number")return 1;if(typeof s.score=="number"&&typeof r.score!="number")return-1;if(typeof s.score=="number"&&typeof r.score=="number"){if(s.score>r.score)return-1;if(s.score<r.score)return 1}return s.index<r.index?-1:s.index>r.index?1:0}compareByKindAndScore(s,r){const o=c[s.kind]||a,l=c[r.kind]||a,h=o.localeCompare(l);return h===0?this.compareByScore(s,r):h}getDocumentSymbols(s,r){return De(this,void 0,void 0,function*(){const o=yield g.OutlineModel.create(s,r);return r.isCancellationRequested?[]:o.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=n,n.PREFIX="@",n.SCOPE_PREFIX=":",n.PREFIX_BY_CATEGORY=`${n.PREFIX}${n.SCOPE_PREFIX}`;const a=(0,i.localize)(7,null),c={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(Q[649],J([0,1,2,11,551,16,42,22,13,380]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,N.localize)(0,null));let u=class{constructor(t,i,n,a,c){this._editor=t,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=a,this._disposables=new w.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(c),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(43)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,N.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var i,n;const[a,c]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(a),this._label.innerText=(0,N.localize)(2,null,(i=this._keybindingService.lookupKeybinding(a))===null||i===void 0?void 0:i.getLabel(),(n=this._keybindingService.lookupKeybinding(c))===null||n===void 0?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var i,n,a,c;if(!this._input||!this._domNode)return;const d=t.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((i=t.getColor(b.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String((n=t.getColor(b.inputForeground))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((a=t.getColor(b.inputBackground))!==null&&a!==void 0?a:"");const s=t.getColor(b.inputBorder);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=(c=s==null?void 0:s.toString())!==null&&c!==void 0?c:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(43);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=`${t.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){this._currentAcceptInput&&this._currentAcceptInput(t)}cancelInput(t){this._currentCancelInput&&this._currentCancelInput(t)}getInput(t,i,n,a,c,d){this._domNode.classList.toggle("preview",c),this._position=new C.Position(t.startLineNumber,t.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",a.toString()),this._input.size=Math.max((t.endColumn-t.startColumn)*1.1,20);const s=new w.DisposableStore;return new Promise(r=>{this._currentCancelInput=o=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r(o),!0),this._currentAcceptInput=o=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,r({newName:this._input.value,wantsPreview:c&&o})},d.onCancellationRequested(()=>this.cancelInput(!0)),s.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{s.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=Be([fe(2,v.IThemeService),fe(3,S.IKeybindingService),fe(4,D.IContextKeyService)],u),e.RenameInputField=u}),define(Q[277],J([0,1,27,561,22,13]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,N.registerColor)("symbolIcon.arrayForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,N.registerColor)("symbolIcon.booleanForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,N.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,C.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,N.registerColor)("symbolIcon.colorForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,N.registerColor)("symbolIcon.constantForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,N.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,C.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,C.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,C.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,N.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,C.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,N.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,C.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,N.registerColor)("symbolIcon.fileForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,N.registerColor)("symbolIcon.folderForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,N.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,C.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,N.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,C.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,N.registerColor)("symbolIcon.keyForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,N.registerColor)("symbolIcon.keywordForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,N.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,C.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,N.registerColor)("symbolIcon.moduleForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,N.registerColor)("symbolIcon.namespaceForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,N.registerColor)("symbolIcon.nullForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.numberForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,N.registerColor)("symbolIcon.objectForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.operatorForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,N.registerColor)("symbolIcon.packageForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,N.registerColor)("symbolIcon.propertyForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,N.registerColor)("symbolIcon.referenceForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,N.registerColor)("symbolIcon.snippetForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,N.registerColor)("symbolIcon.stringForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,N.registerColor)("symbolIcon.structForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,N.registerColor)("symbolIcon.textForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,N.registerColor)("symbolIcon.typeParameterForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,N.registerColor)("symbolIcon.unitForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,C.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,N.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,C.localize)(32,null)),(0,D.registerThemingParticipant)((S,b)=>{const v=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&b.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const u=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&b.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const g=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&b.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const t=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);t&&b.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${t}; }`);const i=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);i&&b.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${i}; }`);const n=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);n&&b.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${n}; }`);const a=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);a&&b.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${a}; }`);const c=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);c&&b.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${c}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);d&&b.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${d}; }`);const s=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);s&&b.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${s}; }`);const r=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);r&&b.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${r}; }`);const o=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);o&&b.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${o}; }`);const l=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&b.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&b.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const m=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&b.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const y=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);y&&b.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${y}; }`);const p=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);p&&b.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${p}; }`);const f=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);f&&b.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${f}; }`);const _=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&b.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const I=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);I&&b.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${I}; }`);const E=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const T=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);T&&b.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${T}; }`);const k=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);k&&b.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${k}; }`);const A=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);A&&b.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${A}; }`);const P=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);P&&b.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${P}; }`);const F=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);F&&b.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${F}; }`);const R=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);R&&b.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${R}; }`);const M=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);M&&b.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${M}; }`);const O=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);O&&b.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${O}; }`);const L=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);L&&b.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${L}; }`);const B=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);B&&b.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${B}; }`);const x=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);x&&b.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${x}; }`);const U=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);U&&b.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${U}; }`)})}),define(Q[278],J([0,1,7,48,630,28,16,61,13]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends N.AbstractCodeEditorService{constructor(t,i){super(null,i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,i,n){return i?Promise.resolve(this.doOpenEditor(i,t)):Promise.resolve(null)}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const c=i.resource.scheme;if(c===C.Schemas.http||c===C.Schemas.https)return(0,w.windowOpenNoOpener)(i.resource.toString()),t}return null}const a=i.options?i.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")t.setSelection(a),t.revealRangeInCenter(a,1);else{const c={lineNumber:a.startLineNumber,column:a.startColumn};t.setPosition(c),t.revealPositionInCenter(c,1)}return t}findModel(t,i){const n=t.getModel();return n&&n.uri.toString()!==i.toString()?null:n}};u=Be([fe(0,S.IContextKeyService),fe(1,v.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,b.registerSingleton)(D.ICodeEditorService,u)}),define(Q[650],J([0,1,52,22]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[C.editorBackground]:"#FFFFFE",[C.editorForeground]:"#000000",[C.editorInactiveSelection]:"#E5EBF1",[w.editorIndentGuides]:"#D3D3D3",[w.editorActiveIndentGuides]:"#939393",[C.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.editorBackground]:"#1E1E1E",[C.editorForeground]:"#D4D4D4",[C.editorInactiveSelection]:"#3A3D41",[w.editorIndentGuides]:"#404040",[w.editorActiveIndentGuides]:"#707070",[C.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.editorBackground]:"#000000",[C.editorForeground]:"#FFFFFF",[w.editorIndentGuides]:"#FFFFFF",[w.editorActiveIndentGuides]:"#FFFFFF"}}}),define(Q[37],J([0,1,50,27,4,54,2,78,26,16,9,13]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function i(d){return d.command!==void 0}e.isIMenuItem=i;class n{constructor(s){this.id=n._idPool++,this._debugName=s}}e.MenuId=n,n._idPool=0,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),e.IMenuService=(0,g.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new N.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:d=>d===n.CommandPalette}}addCommand(d){return this.addCommands(D.Iterable.single(d))}addCommands(d){for(const s of d)this._commands.set(s.id,s);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let s=!1;for(const r of d)s=this._commands.delete(r.id)||s;s&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(d){return this._commands.get(d)}getCommands(){const d=new Map;return this._commands.forEach((s,r)=>d.set(r,s)),d}appendMenuItem(d,s){return this.appendMenuItems(D.Iterable.single({id:d,item:s}))}appendMenuItems(d){const s=new Set,r=new b.LinkedList;for(const{id:o,item:l}of d){let h=this._menuItems.get(o);h||(h=new b.LinkedList,this._menuItems.set(o,h)),r.push(h.push(l)),s.add(o)}return this._onDidChangeMenu.fire(s),(0,S.toDisposable)(()=>{if(r.size>0){for(let o of r)o();this._onDidChangeMenu.fire(s),r.clear()}})}getMenuItems(d){let s;return this._menuItems.has(d)?s=[...this._menuItems.get(d)]:s=[],d===n.CommandPalette&&this._appendImplicitItems(s),s}_appendImplicitItems(d){const s=new Set;for(const r of d)i(r)&&(s.add(r.command.id),r.alt&&s.add(r.alt.id));this._commands.forEach((r,o)=>{s.has(o)||d.push({command:r})})}};class a extends w.SubmenuAction{constructor(s,r,o,l){super(`submenuitem.${s.submenu.id}`,typeof s.title=="string"?s.title:s.title.value,[],"submenu");this.item=s,this._menuService=r,this._contextKeyService=o,this._options=l}get actions(){const s=[],r=this._menuService.createMenu(this.item.submenu,this._contextKeyService),o=r.getActions(this._options);r.dispose();for(const[,l]of o)l.length>0&&(s.push(...l),s.push(new w.Separator));return s.length&&s.pop(),s}}e.SubmenuItemAction=a;let c=class Si{constructor(s,r,o,l,h){var m,y;if(this._commandService=h,this.id=s.id,this.label=(o==null?void 0:o.renderShortTitle)&&s.shortTitle?typeof s.shortTitle=="string"?s.shortTitle:s.shortTitle.value:typeof s.title=="string"?s.title:s.title.value,this.tooltip=(y=typeof s.tooltip=="string"?s.tooltip:(m=s.tooltip)===null||m===void 0?void 0:m.value)!==null&&y!==void 0?y:"",this.enabled=!s.precondition||l.contextMatchesRules(s.precondition),this.checked=void 0,s.toggled){const p=s.toggled.condition?s.toggled:{condition:s.toggled};this.checked=l.contextMatchesRules(p.condition),this.checked&&p.tooltip&&(this.tooltip=typeof p.tooltip=="string"?p.tooltip:p.tooltip.value),p.title&&(this.label=typeof p.title=="string"?p.title:p.title.value)}this.item=s,this.alt=r?new Si(r,void 0,o,l,h):void 0,this._options=o,t.ThemeIcon.isThemeIcon(s.icon)&&(this.class=C.CSSIcon.asClassName(s.icon))}dispose(){}run(...s){var r,o;let l=[];return((r=this._options)===null||r===void 0?void 0:r.arg)&&(l=[...l,this._options.arg]),((o=this._options)===null||o===void 0?void 0:o.shouldForwardArgs)&&(l=[...l,...s]),this._commandService.executeCommand(this.id,...l)}};c=Be([fe(3,u.IContextKeyService),fe(4,v.ICommandService)],c),e.MenuItemAction=c}),define(Q[15],J([0,1,487,25,28,11,44,62,37,26,16,84,36,85,20,68]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(R){this.id=R.id,this.precondition=R.precondition,this._kbOpts=R.kbOpts,this._menuOpts=R.menuOpts,this._description=R.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const R=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const M of R){let O=M.kbExpr;this.precondition&&(O?O=g.ContextKeyExpr.and(O,this.precondition):O=this.precondition);const L={id:this.id,weight:M.weight,args:M.args,when:O,primary:M.primary,secondary:M.secondary,win:M.win,linux:M.linux,mac:M.mac};t.KeybindingsRegistry.registerKeybindingRule(L)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(R,M)=>this.runCommand(R,M),description:this._description})}_registerMenuItem(R){v.MenuRegistry.appendMenuItem(R.menuId,{group:R.group,command:{id:this.id,title:R.title,icon:R.icon,precondition:this.precondition},when:R.when,order:R.order})}}e.Command=d;class s extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(R,M,O){return this._implementations.push({priority:R,name:M,implementation:O}),this._implementations.sort((L,B)=>B.priority-L.priority),{dispose:()=>{for(let L=0;L<this._implementations.length;L++)if(this._implementations[L].implementation===O){this._implementations.splice(L,1);return}}}}runCommand(R,M){const O=R.get(c.ILogService);O.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const L of this._implementations){const B=L.implementation(R,M);if(B)return O.trace(`Command '${this.id}' was handled by '${L.name}'.`),typeof B=="boolean"?void 0:B}O.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class r extends d{constructor(R,M){super(M);this.command=R}runCommand(R,M){return this.command.runCommand(R,M)}}e.ProxyCommand=r;class o extends d{static bindToContribution(R){return class extends o{constructor(O){super(O);this._callback=O.handler}runEditorCommand(O,L,B){const x=R(L);x&&this._callback(x,B)}}}runCommand(R,M){const O=R.get(N.ICodeEditorService),L=O.getFocusedCodeEditor()||O.getActiveCodeEditor();if(!!L)return L.invokeWithinContext(B=>{if(!!B.get(g.IContextKeyService).contextMatchesRules((0,a.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(B,L,M)})}}e.EditorCommand=o;class l extends o{constructor(R){super(l.convertOptions(R));this.label=R.label,this.alias=R.alias}static convertOptions(R){let M;Array.isArray(R.menuOpts)?M=R.menuOpts:R.menuOpts?M=[R.menuOpts]:M=[];function O(L){return L.menuId||(L.menuId=v.MenuId.EditorContext),L.title||(L.title=R.label),L.when=g.ContextKeyExpr.and(R.precondition,L.when),L}return Array.isArray(R.contextMenuOpts)?M.push(...R.contextMenuOpts.map(O)):R.contextMenuOpts&&M.push(O(R.contextMenuOpts)),R.menuOpts=M,R}runEditorCommand(R,M,O){return this.reportTelemetry(R,M),this.run(R,M,O||{})}reportTelemetry(R,M){R.get(n.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class h extends l{constructor(){super(...arguments);this._implementations=[]}addImplementation(R,M){return this._implementations.push([R,M]),this._implementations.sort((O,L)=>L[0]-O[0]),{dispose:()=>{for(let O=0;O<this._implementations.length;O++)if(this._implementations[O][1]===M){this._implementations.splice(O,1);return}}}}run(R,M,O){for(const L of this._implementations){const B=L[1](R,M,O);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiEditorAction=h;function m(F,R){u.CommandsRegistry.registerCommand(F,function(M,...O){const[L,B]=O;(0,a.assertType)(C.URI.isUri(L)),(0,a.assertType)(D.Position.isIPosition(B));const x=M.get(S.IModelService).getModel(L);if(x){const U=D.Position.lift(B);return R(x,U,...O.slice(2))}return M.get(b.ITextModelService).createModelReference(L).then(U=>new Promise((K,Z)=>{try{const ee=R(U.object.textEditorModel,D.Position.lift(B),O.slice(2));K(ee)}catch(ee){Z(ee)}}).finally(()=>{U.dispose()}))})}e.registerModelAndPositionCommand=m;function y(F,R){u.CommandsRegistry.registerCommand(F,function(M,...O){const[L]=O;(0,a.assertType)(C.URI.isUri(L));const B=M.get(S.IModelService).getModel(L);return B?R(B,...O.slice(1)):M.get(b.ITextModelService).createModelReference(L).then(x=>new Promise((U,K)=>{try{const Z=R(x.object.textEditorModel,O.slice(1));U(Z)}catch(Z){K(Z)}}).finally(()=>{x.dispose()}))})}e.registerModelCommand=y;function p(F){return A.INSTANCE.registerEditorCommand(F),F}e.registerEditorCommand=p;function f(F){const R=new F;return A.INSTANCE.registerEditorAction(R),R}e.registerEditorAction=f;function _(F){return A.INSTANCE.registerEditorAction(F),F}e.registerMultiEditorAction=_;function I(F){A.INSTANCE.registerEditorAction(F)}e.registerInstantiatedEditorAction=I;function E(F,R){A.INSTANCE.registerEditorContribution(F,R)}e.registerEditorContribution=E;var T;(function(F){function R(x){return A.INSTANCE.getEditorCommand(x)}F.getEditorCommand=R;function M(){return A.INSTANCE.getEditorActions()}F.getEditorActions=M;function O(){return A.INSTANCE.getEditorContributions()}F.getEditorContributions=O;function L(x){return A.INSTANCE.getEditorContributions().filter(U=>x.indexOf(U.id)>=0)}F.getSomeEditorContributions=L;function B(){return A.INSTANCE.getDiffEditorContributions()}F.getDiffEditorContributions=B})(T=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const k={EditorCommonContributions:"editor.contributions"};class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(R,M){this.editorContributions.push({id:R,ctor:M})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(R){R.register(),this.editorActions.push(R)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(R){R.register(),this.editorCommands[R.id]=R}getEditorCommand(R){return this.editorCommands[R]||null}}A.INSTANCE=new A,i.Registry.add(k.EditorCommonContributions,A.INSTANCE);function P(F){return F.register(),F}e.UndoCommand=P(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(1,null),order:1}]})),P(new r(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(3,null),order:1}]})),P(new r(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:w.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(5,null),order:1}]}))}),define(Q[651],J([0,1,15,16,23,78,9,61,486]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,S.createDecorator)("IEditorCancelService"),g=new C.RawContextKey("cancellableOperation",!1,(0,v.localize)(0,null));(0,b.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(i,n){let a=this._tokens.get(i);a||(a=i.invokeWithinContext(d=>{const s=g.bindTo(d.get(C.IContextKeyService)),r=new D.LinkedList;return{key:s,tokens:r}}),this._tokens.set(i,a));let c;return a.key.set(!0),c=a.tokens.push(n),()=>{c&&(c(),a.key.set(!a.tokens.isEmpty()),c=void 0)}}cancel(i){const n=this._tokens.get(i);if(!n)return;const a=n.tokens.pop();a&&(a.cancel(),n.key.set(!n.tokens.isEmpty()))}},!0);class t extends N.CancellationTokenSource{constructor(n,a){super(a);this.editor=n,this._unregister=n.invokeWithinContext(c=>c.get(u).add(n,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=t,(0,w.registerEditorCommand)(new class extends w.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(i,n){i.get(u).cancel(n)}})}),define(Q[70],J([0,1,8,3,23,2,651]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(i,n){if(this.flags=n,(this.flags&1)!=0){const a=i.getModel();this.modelVersionId=a?w.format("{0}#{1}",a.uri.toString(),a.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=i.getPosition():this.position=null,(this.flags&2)!=0?this.selection=i.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=i.getScrollLeft(),this.scrollTop=i.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(i){if(!(i instanceof b))return!1;const n=i;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(i){return this._equals(new b(i,this.flags))}}e.EditorState=b;class v extends S.EditorKeybindingCancellationTokenSource{constructor(i,n,a,c){super(i,c);this._listener=new D.DisposableStore,n&4&&this._listener.add(i.onDidChangeCursorPosition(d=>{(!a||!C.Range.containsPosition(a,d.position))&&this.cancel()})),n&2&&this._listener.add(i.onDidChangeCursorSelection(d=>{(!a||!C.Range.containsRange(a,d.selection))&&this.cancel()})),n&8&&this._listener.add(i.onDidScrollChange(d=>this.cancel())),n&1&&(this._listener.add(i.onDidChangeModel(d=>this.cancel())),this._listener.add(i.onDidChangeModelContent(d=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class u extends N.CancellationTokenSource{constructor(i,n){super(n);this._listener=i.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u;class g{constructor(i,n,a){this._visiblePosition=i,this._visiblePositionScrollDelta=n,this._cursorPosition=a}static capture(i){let n=null,a=0;if(i.getScrollTop()!==0){const c=i.getVisibleRanges();if(c.length>0){n=c[0].getStartPosition();const d=i.getTopForPosition(n.lineNumber,n.column);a=i.getScrollTop()-d}}return new g(n,a,i.getPosition())}restore(i){if(this._visiblePosition){const n=i.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);i.setScrollTop(n+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(i){const n=i.getPosition();if(!this._cursorPosition||!n)return;const a=i.getTopForLineNumber(n.lineNumber)-i.getTopForLineNumber(this._cursorPosition.lineNumber);i.setScrollTop(i.getScrollTop()+a)}}e.StableEditorScrollState=g}),define(Q[652],J([0,1,194,15]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let N=class{constructor(S,b){}dispose(){}};N.ID="editor.contrib.markerDecorations",N=Be([fe(1,w.IMarkerDecorationsService)],N),e.MarkerDecorationsContribution=N,(0,C.registerEditorContribution)(N.ID,N)}),define(Q[653],J([0,1,43,64,55,15,21,24,504,16,364]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let g=class wi{constructor(d,s){this.editor=d,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(s),this.modelChangeListener=d.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(d){return d.getContribution(wi.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const d=this.editor.getPosition(),s=this.decorationId?[this.decorationId]:[],r=this.editor.deltaDecorations(s,[{range:S.Selection.fromPositions(d,d),options:{description:"selection-anchor",stickiness:1,hoverMessage:new C.MarkdownString().appendText((0,v.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=r[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,w.alert)((0,v.localize)(1,null,d.lineNumber,d.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);d&&this.editor.setPosition(d.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);if(d){const s=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(d.getStartPosition(),s)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=Be([fe(1,u.IContextKeyService)],g);class t extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,v.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|32),weight:100}})}run(d,s){var r;return De(this,void 0,void 0,function*(){(r=g.get(s))===null||r===void 0||r.setSelectionAnchor()})}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,v.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(d,s){var r;return De(this,void 0,void 0,function*(){(r=g.get(s))===null||r===void 0||r.goToSelectionAnchor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,v.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|41),weight:100}})}run(d,s){var r;return De(this,void 0,void 0,function*(){(r=g.get(s))===null||r===void 0||r.selectFromAnchorToCursor()})}}class a extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,v.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(d,s){var r;return De(this,void 0,void 0,function*(){(r=g.get(s))===null||r===void 0||r.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(g.ID,g),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(a)}),define(Q[654],J([0,1,15,24,438,506]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends w.EditorAction{constructor(g,t){super(t);this.left=g}run(g,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const a of n)i.push(new N.MoveCaretCommand(a,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class b extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:C.EditorContextKeys.writable})}}class v extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:C.EditorContextKeys.writable})}}(0,w.registerEditorAction)(b),(0,w.registerEditorAction)(v)}),define(Q[655],J([0,1,33,17,174,15,28,24,508,37,101]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",i=C.isNative||document.queryCommandSupported("cut"),n=C.isNative||document.queryCommandSupported("copy"),a=typeof navigator.clipboard=="undefined"||w.isFirefox?document.queryCommandSupported("paste"):!0;function c(r){return r.register(),r}e.CutAction=i?c(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:t,title:v.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:t,title:v.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=n?c(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:t,title:v.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:t,title:v.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:v.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:v.localize(9,null),original:"Copy As"},group:t,order:3}),e.PasteAction=a?c(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(10,null),order:4},{menuId:u.MenuId.EditorContext,group:t,title:v.localize(11,null),when:b.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(12,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:t,title:v.localize(13,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class d extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,l){!l.hasModel()||!l.getOption(32)&&l.getSelection().isEmpty()||(N.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),N.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(r,o){!r||(r.addImplementation(1e4,"code-editor",(l,h)=>{const m=l.get(S.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const y=m.getOption(32),p=m.getSelection();return p&&p.isEmpty()&&!y||document.execCommand(o),!0}return!1}),r.addImplementation(0,"generic-dom",(l,h)=>(document.execCommand(o),!0)))}s(e.CutAction,"cut"),s(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(r,o)=>{const l=r.get(S.ICodeEditorService),h=r.get(g.IClipboardService),m=l.getFocusedCodeEditor();return m&&m.hasTextFocus()?!document.execCommand("paste")&&C.isWeb?(()=>De(void 0,void 0,void 0,function*(){const p=yield h.readText();if(p!==""){const f=N.InMemoryClipboardMetadataManager.INSTANCE.get(p);let _=!1,I=null,E=null;f&&(_=m.getOption(32)&&!!f.isFromEmptySelection,I=typeof f.multicursorText!="undefined"?f.multicursorText:null,E=f.mode),m.trigger("keyboard","paste",{text:p,pasteOnNewLine:_,multicursorText:I,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(r,o)=>(document.execCommand("paste"),!0))),n&&(0,D.registerEditorAction)(d)}),define(Q[154],J([0,1,19,23,14,2,25,70,3,21,18,44,26,69,150]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class c{constructor(m,y){this.action=m,this.provider=y}resolve(m){var y;return De(this,void 0,void 0,function*(){if(((y=this.provider)===null||y===void 0?void 0:y.resolveCodeAction)&&!this.action.edit){let p;try{p=yield this.provider.resolveCodeAction(this.action,m)}catch(f){(0,N.onUnexpectedExternalError)(f)}p&&(this.action.edit=p.edit)}return this})}}e.CodeActionItem=c;class d extends D.Disposable{constructor(m,y,p){super();this.documentation=y,this._register(p),this.allActions=[...m].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:f})=>!f.disabled)}static codeActionsComparator({action:m},{action:y}){return m.isPreferred&&!y.isPreferred?-1:!m.isPreferred&&y.isPreferred?1:(0,w.isNonEmptyArray)(m.diagnostics)?(0,w.isNonEmptyArray)(y.diagnostics)?m.diagnostics[0].message.localeCompare(y.diagnostics[0].message):-1:(0,w.isNonEmptyArray)(y.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(m.kind))&&!!m.isPreferred)}}const s={actions:[],documentation:void 0};function r(h,m,y,p,f){var _;const I=y.filter||{},E={only:(_=I.include)===null||_===void 0?void 0:_.value,trigger:y.type},T=new b.TextModelCancellationTokenSource(h,f),k=o(h,I),A=new D.DisposableStore,P=k.map(R=>De(this,void 0,void 0,function*(){try{p.report(R);const M=yield R.provideCodeActions(h,m,E,T.token);if(M&&A.add(M),T.token.isCancellationRequested)return s;const O=((M==null?void 0:M.actions)||[]).filter(B=>B&&(0,a.filtersAction)(I,B)),L=l(R,O,I.include);return{actions:O.map(B=>new c(B,R)),documentation:L}}catch(M){if((0,N.isPromiseCanceledError)(M))throw M;return(0,N.onUnexpectedExternalError)(M),s}})),F=g.CodeActionProviderRegistry.onDidChange(()=>{const R=g.CodeActionProviderRegistry.all(h);(0,w.equals)(R,k)||T.cancel()});return Promise.all(P).then(R=>{const M=(0,w.flatten)(R.map(L=>L.actions)),O=(0,w.coalesce)(R.map(L=>L.documentation));return new d(M,O,A)}).finally(()=>{F.dispose(),T.dispose()})}e.getCodeActions=r;function o(h,m){return g.CodeActionProviderRegistry.all(h).filter(y=>y.providedCodeActionKinds?y.providedCodeActionKinds.some(p=>(0,a.mayIncludeActionsOfKind)(m,new a.CodeActionKind(p))):!0)}function l(h,m,y){if(!h.documentation)return;const p=h.documentation.map(f=>({kind:new a.CodeActionKind(f.kind),command:f.command}));if(y){let f;for(const _ of p)_.kind.contains(y)&&(f?f.kind.contains(_.kind)&&(f=_):f=_);if(f)return f==null?void 0:f.command}for(const f of m)if(!!f.kind){for(const _ of p)if(_.kind.contains(new a.CodeActionKind(f.kind)))return _.command}}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,m,y,p,f){return De(this,void 0,void 0,function*(){if(!(m instanceof S.URI))throw(0,N.illegalArgument)();const _=h.get(t.IModelService).getModel(m);if(!_)throw(0,N.illegalArgument)();const I=u.Selection.isISelection(y)?u.Selection.liftSelection(y):v.Range.isIRange(y)?_.validateRange(y):void 0;if(!I)throw(0,N.illegalArgument)();const E=typeof p=="string"?new a.CodeActionKind(p):void 0,T=yield r(_,I,{type:1,filter:{includeSourceActions:!0,include:E}},n.Progress.None,C.CancellationToken.None),k=[],A=Math.min(T.validActions.length,typeof f=="number"?f:0);for(let P=0;P<A;P++)k.push(T.validActions[P].resolve(C.CancellationToken.None));try{return yield Promise.all(k),T.validActions.map(P=>P.action)}finally{setTimeout(()=>T.dispose(),100)}})})}),define(Q[656],J([0,1,7,50,14,133,2,11,18,154,150,83,42]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class n extends C.Action{constructor(r,o){super(r.command?r.command.id:r.title,a(r.title),void 0,!r.disabled,o);this.action=r}}function a(s){return s.replace(/\r\n|\r|\n/g," ")}let c=class extends S.Disposable{constructor(r,o,l,h){super();this._editor=r,this._delegate=o,this._contextMenuService=l,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new d({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(r,o,l,h){return De(this,void 0,void 0,function*(){const m=h.includeDisabledActions?o.allActions:o.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,N.canceled)();this._visible=!0,this._showingActions.value=o;const y=this.getMenuActions(r,m,o.documentation),p=b.Position.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},f=this._keybindingResolver.getResolver(),_=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>y,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:I=>I instanceof n?f(I.action):void 0})})}getMenuActions(r,o,l){var h,m;const y=I=>new n(I.action,()=>this._delegate.onSelectCodeAction(I)),p=o.map(y),f=[...l],_=this._editor.getModel();if(_&&p.length)for(const I of v.CodeActionProviderRegistry.all(_))I._getAdditionalMenuItems&&f.push(...I._getAdditionalMenuItems({trigger:r.type,only:(m=(h=r.filter)===null||h===void 0?void 0:h.include)===null||m===void 0?void 0:m.value},o.map(E=>E.action)));return f.length&&p.push(new C.Separator,...f.map(I=>y(new u.CodeActionItem({title:I.title,command:I},void 0)))),p}_toCoords(r){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(r,1),this._editor.render();const o=this._editor.getScrolledVisiblePosition(r),l=(0,w.getDomNodePagePosition)(this._editor.getDomNode()),h=l.left+o.left,m=l.top+o.top+o.height;return{x:h,y:m}}};c=Be([fe(2,t.IContextMenuService),fe(3,i.IKeybindingService)],c),e.CodeActionMenu=c;class d{constructor(r){this._keybindingProvider=r}getResolver(){const r=new D.Lazy(()=>this._keybindingProvider.getKeybindings().filter(o=>d.codeActionCommands.indexOf(o.command)>=0).filter(o=>o.resolvedKeybinding).map(o=>{let l=o.commandArgs;return o.command===u.organizeImportsCommandId?l={kind:g.CodeActionKind.SourceOrganizeImports.value}:o.command===u.fixAllCommandId&&(l={kind:g.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:o.resolvedKeybinding},g.CodeActionCommandArgs.fromUser(l,{kind:g.CodeActionKind.None,apply:"never"}))}));return o=>{if(o.kind){const l=this.bestKeybindingForCodeAction(o,r.getValue());return l==null?void 0:l.resolvedKeybinding}}}bestKeybindingForCodeAction(r,o){if(!r.kind)return;const l=new g.CodeActionKind(r.kind);return o.filter(h=>h.kind.contains(l)).filter(h=>h.preferred?r.isPreferred:!0).reduceRight((h,m)=>h?h.kind.contains(m.kind)?m:h:m,void 0)}}e.CodeActionKeybindingResolver=d,d.codeActionCommands=[u.refactorCommandId,u.codeActionCommandId,u.sourceActionCommandId,u.organizeImportsCommandId,u.fixAllCommandId]});var Dt=this&&this.__classPrivateFieldGet||function(H,e,w,C){if(w==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?H!==e||!C:!e.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?C:w==="a"?C.call(H):C?C.value:e.get(H)},Zt=this&&this.__classPrivateFieldSet||function(H,e,w,C,N){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?H!==e||!N:!e.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?N.call(H,w):N?N.value=w:e.set(H,w),w};define(Q[657],J([0,1,10,14,4,2,41,3,18,16,69,154]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new u.RawContextKey("supportedCodeAction","");class n extends D.Disposable{constructor(r,o,l,h=250){super();this._editor=r,this._markerService=o,this._signalChange=l,this._delay=h,this._autoTriggerTimer=this._register(new w.TimeoutTimer),this._register(this._markerService.onMarkerChanged(m=>this._onMarkerChanges(m))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(r){const o=this._getRangeOfSelectionUnlessWhitespaceEnclosed(r);return this._createEventAndSignalChange(r,o)}_onMarkerChanges(r){const o=this._editor.getModel();!o||r.some(l=>(0,S.isEqual)(l,o.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(r){const o=this._editor.getModel();if(!!o)for(const l of this._markerService.read({resource:o.uri})){const h=o.validateRange(l);if(b.Range.intersectRanges(h,r))return b.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(r){if(!this._editor.hasModel())return;const o=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&r.type===2){const{lineNumber:h,column:m}=l.getPosition(),y=o.getLineContent(h);if(y.length===0)return;if(m===1){if(/\s/.test(y[0]))return}else if(m===o.getLineMaxColumn(h)){if(/\s/.test(y[y.length-1]))return}else if(/\s/.test(y[m-2])&&/\s/.test(y[m-1]))return}return l}_createEventAndSignalChange(r,o){const l=this._editor.getModel();if(!o||!l){this._signalChange(void 0);return}const h=this._getRangeOfMarker(o),m=h?h.getStartPosition():o.getStartPosition(),y={trigger:r,selection:o,position:m};return this._signalChange(y),y}}var a;(function(s){s.Empty={type:0};class r{constructor(l,h,m,y){this.trigger=l,this.rangeOrSelection=h,this.position=m,this._cancellablePromise=y,this.type=1,this.actions=y.catch(p=>{if((0,C.isPromiseCanceledError)(p))return c;throw p})}cancel(){this._cancellablePromise.cancel()}}s.Triggered=r})(a=e.CodeActionsState||(e.CodeActionsState={}));const c={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class d extends D.Disposable{constructor(r,o,l,h){super();this._editor=r,this._markerService=o,this._progressService=h,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=a.Empty,this._onDidChangeState=this._register(new N.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(l),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(v.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){Dt(this,i,"f")||(Zt(this,i,!0,"f"),super.dispose(),this.setState(a.Empty,!0))}_update(){if(Dt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(a.Empty);const r=this._editor.getModel();if(r&&v.CodeActionProviderRegistry.has(r)&&!this._editor.getOption(80)){const o=[];for(const l of v.CodeActionProviderRegistry.all(r))Array.isArray(l.providedCodeActionKinds)&&o.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(o.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,l=>{var h;if(!l){this.setState(a.Empty);return}const m=(0,w.createCancelablePromise)(y=>(0,t.getCodeActions)(r,l.selection,l.trigger,g.Progress.None,y));l.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(m,250)),this.setState(new a.Triggered(l.trigger,l.selection,l.position,m))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(r){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(r)}setState(r,o){r!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=r,!o&&!Dt(this,i,"f")&&this._onDidChangeState.fire(r))}}e.CodeActionModel=d,i=new WeakMap}),define(Q[658],J([0,1,55,15,3,24,35,244,597,513,37]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class t extends C.EditorAction{constructor(s,r){super(r);this._type=s}run(s,r){const o=s.get(S.ILanguageConfigurationService);if(!r.hasModel())return;const l=r.getModel(),h=[],m=l.getOptions(),y=r.getOption(19),p=r.getSelections().map((_,I)=>({selection:_,index:I,ignoreFirstLine:!1}));p.sort((_,I)=>N.Range.compareRangesUsingStarts(_.selection,I.selection));let f=p[0];for(let _=1;_<p.length;_++){const I=p[_];f.selection.endLineNumber===I.selection.startLineNumber&&(f.index<I.index?I.ignoreFirstLine=!0:(f.ignoreFirstLine=!0,f=I))}for(const _ of p)h.push(new v.LineCommentCommand(o,_.selection,m.tabSize,this._type,y.insertSpace,y.ignoreEmptyLines,_.ignoreFirstLine));r.pushUndoStop(),r.executeCommands(this.id,h),r.pushUndoStop()}}class i extends t{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class n extends t{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|33),weight:100}})}}class a extends t{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends C.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(s,r){const o=s.get(S.ILanguageConfigurationService);if(!r.hasModel())return;const l=r.getOption(19),h=[],m=r.getSelections();for(const y of m)h.push(new b.BlockCommentCommand(y,l.insertSpace,o));r.pushUndoStop(),r.executeCommands(this.id,h),r.pushUndoStop()}}(0,C.registerEditorAction)(i),(0,C.registerEditorAction)(n),(0,C.registerEditorAction)(a),(0,C.registerEditorAction)(c)}),define(Q[659],J([0,1,7,123,50,2,17,15,24,514,37,16,83,42]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let a=class yi{constructor(s,r,o,l,h,m){this._contextMenuService=r,this._contextViewService=o,this._contextKeyService=l,this._keybindingService=h,this._menuService=m,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(y=>this._onContextMenu(y))),this._toDispose.add(this._editor.onMouseWheel(y=>{if(this._contextMenuIsBeingShownCount>0){const p=this._contextViewService.getContextViewElement(),f=y.srcElement;f.shadowRoot&&w.getShadowRoot(p)===f.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(y=>{y.keyCode===58&&(y.preventDefault(),y.stopPropagation(),this.showContextMenu())}))}static get(s){return s.getContribution(yi.ID)}_onContextMenu(s){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type===12||(s.event.preventDefault(),s.event.stopPropagation(),s.target.type!==6&&s.target.type!==7&&s.target.type!==1))return;if(this._editor.focus(),s.target.position){let o=!1;for(const l of this._editor.getSelections())if(l.containsPosition(s.target.position)){o=!0;break}o||this._editor.setPosition(s.target.position)}let r=null;s.target.type!==1&&(r={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(r)}showContextMenu(s){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const r=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);r.length>0&&this._doShowContextMenu(r,s)}_getMenuActions(s,r){const o=[],l=this._menuService.createMenu(r,this._contextKeyService),h=l.getActions({arg:s.uri});l.dispose();for(let m of h){const[,y]=m;let p=0;for(const f of y)if(f instanceof g.SubmenuItemAction){const _=this._getMenuActions(s,f.item.submenu);_.length>0&&(o.push(new N.SubmenuAction(f.id,f.label,_)),p++)}else o.push(f),p++;p&&o.push(new N.Separator)}return o.length&&o.pop(),o}_doShowContextMenu(s,r=null){if(!this._editor.hasModel())return;const o=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=w.getDomNodePagePosition(this._editor.getDomNode()),y=m.left+h.left,p=m.top+h.top+h.height;r={x:y,y:p}}const l=this._editor.getOption(114)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>s,getActionViewItem:h=>{const m=this._keybindingFor(h);if(m)return new C.ActionViewItem(h,h,{label:!0,keybinding:m.getLabel(),isMenu:!0});const y=h;return typeof y.getActionViewItem=="function"?y.getActionViewItem():new C.ActionViewItem(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:o})}})}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};a.ID="editor.contrib.contextmenu",a=Be([fe(1,i.IContextMenuService),fe(2,i.IContextViewService),fe(3,t.IContextKeyService),fe(4,n.IKeybindingService),fe(5,g.IMenuService)],a),e.ContextMenuController=a;class c extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(s,r){var o;(o=a.get(r))===null||o===void 0||o.showContextMenu()}}(0,b.registerEditorContribution)(a.ID,a),(0,b.registerEditorAction)(c)}),define(Q[660],J([0,1,2,15,24,515]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(i){this.selections=i}equals(i){const n=this.selections.length,a=i.selections.length;if(n!==a)return!1;for(let c=0;c<n;c++)if(!this.selections[c].equalsSelection(i.selections[c]))return!1;return!0}}class b{constructor(i,n,a){this.cursorState=i,this.scrollTop=n,this.scrollLeft=a}}class v extends w.Disposable{constructor(i){super();this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const a=new S(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(a)||(this._undoStack.push(new b(a,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(i){return i.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class u extends C.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(i,n,a){var c;(c=v.get(n))===null||c===void 0||c.cursorUndo()}}e.CursorUndo=u;class g extends C.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,n,a){var c;(c=v.get(n))===null||c===void 0||c.cursorRedo()}}e.CursorRedo=g,(0,C.registerEditorContribution)(v.ID,v),(0,C.registerEditorAction)(u),(0,C.registerEditorAction)(g)}),define(Q[661],J([0,1,15,142,520]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:N.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(C.EditorZoom.getZoomLevel()+1)}}class S extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:N.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(C.EditorZoom.getZoomLevel()-1)}}class b extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:N.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(0)}}(0,w.registerEditorAction)(D),(0,w.registerEditorAction)(S),(0,w.registerEditorAction)(b)}),define(Q[279],J([0,1,43,19,23,14,54,78,20,25,70,145,11,3,21,18,82,62,246,521,26,583,9]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function y(F){if(F=F.filter(L=>L.range),!F.length)return;let{range:R}=F[0];for(let L=1;L<F.length;L++)R=n.Range.plusRange(R,F[L].range);const{startLineNumber:M,endLineNumber:O}=R;M===O?F.length===1?(0,w.alert)(o.localize(0,null,M)):(0,w.alert)(o.localize(1,null,F.length,M)):F.length===1?(0,w.alert)(o.localize(2,null,M,O)):(0,w.alert)(o.localize(3,null,F.length,M,O))}e.alertFormattingEdits=y;function p(F){const R=[],M=new Set,O=c.DocumentFormattingEditProviderRegistry.ordered(F);for(const B of O)R.push(B),B.extensionId&&M.add(h.ExtensionIdentifier.toKey(B.extensionId));const L=c.DocumentRangeFormattingEditProviderRegistry.ordered(F);for(const B of L){if(B.extensionId){if(M.has(h.ExtensionIdentifier.toKey(B.extensionId)))continue;M.add(h.ExtensionIdentifier.toKey(B.extensionId))}R.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(x,U,K){return B.provideDocumentRangeFormattingEdits(x,x.getFullModelRange(),U,K)}})}return R}e.getRealAndSyntheticDocumentFormattersOrdered=p;class f{static setFormatterSelector(R){return{dispose:f._selectors.unshift(R)}}static select(R,M,O){return De(this,void 0,void 0,function*(){if(R.length===0)return;const L=S.Iterable.first(f._selectors);if(L)return yield L(R,M,O)})}}e.FormattingConflicts=f,f._selectors=new b.LinkedList;function _(F,R,M,O,L,B){return De(this,void 0,void 0,function*(){const x=F.get(m.IInstantiationService),U=(0,t.isCodeEditor)(R)?R.getModel():R,K=c.DocumentRangeFormattingEditProviderRegistry.ordered(U),Z=yield f.select(K,U,O);Z&&(L.report(Z),yield x.invokeFunction(I,Z,R,M,B))})}e.formatDocumentRangesWithSelectedProvider=_;function I(F,R,M,O,L){return De(this,void 0,void 0,function*(){const B=F.get(d.IEditorWorkerService);let x,U;(0,t.isCodeEditor)(M)?(x=M.getModel(),U=new g.EditorStateCancellationTokenSource(M,1|4,void 0,L)):(x=M,U=new g.TextModelCancellationTokenSource(M,L));let K=[],Z=0;for(let j of(0,C.asArray)(O).sort(n.Range.compareRangesUsingStarts))Z>0&&n.Range.areIntersectingOrTouching(K[Z-1],j)?K[Z-1]=n.Range.fromPositions(K[Z-1].getStartPosition(),j.getEndPosition()):Z=K.push(j);const ee=j=>De(this,void 0,void 0,function*(){return(yield R.provideDocumentRangeFormattingEdits(x,j,x.getFormattingOptions(),U.token))||[]}),X=(j,W)=>{if(!j.length||!W.length)return!1;const V=j.reduce((G,oe)=>n.Range.plusRange(G,oe.range),j[0].range);if(!W.some(G=>n.Range.intersectRanges(V,G.range)))return!1;for(let G of j)for(let oe of W)if(n.Range.intersectRanges(G.range,oe.range))return!0;return!1},ne=[],Y=[];try{for(let j of K){if(U.token.isCancellationRequested)return!0;Y.push(yield ee(j))}for(let j=0;j<K.length;++j)for(let W=j+1;W<K.length;++W){if(U.token.isCancellationRequested)return!0;if(X(Y[j],Y[W])){const V=n.Range.plusRange(K[j],K[W]),G=yield ee(V);K.splice(W,1),K.splice(j,1),K.push(V),Y.splice(W,1),Y.splice(j,1),Y.push(G),j=0,W=0}}for(let j of Y){if(U.token.isCancellationRequested)return!0;const W=yield B.computeMoreMinimalEdits(x.uri,j);W&&ne.push(...W)}}finally{U.dispose()}if(ne.length===0)return!1;if((0,t.isCodeEditor)(M))r.FormattingEdit.execute(M,ne,!0),y(ne),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:j}]=ne,W=new a.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);x.pushEditOperations([W],ne.map(V=>({text:V.text,range:n.Range.lift(V.range),forceMoveMarkers:!0})),V=>{for(const{range:G}of V)if(n.Range.areIntersectingOrTouching(G,W))return[new a.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=I;function E(F,R,M,O,L){return De(this,void 0,void 0,function*(){const B=F.get(m.IInstantiationService),x=(0,t.isCodeEditor)(R)?R.getModel():R,U=p(x),K=yield f.select(U,x,M);K&&(O.report(K),yield B.invokeFunction(T,K,R,M,L))})}e.formatDocumentWithSelectedProvider=E;function T(F,R,M,O,L){return De(this,void 0,void 0,function*(){const B=F.get(d.IEditorWorkerService);let x,U;(0,t.isCodeEditor)(M)?(x=M.getModel(),U=new g.EditorStateCancellationTokenSource(M,1|4,void 0,L)):(x=M,U=new g.TextModelCancellationTokenSource(M,L));let K;try{const Z=yield R.provideDocumentFormattingEdits(x,x.getFormattingOptions(),U.token);if(K=yield B.computeMoreMinimalEdits(x.uri,Z),U.token.isCancellationRequested)return!0}finally{U.dispose()}if(!K||K.length===0)return!1;if((0,t.isCodeEditor)(M))r.FormattingEdit.execute(M,K,O!==2),O!==2&&(y(K),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1));else{const[{range:Z}]=K,ee=new a.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn);x.pushEditOperations([ee],K.map(X=>({text:X.text,range:n.Range.lift(X.range),forceMoveMarkers:!0})),X=>{for(const{range:ne}of X)if(n.Range.areIntersectingOrTouching(ne,ee))return[new a.Selection(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function k(F,R,M,O,L){return De(this,void 0,void 0,function*(){const B=c.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const x of B){let U=yield Promise.resolve(x.provideDocumentRangeFormattingEdits(R,M,O,L)).catch(D.onUnexpectedExternalError);if((0,C.isNonEmptyArray)(U))return yield F.computeMoreMinimalEdits(R.uri,U)}})}e.getDocumentRangeFormattingEditsUntilResult=k;function A(F,R,M,O){return De(this,void 0,void 0,function*(){const L=p(R);for(const B of L){let x=yield Promise.resolve(B.provideDocumentFormattingEdits(R,M,O)).catch(D.onUnexpectedExternalError);if((0,C.isNonEmptyArray)(x))return yield F.computeMoreMinimalEdits(R.uri,x)}})}e.getDocumentFormattingEditsUntilResult=A;function P(F,R,M,O,L){const B=c.OnTypeFormattingEditProviderRegistry.ordered(R);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(O)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(R,M,O,L,N.CancellationToken.None)).catch(D.onUnexpectedExternalError).then(x=>F.computeMoreMinimalEdits(R.uri,x))}e.getOnTypeFormattingEdits=P,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(F,...R){return De(this,void 0,void 0,function*(){const[M,O,L]=R;(0,v.assertType)(u.URI.isUri(M)),(0,v.assertType)(n.Range.isIRange(O));const B=F.get(s.ITextModelService),x=F.get(d.IEditorWorkerService),U=yield B.createModelReference(M);try{return k(x,U.object.textEditorModel,n.Range.lift(O),L,N.CancellationToken.None)}finally{U.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(F,...R){return De(this,void 0,void 0,function*(){const[M,O]=R;(0,v.assertType)(u.URI.isUri(M));const L=F.get(s.ITextModelService),B=F.get(d.IEditorWorkerService),x=yield L.createModelReference(M);try{return A(B,x.object.textEditorModel,O,N.CancellationToken.None)}finally{x.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(F,...R){return De(this,void 0,void 0,function*(){const[M,O,L,B]=R;(0,v.assertType)(u.URI.isUri(M)),(0,v.assertType)(i.Position.isIPosition(O)),(0,v.assertType)(typeof L=="string");const x=F.get(s.ITextModelService),U=F.get(d.IEditorWorkerService),K=yield x.createModelReference(M);try{return P(U,K.object.textEditorModel,i.Position.lift(O),L,B)}finally{K.dispose()}})})}),define(Q[662],J([0,1,19,23,14,55,2,15,28,97,3,24,18,82,279,246,522,26,16,9,69]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(_,I){this._workerService=I,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._editor=_,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(i.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const _=this._editor.getModel(),[I]=i.OnTypeFormattingEditProviderRegistry.ordered(_);if(!I||!I.autoFormatTriggerCharacters)return;let E=new u.CharacterSet;for(let T of I.autoFormatTriggerCharacters)E.add(T.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(T=>{let k=T.charCodeAt(T.length-1);E.has(k)&&this._trigger(String.fromCharCode(k))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const I=this._editor.getModel(),E=this._editor.getPosition();let T=!1;const k=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T=!0,k.dispose();return}for(let P=0,F=A.changes.length;P<F;P++)if(A.changes[P].range.endLineNumber<=E.lineNumber){T=!0,k.dispose();return}});(0,a.getOnTypeFormattingEdits)(this._workerService,I,E,_,I.getFormattingOptions()).then(A=>{k.dispose(),!T&&(0,w.isNonEmptyArray)(A)&&(c.FormattingEdit.execute(this._editor,A,!0),(0,a.alertFormattingEdits)(A))},A=>{throw k.dispose(),A})}};h.ID="editor.contrib.autoFormat",h=Be([fe(1,n.IEditorWorkerService)],h);let m=class{constructor(_,I){this.editor=_,this._instantiationService=I,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(i.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(47)&&(!this.editor.hasModel()||!i.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(a.formatDocumentRangesWithSelectedProvider,this.editor,_,2,l.Progress.None,C.CancellationToken.None).catch(N.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=Be([fe(1,o.IInstantiationService)],m);class y extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.notInCompositeEditor,t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,I){return De(this,void 0,void 0,function*(){if(I.hasModel()){const E=_.get(o.IInstantiationService);yield _.get(l.IEditorProgressService).showWhile(E.invokeFunction(a.formatDocumentWithSelectedProvider,I,1,l.Progress.None,C.CancellationToken.None),250)}})}}class p extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:t.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,I){return De(this,void 0,void 0,function*(){if(!I.hasModel())return;const E=_.get(o.IInstantiationService),T=I.getModel(),k=I.getSelections().map(P=>P.isEmpty()?new g.Range(P.startLineNumber,1,P.startLineNumber,T.getLineMaxColumn(P.startLineNumber)):P);yield _.get(l.IEditorProgressService).showWhile(E.invokeFunction(a.formatDocumentRangesWithSelectedProvider,I,k,1,l.Progress.None,C.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(h.ID,h),(0,b.registerEditorContribution)(m.ID,m),(0,b.registerEditorAction)(y),(0,b.registerEditorAction)(p),s.CommandsRegistry.registerCommand("editor.action.format",f=>De(void 0,void 0,void 0,function*(){const _=f.get(v.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const I=f.get(s.ICommandService);_.getSelection().isEmpty()?yield I.executeCommand("editor.action.formatDocument"):yield I.executeCommand("editor.action.formatSelection")}))}),define(Q[280],J([0,1,23,14,15,18,124]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(a,c,d,s){const o=d.ordered(a).map(l=>Promise.resolve(s(l,a,c)).then(void 0,h=>{(0,C.onUnexpectedExternalError)(h)}));return Promise.all(o).then(l=>{const h=[];for(let m of l)Array.isArray(m)?h.push(...m):m&&h.push(m);return h})}function v(a,c,d){return b(a,c,D.DefinitionProviderRegistry,(s,r,o)=>s.provideDefinition(r,o,d))}e.getDefinitionsAtPosition=v;function u(a,c,d){return b(a,c,D.DeclarationProviderRegistry,(s,r,o)=>s.provideDeclaration(r,o,d))}e.getDeclarationsAtPosition=u;function g(a,c,d){return b(a,c,D.ImplementationProviderRegistry,(s,r,o)=>s.provideImplementation(r,o,d))}e.getImplementationsAtPosition=g;function t(a,c,d){return b(a,c,D.TypeDefinitionProviderRegistry,(s,r,o)=>s.provideTypeDefinition(r,o,d))}e.getTypeDefinitionsAtPosition=t;function i(a,c,d,s){return b(a,c,D.ReferenceProviderRegistry,(r,o,l)=>De(this,void 0,void 0,function*(){const h=yield r.provideReferences(o,l,{includeDeclaration:!0},s);if(!d||!h||h.length!==2)return h;const m=yield r.provideReferences(o,l,{includeDeclaration:!1},s);return m&&m.length===1?m:h}))}e.getReferencesAtPosition=i;function n(a){return De(this,void 0,void 0,function*(){const c=yield a(),d=new S.ReferencesModel(c,""),s=d.references.map(r=>r.link);return d.dispose(),s})}(0,N.registerModelAndPositionCommand)("_executeDefinitionProvider",(a,c)=>n(()=>v(a,c,w.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeDeclarationProvider",(a,c)=>n(()=>u(a,c,w.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeImplementationProvider",(a,c)=>n(()=>g(a,c,w.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(a,c)=>n(()=>t(a,c,w.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeReferenceProvider",(a,c)=>n(()=>i(a,c,!1,w.CancellationToken.None)))}),define(Q[663],J([0,1,4,2,41,15,28,3,531,16,61,9,42,84,40]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,v.localize)(0,null)),e.ISymbolNavigationService=(0,t.createDecorator)("ISymbolNavigationService");let c=class{constructor(r,o,l,h){this._editorService=o,this._notificationService=l,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(r)}reset(){var r,o;this._ctxHasSymbols.reset(),(r=this._currentState)===null||r===void 0||r.dispose(),(o=this._currentMessage)===null||o===void 0||o.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(r){const o=r.parent.parent;if(o.references.length<=1){this.reset();return}this._currentModel=o,this._currentIdx=o.references.indexOf(r),this._ctxHasSymbols.set(!0),this._showMessage();const l=new d(this._editorService),h=l.onDidChange(m=>{if(this._ignoreEditorChange)return;const y=this._editorService.getActiveCodeEditor();if(!y)return;const p=y.getModel(),f=y.getPosition();if(!p||!f)return;let _=!1,I=!1;for(const E of o.references)if((0,N.isEqual)(E.uri,p.uri))_=!0,I=I||b.Range.containsPosition(E.range,f);else if(_)break;(!_||!I)&&this.reset()});this._currentState=(0,C.combinedDisposable)(l,h)}revealNext(r){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const o=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:o.uri,options:{selection:b.Range.collapseToStart(o.range),selectionRevealType:3}},r).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var r;(r=this._currentMessage)===null||r===void 0||r.dispose();const o=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=o?(0,v.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,o.getLabel()):(0,v.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};c=Be([fe(0,u.IContextKeyService),fe(1,S.ICodeEditorService),fe(2,a.INotificationService),fe(3,i.IKeybindingService)],c),(0,g.registerSingleton)(e.ISymbolNavigationService,c,!0),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(s,r){return s.get(e.ISymbolNavigationService).revealNext(r)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(s){s.get(e.ISymbolNavigationService).reset()}});let d=class{constructor(r){this._listener=new Map,this._disposables=new C.DisposableStore,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(r.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(r.onCodeEditorAdd(this._onDidAddEditor,this)),r.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,C.dispose)(this._listener.values())}_onDidAddEditor(r){this._listener.set(r,(0,C.combinedDisposable)(r.onDidChangeCursorPosition(o=>this._onDidChange.fire({editor:r})),r.onDidChangeModelContent(o=>this._onDidChange.fire({editor:r}))))}_onDidRemoveEditor(r){var o;(o=this._listener.get(r))===null||o===void 0||o.dispose(),this._listener.delete(r)}};d=Be([fe(0,S.ICodeEditorService)],d)}),define(Q[281],J([0,1,10,23,14,15,18]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(n,a,c){this.provider=n,this.hover=a,this.ordinal=c}}e.HoverProviderResult=b;function v(i,n,a,c,d){return De(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(i.provideHover(a,c,d));if(s&&t(s))return new b(i,s,n)}catch(s){(0,N.onUnexpectedExternalError)(s)}})}function u(i,n,a){const d=S.HoverProviderRegistry.ordered(i).map((s,r)=>v(s,r,i,n,a));return w.AsyncIterableObject.fromPromises(d).coalesce()}e.getHover=u;function g(i,n,a){return u(i,n,a).map(c=>c.hover).toPromise()}e.getHoverPromise=g,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,n)=>g(i,n,C.CancellationToken.None));function t(i){const n=typeof i.range!="undefined",a=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return n&&a}}),define(Q[197],J([0,1,7,19,10,64,2,103,11,3,18,34,281,533,39,51]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=w.$;class s{constructor(h,m,y,p){this.owner=h,this.range=m,this.contents=y,this.ordinal=p}isValidForHoverAnchor(h){return h.type===1&&this.range.startColumn<=h.range.startColumn&&this.range.endColumn>=h.range.endColumn}}e.MarkdownHover=s;let r=class{constructor(h,m,y,p){this._editor=h,this._languageService=m,this._openerService=y,this._configurationService=p}createLoadingMessage(h){return new s(this,h.range,[new D.MarkdownString().appendText(n.localize(0,null))],2e3)}computeSync(h,m){if(!this._editor.hasModel()||h.type!==1)return[];const y=this._editor.getModel(),p=h.range.startLineNumber,f=y.getLineMaxColumn(p),_=[];let I=1e3;const E=y.getLineLength(p),T=y.getLanguageIdAtPosition(h.range.startLineNumber,h.range.startColumn),k=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:T});typeof k=="number"&&E>=k&&_.push(new s(this,h.range,[{value:n.localize(1,null)}],I++));for(const A of m){const P=A.range.startLineNumber===p?A.range.startColumn:1,F=A.range.endLineNumber===p?A.range.endColumn:f,R=A.options.hoverMessage;if(!R||(0,D.isEmptyMarkdownString)(R))continue;const M=new u.Range(h.range.startLineNumber,P,h.range.startLineNumber,F);_.push(new s(this,M,(0,C.asArray)(R),I++))}return _}computeAsync(h,m,y){if(!this._editor.hasModel()||h.type!==1)return N.AsyncIterableObject.EMPTY;const p=this._editor.getModel();if(!g.HoverProviderRegistry.has(p))return N.AsyncIterableObject.EMPTY;const f=new v.Position(h.range.startLineNumber,h.range.startColumn);return(0,i.getHover)(p,f,y).filter(_=>!(0,D.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const I=_.hover.range?u.Range.lift(_.hover.range):h.range;return new s(this,I,_.hover.contents,_.ordinal)})}renderHoverParts(h,m){return o(h,m,this._editor,this._languageService,this._openerService)}};r=Be([fe(1,t.ILanguageService),fe(2,c.IOpenerService),fe(3,a.IConfigurationService)],r),e.MarkdownHoverParticipant=r;function o(l,h,m,y,p){h.sort((_,I)=>_.ordinal-I.ordinal);const f=new S.DisposableStore;for(const _ of h)for(const I of _.contents){if((0,D.isEmptyMarkdownString)(I))continue;const E=d("div.hover-row.markdown-hover"),T=w.append(E,d("div.hover-contents")),k=f.add(new b.MarkdownRenderer({editor:m},y,p));f.add(k.onDidRenderAsync(()=>{T.className="hover-contents code-hover-contents",l.onContentsChanged()}));const A=f.add(k.render(I));T.appendChild(A.element),l.fragment.appendChild(E)}return f}e.renderMarkdownHovers=o}),define(Q[155],J([0,1,43,10,2,15,3,543,16,377]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class Yt{constructor(n,a){this._messageWidget=new N.MutableDisposable,this._messageListeners=new N.DisposableStore,this._editor=n,this._visible=Yt.MESSAGE_VISIBLE.bindTo(a),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(n){return n.getContribution(Yt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,a){(0,w.alert)(n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new t(this._editor,a,n),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new C.TimeoutTimer(()=>this.closeMessage(),3e3));let c;this._messageListeners.add(this._editor.onMouseMove(d=>{!d.target.position||(c?c.containsPosition(d.target.position)||this.closeMessage():c=new S.Range(a.lineNumber-3,1,d.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(t.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(b.localize(1,null),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,b.localize(0,null)),u=Be([fe(1,v.IContextKeyService)],u),e.MessageController=u;const g=D.EditorCommand.bindToContribution(u.get);(0,D.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class t{constructor(n,{lineNumber:a,column:c},d){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(a,a,0),this._position={lineNumber:a,column:c-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("message"),r.textContent=d,this._domNode.appendChild(r);const o=document.createElement("div");o.classList.add("anchor","below"),this._domNode.appendChild(o),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(n){let a;const c=()=>{n.dispose(),clearTimeout(a),n.getDomNode().removeEventListener("animationend",c)};return a=setTimeout(c,110),n.getDomNode().addEventListener("animationend",c),n.getDomNode().classList.add("fadeOut"),{dispose:c}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,D.registerEditorContribution)(u.ID,u)});var Zt=this&&this.__classPrivateFieldSet||function(H,e,w,C,N){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?H!==e||!N:!e.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?N.call(H,w):N?N.value=w:e.set(H,w),w},Dt=this&&this.__classPrivateFieldGet||function(H,e,w,C){if(w==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?H!==e||!C:!e.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?C:w==="a"?C.call(H):C?C.value:e.get(H)};define(Q[664],J([0,1,14,133,2,155,9,656,643]),function(H,e,w,C,N,D,S,b,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let g=class extends N.Disposable{constructor(i,n,a,c,d){super();this._editor=i,this.delegate=c,this._activeCodeActions=this._register(new N.MutableDisposable),u.set(this,!1),this._codeActionWidget=new C.Lazy(()=>this._register(d.createInstance(b.CodeActionMenu,this._editor,{onSelectCodeAction:s=>De(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new C.Lazy(()=>{const s=this._register(d.createInstance(v.LightBulbWidget,this._editor,n,a));return this._register(s.onClick(r=>this.showCodeActionList(r.trigger,r.actions,r,{includeDisabledActions:!1}))),s})}dispose(){Zt(this,u,!0,"f"),super.dispose()}update(i){var n,a,c,d,s;return De(this,void 0,void 0,function*(){if(i.type!==1){(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide();return}let r;try{r=yield i.actions}catch(o){(0,w.onUnexpectedError)(o);return}if(!Dt(this,u,"f"))if(this._lightBulbWidget.getValue().update(r,i.trigger,i.position),i.trigger.type===1){if((a=i.trigger.filter)===null||a===void 0?void 0:a.include){const l=this.tryGetValidActionToApply(i.trigger,r);if(l){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(l,!1)}finally{r.dispose()}return}if(i.trigger.context){const h=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,r);if(h&&h.action.disabled){(c=D.MessageController.get(this._editor))===null||c===void 0||c.showMessage(h.action.disabled,i.trigger.context.position),r.dispose();return}}}const o=!!((d=i.trigger.filter)===null||d===void 0?void 0:d.include);if(i.trigger.context&&(!r.allActions.length||!o&&!r.validActions.length)){(s=D.MessageController.get(this._editor))===null||s===void 0||s.showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(i.trigger,r,i.position,{includeDisabledActions:o})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(i,n){if(!!n.allActions.length&&(i.autoApply==="first"&&n.validActions.length===0||i.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(({action:a})=>a.disabled)}tryGetValidActionToApply(i,n){if(!!n.validActions.length&&(i.autoApply==="first"&&n.validActions.length>0||i.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}showCodeActionList(i,n,a,c){return De(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,n,a,c)})}};u=new WeakMap,g=Be([fe(4,S.IInstantiationService)],g),e.CodeActionUi=g}),define(Q[282],J([0,1,23,133,2,8,15,193,24,154,664,155,509,26,16,9,74,40,69,85,657,150]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function m(M){return a.ContextKeyExpr.regex(l.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,D.escapeRegExpCharacters)(M.value)+"\\b"))}const y={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:i.localize(0,null)},apply:{type:"string",description:i.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[i.localize(2,null),i.localize(3,null),i.localize(4,null)]},preferred:{type:"boolean",default:!1,description:i.localize(5,null)}}};let p=class Li extends N.Disposable{constructor(O,L,B,x,U){super();this._instantiationService=U,this._editor=O,this._model=this._register(new l.CodeActionModel(this._editor,L,B,x)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._ui=new C.Lazy(()=>this._register(new g.CodeActionUi(O,E.Id,R.Id,{applyCodeAction:(K,Z)=>De(this,void 0,void 0,function*(){try{yield this._applyCodeAction(K)}finally{Z&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(O){return O.getContribution(Li.ID)}update(O){this._ui.getValue().update(O)}showCodeActions(O,L,B){return this._ui.getValue().showCodeActionList(O,L,B,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(O,L,B){var x;if(!this._editor.hasModel())return;(x=t.MessageController.get(this._editor))===null||x===void 0||x.closeMessage();const U=this._editor.getPosition();this._trigger({type:1,filter:L,autoApply:B,context:{notAvailableMessage:O,position:U}})}_trigger(O){return this._model.trigger(O)}_applyCodeAction(O){return this._instantiationService.invokeFunction(f,O,this._editor)}};p.ID="editor.contrib.quickFixController",p=Be([fe(1,d.IMarkerService),fe(2,a.IContextKeyService),fe(3,r.IEditorProgressService),fe(4,c.IInstantiationService)],p),e.QuickFixController=p;function f(M,O,L){return De(this,void 0,void 0,function*(){const B=M.get(b.IBulkEditService),x=M.get(n.ICommandService),U=M.get(o.ITelemetryService),K=M.get(s.INotificationService);if(U.publicLog2("codeAction.applyCodeAction",{codeActionTitle:O.action.title,codeActionKind:O.action.kind,codeActionIsPreferred:!!O.action.isPreferred}),yield O.resolve(w.CancellationToken.None),O.action.edit&&(yield B.apply(b.ResourceEdit.convert(O.action.edit),{editor:L,label:O.action.title})),O.action.command)try{yield x.executeCommand(O.action.command.id,...O.action.command.arguments||[])}catch(Z){const ee=_(Z);K.error(typeof ee=="string"?ee:i.localize(6,null))}})}e.applyCodeAction=f;function _(M){return typeof M=="string"?M:M instanceof Error&&typeof M.message=="string"?M.message:void 0}function I(M,O,L,B){if(M.hasModel()){const x=p.get(M);x&&x.manualTriggerAtCurrentPosition(O,L,B)}}class E extends S.EditorAction{constructor(){super({id:E.Id,label:i.localize(7,null),alias:"Quick Fix...",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(O,L){return I(L,i.localize(8,null),void 0,void 0)}}e.QuickFixAction=E,E.Id="editor.action.quickFix";class T extends S.EditorCommand{constructor(){super({id:u.codeActionCommandId,precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:y}]}})}runEditorCommand(O,L,B){const x=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return I(L,typeof(B==null?void 0:B.kind)=="string"?x.preferred?i.localize(9,null,B.kind):i.localize(10,null,B.kind):x.preferred?i.localize(11,null):i.localize(12,null),{include:x.kind,includeSourceActions:!0,onlyIncludePreferredActions:x.preferred},x.apply)}}e.CodeActionCommand=T;class k extends S.EditorAction{constructor(){super({id:u.refactorCommandId,label:i.localize(13,null),alias:"Refactor...",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:a.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:y}]}})}run(O,L,B){const x=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Refactor,apply:"never"});return I(L,typeof(B==null?void 0:B.kind)=="string"?x.preferred?i.localize(14,null,B.kind):i.localize(15,null,B.kind):x.preferred?i.localize(16,null):i.localize(17,null),{include:h.CodeActionKind.Refactor.contains(x.kind)?x.kind:h.CodeActionKind.None,onlyIncludePreferredActions:x.preferred},x.apply)}}e.RefactorAction=k;class A extends S.EditorAction{constructor(){super({id:u.sourceActionCommandId,label:i.localize(18,null),alias:"Source Action...",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:a.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:y}]}})}run(O,L,B){const x=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Source,apply:"never"});return I(L,typeof(B==null?void 0:B.kind)=="string"?x.preferred?i.localize(19,null,B.kind):i.localize(20,null,B.kind):x.preferred?i.localize(21,null):i.localize(22,null),{include:h.CodeActionKind.Source.contains(x.kind)?x.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:x.preferred},x.apply)}}e.SourceAction=A;class P extends S.EditorAction{constructor(){super({id:u.organizeImportsCommandId,label:i.localize(23,null),alias:"Organize Imports",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(O,L){return I(L,i.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=P;class F extends S.EditorAction{constructor(){super({id:u.fixAllCommandId,label:i.localize(25,null),alias:"Fix All",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.SourceFixAll))})}run(O,L){return I(L,i.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=F;class R extends S.EditorAction{constructor(){super({id:R.Id,label:i.localize(27,null),alias:"Auto Fix...",precondition:a.ContextKeyExpr.and(v.EditorContextKeys.writable,m(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(O,L){return I(L,i.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=R,R.Id="editor.action.autoFix"}),define(Q[665],J([0,1,15,282]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(C.QuickFixController.ID,C.QuickFixController),(0,w.registerEditorAction)(C.QuickFixAction),(0,w.registerEditorAction)(C.RefactorAction),(0,w.registerEditorAction)(C.SourceAction),(0,w.registerEditorAction)(C.OrganizeImportsAction),(0,w.registerEditorAction)(C.AutoFixAction),(0,w.registerEditorAction)(C.FixAllAction),(0,w.registerEditorCommand)(new C.CodeActionCommand)}),define(Q[666],J([0,1,43,10,23,14,2,20,25,70,15,193,28,11,3,24,18,152,155,550,102,16,9,68,40,69,36,649]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(R,M){this.model=R,this.position=M,this._providerRenameIdx=0,this._providers=d.RenameProviderRegistry.ordered(R)}hasProvider(){return this._providers.length>0}resolveRenameLocation(R){return De(this,void 0,void 0,function*(){const M=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const L=this._providers[this._providerRenameIdx];if(!L.resolveRenameLocation)break;let B=yield L.resolveRenameLocation(this.model,this.position,R);if(!!B){if(B.rejectReason){M.push(B.rejectReason);continue}return B}}const O=this.model.getWordAtPosition(this.position);return O?{range:new a.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:M.length>0?M.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:M.length>0?M.join(`
`):void 0}})}provideRenameEdits(R,M){return De(this,void 0,void 0,function*(){return this._provideRenameEdits(R,this._providerRenameIdx,[],M)})}_provideRenameEdits(R,M,O,L){return De(this,void 0,void 0,function*(){const B=this._providers[M];if(!B)return{edits:[],rejectReason:O.join(`
`)};const x=yield B.provideRenameEdits(this.model,this.position,R,L);if(x){if(x.rejectReason)return this._provideRenameEdits(R,M+1,O.concat(x.rejectReason),L)}else return this._provideRenameEdits(R,M+1,O.concat(o.localize(0,null)),L);return x})}}function T(F,R,M){return De(this,void 0,void 0,function*(){const O=new E(F,R),L=yield O.resolveRenameLocation(N.CancellationToken.None);return(L==null?void 0:L.rejectReason)?{edits:[],rejectReason:L.rejectReason}:O.provideRenameEdits(M,N.CancellationToken.None)})}e.rename=T;let k=class Ei{constructor(R,M,O,L,B,x,U){this.editor=R,this._instaService=M,this._notificationService=O,this._bulkEditService=L,this._progressService=B,this._logService=x,this._configService=U,this._dispoableStore=new S.DisposableStore,this._cts=new N.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new C.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(I.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(R){return R.getContribution(Ei.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var R,M;return De(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),L=new E(this.editor.getModel(),O);if(!L.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let B;try{const ne=L.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ne,250),B=yield ne}catch(ne){(R=r.MessageController.get(this.editor))===null||R===void 0||R.showMessage(ne||o.localize(1,null),O);return}if(!B)return;if(B.rejectReason){(M=r.MessageController.get(this.editor))===null||M===void 0||M.showMessage(B.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,B.range);let x=this.editor.getSelection(),U=0,K=B.text.length;!a.Range.isEmpty(x)&&!a.Range.spansMultipleLines(x)&&a.Range.containsRange(B.range,x)&&(U=Math.max(0,x.startColumn-B.range.startColumn),K=Math.min(B.range.endColumn,x.endColumn)-B.range.startColumn);const Z=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ee=yield this._renameInputField.value.getInput(B.range,B.text,U,K,Z,this._cts.token);if(typeof ee=="boolean"){ee&&this.editor.focus();return}this.editor.focus();const X=(0,C.raceCancellation)(L.provideRenameEdits(ee.newName,this._cts.token),this._cts.token).then(ne=>De(this,void 0,void 0,function*(){if(!(!ne||!this.editor.hasModel())){if(ne.rejectReason){this._notificationService.info(ne.rejectReason);return}this.editor.setSelection(a.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(t.ResourceEdit.convert(ne),{editor:this.editor,showPreview:ee.wantsPreview,label:o.localize(2,null,B==null?void 0:B.text),quotableLabel:o.localize(3,null,B==null?void 0:B.text)}).then(Y=>{Y.ariaSummary&&(0,w.alert)(o.localize(4,null,B.text,ee.newName,Y.ariaSummary))}).catch(Y=>{this._notificationService.error(o.localize(5,null)),this._logService.error(Y)})}}),ne=>{this._notificationService.error(o.localize(6,null)),this._logService.error(ne)});return this._progressService.showWhile(X,250),X})}acceptRenameInput(R){this._renameInputField.value.acceptInput(R)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};k.ID="editor.contrib.renameController",k=Be([fe(1,m.IInstantiationService),fe(2,p.INotificationService),fe(3,t.IBulkEditService),fe(4,f.IEditorProgressService),fe(5,y.ILogService),fe(6,s.ITextResourceConfigurationService)],k);class A extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:o.localize(7,null),alias:"Rename Symbol",precondition:h.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(R,M){const O=R.get(i.ICodeEditorService),[L,B]=Array.isArray(M)&&M||[void 0,void 0];return v.URI.isUri(L)&&n.Position.isIPosition(B)?O.openCodeEditor({resource:L},O.getActiveCodeEditor()).then(x=>{!x||(x.setPosition(B),x.invokeWithinContext(U=>(this.reportTelemetry(U,x),this.run(U,x))))},D.onUnexpectedError):super.runCommand(R,M)}run(R,M){const O=k.get(M);return O?O.run():Promise.resolve()}}e.RenameAction=A,(0,g.registerEditorContribution)(k.ID,k),(0,g.registerEditorAction)(A);const P=g.EditorCommand.bindToContribution(k.get);(0,g.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:c.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:h.ContextKeyExpr.and(I.CONTEXT_RENAME_INPUT_VISIBLE,h.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:F=>F.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:c.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:c.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(F,R,...M){const[O]=M;return(0,b.assertType)(typeof O=="string"),T(F,R,O)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(F,R){return De(this,void 0,void 0,function*(){const O=yield new E(F,R).resolveRenameLocation(N.CancellationToken.None);if(O==null?void 0:O.rejectReason)throw new Error(O.rejectReason);return O})}),_.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:o.localize(8,null),default:!0,type:"boolean"}}})}),define(Q[667],J([0,1,19,23,14,15,11,3,21,24,18,250,451,552,37,26]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class d{constructor(y,p){this.index=y,this.ranges=p}mov(y){let p=this.index+(y?1:-1);if(p<0||p>=this.ranges.length)return this;const f=new d(p,this.ranges);return f.ranges[p].equalsRange(this.ranges[this.index])?f.mov(y):f}}class s{constructor(y){this._editor=y,this._ignoreSelection=!1}static get(y){return y.getContribution(s.ID)}dispose(){var y;(y=this._selectionListener)===null||y===void 0||y.dispose()}run(y){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const p=this._editor.getSelections(),f=this._editor.getModel();if(!g.SelectionRangeRegistry.has(f)||(this._state||(yield h(f,p.map(I=>I.getPosition()),this._editor.getOption(101),C.CancellationToken.None).then(I=>{var E;if(!(!w.isNonEmptyArray(I)||I.length!==p.length)&&!(!this._editor.hasModel()||!w.equals(this._editor.getSelections(),p,(T,k)=>T.equalsSelection(k)))){for(let T=0;T<I.length;T++)I[T]=I[T].filter(k=>k.containsPosition(p[T].getStartPosition())&&k.containsPosition(p[T].getEndPosition())),I[T].unshift(p[T]);this._state=I.map(T=>new d(0,T)),(E=this._selectionListener)===null||E===void 0||E.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var T;this._ignoreSelection||((T=this._selectionListener)===null||T===void 0||T.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(I=>I.mov(y));const _=this._state.map(I=>v.Selection.fromPositions(I.ranges[I.index].getStartPosition(),I.ranges[I.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(_)}finally{this._ignoreSelection=!1}})}}s.ID="editor.contrib.smartSelectController";class r extends D.EditorAction{constructor(y,p){super(p);this._forward=y}run(y,p){return De(this,void 0,void 0,function*(){let f=s.get(p);f&&(yield f.run(this._forward))})}}class o extends r{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class l extends r{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(s.ID,s),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(l),g.SelectionRangeRegistry.register("*",new i.WordSelectionRangeProvider);function h(m,y,p,f){return De(this,void 0,void 0,function*(){const _=g.SelectionRangeRegistry.all(m);_.length===1&&_.unshift(new t.BracketSelectionRangeProvider);let I=[],E=[];for(const T of _)I.push(Promise.resolve(T.provideSelectionRanges(m,y,f)).then(k=>{if(w.isNonEmptyArray(k)&&k.length===y.length)for(let A=0;A<y.length;A++){E[A]||(E[A]=[]);for(const P of k[A])b.Range.isIRange(P.range)&&b.Range.containsPosition(P.range,y[A])&&E[A].push(b.Range.lift(P.range))}},N.onUnexpectedExternalError));return yield Promise.all(I),E.map(T=>{if(T.length===0)return[];T.sort((F,R)=>S.Position.isBefore(F.getStartPosition(),R.getStartPosition())?1:S.Position.isBefore(R.getStartPosition(),F.getStartPosition())||S.Position.isBefore(F.getEndPosition(),R.getEndPosition())?-1:S.Position.isBefore(R.getEndPosition(),F.getEndPosition())?1:0);let k=[],A;for(const F of T)(!A||b.Range.containsRange(F,A)&&!b.Range.equalsRange(F,A))&&(k.push(F),A=F);if(!p.selectLeadingAndTrailingWhitespace)return k;let P=[k[0]];for(let F=1;F<k.length;F++){const R=k[F-1],M=k[F];if(M.startLineNumber!==R.startLineNumber||M.endLineNumber!==R.endLineNumber){const O=new b.Range(R.startLineNumber,m.getLineFirstNonWhitespaceColumn(R.startLineNumber),R.endLineNumber,m.getLineLastNonWhitespaceColumn(R.endLineNumber));O.containsRange(R)&&!O.equalsRange(R)&&M.containsRange(O)&&!M.equalsRange(O)&&P.push(O);const L=new b.Range(R.startLineNumber,1,R.endLineNumber,m.getLineMaxColumn(R.endLineNumber));L.containsRange(R)&&!L.equalsRange(O)&&M.containsRange(L)&&!M.equalsRange(L)&&P.push(L)}P.push(M)}return P})})}e.provideSelectionRanges=h,(0,D.registerModelCommand)("_executeSelectionRangeProvider",function(m,...y){const[p]=y;return h(m,p,{selectLeadingAndTrailingWhitespace:!0},C.CancellationToken.None)})}),define(Q[92],J([0,1,23,14,72,2,87,20,25,11,3,18,62,122,555,37,26,16]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new s.RawContextKey("suggestWidgetVisible",!1,(0,a.localize)(0,null)),DetailsVisible:new s.RawContextKey("suggestWidgetDetailsVisible",!1,(0,a.localize)(1,null)),MultipleSuggestions:new s.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,a.localize)(2,null)),MakesTextEdit:new s.RawContextKey("suggestionMakesTextEdit",!0,(0,a.localize)(3,null)),AcceptSuggestionsOnEnter:new s.RawContextKey("acceptSuggestionOnEnter",!0,(0,a.localize)(4,null)),HasInsertAndReplaceRange:new s.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,a.localize)(5,null)),InsertMode:new s.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,a.localize)(6,null)}),CanResolve:new s.RawContextKey("suggestionCanResolve",!1,(0,a.localize)(7,null))},e.suggestWidgetStatusbarMenu=new c.MenuId("suggestWidgetStatusBar");class r{constructor(P,F,R,M){this.position=P,this.completion=F,this.container=R,this.provider=M,this.isInvalid=!1,this.score=N.FuzzyScore.Default,this.distance=0,this.textLabel=typeof F.label=="string"?F.label:F.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=F.sortText&&F.sortText.toLowerCase(),this.filterTextLow=F.filterText&&F.filterText.toLowerCase(),g.Range.isIRange(F.range)?(this.editStart=new u.Position(F.range.startLineNumber,F.range.startColumn),this.editInsertEnd=new u.Position(F.range.endLineNumber,F.range.endColumn),this.editReplaceEnd=new u.Position(F.range.endLineNumber,F.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(F.range)||F.range.startLineNumber!==P.lineNumber):(this.editStart=new u.Position(F.range.insert.startLineNumber,F.range.insert.startColumn),this.editInsertEnd=new u.Position(F.range.insert.endLineNumber,F.range.insert.endColumn),this.editReplaceEnd=new u.Position(F.range.replace.endLineNumber,F.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(F.range.insert)||g.Range.spansMultipleLines(F.range.replace)||F.range.insert.startLineNumber!==P.lineNumber||F.range.replace.startLineNumber!==P.lineNumber||F.range.insert.startColumn!==F.range.replace.startColumn),typeof M.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return De(this,void 0,void 0,function*(){if(!this._resolveCache){const F=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(R=>{Object.assign(this.completion,R),this._isResolved=!0,F.dispose()},R=>{(0,C.isPromiseCanceledError)(R)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=r;class o{constructor(P=2,F=new Set,R=new Set,M=!0){this.snippetSortOrder=P,this.kindFilter=F,this.providerFilter=R,this.showDeprecated=M}}e.CompletionOptions=o,o.default=new o;let l;function h(){return l}e.getSnippetSuggestSupport=h;class m{constructor(P,F,R,M){this.items=P,this.needsClipboard=F,this.durations=R,this.disposable=M}}e.CompletionItemModel=m;function y(A,P,F=o.default,R={triggerKind:0},M=w.CancellationToken.None){return De(this,void 0,void 0,function*(){const O=new S.StopWatch(!0);P=P.clone();const L=A.getWordAtPosition(P),B=L?new g.Range(P.lineNumber,L.startColumn,P.lineNumber,L.endColumn):g.Range.fromPositions(P),x={replace:B,insert:B.setEndPosition(P.lineNumber,P.column)},U=[],K=new D.DisposableStore,Z=[];let ee=!1;const X=(Y,j,W)=>{var V,G,oe;let ce=!1;if(!j)return ce;for(let ie of j.suggestions)if(!F.kindFilter.has(ie.kind)){if(!F.showDeprecated&&((V=ie==null?void 0:ie.tags)===null||V===void 0?void 0:V.includes(1)))continue;ie.range||(ie.range=x),ie.sortText||(ie.sortText=typeof ie.label=="string"?ie.label:ie.label.label),!ee&&ie.insertTextRules&&ie.insertTextRules&4&&(ee=n.SnippetParser.guessNeedsClipboard(ie.insertText)),U.push(new r(P,ie,j,Y)),ce=!0}return(0,D.isDisposable)(j)&&K.add(j),Z.push({providerName:(G=Y._debugDisplayName)!==null&&G!==void 0?G:"unkown_provider",elapsedProvider:(oe=j.duration)!==null&&oe!==void 0?oe:-1,elapsedOverall:W.elapsed()}),ce},ne=(()=>De(this,void 0,void 0,function*(){if(!l||F.kindFilter.has(27)||F.providerFilter.size>0&&!F.providerFilter.has(l))return;const Y=new S.StopWatch(!0),j=yield l.provideCompletionItems(A,P,R,M);X(l,j,Y)}))();for(let Y of t.CompletionProviderRegistry.orderedGroups(A)){let j=!1;if(yield Promise.all(Y.map(W=>De(this,void 0,void 0,function*(){if(!(F.providerFilter.size>0&&!F.providerFilter.has(W)))try{const V=new S.StopWatch(!0),G=yield W.provideCompletionItems(A,P,R,M);j=X(W,G,V)||j}catch(V){(0,C.onUnexpectedExternalError)(V)}}))),j||M.isCancellationRequested)break}return yield ne,M.isCancellationRequested?(K.dispose(),Promise.reject((0,C.canceled)())):new m(U.sort(E(F.snippetSortOrder)),ee,{entries:Z,elapsed:O.elapsed()},K)})}e.provideSuggestionItems=y;function p(A,P){if(A.sortTextLow&&P.sortTextLow){if(A.sortTextLow<P.sortTextLow)return-1;if(A.sortTextLow>P.sortTextLow)return 1}return A.completion.label<P.completion.label?-1:A.completion.label>P.completion.label?1:A.completion.kind-P.completion.kind}function f(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return p(A,P)}function _(A,P){if(A.completion.kind!==P.completion.kind){if(A.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return p(A,P)}const I=new Map;I.set(0,f),I.set(2,_),I.set(1,p);function E(A){return I.get(A)}e.getSuggestionComparator=E,d.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(A,...P)=>De(void 0,void 0,void 0,function*(){const[F,R,M,O]=P;(0,b.assertType)(v.URI.isUri(F)),(0,b.assertType)(u.Position.isIPosition(R)),(0,b.assertType)(typeof M=="string"||!M),(0,b.assertType)(typeof O=="number"||!O);const L=yield A.get(i.ITextModelService).createModelReference(F);try{const B={incomplete:!1,suggestions:[]},x=[],U=yield y(L.object.textEditorModel,u.Position.lift(R),void 0,{triggerCharacter:M,triggerKind:M?1:0});for(const K of U.items)x.length<(O??0)&&x.push(K.resolve(w.CancellationToken.None)),B.incomplete=B.incomplete||K.container.incomplete,B.suggestions.push(K.completion);try{return yield Promise.all(x),B}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{L.dispose()}}));const T=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};t.CompletionProviderRegistry.register("*",T);function k(A,P){setTimeout(()=>{var F;T.onlyOnceSuggestions.push(...P),(F=A.getContribution("editor.contrib.suggestController"))===null||F===void 0||F.triggerSuggest(new Set().add(T))},0)}e.showSimpleSuggestions=k}),define(Q[283],J([0,1,43,227,15,562]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends N.EditorAction{constructor(){super({id:S.ID,label:D.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,u){const t=!C.TabFocus.getTabFocusMode();C.TabFocus.setTabFocusMode(t),t?(0,w.alert)(D.localize(1,null)):(0,w.alert)(D.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(S)}),define(Q[668],J([0,1,87,15,563]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends C.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:N.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,v){if(!v.hasModel())return;const u=v.getModel();u.resetTokenization();const g=new w.StopWatch(!0);u.forceTokenization(u.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,C.registerEditorAction)(D)}),define(Q[669],J([0,1,2,41,15,28,565,125]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const v="ignoreUnusualLineTerminators";function u(i,n,a){i.setModelProperty(n.uri,v,a)}function g(i,n){return i.getModelProperty(n.uri,v)}let t=class extends w.Disposable{constructor(n,a,c){super();this._editor=n,this._dialogService=a,this._codeEditorService=c,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return De(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||g(this._codeEditorService,n)===!0||this._editor.getOption(80))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,C.basename)(n.uri)),primaryButton:S.localize(3,null),secondaryButton:S.localize(4,null)})).confirmed){u(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};t.ID="editor.contrib.unusualLineTerminatorsDetector",t=Be([fe(1,b.IDialogService),fe(2,D.ICodeEditorService)],t),e.UnusualLineTerminatorsDetector=t,(0,N.registerEditorContribution)(t.ID,t)}),define(Q[670],J([0,1,7,31,168,43,58,2,17,8,25,15,24,283,16,9,42,51,22,13,67,386]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new a.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class Ii extends b.Disposable{constructor(E,T){super();this._editor=E,this._widget=this._register(T.createInstance(p,this._editor))}static get(E){return E.getContribution(Ii.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=Be([fe(1,c.IInstantiationService)],m);function y(I,E){return!I||I.length===0?l.AccessibilityHelpNLS.noSelection:I.length===1?E?u.format(l.AccessibilityHelpNLS.singleSelectionRange,I[0].positionLineNumber,I[0].positionColumn,E):u.format(l.AccessibilityHelpNLS.singleSelection,I[0].positionLineNumber,I[0].positionColumn):E?u.format(l.AccessibilityHelpNLS.multiSelectionRange,I.length,E):I.length>0?u.format(l.AccessibilityHelpNLS.multiSelection,I.length):""}let p=class Wt extends S.Widget{constructor(E,T,k,A){super();this._contextKeyService=T,this._keybindingService=k,this._openerService=A,this._editor=E,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,C.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,C.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(w.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",P=>{if(!!this._isVisible&&(P.equals(2048|35)&&((0,D.alert)(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),w.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2048|38))){(0,D.alert)(l.AccessibilityHelpNLS.openingDocs);let F=this._editor.getRawOptions().accessibilityHelpUrl;typeof F=="undefined"&&(F="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(F)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Wt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,T,k){const A=this._keybindingService.lookupKeybinding(E);return A?u.format(T,A.getAriaLabel()):u.format(k,E)}_buildContent(){const E=this._editor.getOptions(),T=this._editor.getSelections();let k=0;if(T){const R=this._editor.getModel();R&&T.forEach(M=>{k+=R.getValueLengthInRange(M)})}let A=y(T,k);E.get(53)?E.get(80)?A+=l.AccessibilityHelpNLS.readonlyDiffEditor:A+=l.AccessibilityHelpNLS.editableDiffEditor:E.get(80)?A+=l.AccessibilityHelpNLS.readonlyEditor:A+=l.AccessibilityHelpNLS.editableEditor;const P=v.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:A+=`

 - `+P;break;case 2:A+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:A+=`

 - `+l.AccessibilityHelpNLS.auto_off,A+=" "+P;break}E.get(129)?A+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):A+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const F=v.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;A+=`

 - `+F,A+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,N.renderFormattedText)(A)),this._contentDomNode.domNode.setAttribute("aria-label",A)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,w.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),T=Math.max(5,Math.min(Wt.WIDTH,E.width-40)),k=Math.max(5,Math.min(Wt.HEIGHT,E.height-40));this._domNode.setWidth(T),this._domNode.setHeight(k);const A=Math.round((E.height-k)/2);this._domNode.setTop(A);const P=Math.round((E.width-T)/2);this._domNode.setLeft(P)}};p.ID="editor.contrib.accessibilityHelpWidget",p.WIDTH=500,p.HEIGHT=300,p=Be([fe(1,a.IContextKeyService),fe(2,d.IKeybindingService),fe(3,s.IOpenerService)],p);class f extends t.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,T){const k=m.get(T);k&&k.show()}}(0,t.registerEditorContribution)(m.ID,m),(0,t.registerEditorAction)(f);const _=t.EditorCommand.bindToContribution(m.get);(0,t.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:h,handler:I=>I.hide(),kbOpts:{weight:100+100,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,o.registerThemingParticipant)((I,E)=>{const T=I.getColor(r.editorWidgetBackground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${T}; }`);const k=I.getColor(r.editorWidgetForeground);k&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${k}; }`);const A=I.getColor(r.widgetShadow);A&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${A}; }`);const P=I.getColor(r.contrastBorder);P&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${P}; }`)})}),define(Q[671],J([0,1,7,2,15,17,387]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends C.Disposable{constructor(u){super();this.editor=u,this.widget=null,D.isIOS&&(this._register(u.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const u=!this.editor.getOption(80);!this.widget&&u?this.widget=new b(this.editor):this.widget&&!u&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class b extends C.Disposable{constructor(u){super();this.editor=u,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(w.addDisposableListener(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(w.addDisposableListener(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,N.registerEditorContribution)(S.ID,S)}),define(Q[672],J([0,1,7,30,2,15,18,115,34,100,22,13,67,130,388]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class Di extends N.Disposable{constructor(l,h,m){super();this._editor=l,this._languageService=m,this._widget=null,this._register(this._editor.onDidChangeModel(y=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(y=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(y=>this.stop())),this._register(this._editor.onKeyUp(y=>y.keyCode===9&&this.stop()))}static get(l){return l.getContribution(Di.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new r(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};a.ID="editor.contrib.inspectTokens",a=Be([fe(1,u.IStandaloneThemeService),fe(2,v.ILanguageService)],a);class c extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:i.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,h){const m=a.get(h);m&&m.launch()}}function d(o){let l="";for(let h=0,m=o.length;h<m;h++){const y=o.charCodeAt(h);switch(y){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(y)}}return l}function s(o,l){const h=S.TokenizationRegistry.get(l);if(h)return h;const m=o.encodeLanguageId(l);return{getInitialState:()=>b.NullState,tokenize:(y,p,f)=>(0,b.nullTokenize)(l,f),tokenizeEncoded:(y,p,f)=>(0,b.nullTokenizeEncoded)(m,f)}}class r extends N.Disposable{constructor(l,h){super();this.allowEditorOverflow=!0,this._editor=l,this._languageService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=s(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(m=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return r._ID}_compute(l){const h=this._getTokensAtLine(l.lineNumber);let m=0;for(let I=h.tokens1.length-1;I>=0;I--){const E=h.tokens1[I];if(l.column-1>=E.offset){m=I;break}}let y=0;for(let I=h.tokens2.length>>>1;I>=0;I--)if(l.column-1>=h.tokens2[I<<1]){y=I;break}const p=this._model.getLineContent(l.lineNumber);let f="";if(m<h.tokens1.length){const I=h.tokens1[m].offset,E=m+1<h.tokens1.length?h.tokens1[m+1].offset:p.length;f=p.substring(I,E)}(0,w.reset)(this._domNode,(0,w.$)("h2.tm-token",void 0,d(f),(0,w.$)("span.tm-token-length",void 0,`${f.length} ${f.length===1?"char":"chars"}`))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const _=(y<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(y<<1)+1]):null;(0,w.append)(this._domNode,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${_?_.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${_?this._tokenTypeToString(_.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${_?this._fontStyleToString(_.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${_?C.Color.Format.CSS.formatHex(_.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${_?C.Color.Format.CSS.formatHex(_.background):"-?-"}`))))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator")),m<h.tokens1.length&&(0,w.append)(this._domNode,(0,w.$)("span.tm-token-type",void 0,h.tokens1[m].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){const h=S.TokenizationRegistry.getColorMap(),m=S.TokenMetadata.getLanguageId(l),y=S.TokenMetadata.getTokenType(l),p=S.TokenMetadata.getFontStyle(l),f=S.TokenMetadata.getForeground(l),_=S.TokenMetadata.getBackground(l);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(m),tokenType:y,fontStyle:p,foreground:h[f],background:h[_]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(l){let h="";return l&1&&(h+="italic "),l&2&&(h+="bold "),l&4&&(h+="underline "),l&8&&(h+="strikethrough "),h.length===0&&(h="---"),h}_getTokensAtLine(l){const h=this._getStateBeforeLine(l),m=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,h),y=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(l),!0,h);return{startState:h,tokens1:m.tokens,tokens2:y.tokens,endState:m.endState}}_getStateBeforeLine(l){let h=this._tokenizationSupport.getInitialState();for(let m=1;m<l;m++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(m),!0,h).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}r._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(a.ID,a),(0,D.registerEditorAction)(c),(0,t.registerThemingParticipant)((o,l)=>{const h=o.getColor(g.editorHoverBorder);if(h){const p=o.type===n.ColorScheme.HIGH_CONTRAST?2:1;l.addRule(`.monaco-editor .tokens-inspect-widget { border: ${p}px solid ${h}; }`),l.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const m=o.getColor(g.editorHoverBackground);m&&l.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${m}; }`);const y=o.getColor(g.editorHoverForeground);y&&l.addRule(`.monaco-editor .tokens-inspect-widget { color: ${y}; }`)})}),define(Q[673],J([0,1,36,104,67,28,627,20,9,42,26,85,125,15,24,75]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let d=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(o,l,h,m,y,p){super({showAlias:!1},o,h,m,y,p);this.codeEditorService=l}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return De(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};d=Be([fe(0,v.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,u.IKeybindingService),fe(3,g.ICommandService),fe(4,t.ITelemetryService),fe(5,i.IDialogService)],d),e.StandaloneCommandsQuickAccessProvider=d,w.Registry.as(C.Extensions.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:N.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class s extends n.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:N.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:a.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(o){o.get(c.IQuickInputService).quickAccess.show(d.PREFIX)}}e.GotoLineAction=s,(0,n.registerEditorAction)(s)}),define(Q[674],J([0,1,647,36,104,28,20,67,4,15,24,75]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends w.AbstractGotoLineQuickAccessProvider{constructor(c){super();this.editorService=c,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=Be([fe(0,D.ICodeEditorService)],i),e.StandaloneGotoLineQuickAccessProvider=i,C.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class n extends u.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(c){c.get(t.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=n,(0,u.registerEditorAction)(n)}),define(Q[675],J([0,1,648,36,104,28,20,67,4,15,24,75,139,277]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends w.AbstractGotoSymbolQuickAccessProvider{constructor(c){super();this.editorService=c,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=Be([fe(0,D.ICodeEditorService)],i),e.StandaloneGotoSymbolQuickAccessProvider=i,C.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class n extends u.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(t.IQuickInputService).quickAccess.show(w.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=n,(0,u.registerEditorAction)(n)}),define(Q[676],J([0,1,15,100,67]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends w.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:N.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(b,v){const u=b.get(C.IStandaloneThemeService);this._originalThemeName?(u.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=u.getColorTheme().themeName,u.setTheme("hc-black"))}}(0,w.registerEditorAction)(D)}),define(Q[198],J([0,1,7,46,123,471,50,191,2,17,568,37,16,83,9,42,40,77,13,391]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function o(_,I,E,T,k,A,P){const F=_.getActions(I);return h(F,E,!1,typeof T=="string"?M=>M===T:T,k,A,P),l(F)}e.createAndFillInActionBarActions=o;function l(_){const I=new v.DisposableStore;for(const[,E]of _)for(const T of E)I.add(T);return I}function h(_,I,E,T=F=>F==="navigation",k=Number.MAX_SAFE_INTEGER,A=()=>!1,P=!1){let F,R;Array.isArray(I)?(F=I,R=I):(F=I.primary,R=I.secondary);const M=new Set;for(const[O,L]of _){let B;T(O)?(B=F,B.length>0&&P&&B.push(new S.Separator)):(B=R,B.length>0&&B.push(new S.Separator));for(let x of L){E&&(x=x instanceof t.MenuItemAction&&x.alt?x.alt:x);const U=B.push(x);x instanceof S.SubmenuAction&&M.add({group:O,action:x,index:U-1})}}for(const{group:O,action:L,index:B}of M){const x=T(O)?F:R,U=L.actions;(U.length<=1||x.length+U.length-2<=k)&&A(L,O,x.length)&&x.splice(B,1,...U)}if(F!==R&&F.length>k){const O=F.splice(k,F.length-k);R.unshift(...O,new S.Separator)}}let m=class extends N.ActionViewItem{constructor(I,E,T,k,A){super(void 0,I,{icon:!!(I.class||I.item.icon),label:!I.class&&!I.item.icon,draggable:E==null?void 0:E.draggable});this._keybindingService=T,this._notificationService=k,this._contextKeyService=A,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new v.MutableDisposable),this._altKey=w.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(I){return De(this,void 0,void 0,function*(){I.preventDefault(),I.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(E){this._notificationService.error(E)}})}render(I){super.render(I),I.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let E=!1,T=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const k=()=>{const A=E&&T;A!==this._wantsAltCommand&&(this._wantsAltCommand=A,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(A=>{T=A.altKey||(u.isWindows||u.isLinux)&&A.shiftKey,k()})),this._register((0,w.addDisposableListener)(I,"mouseleave",A=>{E=!1,k()})),this._register((0,w.addDisposableListener)(I,"mouseenter",A=>{E=!0,k()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const I=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),E=I&&I.getLabel(),T=this._commandAction.tooltip||this._commandAction.label;let k=E?(0,g.localize)(0,null,T,E):T;if(!this._wantsAltCommand&&this._menuItemAction.alt){const A=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,P=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),F=P&&P.getLabel(),R=F?(0,g.localize)(1,null,A,F):A;k+=`
[${b.UILabelProvider.modifierLabels[u.OS].altKey}] ${R}`}this.label.title=k}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(I){var E;this._itemClassDispose.value=void 0;const{element:T,label:k}=this;if(!T||!k)return;const A=this._commandAction.checked&&((E=I.toggled)===null||E===void 0?void 0:E.icon)?I.toggled.icon:I.icon;if(!!A)if(r.ThemeIcon.isThemeIcon(A)){const P=r.ThemeIcon.asClassNameArray(A);k.classList.add(...P),this._itemClassDispose.value=(0,v.toDisposable)(()=>{k.classList.remove(...P)})}else A.light&&k.style.setProperty("--menu-entry-icon-light",(0,w.asCSSUrl)(A.light)),A.dark&&k.style.setProperty("--menu-entry-icon-dark",(0,w.asCSSUrl)(A.dark)),k.classList.add("icon"),this._itemClassDispose.value=(0,v.toDisposable)(()=>{k.classList.remove("icon"),k.style.removeProperty("--menu-entry-icon-light"),k.style.removeProperty("--menu-entry-icon-dark")})}};m=Be([fe(2,c.IKeybindingService),fe(3,d.INotificationService),fe(4,i.IContextKeyService)],m),e.MenuEntryActionViewItem=m;let y=class extends D.DropdownMenuActionViewItem{constructor(I,E,T){var k,A;const P=Object.assign({},E??Object.create(null),{menuAsChild:(k=E==null?void 0:E.menuAsChild)!==null&&k!==void 0?k:!1,classNames:(A=E==null?void 0:E.classNames)!==null&&A!==void 0?A:r.ThemeIcon.isThemeIcon(I.item.icon)?r.ThemeIcon.asClassName(I.item.icon):void 0});super(I,{getActions:()=>I.actions},T,P)}render(I){if(super.render(I),this.element){I.classList.add("menu-entry");const{icon:E}=this._action.item;E&&!r.ThemeIcon.isThemeIcon(E)&&(this.element.classList.add("icon"),E.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,w.asCSSUrl)(E.light)),E.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,w.asCSSUrl)(E.dark)))}}};y=Be([fe(2,n.IContextMenuService)],y),e.SubmenuEntryActionViewItem=y;let p=class extends N.BaseActionViewItem{constructor(I,E,T,k,A,P,F,R){var M,O,L;super(null,I);this._keybindingService=T,this._notificationService=k,this._contextMenuService=A,this._menuService=P,this._instaService=F,this._storageService=R,this._container=null,this._storageKey=`${I.item.submenu._debugName}_lastActionId`;let B,x=R.get(this._storageKey,1);x&&(B=I.actions.find(K=>x===K.id)),B||(B=I.actions[0]),this._defaultAction=this._instaService.createInstance(m,B,void 0);const U=Object.assign({},E??Object.create(null),{menuAsChild:(M=E==null?void 0:E.menuAsChild)!==null&&M!==void 0?M:!0,classNames:(O=E==null?void 0:E.classNames)!==null&&O!==void 0?O:["codicon","codicon-chevron-down"],actionRunner:(L=E==null?void 0:E.actionRunner)!==null&&L!==void 0?L:new S.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(I,I.actions,this._contextMenuService,U),this._dropdown.actionRunner.onDidRun(K=>{K.action instanceof t.MenuItemAction&&this.update(K.action)})}update(I){this._storageService.store(this._storageKey,I.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(m,I,void 0),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(E,T){return De(this,void 0,void 0,function*(){yield E.run(void 0)})}},this._container&&this._defaultAction.render((0,w.prepend)(this._container,(0,w.$)(".action-container")))}setActionContext(I){super.setActionContext(I),this._defaultAction.setActionContext(I),this._dropdown.setActionContext(I)}render(I){this._container=I,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const E=(0,w.$)(".action-container");this._defaultAction.render((0,w.append)(this._container,E)),this._register((0,w.addDisposableListener)(E,w.EventType.KEY_DOWN,k=>{const A=new C.StandardKeyboardEvent(k);A.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),A.stopPropagation())}));const T=(0,w.$)(".dropdown-action-container");this._dropdown.render((0,w.append)(this._container,T)),this._register((0,w.addDisposableListener)(T,w.EventType.KEY_DOWN,k=>{var A;const P=new C.StandardKeyboardEvent(k);P.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(A=this._defaultAction.element)===null||A===void 0||A.focus(),P.stopPropagation())}))}focus(I){I?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(I){I?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};p=Be([fe(2,c.IKeybindingService),fe(3,d.INotificationService),fe(4,n.IContextMenuService),fe(5,t.IMenuService),fe(6,a.IInstantiationService),fe(7,s.IStorageService)],p);function f(_,I,E){return I instanceof t.MenuItemAction?_.createInstance(m,I,void 0):I instanceof t.SubmenuItemAction?I.item.rememberDefaultAction?_.createInstance(p,I,E):_.createInstance(y,I,E):void 0}e.createActionViewItem=f}),define(Q[677],J([0,1,7,81,2,92,560,198,37,16,9]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class t extends b.MenuEntryActionViewItem{updateLabel(){const a=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!a)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,t.symbolPrintEnter(a)))}static symbolPrintEnter(a){var c;return(c=a.getLabel())===null||c===void 0?void 0:c.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(a,c,d,s){this._menuService=d,this._contextKeyService=s,this._menuDisposables=new N.DisposableStore,this.element=w.append(a,w.$(".suggest-status-bar"));const r=o=>o instanceof v.MenuItemAction?c.createInstance(t,o,void 0):void 0;this._leftActions=new C.ActionBar(this.element,{actionViewItemProvider:r}),this._rightActions=new C.ActionBar(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const a=this._menuService.createMenu(D.suggestWidgetStatusbarMenu,this._contextKeyService),c=()=>{const d=[],s=[];for(let[r,o]of a.getActions())r==="left"?d.push(...o):s.push(...o);this._leftActions.clear(),this._leftActions.push(d),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(a.onDidChange(()=>c())),this._menuDisposables.add(a)}hide(){this._menuDisposables.clear()}};i=Be([fe(1,g.IInstantiationService),fe(2,v.IMenuService),fe(3,u.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(Q[678],J([0,1,10,4,2,37,26,16]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(t){this._commandService=t}createMenu(t,i,n){return new u(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,i,this)}};v=Be([fe(0,S.ICommandService)],v),e.MenuService=v;let u=class Lt{constructor(t,i,n,a,c){this._id=t,this._options=i,this._commandService=n,this._contextKeyService=a,this._menuService=c,this._disposables=new N.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const d=new w.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(d),this._disposables.add(D.MenuRegistry.onDidChangeMenu(o=>{o.has(t)&&d.schedule()}));const s=this._disposables.add(new N.DisposableStore),r=()=>{const o=new w.RunOnceScheduler(()=>this._onDidChange.fire(this),i.eventDebounceDelay);s.add(o),s.add(a.onDidChangeContext(l=>{l.affectsSome(this._contextKeys)&&o.schedule()}))};this._onDidChange=new C.Emitter({onFirstListenerAdd:r,onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=D.MenuRegistry.getMenuItems(this._id);let i;t.sort(Lt._compareMenuItems);for(const n of t){const a=n.group||"";(!i||i[0]!==a)&&(i=[a,[]],this._menuGroups.push(i)),i[1].push(n),this._collectContextKeys(n)}}_collectContextKeys(t){if(Lt._fillInKbExprKeys(t.when,this._contextKeys),(0,D.isIMenuItem)(t)){if(t.command.precondition&&Lt._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;Lt._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&D.MenuRegistry.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const i=[];for(let n of this._menuGroups){const[a,c]=n,d=[];for(const s of c)if(this._contextKeyService.contextMatchesRules(s.when)){const r=(0,D.isIMenuItem)(s)?new D.MenuItemAction(s.command,s.alt,t,this._contextKeyService,this._commandService):new D.SubmenuItemAction(s,this._menuService,this._contextKeyService,t);d.push(r)}d.length>0&&i.push([a,d])}return i}static _fillInKbExprKeys(t,i){if(t)for(let n of t.keys())i.add(n)}static _compareMenuItems(t,i){let n=t.group,a=i.group;if(n!==a){if(n){if(!a)return-1}else return 1;if(n==="navigation")return-1;if(a==="navigation")return 1;let s=n.localeCompare(a);if(s!==0)return s}let c=t.order||0,d=i.order||0;return c<d?-1:c>d?1:Lt._compareTitles((0,D.isIMenuItem)(t)?t.command.title:t.title,(0,D.isIMenuItem)(i)?i.command.title:i.title)}static _compareTitles(t,i){const n=typeof t=="string"?t:t.original,a=typeof i=="string"?i:i.original;return n.localeCompare(a)}};u=Be([fe(2,S.ICommandService),fe(3,b.IContextKeyService),fe(4,D.IMenuService)],u)}),define(Q[679],J([0,1,472,473,16,84,92]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget";const b="historyNavigationForwardsEnabled",v="historyNavigationBackwardsEnabled";function u(c,d,s){new N.RawContextKey(s,d).bindTo(c)}function g(c,d){return c.createScoped(d.target)}function t(c,d){return c.getContext(document.activeElement).getValue(d)}function i(c,d){const s=g(c,d);u(s,d,e.HistoryNavigationWidgetContext);const r=new N.RawContextKey(b,!0).bindTo(s),o=new N.RawContextKey(v,!0).bindTo(s);return{scopedContextKeyService:s,historyNavigationForwardsEnablement:r,historyNavigationBackwardsEnablement:o}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let n=class extends w.FindInput{constructor(d,s,r,o,l=!1){super(d,s,l,r);this._register(i(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};n=Be([fe(3,N.IContextKeyService)],n),e.ContextScopedFindInput=n;let a=class extends C.ReplaceInput{constructor(d,s,r,o,l=!1){super(d,s,l,r);this._register(i(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};a=Be([fe(3,N.IContextKeyService)],a),e.ContextScopedReplaceInput=a,D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),N.ContextKeyExpr.equals(v,!0),S.Context.Visible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:c=>{const d=t(c.get(N.IContextKeyService),e.HistoryNavigationWidgetContext);d&&d.historyNavigator.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),N.ContextKeyExpr.equals(b,!0),S.Context.Visible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:c=>{const d=t(c.get(N.IContextKeyService),e.HistoryNavigationWidgetContext);d&&d.historyNavigator.showNextValue()}})}),define(Q[680],J([0,1,7,4,2,42,40,85,13,628,83]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let t=class extends N.Disposable{constructor(n,a,c,d,s){super();this._onDidShowContextMenu=new C.Emitter,this._onDidHideContextMenu=new C.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(c,n,a,d,s)}configure(n){this.contextMenuHandler.configure(n)}showContextMenu(n){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},n),{onHide:a=>{n.onHide&&n.onHide(a),this._onDidHideContextMenu.fire()}})),w.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};t=Be([fe(0,b.ITelemetryService),fe(1,S.INotificationService),fe(2,g.IContextViewService),fe(3,D.IKeybindingService),fe(4,v.IThemeService)],t),e.ContextMenuService=t}),define(Q[156],J([0,1,7,341,111,344,468,467,254,4,2,573,63,39,102,16,267,9,42,36,129,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");let m=class{constructor(z){this._themeService=z,this.disposables=new g.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(z){var $,se;z!==this._lastFocusedWidget&&(($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=z,(se=this._lastFocusedWidget)===null||se===void 0||se.getHTMLElement().classList.add("last-focused"))}register(z,$){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const te=new N.DefaultStyleController((0,w.createStyleSheet)(),"");this.disposables.add((0,l.attachListStyler)(te,this._themeService))}if(this.lists.some(te=>te.widget===z))throw new Error("Cannot register the same widget multiple times");const se={widget:z,extraContextKeys:$};return this.lists.push(se),z.getHTMLElement()===document.activeElement&&this.setLastFocusedList(z),(0,g.combinedDisposable)(z.onDidFocus(()=>this.setLastFocusedList(z)),(0,g.toDisposable)(()=>this.lists.splice(this.lists.indexOf(se),1)),z.onDidDispose(()=>{this.lists=this.lists.filter(te=>te!==se),this._lastFocusedWidget===z&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};m=Be([fe(0,h.IThemeService)],m),e.ListService=m;const y=new c.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new c.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=c.ContextKeyExpr.and(y,c.ContextKeyExpr.not(d.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new c.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new c.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new c.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new c.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new c.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new c.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new c.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new c.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function p(q,z){const $=q.createScoped(z.getHTMLElement());return y.bindTo($),$}const f="workbench.list.multiSelectModifier",_="workbench.list.openMode",I="workbench.list.horizontalScrolling",E="workbench.list.keyboardNavigation",T="workbench.list.automaticKeyboardNavigation",k="workbench.tree.indent",A="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",F="workbench.list.mouseWheelScrollSensitivity",R="workbench.list.fastScrollSensitivity",M="workbench.tree.expandMode";function O(q){return q.getValue(f)==="alt"}class L extends g.Disposable{constructor(z){super();this.configurationService=z,this.useAltAsMultipleSelectionModifier=O(z),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(z=>{z.affectsConfiguration(f)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(z){return this.useAltAsMultipleSelectionModifier?z.browserEvent.altKey:(0,N.isSelectionSingleChangeEvent)(z)}isSelectionRangeChangeEvent(z){return(0,N.isSelectionRangeChangeEvent)(z)}}function B(q,z,$){var se;const te=new g.DisposableStore;return[Object.assign(Object.assign({},q),{keyboardNavigationDelegate:{mightProducePrintableCharacter(me){return $.mightProducePrintableCharacter(me)}},smoothScrolling:Boolean(z.getValue(P)),mouseWheelScrollSensitivity:z.getValue(F),fastScrollSensitivity:z.getValue(R),multipleSelectionController:(se=q.multipleSelectionController)!==null&&se!==void 0?se:te.add(new L(z))}),te]}let x=class extends N.List{constructor(z,$,se,te,ae,me,_e,we,le,he){const ue=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(le.getValue(I)),[ve,re]=B(ae,le,he);super(z,$,se,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(we.getColorTheme(),l.defaultListStyles)),ve),{horizontalScrolling:ue}));this.disposables.add(re),this.contextKeyService=p(me,this),this.themeService=we,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(le),this.disposables.add(this.contextKeyService),this.disposables.add(_e.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ye=this.getSelection(),Ae=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ye.length>0||Ae.length>0),this.listMultiSelection.set(ye.length>1),this.listDoubleSelection.set(ye.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ye=this.getSelection(),Ae=this.getFocus();this.listHasSelectionOrFocus.set(ye.length>0||Ae.length>0)})),this.disposables.add(le.onDidChangeConfiguration(ye=>{ye.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(le));let Ae={};if(ye.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Oe=Boolean(le.getValue(I));Ae=Object.assign(Object.assign({},Ae),{horizontalScrolling:Oe})}if(ye.affectsConfiguration(P)){const Oe=Boolean(le.getValue(P));Ae=Object.assign(Object.assign({},Ae),{smoothScrolling:Oe})}if(ye.affectsConfiguration(F)){const Oe=le.getValue(F);Ae=Object.assign(Object.assign({},Ae),{mouseWheelScrollSensitivity:Oe})}if(ye.affectsConfiguration(R)){const Oe=le.getValue(R);Ae=Object.assign(Object.assign({},Ae),{fastScrollSensitivity:Oe})}Object.keys(Ae).length>0&&this.updateOptions(Ae)})),this.navigator=new ee(this,Object.assign({configurationService:le},ae)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),super.dispose()}};x=Be([fe(5,c.IContextKeyService),fe(6,e.IListService),fe(7,h.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IKeybindingService)],x),e.WorkbenchList=x;let U=class extends C.PagedList{constructor(z,$,se,te,ae,me,_e,we,le,he){const ue=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(le.getValue(I)),[ve,re]=B(ae,le,he);super(z,$,se,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(we.getColorTheme(),l.defaultListStyles)),ve),{horizontalScrolling:ue}));this.disposables=new g.DisposableStore,this.disposables.add(re),this.contextKeyService=p(me,this),this.themeService=we,this.horizontalScrolling=ae.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(le),this.disposables.add(this.contextKeyService),this.disposables.add(_e.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),ae.overrideStyles&&this.disposables.add((0,l.attachListStyler)(this,we,ae.overrideStyles)),this.disposables.add(le.onDidChangeConfiguration(ye=>{ye.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(le));let Ae={};if(ye.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Oe=Boolean(le.getValue(I));Ae=Object.assign(Object.assign({},Ae),{horizontalScrolling:Oe})}if(ye.affectsConfiguration(P)){const Oe=Boolean(le.getValue(P));Ae=Object.assign(Object.assign({},Ae),{smoothScrolling:Oe})}if(ye.affectsConfiguration(F)){const Oe=le.getValue(F);Ae=Object.assign(Object.assign({},Ae),{mouseWheelScrollSensitivity:Oe})}if(ye.affectsConfiguration(R)){const Oe=le.getValue(R);Ae=Object.assign(Object.assign({},Ae),{fastScrollSensitivity:Oe})}Object.keys(Ae).length>0&&this.updateOptions(Ae)})),this.navigator=new ee(this,Object.assign({configurationService:le},ae)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),this.disposables.dispose(),super.dispose()}};U=Be([fe(5,c.IContextKeyService),fe(6,e.IListService),fe(7,h.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IKeybindingService)],U),e.WorkbenchPagedList=U;let K=class extends D.Table{constructor(z,$,se,te,ae,me,_e,we,le,he,ue){const ve=typeof me.horizontalScrolling!="undefined"?me.horizontalScrolling:Boolean(he.getValue(I)),[re,ge]=B(me,he,ue);super(z,$,se,te,ae,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(le.getColorTheme(),l.defaultListStyles)),re),{horizontalScrolling:ve}));this.disposables.add(ge),this.contextKeyService=p(_e,this),this.themeService=le,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(me.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(me.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=me.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(he),this.disposables.add(this.contextKeyService),this.disposables.add(we.register(this)),me.overrideStyles&&this.updateStyles(me.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ae=this.getSelection(),Oe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ae.length>0||Oe.length>0),this.listMultiSelection.set(Ae.length>1),this.listDoubleSelection.set(Ae.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ae=this.getSelection(),Oe=this.getFocus();this.listHasSelectionOrFocus.set(Ae.length>0||Oe.length>0)})),this.disposables.add(he.onDidChangeConfiguration(Ae=>{Ae.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(he));let Oe={};if(Ae.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const He=Boolean(he.getValue(I));Oe=Object.assign(Object.assign({},Oe),{horizontalScrolling:He})}if(Ae.affectsConfiguration(P)){const He=Boolean(he.getValue(P));Oe=Object.assign(Object.assign({},Oe),{smoothScrolling:He})}if(Ae.affectsConfiguration(F)){const He=he.getValue(F);Oe=Object.assign(Object.assign({},Oe),{mouseWheelScrollSensitivity:He})}if(Ae.affectsConfiguration(R)){const He=he.getValue(R);Oe=Object.assign(Object.assign({},Oe),{fastScrollSensitivity:He})}Object.keys(Oe).length>0&&this.updateOptions(Oe)})),this.navigator=new X(this,Object.assign({configurationService:he},me)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),this.disposables.dispose(),super.dispose()}};K=Be([fe(6,c.IContextKeyService),fe(7,e.IListService),fe(8,h.IThemeService),fe(9,n.IConfigurationService),fe(10,r.IKeybindingService)],K),e.WorkbenchTable=K;class Z extends g.Disposable{constructor(z,$){var se;super();this.widget=z,this._onDidOpen=this._register(new u.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(u.Event.filter(this.widget.onDidChangeSelection,te=>te.browserEvent instanceof KeyboardEvent)(te=>this.onSelectionFromKeyboard(te))),this._register(this.widget.onPointer(te=>this.onPointer(te.element,te.browserEvent))),this._register(this.widget.onMouseDblClick(te=>this.onMouseDblClick(te.element,te.browserEvent))),typeof($==null?void 0:$.openOnSingleClick)!="boolean"&&($==null?void 0:$.configurationService)?(this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick",this._register($==null?void 0:$.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick"}))):this.openOnSingleClick=(se=$==null?void 0:$.openOnSingleClick)!==null&&se!==void 0?se:!0}onSelectionFromKeyboard(z){if(z.elements.length!==1)return;const $=z.browserEvent,se=typeof $.preserveFocus=="boolean"?$.preserveFocus:!0,te=typeof $.pinned=="boolean"?$.pinned:!se,ae=!1;this._open(this.getSelectedElement(),se,te,ae,z.browserEvent)}onPointer(z,$){if(!this.openOnSingleClick||$.detail===2)return;const te=$.button===1,ae=!0,me=te,_e=$.ctrlKey||$.metaKey||$.altKey;this._open(z,ae,me,_e,$)}onMouseDblClick(z,$){if(!$)return;const se=$.target;if(se.classList.contains("monaco-tl-twistie")||se.classList.contains("monaco-icon-label")&&se.classList.contains("folder-icon")&&$.offsetX<16)return;const ae=!1,me=!0,_e=$.ctrlKey||$.metaKey||$.altKey;this._open(z,ae,me,_e,$)}_open(z,$,se,te,ae){!z||this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:se,revealIfVisible:!0},sideBySide:te,element:z,browserEvent:ae})}}class ee extends Z{constructor(z,$){super(z,$);this.widget=z}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class X extends Z{constructor(z,$){super(z,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ne extends Z{constructor(z,$){super(z,$)}getSelectedElement(){var z;return(z=this.widget.getSelection()[0])!==null&&z!==void 0?z:void 0}}function Y(q,z){let $=!1;return se=>{if(se.toKeybinding().isModifierKey())return!1;if($)return $=!1,!1;const te=z.softDispatch(se,q);return te&&te.enterChord?($=!0,!1):($=!1,!0)}}let j=class extends v.ObjectTree{constructor(z,$,se,te,ae,me,_e,we,le,he,ue){const{options:ve,getAutomaticKeyboardNavigation:re,disposable:ge}=ce($,ae,me,le,he,ue);super(z,$,se,te,ve);this.disposables.add(ge),this.internals=new ie(this,ae,re,ae.overrideStyles,me,_e,we,le,ue),this.disposables.add(this.internals)}updateOptions(z){super.updateOptions(z),this.internals.updateOptions(z)}};j=Be([fe(5,c.IContextKeyService),fe(6,e.IListService),fe(7,h.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IKeybindingService),fe(10,i.IAccessibilityService)],j),e.WorkbenchObjectTree=j;let W=class extends v.CompressibleObjectTree{constructor(z,$,se,te,ae,me,_e,we,le,he,ue){const{options:ve,getAutomaticKeyboardNavigation:re,disposable:ge}=ce($,ae,me,le,he,ue);super(z,$,se,te,ve);this.disposables.add(ge),this.internals=new ie(this,ae,re,ae.overrideStyles,me,_e,we,le,ue),this.disposables.add(this.internals)}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};W=Be([fe(5,c.IContextKeyService),fe(6,e.IListService),fe(7,h.IThemeService),fe(8,n.IConfigurationService),fe(9,r.IKeybindingService),fe(10,i.IAccessibilityService)],W),e.WorkbenchCompressibleObjectTree=W;let V=class extends b.DataTree{constructor(z,$,se,te,ae,me,_e,we,le,he,ue,ve){const{options:re,getAutomaticKeyboardNavigation:ge,disposable:ye}=ce($,me,_e,he,ue,ve);super(z,$,se,te,ae,re);this.disposables.add(ye),this.internals=new ie(this,me,ge,me.overrideStyles,_e,we,le,he,ve),this.disposables.add(this.internals)}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};V=Be([fe(6,c.IContextKeyService),fe(7,e.IListService),fe(8,h.IThemeService),fe(9,n.IConfigurationService),fe(10,r.IKeybindingService),fe(11,i.IAccessibilityService)],V),e.WorkbenchDataTree=V;let G=class extends S.AsyncDataTree{constructor(z,$,se,te,ae,me,_e,we,le,he,ue,ve){const{options:re,getAutomaticKeyboardNavigation:ge,disposable:ye}=ce($,me,_e,he,ue,ve);super(z,$,se,te,ae,re);this.disposables.add(ye),this.internals=new ie(this,me,ge,me.overrideStyles,_e,we,le,he,ve),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};G=Be([fe(6,c.IContextKeyService),fe(7,e.IListService),fe(8,h.IThemeService),fe(9,n.IConfigurationService),fe(10,r.IKeybindingService),fe(11,i.IAccessibilityService)],G),e.WorkbenchAsyncDataTree=G;let oe=class extends S.CompressibleAsyncDataTree{constructor(z,$,se,te,ae,me,_e,we,le,he,ue,ve,re){const{options:ge,getAutomaticKeyboardNavigation:ye,disposable:Ae}=ce($,_e,we,ue,ve,re);super(z,$,se,te,ae,me,ge);this.disposables.add(Ae),this.internals=new ie(this,_e,ye,_e.overrideStyles,we,le,he,ue,re),this.disposables.add(this.internals)}updateOptions(z){super.updateOptions(z),this.internals.updateOptions(z)}};oe=Be([fe(7,c.IContextKeyService),fe(8,e.IListService),fe(9,h.IThemeService),fe(10,n.IConfigurationService),fe(11,r.IKeybindingService),fe(12,i.IAccessibilityService)],oe),e.WorkbenchCompressibleAsyncDataTree=oe;function ce(q,z,$,se,te,ae){var me;const _e=()=>{let ge=Boolean($.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ge&&(ge=Boolean(se.getValue(T))),ge},we=ae.isScreenReaderOptimized(),le=z.simpleKeyboardNavigation||we?"simple":se.getValue(E),he=z.horizontalScrolling!==void 0?z.horizontalScrolling:Boolean(se.getValue(I)),[ue,ve]=B(z,se,te),re=z.additionalScrollHeight;return{getAutomaticKeyboardNavigation:_e,disposable:ve,options:Object.assign(Object.assign({keyboardSupport:!1},ue),{indent:typeof se.getValue(k)=="number"?se.getValue(k):void 0,renderIndentGuides:se.getValue(A),smoothScrolling:Boolean(se.getValue(P)),automaticKeyboardNavigation:_e(),simpleKeyboardNavigation:le==="simple",filterOnType:le==="filter",horizontalScrolling:he,keyboardNavigationEventFilter:Y(q,te),additionalScrollHeight:re,hideTwistiesOfChildlessElements:z.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(me=z.expandOnlyOnTwistieClick)!==null&&me!==void 0?me:se.getValue(M)==="doubleClick"})}}let ie=class{constructor(z,$,se,te,ae,me,_e,we,le){this.tree=z,this.themeService=_e,this.disposables=[],this.contextKeyService=p(ae,z),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean($.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(we);const ue=new Set;ue.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const ve=()=>{const ye=le.isScreenReaderOptimized()?"simple":we.getValue(E);z.updateOptions({simpleKeyboardNavigation:ye==="simple",filterOnType:ye==="filter"})};this.updateStyleOverrides(te);const re=()=>{const ge=z.getFocus()[0];if(!ge)return;const ye=z.getNode(ge);this.treeElementCanCollapse.set(ye.collapsible&&!ye.collapsed),this.treeElementHasParent.set(!!z.getParentElement(ge)),this.treeElementCanExpand.set(ye.collapsible&&ye.collapsed),this.treeElementHasChild.set(!!z.getFirstElementChild(ge))};this.disposables.push(this.contextKeyService,me.register(z),z.onDidChangeSelection(()=>{const ge=z.getSelection(),ye=z.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ge.length>0||ye.length>0),this.hasMultiSelection.set(ge.length>1),this.hasDoubleSelection.set(ge.length===2)})}),z.onDidChangeFocus(()=>{const ge=z.getSelection(),ye=z.getFocus();this.hasSelectionOrFocus.set(ge.length>0||ye.length>0),re()}),z.onDidChangeCollapseState(re),z.onDidChangeModel(re),we.onDidChangeConfiguration(ge=>{let ye={};if(ge.affectsConfiguration(f)&&(this._useAltAsMultipleSelectionModifier=O(we)),ge.affectsConfiguration(k)){const Ae=we.getValue(k);ye=Object.assign(Object.assign({},ye),{indent:Ae})}if(ge.affectsConfiguration(A)){const Ae=we.getValue(A);ye=Object.assign(Object.assign({},ye),{renderIndentGuides:Ae})}if(ge.affectsConfiguration(P)){const Ae=Boolean(we.getValue(P));ye=Object.assign(Object.assign({},ye),{smoothScrolling:Ae})}if(ge.affectsConfiguration(E)&&ve(),ge.affectsConfiguration(T)&&(ye=Object.assign(Object.assign({},ye),{automaticKeyboardNavigation:se()})),ge.affectsConfiguration(I)&&$.horizontalScrolling===void 0){const Ae=Boolean(we.getValue(I));ye=Object.assign(Object.assign({},ye),{horizontalScrolling:Ae})}if(ge.affectsConfiguration(M)&&$.expandOnlyOnTwistieClick===void 0&&(ye=Object.assign(Object.assign({},ye),{expandOnlyOnTwistieClick:we.getValue(M)==="doubleClick"})),ge.affectsConfiguration(F)){const Ae=we.getValue(F);ye=Object.assign(Object.assign({},ye),{mouseWheelScrollSensitivity:Ae})}if(ge.affectsConfiguration(R)){const Ae=we.getValue(R);ye=Object.assign(Object.assign({},ye),{fastScrollSensitivity:Ae})}Object.keys(ye).length>0&&z.updateOptions(ye)}),this.contextKeyService.onDidChangeContext(ge=>{ge.affectsSome(ue)&&z.updateOptions({automaticKeyboardNavigation:se()})}),le.onDidChangeScreenReaderOptimized(()=>ve())),this.navigator=new ne(z,Object.assign({configurationService:we},$)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(z){z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyleOverrides(z){(0,g.dispose)(this.styler),this.styler=z?(0,l.attachListStyler)(this.tree,this.themeService,z):g.Disposable.None}dispose(){this.disposables=(0,g.dispose)(this.disposables),(0,g.dispose)(this.styler),this.styler=void 0}};ie=Be([fe(4,c.IContextKeyService),fe(5,e.IListService),fe(6,h.IThemeService),fe(7,n.IConfigurationService),fe(8,i.IAccessibilityService)],ie),o.Registry.as(a.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,t.localize)(0,null),type:"object",properties:{[f]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,t.localize)(1,null),(0,t.localize)(2,null)],default:"ctrlCmd",description:(0,t.localize)(3,null)},[_]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,t.localize)(5,null)},[k]:{type:"number",default:8,minimum:0,maximum:40,description:(0,t.localize)(6,null)},[A]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,t.localize)(7,null)},[P]:{type:"boolean",default:!1,description:(0,t.localize)(8,null)},[F]:{type:"number",default:1,description:(0,t.localize)(9,null)},[R]:{type:"number",default:5,description:(0,t.localize)(10,null)},[E]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,t.localize)(11,null),(0,t.localize)(12,null),(0,t.localize)(13,null)],default:"highlight",description:(0,t.localize)(14,null)},[T]:{type:"boolean",default:!0,markdownDescription:(0,t.localize)(15,null)},[M]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(16,null)}}})}),define(Q[681],J([0,1,7,88,46,57,4,2,51,22,13]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let t=class extends b.Disposable{constructor(n,a,c={},d){var s;super();this._link=a,this._enabled=!0,this.el=(0,w.append)(n,(0,w.$)("a.monaco-link",{tabIndex:(s=a.tabIndex)!==null&&s!==void 0?s:0,href:a.href,title:a.title},a.label)),this.el.setAttribute("role","button");const r=this._register(new C.DomEmitter(this.el,"click")),o=this._register(new C.DomEmitter(this.el,"keypress")),l=S.Event.chain(o.event).map(y=>new N.StandardKeyboardEvent(y)).filter(y=>y.keyCode===3).event,h=this._register(new C.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const m=S.Event.any(r.event,l,h);this._register(m(y=>{!this.enabled||(w.EventHelper.stop(y,!0),(c==null?void 0:c.opener)?c.opener(this._link.href):d.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(n){n?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=n}};t=Be([fe(3,v.IOpenerService)],t),e.Link=t,(0,g.registerThemingParticipant)((i,n)=>{const a=i.getColor(u.textLinkForeground);a&&n.addRule(`.monaco-link { color: ${a}; }`);const c=i.getColor(u.textLinkActiveForeground);c&&n.addRule(`.monaco-link:hover { color: ${c}; }`)})}),define(Q[682],J([0,1,23,483,63,16,9,127,156,623,22,129,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let n=class extends i.Themable{constructor(c,d,s,r,o){super(s);this.instantiationService=c,this.contextKeyService=d,this.accessibilityService=r,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(c=this.layoutService,d){var s,r;const o={idPrefix:"quickInput_",container:c.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>c.focus(),createList:(h,m,y,p,f)=>this.instantiationService.createInstance(v.WorkbenchList,h,m,y,p,f),styles:this.computeStyles()},l=this._register(new C.QuickInputController(Object.assign(Object.assign({},o),d)));return l.layout(c.dimension,(r=(s=c.offset)===null||s===void 0?void 0:s.top)!==null&&r!==void 0?r:0),this._register(c.onDidLayout(h=>{var m,y;return l.layout(h,(y=(m=c.offset)===null||m===void 0?void 0:m.top)!==null&&y!==void 0?y:0)})),this._register(l.onShow(()=>this.resetContextKeys())),this._register(l.onHide(()=>this.resetContextKeys())),l}setContextKey(c){let d;c&&(d=this.contexts.get(c),d||(d=new D.RawContextKey(c,!1).bindTo(this.contextKeyService),this.contexts.set(c,d))),!(d&&d.get())&&(this.resetContextKeys(),d&&d.set(!0))}resetContextKeys(){this.contexts.forEach(c=>{c.get()&&c.reset()})}pick(c,d={},s=w.CancellationToken.None){return this.controller.pick(c,d,s)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,t.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,t.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,t.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,t.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,t.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,t.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,t.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};n=Be([fe(0,S.IInstantiationService),fe(1,D.IContextKeyService),fe(2,i.IThemeService),fe(3,N.IAccessibilityService),fe(4,b.ILayoutService)],n),e.QuickInputService=n}),define(Q[683],J([0,1,15,13,23,9,16,63,270,28,682,86,389]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let i=class extends g.QuickInputService{constructor(s,r,o,l,h,m){super(r,o,l,h,new v.EditorScopedLayoutService(s.getContainerDomNode(),m));this.host=void 0;const y=a.get(s);if(y){const p=y.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return p.getDomNode()},get dimension(){return s.getLayoutInfo()},get onDidLayout(){return s.onDidLayoutChange},focus:()=>s.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=Be([fe(1,D.IInstantiationService),fe(2,S.IContextKeyService),fe(3,C.IThemeService),fe(4,b.IAccessibilityService),fe(5,u.ICodeEditorService)],i),e.EditorScopedQuickInputService=i;let n=class{constructor(s,r){this.instantiationService=s,this.codeEditorService=r,this.mapEditorToService=new Map}get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(s);if(!r){const o=r=this.instantiationService.createInstance(i,s);this.mapEditorToService.set(s,r),(0,t.once)(s.onDidDispose)(()=>{o.dispose(),this.mapEditorToService.delete(s)})}return r}get quickAccess(){return this.activeService.quickAccess}pick(s,r={},o=N.CancellationToken.None){return this.activeService.pick(s,r,o)}createQuickPick(){return this.activeService.createQuickPick()}};n=Be([fe(0,D.IInstantiationService),fe(1,u.ICodeEditorService)],n),e.StandaloneQuickInputService=n;class a{constructor(s){this.editor=s,this.widget=new c(this.editor)}static get(s){return s.getContribution(a.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=a,a.ID="editor.controller.quickInput";class c{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return c.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=c,c.ID="editor.contrib.quickInputWidget",(0,w.registerEditorContribution)(a.ID,a)}),define(Q[684],J([0,1,27,80,22,13]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(b){function v(u){switch(u){case C.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case C.default.Info:return w.Codicon.info.classNames;case C.default.Warning:return w.Codicon.warning.classNames;case C.default.Error:return w.Codicon.error.classNames;default:return""}}b.className=v})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,D.registerThemingParticipant)((b,v)=>{const u=b.getColor(N.problemsErrorIconForeground);if(u){const i=w.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.text-search-provider-messages .providerMessage ${i},
			.extensions-viewlet > .extensions ${i} {
				color: ${u};
			}
		`)}const g=b.getColor(N.problemsWarningIconForeground);if(g){const i=w.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.extension-editor ${i},
			.text-search-provider-messages .providerMessage ${i},
			.preferences-editor ${i} {
				color: ${g};
			}
		`)}const t=b.getColor(N.problemsInfoIconForeground);if(t){const i=w.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.text-search-provider-messages .providerMessage ${i},
			.extension-editor ${i} {
				color: ${t};
			}
		`)}})}),define(Q[71],J([0,1,10,27,4,578,196,36,13]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var u;(function(s){function r(o,l){let h=o.defaults;for(;v.ThemeIcon.isThemeIcon(h);){const m=t.getIcon(h.id);if(!m)return;h=m.defaults}return h}s.getDefinition=r})(u=e.IconContribution||(e.IconContribution={}));class g{constructor(){this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,D.localize)(0,null)},fontCharacter:{type:"string",description:(0,D.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(r,o,l,h){const m=this.iconsById[r];if(m){if(l&&!m.description){m.description=l,this.iconSchema.properties[r].markdownDescription=`${l} $(${r})`;const f=this.iconReferenceSchema.enum.indexOf(r);f!==-1&&(this.iconReferenceSchema.enumDescriptions[f]=l),this._onDidChange.fire()}return m}let y={id:r,description:l,defaults:o,deprecationMessage:h};this.iconsById[r]=y;let p={$ref:"#/definitions/icons"};return h&&(p.deprecationMessage=h),l&&(p.markdownDescription=`${l}: $(${r})`),this.iconSchema.properties[r]=p,this.iconReferenceSchema.enum.push(r),this.iconReferenceSchema.enumDescriptions.push(l||""),this._onDidChange.fire(),{id:r}}getIcons(){return Object.keys(this.iconsById).map(r=>this.iconsById[r])}getIcon(r){return this.iconsById[r]}getIconSchema(){return this.iconSchema}toString(){const r=(m,y)=>m.id.localeCompare(y.id),o=m=>{for(;v.ThemeIcon.isThemeIcon(m.defaults);)m=this.iconsById[m.defaults.id];return`codicon codicon-${m?m.id:""}`};let l=[];l.push("| preview     | identifier                        | default codicon ID                | description"),l.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const h=Object.keys(this.iconsById).map(m=>this.iconsById[m]);for(const m of h.filter(y=>!!y.description).sort(r))l.push(`|<i class="${o(m)}"></i>|${m.id}|${v.ThemeIcon.isThemeIcon(m.defaults)?m.defaults.id:m.id}|${m.description||""}|`);l.push("| preview     | identifier                        "),l.push("| ----------- | --------------------------------- |");for(const m of h.filter(y=>!v.ThemeIcon.isThemeIcon(y.defaults)).sort(r))l.push(`|<i class="${o(m)}"></i>|${m.id}|`);return l.join(`
`)}}const t=new g;b.Registry.add(e.Extensions.IconContribution,t);function i(s,r,o,l){return t.registerIcon(s,r,o,l)}e.registerIcon=i;function n(){return t}e.getIconRegistry=n;function a(){for(const s of C.Codicon.getAll())t.registerIcon(s.id,s.definition,s.description)}a(),e.iconsSchemaId="vscode://schemas/icons";let c=b.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,t.getIconSchema());const d=new w.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=i("widget-close",C.Codicon.close,(0,D.localize)(2,null)),e.gotoPreviousLocation=i("goto-previous-location",C.Codicon.arrowUp,(0,D.localize)(3,null)),e.gotoNextLocation=i("goto-next-location",C.Codicon.arrowDown,(0,D.localize)(4,null)),e.syncing=v.ThemeIcon.modify(C.Codicon.sync,"spin"),e.spinningLoading=v.ThemeIcon.modify(C.Codicon.loading,"spin")}),define(Q[685],J([0,1,490,7,31,81,65,50,2,60,15,28,29,73,11,52,120,66,16,22,13,27,71,34,362]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const f=3;class _{constructor(O,L,B,x){this.originalLineStart=O,this.originalLineEnd=L,this.modifiedLineStart=B,this.modifiedLineEnd=x}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class I{constructor(O){this.entries=O}}const E=(0,m.registerIcon)("diff-review-insert",h.Codicon.add,w.localize(0,null)),T=(0,m.registerIcon)("diff-review-remove",h.Codicon.remove,w.localize(1,null)),k=(0,m.registerIcon)("diff-review-close",h.Codicon.close,w.localize(2,null));let A=class yt extends v.Disposable{constructor(O,L){super();this._languageService=L,this._width=0,this._diffEditor=O,this._isVisible=!1,this.shadow=(0,N.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,N.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",w.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(k),!0,()=>De(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,N.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(O.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(O.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(C.addStandardDisposableListener(this.domNode.domNode,"click",B=>{B.preventDefault();const x=C.findParentWithClass(B.target,"diff-review-row");x&&this._goToRow(x)})),this._register(C.addStandardDisposableListener(this.domNode.domNode,"keydown",B=>{(B.equals(18)||B.equals(2048|18)||B.equals(512|18))&&(B.preventDefault(),this._goToRow(this._getNextRow())),(B.equals(16)||B.equals(2048|16)||B.equals(512|16))&&(B.preventDefault(),this._goToRow(this._getPrevRow())),(B.equals(9)||B.equals(2048|9)||B.equals(512|9)||B.equals(1024|9))&&(B.preventDefault(),this.hide()),(B.equals(10)||B.equals(3))&&(B.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let x=0,U=this._diffs.length;x<U;x++)if(this._diffs[x]===this._currentDiff){B=x;break}O=this._diffs.length+B-1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const L=this._diffs[O].entries;this._diffEditor.setPosition(new a.Position(L[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:L[0].modifiedLineStart,endColumn:1073741824,endLineNumber:L[L.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let x=0,U=this._diffs.length;x<U;x++)if(this._diffs[x]===this._currentDiff){B=x;break}O=B+1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const L=this._diffs[O].entries;this._diffEditor.setPosition(new a.Position(L[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:L[0].modifiedLineStart,endColumn:1073741824,endLineNumber:L[L.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let O=-1;const L=this._getCurrentFocusedRow();if(L){const B=parseInt(L.getAttribute("data-line"),10);isNaN(B)||(O=B)}this.hide(),O!==-1&&(this._diffEditor.setPosition(new a.Position(O,1)),this._diffEditor.revealPosition(new a.Position(O,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const O=this._getCurrentFocusedRow();return O?O.previousElementSibling?O.previousElementSibling:O:this._getFirstRow()}_getNextRow(){const O=this._getCurrentFocusedRow();return O?O.nextElementSibling?O.nextElementSibling:O:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const O=document.activeElement;return O&&/diff-review-row/.test(O.className)?O:null}_goToRow(O){const L=this._getCurrentFocusedRow();O.tabIndex=0,O.focus(),L&&L!==O&&(L.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(O,L,B){this._width=L,this.shadow.setTop(O-6),this.shadow.setWidth(L),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(O),this.domNode.setWidth(L),this.domNode.setHeight(B),this._content.setHeight(B),this._content.setWidth(L),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const O=this._diffEditor.getLineChanges();if(!O||O.length===0)return[];const L=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel();return!L||!B?[]:yt._mergeAdjacent(O,L.getLineCount(),B.getLineCount())}static _mergeAdjacent(O,L,B){if(!O||O.length===0)return[];const x=[];let U=0;for(let X=0,ne=O.length;X<ne;X++){const Y=O[X],j=Y.originalStartLineNumber,W=Y.originalEndLineNumber,V=Y.modifiedStartLineNumber,G=Y.modifiedEndLineNumber,oe=[];let ce=0;{const ie=W===0?j:j-1,de=G===0?V:V-1;let q=1,z=1;if(X>0){const te=O[X-1];te.originalEndLineNumber===0?q=te.originalStartLineNumber+1:q=te.originalEndLineNumber+1,te.modifiedEndLineNumber===0?z=te.modifiedStartLineNumber+1:z=te.modifiedEndLineNumber+1}let $=ie-f+1,se=de-f+1;if($<q){const te=q-$;$=$+te,se=se+te}if(se<z){const te=z-se;$=$+te,se=se+te}oe[ce++]=new _($,ie,se,de)}W!==0&&(oe[ce++]=new _(j,W,0,0)),G!==0&&(oe[ce++]=new _(0,0,V,G));{const ie=W===0?j+1:W+1,de=G===0?V+1:G+1;let q=L,z=B;if(X+1<ne){const te=O[X+1];te.originalEndLineNumber===0?q=te.originalStartLineNumber:q=te.originalStartLineNumber-1,te.modifiedEndLineNumber===0?z=te.modifiedStartLineNumber:z=te.modifiedStartLineNumber-1}let $=ie+f-1,se=de+f-1;if($>q){const te=q-$;$=$+te,se=se+te}if(se>z){const te=z-se;$=$+te,se=se+te}oe[ce++]=new _(ie,$,de,se)}x[U++]=new I(oe)}let K=x[0].entries;const Z=[];let ee=0;for(let X=1,ne=x.length;X<ne;X++){const Y=x[X].entries,j=K[K.length-1],W=Y[0];if(j.getType()===0&&W.getType()===0&&W.originalLineStart<=j.originalLineEnd){K[K.length-1]=new _(j.originalLineStart,W.originalLineEnd,j.modifiedLineStart,W.modifiedLineEnd),K=K.concat(Y.slice(1));continue}Z[ee++]=new I(K),K=Y}return Z[ee++]=new I(K),Z}_findDiffIndex(O){const L=O.lineNumber;for(let B=0,x=this._diffs.length;B<x;B++){const U=this._diffs[B].entries,K=U[U.length-1].modifiedLineEnd;if(L<=K)return B}return 0}_render(){const O=this._diffEditor.getOriginalEditor().getOptions(),L=this._diffEditor.getModifiedEditor().getOptions(),B=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel(),U=B.getOptions(),K=x.getOptions();if(!this._isVisible||!B||!x){C.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Z=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Z]===this._currentDiff)return;this._currentDiff=this._diffs[Z];const ee=this._diffs[Z].entries,X=document.createElement("div");X.className="diff-review-table",X.setAttribute("role","list"),X.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(X,L.get(43));let ne=0,Y=0,j=0,W=0;for(let se=0,te=ee.length;se<te;se++){const ae=ee[se],me=ae.originalLineStart,_e=ae.originalLineEnd,we=ae.modifiedLineStart,le=ae.modifiedLineEnd;me!==0&&(ne===0||me<ne)&&(ne=me),_e!==0&&(Y===0||_e>Y)&&(Y=_e),we!==0&&(j===0||we<j)&&(j=we),le!==0&&(W===0||le>W)&&(W=le)}const V=document.createElement("div");V.className="diff-review-row";const G=document.createElement("div");G.className="diff-review-cell diff-review-summary";const oe=Y-ne+1,ce=W-j+1;G.appendChild(document.createTextNode(`${Z+1}/${this._diffs.length}: @@ -${ne},${oe} +${j},${ce} @@`)),V.setAttribute("data-line",String(j));const ie=se=>se===0?w.localize(4,null):se===1?w.localize(5,null):w.localize(6,null,se),de=ie(oe),q=ie(ce);V.setAttribute("aria-label",w.localize(7,null,Z+1,this._diffs.length,ne,de,j,q)),V.appendChild(G),V.setAttribute("role","listitem"),X.appendChild(V);const z=L.get(58);let $=j;for(let se=0,te=ee.length;se<te;se++){const ae=ee[se];yt._renderSection(X,ae,$,z,this._width,O,B,U,L,x,K,this._languageService.languageIdCodec),ae.modifiedLineStart!==0&&($=ae.modifiedLineEnd)}C.clearNode(this._content.domNode),this._content.domNode.appendChild(X),this.scrollbar.scanDomNode()}static _renderSection(O,L,B,x,U,K,Z,ee,X,ne,Y,j){const W=L.getType();let V="diff-review-row",G="";const oe="diff-review-spacer";let ce=null;switch(W){case 1:V="diff-review-row line-insert",G=" char-insert",ce=E;break;case 2:V="diff-review-row line-delete",G=" char-delete",ce=T;break}const ie=L.originalLineStart,de=L.originalLineEnd,q=L.modifiedLineStart,z=L.modifiedLineEnd,$=Math.max(z-q,de-ie),se=K.get(130),te=se.glyphMarginWidth+se.lineNumbersWidth,ae=X.get(130),me=10+ae.glyphMarginWidth+ae.lineNumbersWidth;for(let _e=0;_e<=$;_e++){const we=ie===0?0:ie+_e,le=q===0?0:q+_e,he=document.createElement("div");he.style.minWidth=U+"px",he.className=V,he.setAttribute("role","listitem"),le!==0&&(B=le),he.setAttribute("data-line",String(B));const ue=document.createElement("div");ue.className="diff-review-cell",ue.style.height=`${x}px`,he.appendChild(ue);const ve=document.createElement("span");ve.style.width=te+"px",ve.style.minWidth=te+"px",ve.className="diff-review-line-number"+G,we!==0?ve.appendChild(document.createTextNode(String(we))):ve.innerText="\xA0",ue.appendChild(ve);const re=document.createElement("span");re.style.width=me+"px",re.style.minWidth=me+"px",re.style.paddingRight="10px",re.className="diff-review-line-number"+G,le!==0?re.appendChild(document.createTextNode(String(le))):re.innerText="\xA0",ue.appendChild(re);const ge=document.createElement("span");if(ge.className=oe,ce){const Oe=document.createElement("span");Oe.className=l.ThemeIcon.asClassName(ce),Oe.innerText="\xA0\xA0",ge.appendChild(Oe)}else ge.innerText="\xA0\xA0";ue.appendChild(ge);let ye;if(le!==0){let Oe=this._renderLine(ne,X,Y.tabSize,le,j);yt._ttPolicy&&(Oe=yt._ttPolicy.createHTML(Oe)),ue.insertAdjacentHTML("beforeend",Oe),ye=ne.getLineContent(le)}else{let Oe=this._renderLine(Z,K,ee.tabSize,we,j);yt._ttPolicy&&(Oe=yt._ttPolicy.createHTML(Oe)),ue.insertAdjacentHTML("beforeend",Oe),ye=Z.getLineContent(we)}ye.length===0&&(ye=w.localize(8,null));let Ae="";switch(W){case 0:we===le?Ae=w.localize(9,null,ye,we):Ae=w.localize(10,null,ye,we,le);break;case 1:Ae=w.localize(11,null,ye,le);break;case 2:Ae=w.localize(12,null,ye,we);break}he.setAttribute("aria-label",Ae),O.appendChild(he)}}static _renderLine(O,L,B,x,U){const K=O.getLineContent(x),Z=L.get(43),ee=n.LineTokens.createEmpty(K,U),X=s.ViewLineRenderingData.isBasicASCII(K,O.mightContainNonBasicASCII()),ne=s.ViewLineRenderingData.containsRTL(K,X,O.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(Z.isMonospace&&!L.get(29),Z.canUseHalfwidthRightwardsArrow,K,!1,X,ne,0,ee,[],B,0,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,L.get(104),L.get(87),L.get(82),L.get(44)!==i.EditorFontLigatures.OFF,null)).html}};A._ttPolicy=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("diffReview",{createHTML:M=>M}),A=Be([fe(1,y.ILanguageService)],A),e.DiffReview=A,(0,l.registerThemingParticipant)((M,O)=>{const L=M.getColor(c.editorLineNumbers);L&&O.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${L}; }`);const B=M.getColor(o.scrollbarShadow);B&&O.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${B} 0 -6px 6px -6px inset; }`)});class P extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:w.localize(13,null),alias:"Go to Next Difference",precondition:r.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(O,L){const B=R(O);B&&B.diffReviewNext()}}class F extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:w.localize(14,null),alias:"Go to Previous Difference",precondition:r.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(O,L){const B=R(O);B&&B.diffReviewPrev()}}function R(M){const O=M.get(t.ICodeEditorService),L=O.listDiffEditors(),B=O.getActiveCodeEditor();if(!B)return null;for(let x=0,U=L.length;x<U;x++){const K=L[x];if(K.getModifiedEditor().getId()===B.getId()||K.getOriginalEditor().getId()===B.getId())return K}return null}(0,g.registerEditorAction)(P),(0,g.registerEditorAction)(F)}),define(Q[686],J([0,1,7,43,65,27,4,2,8,20,103,34,598,195,546,16,51,22,71,130,13,378]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const h=w.$,m=(0,r.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,a.localize(0,null)),y=(0,r.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,a.localize(1,null));let p=class ki extends b.Disposable{constructor(_,I,E,T){super();this.editor=_,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new g.MarkdownRenderer({editor:_},T,E)),this.model=this._register(new i.ParameterHintsModel(_)),this.keyVisible=n.Context.Visible.bindTo(I),this.keyMultipleSignatures=n.Context.MultipleSignatures.bindTo(I),this._register(this.model.onChangedHints(k=>{k?(this.show(),this.render(k)):this.hide()}))}createParameterHintDOMNodes(){const _=h(".editor-widget.parameter-hints-widget"),I=w.append(_,h(".phwrapper"));I.tabIndex=-1;const E=w.append(I,h(".controls")),T=w.append(E,h(".button"+l.ThemeIcon.asCSSSelector(y))),k=w.append(E,h(".overloads")),A=w.append(E,h(".button"+l.ThemeIcon.asCSSSelector(m)));this._register(w.addDisposableListener(T,"click",L=>{w.EventHelper.stop(L),this.previous()})),this._register(w.addDisposableListener(A,"click",L=>{w.EventHelper.stop(L),this.next()}));const P=h(".body"),F=new N.DomScrollableElement(P,{});this._register(F),I.appendChild(F.getDomNode());const R=w.append(P,h(".signature")),M=w.append(P,h(".docs"));_.style.userSelect="text",this.domNodes={element:_,signature:R,overloads:k,docs:M,scrollbar:F},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(L=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const L=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${L.fontSize}px`,this.domNodes.element.style.lineHeight=`${L.lineHeight/L.fontSize}`};O(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(L=>L.hasChanged(43)).on(O,null)),this._register(this.editor.onDidLayoutChange(L=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(_){var I;if(this.renderDisposeables.clear(),!this.domNodes)return;const E=_.signatures.length>1;this.domNodes.element.classList.toggle("multiple",E),this.keyMultipleSignatures.set(E),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=_.signatures[_.activeSignature];if(!T)return;const k=w.append(this.domNodes.signature,h(".code")),A=this.editor.getOption(43);k.style.fontSize=`${A.fontSize}px`,k.style.fontFamily=A.fontFamily;const P=T.parameters.length>0,F=(I=T.activeParameter)!==null&&I!==void 0?I:_.activeParameter;if(P)this.renderParameters(k,T,F);else{const O=w.append(k,h("span"));O.textContent=T.label}const R=T.parameters[F];if(R==null?void 0:R.documentation){const O=h("span.documentation");if(typeof R.documentation=="string")O.textContent=R.documentation;else{const L=this.renderMarkdownDocs(R.documentation);O.appendChild(L.element)}w.append(this.domNodes.docs,h("p",{},O))}if(T.documentation!==void 0)if(typeof T.documentation=="string")w.append(this.domNodes.docs,h("p",{},T.documentation));else{const O=this.renderMarkdownDocs(T.documentation);w.append(this.domNodes.docs,O.element)}const M=this.hasDocs(T,R);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(_.activeSignature+1).padStart(_.signatures.length.toString().length,"0")+"/"+_.signatures.length,R){let O="";const L=T.parameters[F];Array.isArray(L.label)?O=T.label.substring(L.label[0],L.label[1]):O=L.label,L.documentation&&(O+=typeof L.documentation=="string"?`, ${L.documentation}`:`, ${L.documentation.value}`),T.documentation&&(O+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==O&&(C.alert(a.localize(2,null,O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(_){const I=this.renderDisposeables.add(this.markdownRenderer.render(_,{asyncRenderCallback:()=>{var E;(E=this.domNodes)===null||E===void 0||E.scrollbar.scanDomNode()}}));return I.element.classList.add("markdown-docs"),I}hasDocs(_,I){return!!(I&&typeof I.documentation=="string"&&(0,u.assertIsDefined)(I.documentation).length>0||I&&typeof I.documentation=="object"&&(0,u.assertIsDefined)(I.documentation).value.length>0||_.documentation&&typeof _.documentation=="string"&&(0,u.assertIsDefined)(_.documentation).length>0||_.documentation&&typeof _.documentation=="object"&&(0,u.assertIsDefined)(_.documentation.value).length>0)}renderParameters(_,I,E){const[T,k]=this.getParameterLabelOffsets(I,E),A=document.createElement("span");A.textContent=I.label.substring(0,T);const P=document.createElement("span");P.textContent=I.label.substring(T,k),P.className="parameter active";const F=document.createElement("span");F.textContent=I.label.substring(k),w.append(_,A,P,F)}getParameterLabelOffsets(_,I){const E=_.parameters[I];if(E){if(Array.isArray(E.label))return E.label;if(E.label.length){const T=new RegExp(`(\\W|^)${(0,v.escapeRegExpCharacters)(E.label)}(?=\\W|$)`,"g");T.test(_.label);const k=T.lastIndex-E.label.length;return k>=0?[k,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return ki.ID}trigger(_){this.model.trigger(_,0)}updateMaxHeight(){if(!this.domNodes)return;const I=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=I;const E=this.domNodes.element.getElementsByClassName("phwrapper");E.length&&(E[0].style.maxHeight=I)}};p.ID="editor.widget.parameterHintsWidget",p=Be([fe(1,c.IContextKeyService),fe(2,d.IOpenerService),fe(3,t.ILanguageService)],p),e.ParameterHintsWidget=p,e.editorHoverWidgetHighlightForeground=(0,s.registerColor)("editorHoverWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hc:s.listHighlightForeground},a.localize(3,null)),(0,l.registerThemingParticipant)((f,_)=>{const I=f.getColor(s.editorHoverBorder);if(I){const R=f.type===o.ColorScheme.HIGH_CONTRAST?2:1;_.addRule(`.monaco-editor .parameter-hints-widget { border: ${R}px solid ${I}; }`),_.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${I.transparent(.5)}; }`),_.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${I.transparent(.5)}; }`)}const E=f.getColor(s.editorHoverBackground);E&&_.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${E}; }`);const T=f.getColor(s.textLinkForeground);T&&_.addRule(`.monaco-editor .parameter-hints-widget a { color: ${T}; }`);const k=f.getColor(s.textLinkActiveForeground);k&&_.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${k}; }`);const A=f.getColor(s.editorHoverForeground);A&&_.addRule(`.monaco-editor .parameter-hints-widget { color: ${A}; }`);const P=f.getColor(s.textCodeBlockBackground);P&&_.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${P}; }`);const F=f.getColor(e.editorHoverWidgetHighlightForeground);F&&_.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${F}}`)})}),define(Q[687],J([0,1,2,15,24,18,195,545,16,9,686]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let t=class Ni extends w.Disposable{constructor(d,s){super();this.editor=d,this.widget=this._register(s.createInstance(g.ParameterHintsWidget,this.editor))}static get(d){return d.getContribution(Ni.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(d){this.widget.trigger(d)}};t.ID="editor.controller.parameterHints",t=Be([fe(1,u.IInstantiationService)],t);class i extends C.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:N.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(d,s){const r=t.get(s);r&&r.trigger({triggerKind:D.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=i,(0,C.registerEditorContribution)(t.ID,t),(0,C.registerEditorAction)(i);const n=100+75,a=C.EditorCommand.bindToContribution(t.get);(0,C.registerEditorCommand)(new a({id:"closeParameterHints",precondition:S.Context.Visible,handler:c=>c.cancel(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new a({id:"showPrevParameterHint",precondition:v.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:c=>c.previous(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,C.registerEditorCommand)(new a({id:"showNextParameterHint",precondition:v.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:c=>c.next(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(Q[688],J([0,1,33,7,188,19,27,4,72,2,25,29,18,616,44,34,559,258,71,13,272]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function m(_){return`suggest-aria-id:${_}`}e.getAriaId=m,e.suggestMoreInfoIcon=(0,r.registerIcon)("suggest-more-info",S.Codicon.chevronRight,d.localize(0,null));const y=new(h=class xt{extract(I,E){if(I.textLabel.match(xt._regexStrict))return E[0]=I.textLabel,!0;if(I.completion.detail&&I.completion.detail.match(xt._regexStrict))return E[0]=I.completion.detail,!0;if(typeof I.completion.documentation=="string"){const T=xt._regexRelaxed.exec(I.completion.documentation);if(T&&(T.index===0||T.index+T[0].length===I.completion.documentation.length))return E[0]=T[0],!0}return!1}},h._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,h._regexStrict=new RegExp(`^${h._regexRelaxed.source}$`,"i"),h);let p=class{constructor(I,E,T,k){this._editor=I,this._modelService=E,this._languageService=T,this._themeService=k,this._onDidToggleDetails=new b.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(I){const E=Object.create(null);E.disposables=new u.DisposableStore,E.root=I,E.root.classList.add("show-file-icons"),E.icon=(0,C.append)(I,(0,C.$)(".icon")),E.colorspan=(0,C.append)(E.icon,(0,C.$)("span.colorspan"));const T=(0,C.append)(I,(0,C.$)(".contents")),k=(0,C.append)(T,(0,C.$)(".main"));E.iconContainer=(0,C.append)(k,(0,C.$)(".icon-label.codicon")),E.left=(0,C.append)(k,(0,C.$)("span.left")),E.right=(0,C.append)(k,(0,C.$)("span.right")),E.iconLabel=new N.IconLabel(E.left,{supportHighlights:!0,supportIcons:!0}),E.disposables.add(E.iconLabel),E.parametersLabel=(0,C.append)(E.left,(0,C.$)("span.signature-label")),E.qualifierLabel=(0,C.append)(E.left,(0,C.$)("span.qualifier-label")),E.detailsLabel=(0,C.append)(E.right,(0,C.$)("span.details-label")),E.readMore=(0,C.append)(E.right,(0,C.$)("span.readMore"+o.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),E.readMore.title=d.localize(1,null);const A=()=>{const P=this._editor.getOptions(),F=P.get(43),R=F.getMassagedFontFamily(w.isSafari?t.EDITOR_FONT_DEFAULTS.fontFamily:null),M=F.fontFeatureSettings,O=P.get(106)||F.fontSize,L=P.get(107)||F.lineHeight,B=F.fontWeight,x=`${O}px`,U=`${L}px`;E.root.style.fontSize=x,E.root.style.fontWeight=B,k.style.fontFamily=R,k.style.fontFeatureSettings=M,k.style.lineHeight=U,E.icon.style.height=U,E.icon.style.width=U,E.readMore.style.height=U,E.readMore.style.width=U};return A(),E.disposables.add(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(43)||P.hasChanged(106)||P.hasChanged(107))&&A()})),E}renderElement(I,E,T){const{completion:k}=I;T.root.id=m(E),T.colorspan.style.backgroundColor="";const A={labelEscapeNewLines:!0,matches:(0,v.createMatches)(I.score)};let P=[];if(k.kind===19&&y.extract(I,P))T.icon.className="icon customcolor",T.iconContainer.className="icon hide",T.colorspan.style.backgroundColor=P[0];else if(k.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){T.icon.className="icon hide",T.iconContainer.className="icon hide";const F=(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:I.textLabel}),s.FileKind.FILE),R=(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:k.detail}),s.FileKind.FILE);A.extraClasses=F.length>R.length?F:R}else k.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(T.icon.className="icon hide",T.iconContainer.className="icon hide",A.extraClasses=(0,D.flatten)([(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:I.textLabel}),s.FileKind.FOLDER),(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:k.detail}),s.FileKind.FOLDER)])):(T.icon.className="icon hide",T.iconContainer.className="",T.iconContainer.classList.add("suggest-icon",...S.CSSIcon.asClassNameArray(i.CompletionItemKinds.toIcon(k.kind))));k.tags&&k.tags.indexOf(1)>=0&&(A.extraClasses=(A.extraClasses||[]).concat(["deprecated"]),A.matches=[]),T.iconLabel.setLabel(I.textLabel,void 0,A),typeof k.label=="string"?(T.parametersLabel.textContent="",T.detailsLabel.textContent=f(k.detail||""),T.root.classList.add("string-label")):(T.parametersLabel.textContent=f(k.label.detail||""),T.detailsLabel.textContent=f(k.label.description||""),T.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,C.show)(T.detailsLabel):(0,C.hide)(T.detailsLabel),(0,l.canExpandCompletionItem)(I)?(T.right.classList.add("can-expand-details"),(0,C.show)(T.readMore),T.readMore.onmousedown=F=>{F.stopPropagation(),F.preventDefault()},T.readMore.onclick=F=>{F.stopPropagation(),F.preventDefault(),this._onDidToggleDetails.fire()}):(T.right.classList.remove("can-expand-details"),(0,C.hide)(T.readMore),T.readMore.onmousedown=null,T.readMore.onclick=null)}disposeTemplate(I){I.disposables.dispose()}};p=Be([fe(1,a.IModelService),fe(2,c.ILanguageService),fe(3,o.IThemeService)],p),e.ItemRenderer=p;function f(_){return _.replace(/\r\n|\r|\n/g,"")}}),define(Q[689],J([0,1,7,81,50,2,103,9,681,71,13,383]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const t=26;let i=class extends D.Disposable{constructor(c,d){super();this._editor=c,this.instantiationService=d,this.banner=this._register(this.instantiationService.createInstance(n))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(c){this.banner.show(Object.assign(Object.assign({},c),{onClose:()=>{this.hide(),c.onClose&&c.onClose()}})),this._editor.setBanner(this.banner.element,t)}};i=Be([fe(1,b.IInstantiationService)],i),e.BannerController=i;let n=class extends D.Disposable{constructor(c){super();this.instantiationService=c,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,w.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(c){if(c.ariaLabel)return c.ariaLabel;if(typeof c.message=="string")return c.message}getBannerMessage(c){if(typeof c=="string"){const d=(0,w.$)("span");return d.innerText=c,d}return this.markdownRenderer.render(c).element}clear(){(0,w.clearNode)(this.element)}show(c){(0,w.clearNode)(this.element);const d=this.getAriaLabel(c);d&&this.element.setAttribute("aria-label",d);const s=(0,w.append)(this.element,(0,w.$)("div.icon-container"));s.setAttribute("aria-hidden","true"),c.icon&&s.appendChild((0,w.$)(`div${g.ThemeIcon.asCSSSelector(c.icon)}`));const r=(0,w.append)(this.element,(0,w.$)("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(c.message)),this.messageActionsContainer=(0,w.append)(this.element,(0,w.$)("div.message-actions-container")),c.actions)for(const l of c.actions)this._register(this.instantiationService.createInstance(v.Link,this.messageActionsContainer,Object.assign(Object.assign({},l),{tabIndex:-1}),{}));const o=(0,w.append)(this.element,(0,w.$)("div.action-container"));this.actionBar=this._register(new C.ActionBar(o)),this.actionBar.push(this._register(new N.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof c.onClose=="function"&&c.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};n=Be([fe(0,b.IInstantiationService)],n)}),define(Q[690],J([0,1,7,4,71,13]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function S(v){const u=new C.Emitter,g=(0,N.getIconRegistry)();return g.onDidChange(()=>u.fire()),v==null||v.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const t=v?v.getProductIconTheme():new b,i={},n=c=>{const d=t.getIcon(c);if(!d)return;const s=d.font;return s?(i[s.id]=s.getDefinition(),`.codicon-${c.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,w.asCSSPropertyValue)(s.id)}; }`):`.codicon-${c.id}:before { content: '${d.fontCharacter}'; }`},a=[];for(let c of g.getIcons()){const d=n(c);d&&a.push(d)}for(let c in i){const d=i[c];if(d){const s=d.weight?`font-weight: ${d.weight};`:"",r=d.style?`font-style: ${d.style};`:"",o=d.src.map(l=>`${(0,w.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");a.push(`@font-face { src: ${o}; font-family: ${(0,w.asCSSPropertyValue)(c)};${s}${r} font-display: block; }`)}}return a.join(`
`)}}}e.getIconsStyleSheet=S;class b{getIcon(u){const g=(0,N.getIconRegistry)();let t=u.defaults;for(;D.ThemeIcon.isThemeIcon(t);){const i=g.getIcon(t.id);if(!i)return;t=i.defaults}return t}}e.UnthemedProductIconTheme=b}),define(Q[691],J([0,1,7,30,4,18,407,650,36,22,13,2,130,690]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=void 0;const a="vs",c="vs-dark",d="hc-black",s=v.Registry.as(u.Extensions.ColorContribution),r=v.Registry.as(g.Extensions.ThemingContribution);class o{constructor(f,_){this.semanticHighlighting=!1,this.themeData=_;const I=_.base;f.length>0?(l(f)?this.id=f:this.id=I+" "+f,this.themeName=f):(this.id=I,this.themeName=I),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(let _ in this.themeData.colors)f.set(_,C.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){const _=h(this.themeData.base);for(let I in _.colors)f.has(I)||f.set(I,C.Color.fromHex(_.colors[I]))}this.colors=f}return this.colors}getColor(f,_){const I=this.getColors().get(f);if(I)return I;if(_!==!1)return this.getDefault(f)}getDefault(f){let _=this.defaultColors[f];return _||(_=s.resolveDefaultColor(f,this),this.defaultColors[f]=_,_)}defines(f){return Object.prototype.hasOwnProperty.call(this.getColors(),f)}get type(){switch(this.base){case a:return i.ColorScheme.LIGHT;case d:return i.ColorScheme.HIGH_CONTRAST;default:return i.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],_=[];if(this.themeData.inherit){const T=h(this.themeData.base);f=T.rules,T.encodedTokensColors&&(_=T.encodedTokensColors)}const I=this.themeData.colors["editor.foreground"],E=this.themeData.colors["editor.background"];if(I||E){const T={token:""};I&&(T.foreground=I),E&&(T.background=E),f.push(T)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(f,_)}return this._tokenTheme}getTokenStyleMetadata(f,_,I){const T=this.tokenTheme._match([f].concat(_).join(".")).metadata,k=D.TokenMetadata.getForeground(T),A=D.TokenMetadata.getFontStyle(T);return{foreground:k,italic:Boolean(A&1),bold:Boolean(A&2),underline:Boolean(A&4),strikethrough:Boolean(A&8)}}}function l(p){return p===a||p===c||p===d}function h(p){switch(p){case a:return b.vs;case c:return b.vs_dark;case d:return b.hc_black}}function m(p){const f=h(p);return new o(p,f)}class y extends t.Disposable{constructor(){super();this._onColorThemeChange=this._register(new N.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new N.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(a,m(a)),this._knownThemes.set(c,m(c)),this._knownThemes.set(d,m(d));const f=(0,n.getIconsStyleSheet)(this);this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(a),f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()}),w.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(f){return w.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=w.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(f){const _=w.createStyleSheet(f);return _.className="monaco-colors",_.textContent=this._allCSS,this._styleElements.push(_),{dispose:()=>{for(let I=0;I<this._styleElements.length;I++)if(this._styleElements[I]===_){this._styleElements.splice(I,1);return}}}}defineTheme(f,_){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!l(_.base)&&!l(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new o(f,_)),l(f)&&this._knownThemes.forEach(I=>{I.base===f&&I.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let _;this._knownThemes.has(f)?_=this._knownThemes.get(f):_=this._knownThemes.get(a),this._desiredTheme=_,this._updateActualTheme()}_updateActualTheme(){const f=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(d):this._desiredTheme;this._theme!==f&&(this._theme=f,this._updateThemeOrColorMap())}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._updateActualTheme()}_updateThemeOrColorMap(){const f=[],_={},I={addRule:k=>{_[k]||(f.push(k),_[k]=!0)}};r.getThemingParticipants().forEach(k=>k(this._theme,I,this._environment));const E=[];for(const k of s.getColors()){const A=this._theme.getColor(k.id,!0);A&&E.push(`${(0,u.asCssVariableName)(k.id)}: ${A.toString()};`)}I.addRule(`.monaco-editor { ${E.join(`
`)} }`);const T=this._colorMapOverride||this._theme.tokenTheme.getColorMap();I.addRule((0,S.generateTokensCSSForColorMap)(T)),this._themeCSS=f.join(`
`),this._updateCSS(),D.TokenizationRegistry.setColorMap(T),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=y}),define(Q[157],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,w.createDecorator)("undoRedoService");class C{constructor(b,v){this.resource=b,this.elements=v}}e.ResourceEditStackSnapshot=C;class N{constructor(){this.id=N._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=N,N._ID=0,N.None=new N;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(Q[32],J([0,1,19,30,14,4,2,8,25,29,11,3,21,53,587,641,257,178,413,414,238,417,91,147,588,118,590,591,148,35,34,157]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function P(){return new h.PieceTreeTextBufferBuilder}function F(de){const q=P();return q.acceptChunk(de),q.finish()}e.createTextBufferFactory=F;function R(de,q){return(typeof de=="string"?F(de):de).create(q)}e.createTextBuffer=R;let M=0;const O=999;e.LONG_LINE_BOUNDARY=1e4;class L{constructor(q){this._source=q,this._eos=!1}read(){if(this._eos)return null;const q=[];let z=0,$=0;do{const se=this._source.read();if(se===null)return this._eos=!0,z===0?null:q.join("");if(se.length>0&&(q[z++]=se,$+=se.length),$>=64*1024)return q.join("")}while(!0)}}const B=()=>{throw new Error("Invalid change accessor")};let x=class vt extends S.Disposable{constructor(q,z,$,se=null,te,ae,me){super();this._undoRedoService=te,this._languageService=ae,this._languageConfigurationService=me,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ce(ue=>this.handleBeforeFireDecorationsChangedEvent(ue))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new D.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new ie),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new D.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(ue=>{this._onDidChangeContentOrInjectedText.fire(ue.rawContentChangedEvent)})),M++,this.id="$model"+M,this.isForSimpleWidget=$.isForSimpleWidget,typeof se=="undefined"||se===null?this._associatedResource=v.URI.parse("inmemory://model/"+M):this._associatedResource=se,this._attachedEditorCount=0;const{textBuffer:_e,disposable:we}=R(q,$.defaultEOL);this._buffer=_e,this._bufferDisposable=we,this._options=vt.resolveOptions(this._buffer,$);const le=this._buffer.getLineCount(),he=this._buffer.getValueLengthInRange(new t.Range(1,1,le,this._buffer.getLineLength(le)+1),0);$.largeFileOptimizations?this._isTooLargeForTokenization=he>vt.LARGE_FILE_SIZE_THRESHOLD||le>vt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=he>vt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=z,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ue=>{ue.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=b.singleLetterHash(M),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ee,this._commandManager=new d.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new _.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new I.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new p.TextModelTokenization(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new a.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new s.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new c.ColorizedBracketPairsDecorationProvider(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(q,z){if(z.detectIndentation){const $=(0,r.guessIndentation)(q,z.tabSize,z.insertSpaces);return new n.TextModelResolvedOptions({tabSize:$.tabSize,indentSize:$.tabSize,insertSpaces:$.insertSpaces,trimAutoWhitespace:z.trimAutoWhitespace,defaultEOL:z.defaultEOL,bracketPairColorizationOptions:z.bracketPairColorizationOptions})}return new n.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.indentSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:z.trimAutoWhitespace,defaultEOL:z.defaultEOL,bracketPairColorizationOptions:z.bracketPairColorizationOptions})}onDidChangeContentFast(q){return this._eventEmitter.fastEvent(z=>q(z.contentChangedEvent))}onDidChangeContent(q){return this._eventEmitter.slowEvent(z=>q(z.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(q){if(this._backgroundTokenizationState===2)return;const z=q?2:1;this._backgroundTokenizationState!==z&&(this._backgroundTokenizationState=z,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const q=new l.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);q.dispose(),this._buffer=q}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(q,z){this._bracketPairColorizer.handleContentChanged(z),!this._isDisposing&&this._eventEmitter.fire(new m.InternalModelContentChangeEvent(q,z))}setValue(q){if(this._assertNotDisposed(),q===null)return;const{textBuffer:z,disposable:$}=R(q,this._options.defaultEOL);this._setValueFromTextBuffer(z,$)}_createContentChanged2(q,z,$,se,te,ae,me){return{changes:[{range:q,rangeOffset:z,rangeLength:$,text:se}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:te,isRedoing:ae,isFlush:me}}_setValueFromTextBuffer(q,z){this._assertNotDisposed();const $=this.getFullModelRange(),se=this.getValueLengthInRange($),te=this.getLineCount(),ae=this.getLineMaxColumn(te);this._buffer=q,this._bufferDisposable.dispose(),this._bufferDisposable=z,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new ee,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new m.ModelRawContentChangedEvent([new m.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,te,ae),0,se,this.getValue(),!1,!1,!0))}setEOL(q){this._assertNotDisposed();const z=q===1?`\r
`:`
`;if(this._buffer.getEOL()===z)return;const $=this.getFullModelRange(),se=this.getValueLengthInRange($),te=this.getLineCount(),ae=this.getLineMaxColumn(te);this._onBeforeEOLChange(),this._buffer.setEOL(z),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new m.ModelRawContentChangedEvent([new m.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,te,ae),0,se,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const q=this.getVersionId(),z=this._decorationsTree.collectNodesPostOrder();for(let $=0,se=z.length;$<se;$++){const te=z[$],ae=te.range,me=te.cachedAbsoluteStart-te.start,_e=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),we=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);te.cachedAbsoluteStart=_e,te.cachedAbsoluteEnd=we,te.cachedVersionId=q,te.start=_e-me,te.end=we-me,(0,o.recomputeMaxEnd)(te)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let q=0,z=0;const $=this._buffer.getLineCount();for(let se=1;se<=$;se++){const te=this._buffer.getLineLength(se);te>=e.LONG_LINE_BOUNDARY?z+=te:q+=te}return z>q}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(q){this._assertNotDisposed();const z=typeof q.tabSize!="undefined"?q.tabSize:this._options.tabSize,$=typeof q.indentSize!="undefined"?q.indentSize:this._options.indentSize,se=typeof q.insertSpaces!="undefined"?q.insertSpaces:this._options.insertSpaces,te=typeof q.trimAutoWhitespace!="undefined"?q.trimAutoWhitespace:this._options.trimAutoWhitespace,ae=typeof q.bracketColorizationOptions!="undefined"?q.bracketColorizationOptions:this._options.bracketPairColorizationOptions,me=new n.TextModelResolvedOptions({tabSize:z,indentSize:$,insertSpaces:se,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:te,bracketPairColorizationOptions:ae});if(this._options.equals(me))return;const _e=this._options.createChangeEvent(me);this._options=me,this._onDidChangeOptions.fire(_e)}detectIndentation(q,z){this._assertNotDisposed();const $=(0,r.guessIndentation)(this._buffer,z,q);this.updateOptions({insertSpaces:$.insertSpaces,tabSize:$.tabSize,indentSize:$.tabSize})}static _normalizeIndentationFromWhitespace(q,z,$){let se=0;for(let ae=0;ae<q.length;ae++)q.charAt(ae)==="	"?se+=z:se++;let te="";if(!$){const ae=Math.floor(se/z);se=se%z;for(let me=0;me<ae;me++)te+="	"}for(let ae=0;ae<se;ae++)te+=" ";return te}static normalizeIndentation(q,z,$){let se=b.firstNonWhitespaceIndex(q);return se===-1&&(se=q.length),vt._normalizeIndentationFromWhitespace(q.substring(0,se),z,$)+q.substring(se)}normalizeIndentation(q){return this._assertNotDisposed(),vt.normalizeIndentation(q,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(q=null){const z=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(q,z.map($=>({range:$.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(q){this._assertNotDisposed();const z=this._validatePosition(q.lineNumber,q.column,0);return this._buffer.getOffsetAt(z.lineNumber,z.column)}getPositionAt(q){this._assertNotDisposed();const z=Math.min(this._buffer.getLength(),Math.max(0,q));return this._buffer.getPositionAt(z)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(q){this._versionId=q}_overwriteAlternativeVersionId(q){this._alternativeVersionId=q}_overwriteInitialUndoRedoSnapshot(q){this._initialUndoRedoSnapshot=q}getValue(q,z=!1){this._assertNotDisposed();const $=this.getFullModelRange(),se=this.getValueInRange($,q);return z?this._buffer.getBOM()+se:se}createSnapshot(q=!1){return new L(this._buffer.createSnapshot(q))}getValueLength(q,z=!1){this._assertNotDisposed();const $=this.getFullModelRange(),se=this.getValueLengthInRange($,q);return z?this._buffer.getBOM().length+se:se}getValueInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(q),z)}getValueLengthInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(q),z)}getCharacterCountInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(q),z)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(q)}getLineLength(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(q){return this._assertNotDisposed(),1}getLineMaxColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)+1}getLineFirstNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(q)}getLineLastNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(q)}_validateRangeRelaxedNoAllocations(q){const z=this._buffer.getLineCount(),$=q.startLineNumber,se=q.startColumn;let te=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ae=Math.floor(typeof se=="number"&&!isNaN(se)?se:1);if(te<1)te=1,ae=1;else if(te>z)te=z,ae=this.getLineMaxColumn(te);else if(ae<=1)ae=1;else{const he=this.getLineMaxColumn(te);ae>=he&&(ae=he)}const me=q.endLineNumber,_e=q.endColumn;let we=Math.floor(typeof me=="number"&&!isNaN(me)?me:1),le=Math.floor(typeof _e=="number"&&!isNaN(_e)?_e:1);if(we<1)we=1,le=1;else if(we>z)we=z,le=this.getLineMaxColumn(we);else if(le<=1)le=1;else{const he=this.getLineMaxColumn(we);le>=he&&(le=he)}return $===te&&se===ae&&me===we&&_e===le&&q instanceof t.Range&&!(q instanceof i.Selection)?q:new t.Range(te,ae,we,le)}_isValidPosition(q,z,$){if(typeof q!="number"||typeof z!="number"||isNaN(q)||isNaN(z)||q<1||z<1||(q|0)!==q||(z|0)!==z)return!1;const se=this._buffer.getLineCount();if(q>se)return!1;if(z===1)return!0;const te=this.getLineMaxColumn(q);if(z>te)return!1;if($===1){const ae=this._buffer.getLineCharCode(q,z-2);if(b.isHighSurrogate(ae))return!1}return!0}_validatePosition(q,z,$){const se=Math.floor(typeof q=="number"&&!isNaN(q)?q:1),te=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),ae=this._buffer.getLineCount();if(se<1)return new g.Position(1,1);if(se>ae)return new g.Position(ae,this.getLineMaxColumn(ae));if(te<=1)return new g.Position(se,1);const me=this.getLineMaxColumn(se);if(te>=me)return new g.Position(se,me);if($===1){const _e=this._buffer.getLineCharCode(se,te-2);if(b.isHighSurrogate(_e))return new g.Position(se,te-1)}return new g.Position(se,te)}validatePosition(q){const z=1;return this._assertNotDisposed(),q instanceof g.Position&&this._isValidPosition(q.lineNumber,q.column,z)?q:this._validatePosition(q.lineNumber,q.column,z)}_isValidRange(q,z){const $=q.startLineNumber,se=q.startColumn,te=q.endLineNumber,ae=q.endColumn;if(!this._isValidPosition($,se,0)||!this._isValidPosition(te,ae,0))return!1;if(z===1){const me=se>1?this._buffer.getLineCharCode($,se-2):0,_e=ae>1&&ae<=this._buffer.getLineLength(te)?this._buffer.getLineCharCode(te,ae-2):0,we=b.isHighSurrogate(me),le=b.isHighSurrogate(_e);return!we&&!le}return!0}validateRange(q){const z=1;if(this._assertNotDisposed(),q instanceof t.Range&&!(q instanceof i.Selection)&&this._isValidRange(q,z))return q;const $=this._validatePosition(q.startLineNumber,q.startColumn,0),se=this._validatePosition(q.endLineNumber,q.endColumn,0),te=$.lineNumber,ae=$.column,me=se.lineNumber,_e=se.column;if(z===1){const we=ae>1?this._buffer.getLineCharCode(te,ae-2):0,le=_e>1&&_e<=this._buffer.getLineLength(me)?this._buffer.getLineCharCode(me,_e-2):0,he=b.isHighSurrogate(we),ue=b.isHighSurrogate(le);return!he&&!ue?new t.Range(te,ae,me,_e):te===me&&ae===_e?new t.Range(te,ae-1,me,_e-1):he&&ue?new t.Range(te,ae-1,me,_e+1):he?new t.Range(te,ae-1,me,_e):new t.Range(te,ae,me,_e+1)}return new t.Range(te,ae,me,_e)}modifyPosition(q,z){this._assertNotDisposed();const $=this.getOffsetAt(q)+z;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,$)))}getFullModelRange(){this._assertNotDisposed();const q=this.getLineCount();return new t.Range(1,1,q,this.getLineMaxColumn(q))}findMatchesLineByLine(q,z,$,se){return this._buffer.findMatchesLineByLine(q,z,$,se)}findMatches(q,z,$,se,te,ae,me=O){this._assertNotDisposed();let _e=null;z!==null&&(Array.isArray(z)||(z=[z]),z.every(he=>t.Range.isIRange(he))&&(_e=z.map(he=>this.validateRange(he)))),_e===null&&(_e=[this.getFullModelRange()]),_e=_e.sort((he,ue)=>he.startLineNumber-ue.startLineNumber||he.startColumn-ue.startColumn);const we=[];we.push(_e.reduce((he,ue)=>t.Range.areIntersecting(he,ue)?he.plusRange(ue):(we.push(he),ue)));let le;if(!$&&q.indexOf(`
`)<0){const ue=new y.SearchParams(q,$,se,te).parseSearchRequest();if(!ue)return[];le=ve=>this.findMatchesLineByLine(ve,ue,ae,me)}else le=he=>y.TextModelSearch.findMatches(this,new y.SearchParams(q,$,se,te),he,ae,me);return we.map(le).reduce((he,ue)=>he.concat(ue),[])}findNextMatch(q,z,$,se,te,ae){this._assertNotDisposed();const me=this.validatePosition(z);if(!$&&q.indexOf(`
`)<0){const we=new y.SearchParams(q,$,se,te).parseSearchRequest();if(!we)return null;const le=this.getLineCount();let he=new t.Range(me.lineNumber,me.column,le,this.getLineMaxColumn(le)),ue=this.findMatchesLineByLine(he,we,ae,1);return y.TextModelSearch.findNextMatch(this,new y.SearchParams(q,$,se,te),me,ae),ue.length>0||(he=new t.Range(1,1,me.lineNumber,this.getLineMaxColumn(me.lineNumber)),ue=this.findMatchesLineByLine(he,we,ae,1),ue.length>0)?ue[0]:null}return y.TextModelSearch.findNextMatch(this,new y.SearchParams(q,$,se,te),me,ae)}findPreviousMatch(q,z,$,se,te,ae){this._assertNotDisposed();const me=this.validatePosition(z);return y.TextModelSearch.findPreviousMatch(this,new y.SearchParams(q,$,se,te),me,ae)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(q){if((this.getEOL()===`
`?0:1)!==q)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(q){return q instanceof n.ValidAnnotatedEditOperation?q:new n.ValidAnnotatedEditOperation(q.identifier||null,this.validateRange(q.range),q.text,q.forceMoveMarkers||!1,q.isAutoWhitespaceEdit||!1,q._isTracked||!1)}_validateEditOperations(q){const z=[];for(let $=0,se=q.length;$<se;$++)z[$]=this._validateEditOperation(q[$]);return z}pushEditOperations(q,z,$){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(q,this._validateEditOperations(z),$)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(q,z,$){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const se=z.map(ae=>({range:this.validateRange(ae.range),text:ae.text}));let te=!0;if(q)for(let ae=0,me=q.length;ae<me;ae++){const _e=q[ae];let we=!1;for(let le=0,he=se.length;le<he;le++){const ue=se[le].range,ve=ue.startLineNumber>_e.endLineNumber,re=_e.startLineNumber>ue.endLineNumber;if(!ve&&!re){we=!0;break}}if(!we){te=!1;break}}if(te)for(let ae=0,me=this._trimAutoWhitespaceLines.length;ae<me;ae++){const _e=this._trimAutoWhitespaceLines[ae],we=this.getLineMaxColumn(_e);let le=!0;for(let he=0,ue=se.length;he<ue;he++){const ve=se[he].range,re=se[he].text;if(!(_e<ve.startLineNumber||_e>ve.endLineNumber)&&!(_e===ve.startLineNumber&&ve.startColumn===we&&ve.isEmpty()&&re&&re.length>0&&re.charAt(0)===`
`)&&!(_e===ve.startLineNumber&&ve.startColumn===1&&ve.isEmpty()&&re&&re.length>0&&re.charAt(re.length-1)===`
`)){le=!1;break}}if(le){const he=new t.Range(_e,1,_e,we);z.push(new n.ValidAnnotatedEditOperation(null,he,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(q,z,$)}_applyUndo(q,z,$,se){const te=q.map(ae=>{const me=this.getPositionAt(ae.newPosition),_e=this.getPositionAt(ae.newEnd);return{range:new t.Range(me.lineNumber,me.column,_e.lineNumber,_e.column),text:ae.oldText}});this._applyUndoRedoEdits(te,z,!0,!1,$,se)}_applyRedo(q,z,$,se){const te=q.map(ae=>{const me=this.getPositionAt(ae.oldPosition),_e=this.getPositionAt(ae.oldEnd);return{range:new t.Range(me.lineNumber,me.column,_e.lineNumber,_e.column),text:ae.newText}});this._applyUndoRedoEdits(te,z,!1,!0,$,se)}_applyUndoRedoEdits(q,z,$,se,te,ae){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=$,this._isRedoing=se,this.applyEdits(q,!1),this.setEOL(z),this._overwriteAlternativeVersionId(te)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ae),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(q,z=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const $=this._validateEditOperations(q);return this._doApplyEdits($,z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(q,z){const $=this._buffer.getLineCount(),se=this._buffer.applyEdits(q,this._options.trimAutoWhitespace,z),te=this._buffer.getLineCount(),ae=se.changes;if(this._trimAutoWhitespaceLines=se.trimAutoWhitespaceLineNumbers,ae.length!==0){for(let we=0,le=ae.length;we<le;we++){const he=ae[we],[ue,ve,re]=(0,f.countEOL)(he.text);this._tokens.acceptEdit(he.range,ue,ve),this._semanticTokens.acceptEdit(he.range,ue,ve,re,he.text.length>0?he.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(he.rangeOffset,he.rangeLength,he.text.length,he.forceMoveMarkers)}const me=[];this._increaseVersionId();let _e=$;for(let we=0,le=ae.length;we<le;we++){const he=ae[we],[ue]=(0,f.countEOL)(he.text);this._onDidChangeDecorations.fire();const ve=he.range.startLineNumber,re=he.range.endLineNumber,ge=re-ve,ye=ue,Ae=Math.min(ge,ye),Oe=ye-ge,He=te-_e-Oe+ve,Ve=He,Ge=He+ye,Je=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new g.Position(Ve,1)),this.getOffsetAt(new g.Position(Ge,this.getLineMaxColumn(Ge))),0),Ze=m.LineInjectedText.fromDecorations(Je),et=new w.ArrayQueue(Ze);for(let Ee=Ae;Ee>=0;Ee--){const Ie=ve+Ee,Re=He+Ee;et.takeFromEndWhile(Ne=>Ne.lineNumber>Re);const Ue=et.takeFromEndWhile(Ne=>Ne.lineNumber===Re);me.push(new m.ModelRawLineChanged(Ie,this.getLineContent(Re),Ue))}if(Ae<ge){const Ee=ve+Ae;me.push(new m.ModelRawLinesDeleted(Ee+1,re))}if(Ae<ye){const Ee=new w.ArrayQueue(Ze),Ie=ve+Ae,Re=ye-Ae,Ue=te-_e-Re+Ie+1,Ne=[],ke=[];for(let Te=0;Te<Re;Te++){const pe=Ue+Te;ke[Te]=this.getLineContent(pe),Ee.takeWhile(Ce=>Ce.lineNumber<pe),Ne[Te]=Ee.takeWhile(Ce=>Ce.lineNumber===pe)}me.push(new m.ModelRawLinesInserted(Ie+1,ve+ye,ke,Ne))}_e+=Oe}this._emitContentChangedEvent(new m.ModelRawContentChangedEvent(me,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ae,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return se.reverseEdits===null?void 0:se.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(q){if(q===null||q.size===0)return;const $=[...q].map(se=>new m.ModelRawLineChanged(se,this.getLineContent(se),this._getInjectedTextInLine(se)));this._onDidChangeContentOrInjectedText.fire(new m.ModelInjectedTextChangedEvent($))}changeDecorations(q,z=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(z,q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(q,z){const $={addDecoration:(te,ae)=>this._deltaDecorationsImpl(q,[],[{range:te,options:ae}])[0],changeDecoration:(te,ae)=>{this._changeDecorationImpl(te,ae)},changeDecorationOptions:(te,ae)=>{this._changeDecorationOptionsImpl(te,oe(ae))},removeDecoration:te=>{this._deltaDecorationsImpl(q,[te],[])},deltaDecorations:(te,ae)=>te.length===0&&ae.length===0?[]:this._deltaDecorationsImpl(q,te,ae)};let se=null;try{se=z($)}catch(te){(0,N.onUnexpectedError)(te)}return $.addDecoration=B,$.changeDecoration=B,$.changeDecorationOptions=B,$.removeDecoration=B,$.deltaDecorations=B,se}deltaDecorations(q,z,$=0){if(this._assertNotDisposed(),q||(q=[]),q.length===0&&z.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl($,q,z)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(q){return this.getDecorationRange(q)}_setTrackedRange(q,z,$){const se=q?this._decorations[q]:null;if(!se)return z?this._deltaDecorationsImpl(0,[],[{range:z,options:G[$]}])[0]:null;if(!z)return this._decorationsTree.delete(se),delete this._decorations[se.id],null;const te=this._validateRangeRelaxedNoAllocations(z),ae=this._buffer.getOffsetAt(te.startLineNumber,te.startColumn),me=this._buffer.getOffsetAt(te.endLineNumber,te.endColumn);return this._decorationsTree.delete(se),se.reset(this.getVersionId(),ae,me,te),se.setOptions(G[$]),this._decorationsTree.insert(se),se.id}removeAllDecorationsWithOwnerId(q){if(this._isDisposed)return;const z=this._decorationsTree.collectNodesFromOwner(q);for(let $=0,se=z.length;$<se;$++){const te=z[$];this._decorationsTree.delete(te),delete this._decorations[te.id]}}getDecorationOptions(q){const z=this._decorations[q];return z?z.options:null}getDecorationRange(q){const z=this._decorations[q];return z?this._decorationsTree.getNodeRange(this,z):null}getLineDecorations(q,z=0,$=!1){return q<1||q>this.getLineCount()?[]:this.getLinesDecorations(q,q,z,$)}getLinesDecorations(q,z,$=0,se=!1){const te=this.getLineCount(),ae=Math.min(te,Math.max(1,q)),me=Math.min(te,Math.max(1,z)),_e=this.getLineMaxColumn(me),we=new t.Range(ae,1,me,_e),le=this._getDecorationsInRange(we,$,se);return le.push(...this._decorationProvider.getDecorationsInRange(we,$,se)),le}getDecorationsInRange(q,z=0,$=!1){const se=this.validateRange(q),te=this._getDecorationsInRange(se,z,$);return te.push(...this._decorationProvider.getDecorationsInRange(se,z,$)),te}getOverviewRulerDecorations(q=0,z=!1){return this._decorationsTree.getAll(this,q,z,!0)}getInjectedTextDecorations(q=0){return this._decorationsTree.getAllInjectedText(this,q)}_getInjectedTextInLine(q){const z=this._buffer.getOffsetAt(q,1),$=z+this._buffer.getLineLength(q),se=this._decorationsTree.getInjectedTextInInterval(this,z,$,0);return m.LineInjectedText.fromDecorations(se).filter(te=>te.lineNumber===q)}getAllDecorations(q=0,z=!1){let $=this._decorationsTree.getAll(this,q,z,!1);return $=$.concat(this._decorationProvider.getAllDecorations(q,z)),$}_getDecorationsInRange(q,z,$){const se=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),te=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);return this._decorationsTree.getAllInInterval(this,se,te,z,$)}getRangeAt(q,z){return this._buffer.getRangeAt(q,z-q)}_changeDecorationImpl(q,z){const $=this._decorations[q];if(!$)return;if($.options.after){const me=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if($.options.before){const me=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}const se=this._validateRangeRelaxedNoAllocations(z),te=this._buffer.getOffsetAt(se.startLineNumber,se.startColumn),ae=this._buffer.getOffsetAt(se.endLineNumber,se.endColumn);this._decorationsTree.delete($),$.reset(this.getVersionId(),te,ae,se),this._decorationsTree.insert($),this._onDidChangeDecorations.checkAffectedAndFire($.options),$.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.endLineNumber),$.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.startLineNumber)}_changeDecorationOptionsImpl(q,z){const $=this._decorations[q];if(!$)return;const se=!!($.options.overviewRuler&&$.options.overviewRuler.color),te=!!(z.overviewRuler&&z.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire($.options),this._onDidChangeDecorations.checkAffectedAndFire(z),$.options.after||z.after){const ae=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber)}if($.options.before||z.before){const ae=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}se!==te?(this._decorationsTree.delete($),$.setOptions(z),this._decorationsTree.insert($)):$.setOptions(z)}_deltaDecorationsImpl(q,z,$){const se=this.getVersionId(),te=z.length;let ae=0;const me=$.length;let _e=0;const we=new Array(me);for(;ae<te||_e<me;){let le=null;if(ae<te){do le=this._decorations[z[ae++]];while(!le&&ae<te);if(le){if(le.options.after){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(le.options.before){const he=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}this._decorationsTree.delete(le),this._onDidChangeDecorations.checkAffectedAndFire(le.options)}}if(_e<me){if(!le){const ye=++this._lastDecorationId,Ae=`${this._instanceId};${ye}`;le=new o.IntervalNode(Ae,0,0),this._decorations[Ae]=le}const he=$[_e],ue=this._validateRangeRelaxedNoAllocations(he.range),ve=oe(he.options),re=this._buffer.getOffsetAt(ue.startLineNumber,ue.startColumn),ge=this._buffer.getOffsetAt(ue.endLineNumber,ue.endColumn);le.ownerId=q,le.reset(se,re,ge,ue),le.setOptions(ve),le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber),le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ve),this._decorationsTree.insert(le),we[_e]=le.id,_e++}else le&&delete this._decorations[le.id]}return we}setTokens(q,z=!1){if(q.length!==0){const $=[];for(let se=0,te=q.length;se<te;se++){const ae=q[se];let me=0,_e=0,we=!1;for(let le=ae.startLineNumber;le<=ae.endLineNumber;le++)we?(this._tokens.setTokens(this._languageId,le-1,this._buffer.getLineLength(le),ae.getLineTokens(le),!1),_e=le):this._tokens.setTokens(this._languageId,le-1,this._buffer.getLineLength(le),ae.getLineTokens(le),!0)&&(we=!0,me=le,_e=le);we&&$.push({fromLineNumber:me,toLineNumber:_e})}$.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:$})}this.handleTokenizationProgress(z)}setSemanticTokens(q,z){this._semanticTokens.set(q,z),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:q!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(q,z){if(this.hasCompleteSemanticTokens())return;const $=this._semanticTokens.setPartial(q,z);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:$.startLineNumber,toLineNumber:$.endLineNumber}]})}tokenizeViewport(q,z){q=Math.max(1,q),z=Math.min(this._buffer.getLineCount(),z),this._tokenization.tokenizeViewport(q,z)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(q){this._isDisposing||this._onDidChangeTokens.fire(q)}resetTokenization(){this._tokenization.reset()}forceTokenization(q){if(q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(q)}isCheapToTokenize(q){return this._tokenization.isCheapToTokenize(q)}tokenizeIfCheap(q){this.isCheapToTokenize(q)&&this.forceTokenization(q)}getLineTokens(q){if(q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(q)}_getLineTokens(q){const z=this.getLineContent(q),$=this._tokens.getTokens(this._languageId,q-1,z);return this._semanticTokens.addSparseTokens(q,$)}getLanguageId(){return this._languageId}setMode(q){if(this._languageId===q)return;const z={oldLanguage:this._languageId,newLanguage:q};this._languageId=q,this._onDidChangeLanguage.fire(z),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(q,z){const $=this.validatePosition(new g.Position(q,z)),se=this.getLineTokens($.lineNumber);return se.getLanguageId(se.findTokenIndexAtOffset($.column-1))}getTokenTypeIfInsertingCharacter(q,z,$){const se=this.validatePosition(new g.Position(q,z));return this._tokenization.getTokenTypeIfInsertingCharacter(se,$)}getLanguageConfiguration(q){return this._languageConfigurationService.getLanguageConfiguration(q)}getWordAtPosition(q){this._assertNotDisposed();const z=this.validatePosition(q),$=this.getLineContent(z.lineNumber),se=this._getLineTokens(z.lineNumber),te=se.findTokenIndexAtOffset(z.column-1),[ae,me]=vt._findLanguageBoundaries(se,te),_e=(0,E.getWordAtText)(z.column,this.getLanguageConfiguration(se.getLanguageId(te)).getWordDefinition(),$.substring(ae,me),ae);if(_e&&_e.startColumn<=q.column&&q.column<=_e.endColumn)return _e;if(te>0&&ae===z.column-1){const[we,le]=vt._findLanguageBoundaries(se,te-1),he=(0,E.getWordAtText)(z.column,this.getLanguageConfiguration(se.getLanguageId(te-1)).getWordDefinition(),$.substring(we,le),we);if(he&&he.startColumn<=q.column&&q.column<=he.endColumn)return he}return null}static _findLanguageBoundaries(q,z){const $=q.getLanguageId(z);let se=0;for(let ae=z;ae>=0&&q.getLanguageId(ae)===$;ae--)se=q.getStartOffset(ae);let te=q.getLineContent().length;for(let ae=z,me=q.getCount();ae<me&&q.getLanguageId(ae)===$;ae++)te=q.getEndOffset(ae);return[se,te]}getWordUntilPosition(q){const z=this.getWordAtPosition(q);return z?{word:z.word.substr(0,q.column-z.startColumn),startColumn:z.startColumn,endColumn:q.column}:{word:"",startColumn:q.column,endColumn:q.column}}normalizePosition(q,z){return q}getLineIndentColumn(q){return U(this.getLineContent(q))+1}};x.MODEL_SYNC_LIMIT=50*1024*1024,x.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,x.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,x.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:u.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:u.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:u.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:u.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:u.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:u.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},x=Be([fe(4,A.IUndoRedoService),fe(5,k.ILanguageService),fe(6,T.ILanguageConfigurationService)],x),e.TextModel=x;function U(de){let q=0;for(const z of de)if(z===" "||z==="	")q++;else break;return q}function K(de){return!!(de.options.overviewRuler&&de.options.overviewRuler.color)}function Z(de){return!!de.options.after||!!de.options.before}class ee{constructor(){this._decorationsTree0=new o.IntervalTree,this._decorationsTree1=new o.IntervalTree,this._injectedTextDecorationsTree=new o.IntervalTree}ensureAllNodesHaveRanges(q){this.getAll(q,0,!1,!1)}_ensureNodesHaveRanges(q,z){for(const $ of z)$.range===null&&($.range=q.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd));return z}getAllInInterval(q,z,$,se,te){const ae=q.getVersionId(),me=this._intervalSearch(z,$,se,te,ae);return this._ensureNodesHaveRanges(q,me)}_intervalSearch(q,z,$,se,te){const ae=this._decorationsTree0.intervalSearch(q,z,$,se,te),me=this._decorationsTree1.intervalSearch(q,z,$,se,te),_e=this._injectedTextDecorationsTree.intervalSearch(q,z,$,se,te);return ae.concat(me).concat(_e)}getInjectedTextInInterval(q,z,$,se){const te=q.getVersionId(),ae=this._injectedTextDecorationsTree.intervalSearch(z,$,se,!1,te);return this._ensureNodesHaveRanges(q,ae).filter(me=>me.options.showIfCollapsed||!me.range.isEmpty())}getAllInjectedText(q,z){const $=q.getVersionId(),se=this._injectedTextDecorationsTree.search(z,!1,$);return this._ensureNodesHaveRanges(q,se).filter(te=>te.options.showIfCollapsed||!te.range.isEmpty())}getAll(q,z,$,se){const te=q.getVersionId(),ae=this._search(z,$,se,te);return this._ensureNodesHaveRanges(q,ae)}_search(q,z,$,se){if($)return this._decorationsTree1.search(q,z,se);{const te=this._decorationsTree0.search(q,z,se),ae=this._decorationsTree1.search(q,z,se),me=this._injectedTextDecorationsTree.search(q,z,se);return te.concat(ae).concat(me)}}collectNodesFromOwner(q){const z=this._decorationsTree0.collectNodesFromOwner(q),$=this._decorationsTree1.collectNodesFromOwner(q),se=this._injectedTextDecorationsTree.collectNodesFromOwner(q);return z.concat($).concat(se)}collectNodesPostOrder(){const q=this._decorationsTree0.collectNodesPostOrder(),z=this._decorationsTree1.collectNodesPostOrder(),$=this._injectedTextDecorationsTree.collectNodesPostOrder();return q.concat(z).concat($)}insert(q){Z(q)?this._injectedTextDecorationsTree.insert(q):K(q)?this._decorationsTree1.insert(q):this._decorationsTree0.insert(q)}delete(q){Z(q)?this._injectedTextDecorationsTree.delete(q):K(q)?this._decorationsTree1.delete(q):this._decorationsTree0.delete(q)}getNodeRange(q,z){const $=q.getVersionId();return z.cachedVersionId!==$&&this._resolveNode(z,$),z.range===null&&(z.range=q.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd)),z.range}_resolveNode(q,z){Z(q)?this._injectedTextDecorationsTree.resolveNode(q,z):K(q)?this._decorationsTree1.resolveNode(q,z):this._decorationsTree0.resolveNode(q,z)}acceptReplace(q,z,$,se){this._decorationsTree0.acceptReplace(q,z,$,se),this._decorationsTree1.acceptReplace(q,z,$,se),this._injectedTextDecorationsTree.acceptReplace(q,z,$,se)}}function X(de){return de.replace(/[^a-z0-9\-_]/gi," ")}class ne{constructor(q){this.color=q.color||"",this.darkColor=q.darkColor||""}}class Y extends ne{constructor(q){super(q);this._resolvedColor=null,this.position=typeof q.position=="number"?q.position:n.OverviewRulerLane.Center}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(q,z){if(typeof q=="string")return q;const $=q?z.getColor(q.id):null;return $?$.toString():""}}e.ModelDecorationOverviewRulerOptions=Y;class j extends ne{constructor(q){super(q);this.position=q.position}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(q,z){return typeof q=="string"?C.Color.fromHex(q):z.getColor(q.id)}}e.ModelDecorationMinimapOptions=j;class W{constructor(q){this.content=q.content||"",this.inlineClassName=q.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=q.attachedData||null}static from(q){return q instanceof W?q:new W(q)}}e.ModelDecorationInjectedTextOptions=W;class V{constructor(q){var z,$;this.description=q.description,this.stickiness=q.stickiness||0,this.zIndex=q.zIndex||0,this.className=q.className?X(q.className):null,this.hoverMessage=q.hoverMessage||null,this.glyphMarginHoverMessage=q.glyphMarginHoverMessage||null,this.isWholeLine=q.isWholeLine||!1,this.showIfCollapsed=q.showIfCollapsed||!1,this.collapseOnReplaceEdit=q.collapseOnReplaceEdit||!1,this.overviewRuler=q.overviewRuler?new Y(q.overviewRuler):null,this.minimap=q.minimap?new j(q.minimap):null,this.glyphMarginClassName=q.glyphMarginClassName?X(q.glyphMarginClassName):null,this.linesDecorationsClassName=q.linesDecorationsClassName?X(q.linesDecorationsClassName):null,this.firstLineDecorationClassName=q.firstLineDecorationClassName?X(q.firstLineDecorationClassName):null,this.marginClassName=q.marginClassName?X(q.marginClassName):null,this.inlineClassName=q.inlineClassName?X(q.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=q.beforeContentClassName?X(q.beforeContentClassName):null,this.afterContentClassName=q.afterContentClassName?X(q.afterContentClassName):null,this.after=q.after?W.from(q.after):null,this.before=q.before?W.from(q.before):null,this.hideInCommentTokens=(z=q.hideInCommentTokens)!==null&&z!==void 0?z:!1,this.hideInStringTokens=($=q.hideInStringTokens)!==null&&$!==void 0?$:!1}static register(q){return new V(q)}static createDynamic(q){return new V(q)}}e.ModelDecorationOptions=V,V.EMPTY=V.register({description:"empty"});const G=[V.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),V.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),V.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),V.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function oe(de){return de instanceof V?de:V.createDynamic(de)}class ce extends S.Disposable{constructor(q){super();this.handleBeforeFire=q,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var q;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const z={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(z)}(q=this._affectedInjectedTextLines)===null||q===void 0||q.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(q){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(q)}checkAffectedAndFire(q){this._affectsMinimap||(this._affectsMinimap=!!(q.minimap&&q.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(q.overviewRuler&&q.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ce;class ie extends S.Disposable{constructor(){super();this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(q=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=q;const z=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(z),this._slowEmitter.fire(z)}}fire(q){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(q):this._deferredEvent=q;return}this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}e.DidChangeContentEmitter=ie}),define(Q[45],J([0,1,11,3,21,32,116,112,112]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorContext=e.CursorConfiguration=e.CursorColumns=void 0,Object.defineProperty(e,"CursorColumns",{enumerable:!0,get:function(){return v.CursorColumns}});const u=()=>!0,g=()=>!1,t=l=>l===" "||l==="	";class i{constructor(h,m,y,p){this.languageConfigurationService=p,this._cursorMoveConfigurationBrand=void 0,this._languageId=h;const f=y.options,_=f.get(130);this.readOnly=f.get(80),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=f.get(103),this.lineHeight=f.get(58),this.pageSize=Math.max(1,Math.floor(_.height/this.lineHeight)-2),this.useTabStops=f.get(115),this.wordSeparators=f.get(116),this.emptySelectionClipboard=f.get(32),this.copyWithSyntaxHighlighting=f.get(21),this.multiCursorMergeOverlapping=f.get(68),this.multiCursorPaste=f.get(70),this.autoClosingBrackets=f.get(5),this.autoClosingQuotes=f.get(8),this.autoClosingDelete=f.get(6),this.autoClosingOvertype=f.get(7),this.autoSurround=f.get(11),this.autoIndent=f.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(h,this.autoClosingQuotes),bracket:this._getShouldAutoClose(h,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(h).getAutoClosingPairs();const I=this.languageConfigurationService.getLanguageConfiguration(h).getSurroundingPairs();if(I)for(const E of I)this.surroundingPairs[E.open]=E.close}static shouldRecreate(h){return h.hasChanged(130)||h.hasChanged(116)||h.hasChanged(32)||h.hasChanged(68)||h.hasChanged(70)||h.hasChanged(5)||h.hasChanged(8)||h.hasChanged(6)||h.hasChanged(7)||h.hasChanged(11)||h.hasChanged(115)||h.hasChanged(58)||h.hasChanged(80)}get electricChars(){var h;if(!this._electricChars){this._electricChars={};const m=(h=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||h===void 0?void 0:h.getElectricCharacters();if(m)for(const y of m)this._electricChars[y]=!0}return this._electricChars}onElectricCharacter(h,m,y){const p=(0,S.createScopedLineTokens)(m,y-1),f=this.languageConfigurationService.getLanguageConfiguration(p.languageId).electricCharacter;return f?f.onElectricCharacter(h,p,y-p.firstCharOffset):null}normalizeIndentation(h){return D.TextModel.normalizeIndentation(h,this.indentSize,this.insertSpaces)}_getShouldAutoClose(h,m){switch(m){case"beforeWhitespace":return t;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(h);case"always":return u;case"never":return g}}_getLanguageDefinedShouldAutoClose(h){const m=this.languageConfigurationService.getLanguageConfiguration(h).getAutoCloseBeforeSet();return y=>m.indexOf(y)!==-1}visibleColumnFromColumn(h,m){return b.CursorColumns.visibleColumnFromColumn(h.getLineContent(m.lineNumber),m.column,this.tabSize)}columnFromVisibleColumn(h,m,y){const p=b.CursorColumns.columnFromVisibleColumn(h.getLineContent(m),y,this.tabSize),f=h.getLineMinColumn(m);if(p<f)return f;const _=h.getLineMaxColumn(m);return p>_?_:p}}e.CursorConfiguration=i;class n{constructor(h,m,y,p){this._cursorContextBrand=void 0,this.model=h,this.viewModel=m,this.coordinatesConverter=y,this.cursorConfig=p}}e.CursorContext=n;class a{constructor(h,m){this._cursorStateBrand=void 0,this.modelState=h,this.viewState=m}static fromModelState(h){return new c(h)}static fromViewState(h){return new d(h)}static fromModelSelection(h){const m=N.Selection.liftSelection(h),y=new s(C.Range.fromPositions(m.getSelectionStart()),0,m.getPosition(),0);return a.fromModelState(y)}static fromModelSelections(h){const m=[];for(let y=0,p=h.length;y<p;y++)m[y]=this.fromModelSelection(h[y]);return m}equals(h){return this.viewState.equals(h.viewState)&&this.modelState.equals(h.modelState)}}e.CursorState=a;class c{constructor(h){this.modelState=h,this.viewState=null}}e.PartialModelCursorState=c;class d{constructor(h){this.modelState=null,this.viewState=h}}e.PartialViewCursorState=d;class s{constructor(h,m,y,p){this._singleCursorStateBrand=void 0,this.selectionStart=h,this.selectionStartLeftoverVisibleColumns=m,this.position=y,this.leftoverVisibleColumns=p,this.selection=s._computeSelection(this.selectionStart,this.position)}equals(h){return this.selectionStartLeftoverVisibleColumns===h.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===h.leftoverVisibleColumns&&this.position.equals(h.position)&&this.selectionStart.equalsRange(h.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(h,m,y,p){return h?new s(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new w.Position(m,y),p):new s(new C.Range(m,y,m,y),p,new w.Position(m,y),p)}static _computeSelection(h,m){return h.isEmpty()||!m.isBeforeOrEqual(h.getStartPosition())?N.Selection.fromPositions(h.getStartPosition(),m):N.Selection.fromPositions(h.getEndPosition(),m)}}e.SingleCursorState=s;class r{constructor(h,m,y){this._editOperationResultBrand=void 0,this.type=h,this.commands=m,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}e.EditOperationResult=r;function o(l){return l==="'"||l==='"'||l==="`"}e.isQuote=o}),define(Q[199],J([0,1,8,45,3,21,35]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const b=Object.create(null);function v(g,t){if(t<=0)return"";b[g]||(b[g]=["",g]);const i=b[g];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+g;return i[t]}e.cachedStringRepeat=v;class u{constructor(t,i){this._opts=i,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(t,i,n,a,c){const d=C.CursorColumns.visibleColumnFromColumn(t,i,n);if(c){const s=v(" ",a),o=C.CursorColumns.prevIndentTabStop(d,a)/a;return v(s,o)}else{const s="	",o=C.CursorColumns.prevRenderTabStop(d,n)/n;return v(s,o)}}static shiftIndent(t,i,n,a,c){const d=C.CursorColumns.visibleColumnFromColumn(t,i,n);if(c){const s=v(" ",a),o=C.CursorColumns.nextIndentTabStop(d,a)/a;return v(s,o)}else{const s="	",o=C.CursorColumns.nextRenderTabStop(d,n)/n;return v(s,o)}}_addEditOperation(t,i,n){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(i,n):t.addEditOperation(i,n)}getEditOperations(t,i){const n=this._selection.startLineNumber;let a=this._selection.endLineNumber;this._selection.endColumn===1&&n!==a&&(a=a-1);const{tabSize:c,indentSize:d,insertSpaces:s}=this._opts,r=n===a;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let o=0,l=0;for(let h=n;h<=a;h++,o=l){l=0;const m=t.getLineContent(h);let y=w.firstNonWhitespaceIndex(m);if(this._opts.isUnshift&&(m.length===0||y===0)||!r&&!this._opts.isUnshift&&m.length===0)continue;if(y===-1&&(y=m.length),h>1&&C.CursorColumns.visibleColumnFromColumn(m,y+1,c)%d!=0&&t.isCheapToTokenize(h-1)){const _=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,t,new N.Range(h-1,t.getLineMaxColumn(h-1),h-1,t.getLineMaxColumn(h-1)));if(_){if(l=o,_.appendText)for(let I=0,E=_.appendText.length;I<E&&l<d&&_.appendText.charCodeAt(I)===32;I++)l++;_.removeText&&(l=Math.max(0,l-_.removeText));for(let I=0;I<l&&!(y===0||m.charCodeAt(y-1)!==32);I++)y--}}if(this._opts.isUnshift&&y===0)continue;let p;this._opts.isUnshift?p=u.unshiftIndent(m,y+1,c,d,s):p=u.shiftIndent(m,y+1,c,d,s),this._addEditOperation(i,new N.Range(h,1,h,y+1),p),h===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=y+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&t.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const o=s?v(" ",d):"	";for(let l=n;l<=a;l++){const h=t.getLineContent(l);let m=w.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||m===0))&&!(!r&&!this._opts.isUnshift&&h.length===0)&&(m===-1&&(m=h.length),!(this._opts.isUnshift&&m===0)))if(this._opts.isUnshift){m=Math.min(m,d);for(let y=0;y<m;y++)if(h.charCodeAt(y)===9){m=y+1;break}this._addEditOperation(i,new N.Range(l,1,l,m+1),"")}else this._addEditOperation(i,new N.Range(l,1,l,1),o),l===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(t,i){if(this._useLastEditRangeForCursorEndPosition){const a=i.getInverseEditOperations()[0];return new D.Selection(a.range.endLineNumber,a.range.endColumn,a.range.endLineNumber,a.range.endColumn)}const n=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const a=this._selection.startColumn;return n.startColumn<=a?n:n.getDirection()===0?new D.Selection(n.startLineNumber,a,n.endLineNumber,n.endColumn):new D.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,a)}return n}}e.ShiftCommand=u}),define(Q[284],J([0,1,45]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class C{static whitespaceVisibleColumn(D,S,b){const v=D.length;let u=0,g=-1,t=-1;for(let i=0;i<v;i++){if(i===S)return[g,t,u];switch(u%b==0&&(g=i,t=u),D.charCodeAt(i)){case 32:u+=1;break;case 9:u=w.CursorColumns.nextRenderTabStop(u,b);break;default:return[-1,-1,-1]}}return S===v?[g,t,u]:[-1,-1,-1]}static atomicPosition(D,S,b,v){const u=D.length,[g,t,i]=C.whitespaceVisibleColumn(D,S,b);if(i===-1)return-1;let n;switch(v){case 0:n=!0;break;case 1:n=!1;break;case 2:if(i%b==0)return S;n=i%b<=b/2;break}if(n){if(g===-1)return-1;let d=t;for(let s=g;s<u;++s){if(d===t+b)return g;switch(D.charCodeAt(s)){case 32:d+=1;break;case 9:d=w.CursorColumns.nextRenderTabStop(d,b);break;default:return-1}}return d===t+b?g:-1}const a=w.CursorColumns.nextRenderTabStop(i,b);let c=i;for(let d=S;d<u;d++){if(c===a)return d;switch(D.charCodeAt(d)){case 32:c+=1;break;case 9:c=w.CursorColumns.nextRenderTabStop(c,b);break;default:return-1}}return c===a?u:-1}}e.AtomicTabMoveOperations=C}),define(Q[285],J([0,1,128,49,273,11,3,45,7,284]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(f=null){this.hitTarget=f,this.type=0}}class t{constructor(f,_,I){this.position=f,this.spanNode=_,this.injectedText=I,this.type=1}}var i;(function(p){function f(_,I,E){const T=_.getPositionFromDOMInfo(I,E);return T?new t(T,I,null):new g(I)}p.createFromDOMInfo=f})(i||(i={}));class n{constructor(f,_){this.lastViewCursorsRenderData=f,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=n;class a{static _deduceRage(f,_=null){return!_&&f?new S.Range(f.lineNumber,f.column,f.lineNumber,f.column):_??null}static createUnknown(f,_,I){return{type:0,element:f,mouseColumn:_,position:I,range:this._deduceRage(I)}}static createTextarea(f,_){return{type:1,element:f,mouseColumn:_,position:null,range:null}}static createMargin(f,_,I,E,T,k){return{type:f,element:_,mouseColumn:I,position:E,range:T,detail:k}}static createViewZone(f,_,I,E,T){return{type:f,element:_,mouseColumn:I,position:E,range:this._deduceRage(E),detail:T}}static createContentText(f,_,I,E,T){return{type:6,element:f,mouseColumn:_,position:I,range:this._deduceRage(I,E),detail:T}}static createContentEmpty(f,_,I,E){return{type:7,element:f,mouseColumn:_,position:I,range:this._deduceRage(I),detail:E}}static createContentWidget(f,_,I){return{type:9,element:f,mouseColumn:_,position:null,range:null,detail:I}}static createScrollbar(f,_,I){return{type:11,element:f,mouseColumn:_,position:I,range:this._deduceRage(I)}}static createOverlayWidget(f,_,I){return{type:12,element:f,mouseColumn:_,position:null,range:null,detail:I}}static createOutsideEditor(f,_){return{type:13,element:null,mouseColumn:f,position:_,range:this._deduceRage(_)}}static _typeToString(f){return f===1?"TEXTAREA":f===2?"GUTTER_GLYPH_MARGIN":f===3?"GUTTER_LINE_NUMBERS":f===4?"GUTTER_LINE_DECORATIONS":f===5?"GUTTER_VIEW_ZONE":f===6?"CONTENT_TEXT":f===7?"CONTENT_EMPTY":f===8?"CONTENT_VIEW_ZONE":f===9?"CONTENT_WIDGET":f===10?"OVERVIEW_RULER":f===11?"SCROLLBAR":f===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(f){return this._typeToString(f.type)+": "+f.position+" - "+f.range+" - "+JSON.stringify(f.detail)}}e.MouseTarget=a;class c{static isTextArea(f){return f.length===2&&f[0]===3&&f[1]===6}static isChildOfViewLines(f){return f.length>=4&&f[0]===3&&f[3]===7}static isStrictChildOfViewLines(f){return f.length>4&&f[0]===3&&f[3]===7}static isChildOfScrollableElement(f){return f.length>=2&&f[0]===3&&f[1]===5}static isChildOfMinimap(f){return f.length>=2&&f[0]===3&&f[1]===8}static isChildOfContentWidgets(f){return f.length>=4&&f[0]===3&&f[3]===1}static isChildOfOverflowingContentWidgets(f){return f.length>=1&&f[0]===2}static isChildOfOverlayWidgets(f){return f.length>=2&&f[0]===3&&f[1]===4}}class d{constructor(f,_,I){this.model=f.model;const E=f.configuration.options;this.layoutInfo=E.get(130),this.viewDomNode=_.viewDomNode,this.lineHeight=E.get(58),this.stickyTabStops=E.get(103),this.typicalHalfwidthCharacterWidth=E.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=I,this._context=f,this._viewHelper=_}getZoneAtCoord(f){return d.getZoneAtCoord(this._context,f)}static getZoneAtCoord(f,_){const I=f.viewLayout.getWhitespaceAtVerticalOffset(_);if(I){const E=I.verticalOffset+I.height/2,T=f.model.getLineCount();let k=null,A,P=null;return I.afterLineNumber!==T&&(P=new D.Position(I.afterLineNumber+1,1)),I.afterLineNumber>0&&(k=new D.Position(I.afterLineNumber,f.model.getLineMaxColumn(I.afterLineNumber))),P===null?A=k:k===null?A=P:_<E?A=k:A=P,{viewZoneId:I.id,afterLineNumber:I.afterLineNumber,positionBefore:k,positionAfter:P,position:A}}return null}getFullLineRangeAtCoord(f){if(this._context.viewLayout.isAfterLines(f)){const E=this._context.model.getLineCount(),T=this._context.model.getLineMaxColumn(E);return{range:new S.Range(E,T,E,T),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(f),I=this._context.model.getLineMaxColumn(_);return{range:new S.Range(_,1,_,I),isAfterLines:!1}}getLineNumberAtVerticalOffset(f){return this._context.viewLayout.getLineNumberAtVerticalOffset(f)}isAfterLines(f){return this._context.viewLayout.isAfterLines(f)}isInTopPadding(f){return this._context.viewLayout.isInTopPadding(f)}isInBottomPadding(f){return this._context.viewLayout.isInBottomPadding(f)}getVerticalOffsetForLineNumber(f){return this._context.viewLayout.getVerticalOffsetForLineNumber(f)}findAttribute(f,_){return d._findAttribute(f,_,this._viewHelper.viewDomNode)}static _findAttribute(f,_,I){for(;f&&f!==document.body;){if(f.hasAttribute&&f.hasAttribute(_))return f.getAttribute(_);if(f===I)return null;f=f.parentNode}return null}getLineWidth(f){return this._viewHelper.getLineWidth(f)}visibleRangeForPosition(f,_){return this._viewHelper.visibleRangeForPosition(f,_)}getPositionFromDOMInfo(f,_){return this._viewHelper.getPositionFromDOMInfo(f,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=d;class s{constructor(f,_,I,E){this.editorPos=_,this.pos=I,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,f.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=f.getCurrentScrollLeft()+this.relativePos.x-f.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<f.layoutInfo.contentLeft&&this.relativePos.x>=f.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,f.typicalHalfwidthCharacterWidth))}}class r extends s{constructor(f,_,I,E,T){super(f,_,I,E);this._ctx=f,T?(this.target=T,this.targetPath=C.PartFingerprints.collect(T,f.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(f=null){return f&&f.column<this._ctx.model.getLineMaxColumn(f.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(f.lineNumber),f.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(f=null){return a.createUnknown(this.target,this._getMouseColumn(f),f)}fulfillTextarea(){return a.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(f,_,I,E){return a.createMargin(f,this.target,this._getMouseColumn(_),_,I,E)}fulfillViewZone(f,_,I){return a.createViewZone(f,this.target,this._getMouseColumn(_),_,I)}fulfillContentText(f,_,I){return a.createContentText(this.target,this._getMouseColumn(f),f,_,I)}fulfillContentEmpty(f,_){return a.createContentEmpty(this.target,this._getMouseColumn(f),f,_)}fulfillContentWidget(f){return a.createContentWidget(this.target,this._getMouseColumn(),f)}fulfillScrollbar(f){return a.createScrollbar(this.target,this._getMouseColumn(f),f)}fulfillOverlayWidget(f){return a.createOverlayWidget(this.target,this._getMouseColumn(),f)}withTarget(f){return new r(this._ctx,this.editorPos,this.pos,this.relativePos,f)}}const o={isAfterLines:!0};function l(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class h{constructor(f,_){this._context=f,this._viewHelper=_}mouseTargetIsWidget(f){const _=f.target,I=C.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(c.isChildOfContentWidgets(I)||c.isChildOfOverflowingContentWidgets(I)||c.isChildOfOverlayWidgets(I))}createMouseTarget(f,_,I,E,T){const k=new d(this._context,this._viewHelper,f),A=new r(k,_,I,E,T);try{return h._createMouseTarget(k,A,!1)}catch{return A.fulfillUnknown()}}static _createMouseTarget(f,_,I){if(_.target===null){if(I)return _.fulfillUnknown();const k=h._doHitTest(f,_);return k.type===1?h.createMouseTargetFromHitTestPosition(f,_,k.spanNode,k.position,k.injectedText):this._createMouseTarget(f,_.withTarget(k.hitTarget),!0)}const E=_;let T=null;return T=T||h._hitTestContentWidget(f,E),T=T||h._hitTestOverlayWidget(f,E),T=T||h._hitTestMinimap(f,E),T=T||h._hitTestScrollbarSlider(f,E),T=T||h._hitTestViewZone(f,E),T=T||h._hitTestMargin(f,E),T=T||h._hitTestViewCursor(f,E),T=T||h._hitTestTextArea(f,E),T=T||h._hitTestViewLines(f,E,I),T=T||h._hitTestScrollbar(f,E),T||_.fulfillUnknown()}static _hitTestContentWidget(f,_){if(c.isChildOfContentWidgets(_.targetPath)||c.isChildOfOverflowingContentWidgets(_.targetPath)){const I=f.findAttribute(_.target,"widgetId");return I?_.fulfillContentWidget(I):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(f,_){if(c.isChildOfOverlayWidgets(_.targetPath)){const I=f.findAttribute(_.target,"widgetId");return I?_.fulfillOverlayWidget(I):_.fulfillUnknown()}return null}static _hitTestViewCursor(f,_){if(_.target){const I=f.lastRenderData.lastViewCursorsRenderData;for(const E of I)if(_.target===E.domNode)return _.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const I=f.lastRenderData.lastViewCursorsRenderData,E=_.mouseContentHorizontalOffset,T=_.mouseVerticalOffset;for(const k of I){if(E<k.contentLeft||E>k.contentLeft+k.width)continue;const A=f.getVerticalOffsetForLineNumber(k.position.lineNumber);if(A<=T&&T<=A+k.height)return _.fulfillContentText(k.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(f,_){const I=f.getZoneAtCoord(_.mouseVerticalOffset);if(I){const E=_.isInContentArea?8:5;return _.fulfillViewZone(E,I.position,I)}return null}static _hitTestTextArea(f,_){return c.isTextArea(_.targetPath)?f.lastRenderData.lastTextareaPosition?_.fulfillContentText(f.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(f,_){if(_.isInMarginArea){const I=f.getFullLineRangeAtCoord(_.mouseVerticalOffset),E=I.range.getStartPosition();let T=Math.abs(_.relativePos.x);const k={isAfterLines:I.isAfterLines,glyphMarginLeft:f.layoutInfo.glyphMarginLeft,glyphMarginWidth:f.layoutInfo.glyphMarginWidth,lineNumbersWidth:f.layoutInfo.lineNumbersWidth,offsetX:T};return T-=f.layoutInfo.glyphMarginLeft,T<=f.layoutInfo.glyphMarginWidth?_.fulfillMargin(2,E,I.range,k):(T-=f.layoutInfo.glyphMarginWidth,T<=f.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,E,I.range,k):(T-=f.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,E,I.range,k)))}return null}static _hitTestViewLines(f,_,I){if(!c.isChildOfViewLines(_.targetPath))return null;if(f.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new D.Position(1,1),o);if(f.isAfterLines(_.mouseVerticalOffset)||f.isInBottomPadding(_.mouseVerticalOffset)){const T=f.model.getLineCount(),k=f.model.getLineMaxColumn(T);return _.fulfillContentEmpty(new D.Position(T,k),o)}if(I){if(c.isStrictChildOfViewLines(_.targetPath)){const T=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(f.model.getLineLength(T)===0){const A=f.getLineWidth(T),P=l(_.mouseContentHorizontalOffset-A);return _.fulfillContentEmpty(new D.Position(T,1),P)}const k=f.getLineWidth(T);if(_.mouseContentHorizontalOffset>=k){const A=l(_.mouseContentHorizontalOffset-k),P=new D.Position(T,f.model.getLineMaxColumn(T));return _.fulfillContentEmpty(P,A)}}return _.fulfillUnknown()}const E=h._doHitTest(f,_);return E.type===1?h.createMouseTargetFromHitTestPosition(f,_,E.spanNode,E.position,E.injectedText):this._createMouseTarget(f,_.withTarget(E.hitTarget),!0)}static _hitTestMinimap(f,_){if(c.isChildOfMinimap(_.targetPath)){const I=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=f.model.getLineMaxColumn(I);return _.fulfillScrollbar(new D.Position(I,E))}return null}static _hitTestScrollbarSlider(f,_){if(c.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const I=_.target.className;if(I&&/\b(slider|scrollbar)\b/.test(I)){const E=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),T=f.model.getLineMaxColumn(E);return _.fulfillScrollbar(new D.Position(E,T))}}return null}static _hitTestScrollbar(f,_){if(c.isChildOfScrollableElement(_.targetPath)){const I=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=f.model.getLineMaxColumn(I);return _.fulfillScrollbar(new D.Position(I,E))}return null}getMouseColumn(f){const _=this._context.configuration.options,I=_.get(130),E=this._context.viewLayout.getCurrentScrollLeft()+f.x-I.contentLeft;return h._getMouseColumn(E,_.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(f,_){return f<0?1:Math.round(f/_)+1}static createMouseTargetFromHitTestPosition(f,_,I,E,T){const k=E.lineNumber,A=E.column,P=f.getLineWidth(k);if(_.mouseContentHorizontalOffset>P){const U=l(_.mouseContentHorizontalOffset-P);return _.fulfillContentEmpty(E,U)}const F=f.visibleRangeForPosition(k,A);if(!F)return _.fulfillUnknown(E);const R=F.left;if(_.mouseContentHorizontalOffset===R)return _.fulfillContentText(E,null,{mightBeForeignElement:!!T,injectedText:T});const M=[];if(M.push({offset:F.left,column:A}),A>1){const U=f.visibleRangeForPosition(k,A-1);U&&M.push({offset:U.left,column:A-1})}const O=f.model.getLineMaxColumn(k);if(A<O){const U=f.visibleRangeForPosition(k,A+1);U&&M.push({offset:U.left,column:A+1})}M.sort((U,K)=>U.offset-K.offset);const L=_.pos.toClientCoordinates(),B=I.getBoundingClientRect(),x=B.left<=L.clientX&&L.clientX<=B.right;for(let U=1;U<M.length;U++){const K=M[U-1],Z=M[U];if(K.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=Z.offset){const ee=new S.Range(k,K.column,k,Z.column);return _.fulfillContentText(E,ee,{mightBeForeignElement:!x||!!T,injectedText:T})}}return _.fulfillContentText(E,null,{mightBeForeignElement:!x||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(f,_){const I=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),T=f.getVerticalOffsetForLineNumber(I)+Math.floor(f.lineHeight/2);let k=_.pos.y+(T-_.mouseVerticalOffset);k<=_.editorPos.y&&(k=_.editorPos.y+1),k>=_.editorPos.y+_.editorPos.height&&(k=_.editorPos.y+_.editorPos.height-1);const A=new w.PageCoordinates(_.pos.x,k),P=this._actualDoHitTestWithCaretRangeFromPoint(f,A.toClientCoordinates());return P.type===1?P:this._actualDoHitTestWithCaretRangeFromPoint(f,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(f,_){const I=v.getShadowRoot(f.viewDomNode);let E;if(I?typeof I.caretRangeFromPoint=="undefined"?E=m(I,_.clientX,_.clientY):E=I.caretRangeFromPoint(_.clientX,_.clientY):E=document.caretRangeFromPoint(_.clientX,_.clientY),!E||!E.startContainer)return new g;const T=E.startContainer;if(T.nodeType===T.TEXT_NODE){const k=T.parentNode,A=k?k.parentNode:null,P=A?A.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(f,k,E.startOffset):new g(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const k=T.parentNode,A=k?k.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(f,T,T.textContent.length):new g(T)}return new g}static _doHitTestWithCaretPositionFromPoint(f,_){const I=document.caretPositionFromPoint(_.clientX,_.clientY);if(I.offsetNode.nodeType===I.offsetNode.TEXT_NODE){const E=I.offsetNode.parentNode,T=E?E.parentNode:null,k=T?T.parentNode:null;return(k&&k.nodeType===k.ELEMENT_NODE?k.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(f,I.offsetNode.parentNode,I.offset):new g(I.offsetNode.parentNode)}if(I.offsetNode.nodeType===I.offsetNode.ELEMENT_NODE){const E=I.offsetNode.parentNode,T=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,k=E?E.parentNode:null,A=k&&k.nodeType===k.ELEMENT_NODE?k.className:null;if(T===N.ViewLine.CLASS_NAME){const P=I.offsetNode.childNodes[Math.min(I.offset,I.offsetNode.childNodes.length-1)];if(P)return i.createFromDOMInfo(f,P,0)}else if(A===N.ViewLine.CLASS_NAME)return i.createFromDOMInfo(f,I.offsetNode,0)}return new g(I.offsetNode)}static _snapToSoftTabBoundary(f,_){const I=_.getLineContent(f.lineNumber),{tabSize:E}=_.getTextModelOptions(),T=u.AtomicTabMoveOperations.atomicPosition(I,f.column-1,E,2);return T!==-1?new D.Position(f.lineNumber,T+1):f}static _doHitTest(f,_){let I=new g;if(typeof document.caretRangeFromPoint=="function"?I=this._doHitTestWithCaretRangeFromPoint(f,_):document.caretPositionFromPoint&&(I=this._doHitTestWithCaretPositionFromPoint(f,_.pos.toClientCoordinates())),I.type===1){const E=f.model.getInjectedTextAt(I.position),T=f.model.normalizePosition(I.position,2);(E||!T.equals(I.position))&&(I=new t(T,I.spanNode,E))}return I.type===1&&f.stickyTabStops&&(I=new t(this._snapToSoftTabBoundary(I.position,f.model),I.spanNode,I.injectedText)),I}}e.MouseTargetFactory=h;function m(p,f,_){const I=document.createRange();let E=p.elementFromPoint(f,_);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const T=E.getBoundingClientRect(),k=window.getComputedStyle(E,null).getPropertyValue("font"),A=E.innerText;let P=T.left,F=0,R;if(f>T.left+T.width)F=A.length;else{const M=y.getInstance();for(let O=0;O<A.length+1;O++){if(R=M.getCharWidth(A.charAt(O),k)/2,P+=R,f<P){F=O;break}P+=R}}I.setStart(E.firstChild,F),I.setEnd(E.firstChild,F)}return I}e.shadowCaretRangeFromPoint=m;class y{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return y._INSTANCE||(y._INSTANCE=new y),y._INSTANCE}getCharWidth(f,_){const I=f+_;if(this._cache[I])return this._cache[I];const E=this._canvas.getContext("2d");E.font=_;const k=E.measureText(f).width;return this._cache[I]=k,k}}y._INSTANCE=null}),define(Q[692],J([0,1,7,56,10,2,17,285,128,142,11,21,121]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function n(s){return function(r,o){let l=!1;return s&&(l=s.mouseTargetIsWidget(o)),l||o.preventDefault(),o}}e.createMouseMoveEventMerger=n;class a extends i.ViewEventHandler{constructor(r,o,l){super();this._context=r,this.viewController=o,this.viewHelper=l,this.mouseTargetFactory=new b.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new c(this._context,this.viewController,this.viewHelper,(y,p)=>this._createMouseTarget(y,p),y=>this._getMouseColumn(y))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;const h=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,y=>this._onContextMenu(y,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,y=>this._onMouseMove(y),n(this.mouseTargetFactory),a.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,y=>this._onMouseUp(y))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,y=>this._onMouseLeave(y))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,y=>this._onMouseDown(y)));const m=y=>{if(this.viewController.emitMouseWheel(y),!this._context.configuration.options.get(67))return;const p=new C.StandardWheelEvent(y);if(S.isMacintosh?(y.metaKey||y.ctrlKey)&&!y.shiftKey&&!y.altKey:y.ctrlKey&&!y.metaKey&&!y.shiftKey&&!y.altKey){const _=u.EditorZoom.getZoomLevel(),I=p.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(_+I),p.preventDefault(),p.stopPropagation()}};this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){if(r.hasChanged(130)){const o=this._context.configuration.options.get(130).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(r){return this._mouseDownOperation.onCursorStateChanged(r),!1}onFocusChanged(r){return!1}onScrollChanged(r){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(r,o){const h=new v.ClientCoordinates(r,o).toPageCoordinates(),m=(0,v.createEditorPagePosition)(this.viewHelper.viewDomNode);if(h.y<m.y||h.y>m.y+m.height||h.x<m.x||h.x>m.x+m.width)return null;const y=(0,v.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,m,h);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),m,h,y,null)}_createMouseTarget(r,o){let l=r.target;if(!this.viewHelper.viewDomNode.contains(l)){const h=w.getShadowRoot(this.viewHelper.viewDomNode);h&&(l=h.elementsFromPoint(r.posx,r.posy).find(m=>this.viewHelper.viewDomNode.contains(m)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r.editorPos,r.pos,r.relativePos,o?l:null)}_getMouseColumn(r){return this.mouseTargetFactory.getMouseColumn(r.relativePos)}_onContextMenu(r,o){this.viewController.emitContextMenu({event:r,target:this._createMouseTarget(r,o)})}_onMouseMove(r){this._mouseDownOperation.isActive()||r.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:r,target:this._createMouseTarget(r,!0)})}_onMouseLeave(r){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:r,target:null})}_onMouseUp(r){this.viewController.emitMouseUp({event:r,target:this._createMouseTarget(r,!0)})}_onMouseDown(r){const o=this._createMouseTarget(r,!0),l=o.type===6||o.type===7,h=o.type===2||o.type===3||o.type===4,m=o.type===3,y=this._context.configuration.options.get(97),p=o.type===8||o.type===5,f=o.type===9;let _=r.leftButton||r.middleButton;S.isMacintosh&&r.leftButton&&r.ctrlKey&&(_=!1);const I=()=>{r.preventDefault(),this.viewHelper.focusTextArea()};if(_&&(l||m&&y))I(),this._mouseDownOperation.start(o.type,r);else if(h)r.preventDefault();else if(p){const E=o.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(I(),this._mouseDownOperation.start(o.type,r),r.preventDefault())}else f&&this.viewHelper.shouldSuppressMouseDownOnWidget(o.detail)&&(I(),r.preventDefault());this.viewController.emitMouseDown({event:r,target:o})}}e.MouseHandler=a,a.MOUSE_MOVE_MINIMUM_TIME=100;class c extends D.Disposable{constructor(r,o,l,h,m){super();this._context=r,this._viewController=o,this._viewHelper=l,this._createMouseTarget=h,this._getMouseColumn=m,this._mouseMoveMonitor=this._register(new v.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new N.TimeoutTimer),this._mouseState=new d,this._currentSelection=new t.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const o=this._findMousePosition(r,!0);!o||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:o}):this._dispatchMouse(o,!0))}start(r,o){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(r===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const l=this._findMousePosition(o,!0);if(!l||!l.position)return;this._mouseState.trySetCount(o.detail,l.position),o.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(80)&&h.get(31)&&!h.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,n(null),m=>this._onMouseDownThenMove(m),m=>{const y=this._findMousePosition(this._lastMouseEvent,!0);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:y?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,n(null),m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const o=r.editorPos,l=this._context.model,h=this._context.viewLayout,m=this._getMouseColumn(r);if(r.posy<o.y){const p=Math.max(h.getCurrentScrollTop()-(o.y-r.posy),0),f=b.HitTestContext.getZoneAtCoord(this._context,p);if(f){const I=this._helpPositionJumpOverViewZone(f);if(I)return b.MouseTarget.createOutsideEditor(m,I)}const _=h.getLineNumberAtVerticalOffset(p);return b.MouseTarget.createOutsideEditor(m,new g.Position(_,1))}if(r.posy>o.y+o.height){const p=h.getCurrentScrollTop()+r.relativePos.y,f=b.HitTestContext.getZoneAtCoord(this._context,p);if(f){const I=this._helpPositionJumpOverViewZone(f);if(I)return b.MouseTarget.createOutsideEditor(m,I)}const _=h.getLineNumberAtVerticalOffset(p);return b.MouseTarget.createOutsideEditor(m,new g.Position(_,l.getLineMaxColumn(_)))}const y=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+r.relativePos.y);return r.posx<o.x?b.MouseTarget.createOutsideEditor(m,new g.Position(y,1)):r.posx>o.x+o.width?b.MouseTarget.createOutsideEditor(m,new g.Position(y,l.getLineMaxColumn(y))):null}_findMousePosition(r,o){const l=this._getPositionOutsideEditor(r);if(l)return l;const h=this._createMouseTarget(r,o);if(!h.position)return null;if(h.type===8||h.type===5){const y=this._helpPositionJumpOverViewZone(h.detail);if(y)return b.MouseTarget.createViewZone(h.type,h.element,h.mouseColumn,y,h.detail)}return h}_helpPositionJumpOverViewZone(r){const o=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=r.positionBefore,h=r.positionAfter;return l&&h?l.isBefore(o)?l:h:null}_dispatchMouse(r,o){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class d{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,o){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>d.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=l,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}d.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(Q[693],J([0,1,7,17,57,2,692,128,164,174]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends S.MouseHandler{constructor(a,c,d){super(a,c,d);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,r=>this.onTap(r))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,r=>this.onChange(r))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,r=>this._onContextMenu(new b.EditorMouseEvent(r,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const o=r.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const s=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(s.onPointerMoveThrottled(this.viewHelper.viewDomNode,r=>this._onMouseMove(r),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(s.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(s.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(s.onPointerDown(this.viewHelper.viewDomNode,r=>this._onMouseDown(r)))}onTap(a){if(!a.initialTarget||!this.viewHelper.linesContentDomNode.contains(a.initialTarget))return;a.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new b.EditorMouseEvent(a,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:a.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(a){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-a.translationX,-a.translationY)}_onMouseDown(a){a.browserEvent.pointerType!=="touch"&&super._onMouseDown(a)}}e.PointerEventHandler=g;class t extends S.MouseHandler{constructor(a,c,d){super(a,c,d);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,s=>this.onTap(s))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,s=>this.onChange(s))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,s=>this._onContextMenu(new b.EditorMouseEvent(s,this.viewHelper.viewDomNode),!1)))}onTap(a){a.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new b.EditorMouseEvent(a,this.viewHelper.viewDomNode),!1);if(c.position){const d=document.createEvent("CustomEvent");d.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(d),this.viewController.moveTo(c.position)}}onChange(a){this._context.model.deltaScrollNow(-a.translationX,-a.translationY)}}class i extends D.Disposable{constructor(a,c,d){super();C.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new g(a,c,d)):window.TouchEvent?this.handler=this._register(new t(a,c,d)):this.handler=this._register(new S.MouseHandler(a,c,d))}getTargetAtClientPoint(a,c){return this.handler.getTargetAtClientPoint(a,c)}}e.PointerHandler=i}),define(Q[694],J([0,1,45,11,3]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(b,v,u,g,t,i){const n=Math.abs(t-u)+1,a=u>t,c=g>i,d=g<i,s=[];for(let r=0;r<n;r++){const o=u+(a?-r:r),l=b.columnFromVisibleColumn(v,o,g),h=b.columnFromVisibleColumn(v,o,i),m=b.visibleColumnFromColumn(v,new C.Position(o,l)),y=b.visibleColumnFromColumn(v,new C.Position(o,h));d&&(m>i||y<g)||c&&(y>g||m<i)||s.push(new w.SingleCursorState(new N.Range(o,l,o,l),0,new C.Position(o,h),0))}if(s.length===0)for(let r=0;r<n;r++){const o=u+(a?-r:r),l=v.getLineMaxColumn(o);s.push(new w.SingleCursorState(new N.Range(o,l,o,l),0,new C.Position(o,l),0))}return{viewStates:s,reversed:a,fromLineNumber:u,fromVisualColumn:g,toLineNumber:t,toVisualColumn:i}}static columnSelectLeft(b,v,u){let g=u.toViewVisualColumn;return g>0&&g--,D.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,g)}static columnSelectRight(b,v,u){let g=0;const t=Math.min(u.fromViewLineNumber,u.toViewLineNumber),i=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let a=t;a<=i;a++){const c=v.getLineMaxColumn(a),d=b.visibleColumnFromColumn(v,new C.Position(a,c));g=Math.max(g,d)}let n=u.toViewVisualColumn;return n<g&&n++,this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,n)}static columnSelectUp(b,v,u,g){const t=g?b.pageSize:1,i=Math.max(1,u.toViewLineNumber-t);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}static columnSelectDown(b,v,u,g){const t=g?b.pageSize:1,i=Math.min(v.getLineCount(),u.toViewLineNumber+t);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}}e.ColumnSelection=D}),define(Q[200],J([0,1,45,11,3,8,284]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class b{constructor(g,t,i){this._cursorPositionBrand=void 0,this.lineNumber=g,this.column=t,this.leftoverVisibleColumns=i}}e.CursorPosition=b;class v{static leftPosition(g,t){if(t.column>g.getLineMinColumn(t.lineNumber))return t.delta(void 0,-D.prevCharLength(g.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new C.Position(i,g.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(g,t,i){if(t.column<=g.getLineIndentColumn(t.lineNumber)){const n=g.getLineMinColumn(t.lineNumber),a=g.getLineContent(t.lineNumber),c=S.AtomicTabMoveOperations.atomicPosition(a,t.column-1,i,0);if(c!==-1&&c+1>=n)return new C.Position(t.lineNumber,c+1)}return this.leftPosition(g,t)}static left(g,t,i){const n=g.stickyTabStops?v.leftPositionAtomicSoftTabs(t,i,g.tabSize):v.leftPosition(t,i);return new b(n.lineNumber,n.column,0)}static moveLeft(g,t,i,n,a){let c,d;if(i.hasSelection()&&!n)c=i.selection.startLineNumber,d=i.selection.startColumn;else{const s=i.position.delta(void 0,-(a-1)),r=t.normalizePosition(v.clipPositionColumn(s,t),0),o=v.left(g,t,r);c=o.lineNumber,d=o.column}return i.move(n,c,d,0)}static clipPositionColumn(g,t){return new C.Position(g.lineNumber,v.clipRange(g.column,t.getLineMinColumn(g.lineNumber),t.getLineMaxColumn(g.lineNumber)))}static clipRange(g,t,i){return g<t?t:g>i?i:g}static rightPosition(g,t,i){return i<g.getLineMaxColumn(t)?i=i+D.nextCharLength(g.getLineContent(t),i-1):t<g.getLineCount()&&(t=t+1,i=g.getLineMinColumn(t)),new C.Position(t,i)}static rightPositionAtomicSoftTabs(g,t,i,n,a){if(i<g.getLineIndentColumn(t)){const c=g.getLineContent(t),d=S.AtomicTabMoveOperations.atomicPosition(c,i-1,n,1);if(d!==-1)return new C.Position(t,d+1)}return this.rightPosition(g,t,i)}static right(g,t,i){const n=g.stickyTabStops?v.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,g.tabSize,g.indentSize):v.rightPosition(t,i.lineNumber,i.column);return new b(n.lineNumber,n.column,0)}static moveRight(g,t,i,n,a){let c,d;if(i.hasSelection()&&!n)c=i.selection.endLineNumber,d=i.selection.endColumn;else{const s=i.position.delta(void 0,a-1),r=t.normalizePosition(v.clipPositionColumn(s,t),1),o=v.right(g,t,r);c=o.lineNumber,d=o.column}return i.move(n,c,d,0)}static vertical(g,t,i,n,a,c,d){const s=w.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,g.tabSize)+a,r=t.getLineCount(),o=i===1&&n===1,l=i===r&&n===t.getLineMaxColumn(i),h=c<i?o:l;return i=c,i<1?(i=1,d?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>r?(i=r,d?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=g.columnFromVisibleColumn(t,i,s),h?a=0:a=s-w.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,g.tabSize),new b(i,n,a)}static down(g,t,i,n,a,c,d){return this.vertical(g,t,i,n,a,i+c,d)}static moveDown(g,t,i,n,a){let c,d;i.hasSelection()&&!n?(c=i.selection.endLineNumber,d=i.selection.endColumn):(c=i.position.lineNumber,d=i.position.column);const s=v.down(g,t,c,d,i.leftoverVisibleColumns,a,!0);return i.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(g,t,i){const n=i.selection,a=v.down(g,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=v.down(g,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new N.Range(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new C.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(g,t,i,n,a,c,d){return this.vertical(g,t,i,n,a,i-c,d)}static moveUp(g,t,i,n,a){let c,d;i.hasSelection()&&!n?(c=i.selection.startLineNumber,d=i.selection.startColumn):(c=i.position.lineNumber,d=i.position.column);const s=v.up(g,t,c,d,i.leftoverVisibleColumns,a,!0);return i.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(g,t,i){const n=i.selection,a=v.up(g,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=v.up(g,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new N.Range(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new C.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(g,t){return g.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(g,t,i,n){let a=i.position.lineNumber;for(;a>1&&this._isBlankLine(t,a);)a--;for(;a>1&&!this._isBlankLine(t,a);)a--;return i.move(n,a,t.getLineMinColumn(a),0)}static moveToNextBlankLine(g,t,i,n){const a=t.getLineCount();let c=i.position.lineNumber;for(;c<a&&this._isBlankLine(t,c);)c++;for(;c<a&&!this._isBlankLine(t,c);)c++;return i.move(n,c,t.getLineMinColumn(c),0)}static moveToBeginningOfLine(g,t,i,n){const a=i.position.lineNumber,c=t.getLineMinColumn(a),d=t.getLineFirstNonWhitespaceColumn(a)||c;let s;return i.position.column===d?s=c:s=d,i.move(n,a,s,0)}static moveToEndOfLine(g,t,i,n,a){const c=i.position.lineNumber,d=t.getLineMaxColumn(c);return i.move(n,c,d,a?1073741824-d:0)}static moveToBeginningOfBuffer(g,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(g,t,i,n){const a=t.getLineCount(),c=t.getLineMaxColumn(a);return i.move(n,a,c,0)}}e.MoveOperations=v}),define(Q[201],J([0,1,8,98,45,200,3,11]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(g,t,i,n){const a=[];let c=g!==3;for(let d=0,s=n.length;d<s;d++){const r=n[d];let o=r;if(o.isEmpty()){const l=r.getPosition(),h=D.MoveOperations.right(t,i,l);o=new S.Range(h.lineNumber,h.column,l.lineNumber,l.column)}if(o.isEmpty()){a[d]=null;continue}o.startLineNumber!==o.endLineNumber&&(c=!0),a[d]=new C.ReplaceCommand(o,"")}return[c,a]}static isAutoClosingPairDelete(g,t,i,n,a,c,d){if(t==="never"&&i==="never"||g==="never")return!1;for(let s=0,r=c.length;s<r;s++){const o=c[s],l=o.getPosition();if(!o.isEmpty())return!1;const h=a.getLineContent(l.lineNumber);if(l.column<2||l.column>=h.length+1)return!1;const m=h.charAt(l.column-2),y=n.get(m);if(!y)return!1;if((0,N.isQuote)(m)){if(i==="never")return!1}else if(t==="never")return!1;const p=h.charAt(l.column-1);let f=!1;for(const _ of y)_.open===m&&_.close===p&&(f=!0);if(!f)return!1;if(g==="auto"){let _=!1;for(let I=0,E=d.length;I<E;I++){const T=d[I];if(l.lineNumber===T.startLineNumber&&l.column===T.startColumn){_=!0;break}}if(!_)return!1}}return!0}static _runAutoClosingPairDelete(g,t,i){const n=[];for(let a=0,c=i.length;a<c;a++){const d=i[a].getPosition(),s=new S.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);n[a]=new C.ReplaceCommand(s,"")}return[!0,n]}static deleteLeft(g,t,i,n,a){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,a))return this._runAutoClosingPairDelete(t,i,n);const c=[];let d=g!==2;for(let s=0,r=n.length;s<r;s++){const o=v.getDeleteRange(n[s],i,t);if(o.isEmpty()){c[s]=null;continue}o.startLineNumber!==o.endLineNumber&&(d=!0),c[s]=new C.ReplaceCommand(o,"")}return[d,c]}static getDeleteRange(g,t,i){if(!g.isEmpty())return g;const n=g.getPosition();if(i.useTabStops&&n.column>1){const a=t.getLineContent(n.lineNumber),c=w.firstNonWhitespaceIndex(a),d=c===-1?a.length+1:c+1;if(n.column<=d){const s=i.visibleColumnFromColumn(t,n),r=N.CursorColumns.prevIndentTabStop(s,i.indentSize),o=i.columnFromVisibleColumn(t,n.lineNumber,r);return new S.Range(n.lineNumber,o,n.lineNumber,n.column)}}return S.Range.fromPositions(v.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(g,t){if(g.column>1){const i=w.getLeftDeleteOffset(g.column-1,t.getLineContent(g.lineNumber));return g.with(void 0,i+1)}else if(g.lineNumber>1){const i=g.lineNumber-1;return new b.Position(i,t.getLineMaxColumn(i))}else return g}static cut(g,t,i){const n=[];let a=null;i.sort((c,d)=>b.Position.compare(c.getStartPosition(),d.getEndPosition()));for(let c=0,d=i.length;c<d;c++){const s=i[c];if(s.isEmpty())if(g.emptySelectionClipboard){const r=s.getPosition();let o,l,h,m;r.lineNumber<t.getLineCount()?(o=r.lineNumber,l=1,h=r.lineNumber+1,m=1):r.lineNumber>1&&(a==null?void 0:a.endLineNumber)!==r.lineNumber?(o=r.lineNumber-1,l=t.getLineMaxColumn(r.lineNumber-1),h=r.lineNumber,m=t.getLineMaxColumn(r.lineNumber)):(o=r.lineNumber,l=1,h=r.lineNumber,m=t.getLineMaxColumn(r.lineNumber));const y=new S.Range(o,l,h,m);a=y,y.isEmpty()?n[c]=null:n[c]=new C.ReplaceCommand(y,"")}else n[c]=null;else n[c]=new C.ReplaceCommand(s,"")}return new N.EditOperationResult(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(Q[202],J([0,1,14,8,98,199,398,45,113,3,21,11,114,35,116]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(m,y,p){if(y===null||p===null)return[];const f=[];for(let _=0,I=p.length;_<I;_++)f[_]=new D.ShiftCommand(p[_],{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent});return f}static outdent(m,y,p){const f=[];for(let _=0,I=p.length;_<I;_++)f[_]=new D.ShiftCommand(p[_],{isUnshift:!0,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent});return f}static shiftIndent(m,y,p){return p=p||1,D.ShiftCommand.shiftIndent(y,y.length+p,m.tabSize,m.indentSize,m.insertSpaces)}static unshiftIndent(m,y,p){return p=p||1,D.ShiftCommand.unshiftIndent(y,y.length+p,m.tabSize,m.indentSize,m.insertSpaces)}static _distributedPaste(m,y,p,f){const _=[];for(let I=0,E=p.length;I<E;I++)_[I]=new N.ReplaceCommand(p[I],f[I]);return new b.EditOperationResult(0,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(m,y,p,f,_){const I=[];for(let E=0,T=p.length;E<T;E++){const k=p[E],A=k.getPosition();if(_&&!k.isEmpty()&&(_=!1),_&&f.indexOf(`
`)!==f.length-1&&(_=!1),_){const P=new u.Range(A.lineNumber,1,A.lineNumber,1);I[E]=new N.ReplaceCommandThatPreservesSelection(P,f,k,!0)}else I[E]=new N.ReplaceCommand(k,f)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(m,y,p,f,_){if(f||y.length===1)return null;if(_&&_.length===y.length)return _;if(m.multiCursorPaste==="spread"){p.charCodeAt(p.length-1)===10&&(p=p.substr(0,p.length-1)),p.charCodeAt(p.length-1)===13&&(p=p.substr(0,p.length-1));const I=C.splitLines(p);if(I.length===y.length)return I}return null}static paste(m,y,p,f,_,I){const E=this._distributePasteToCursors(m,p,f,_,I);return E?(p=p.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(m,y,p,E)):this._simplePaste(m,y,p,f,_)}static _goodIndentForLine(m,y,p){let f=null,_="";const I=n.LanguageConfigurationRegistry.getInheritIndentForLine(m.autoIndent,y,p,!1);if(I)f=I.action,_=I.indentation;else if(p>1){let E;for(E=p-1;E>=1;E--){const A=y.getLineContent(E);if(C.lastNonWhitespaceIndex(A)>=0)break}if(E<1)return null;const T=y.getLineMaxColumn(E),k=n.LanguageConfigurationRegistry.getEnterAction(m.autoIndent,y,new u.Range(E,T,E,T));k&&(_=k.indentation+k.appendText)}return f&&(f===i.IndentAction.Indent&&(_=c.shiftIndent(m,_)),f===i.IndentAction.Outdent&&(_=c.unshiftIndent(m,_)),_=m.normalizeIndentation(_)),_||null}static _replaceJumpToNextIndent(m,y,p,f){let _="";const I=p.getStartPosition();if(m.insertSpaces){const E=m.visibleColumnFromColumn(y,I),T=m.indentSize,k=T-E%T;for(let A=0;A<k;A++)_+=" "}else _="	";return new N.ReplaceCommand(p,_,f)}static tab(m,y,p){const f=[];for(let _=0,I=p.length;_<I;_++){const E=p[_];if(E.isEmpty()){const T=y.getLineContent(E.startLineNumber);if(/^\s*$/.test(T)&&y.isCheapToTokenize(E.startLineNumber)){let k=this._goodIndentForLine(m,y,E.startLineNumber);k=k||"	";const A=m.normalizeIndentation(k);if(!T.startsWith(A)){f[_]=new N.ReplaceCommand(new u.Range(E.startLineNumber,1,E.startLineNumber,T.length+1),A,!0);continue}}f[_]=this._replaceJumpToNextIndent(m,y,E,!0)}else{if(E.startLineNumber===E.endLineNumber){const T=y.getLineMaxColumn(E.startLineNumber);if(E.startColumn!==1||E.endColumn!==T){f[_]=this._replaceJumpToNextIndent(m,y,E,!1);continue}}f[_]=new D.ShiftCommand(E,{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent})}}return f}static compositionType(m,y,p,f,_,I,E,T){const k=f.map(A=>this._compositionType(p,A,_,I,E,T));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:r(m,4),shouldPushStackElementAfter:!1})}static _compositionType(m,y,p,f,_,I){if(!y.isEmpty())return null;const E=y.getPosition(),T=Math.max(1,E.column-f),k=Math.min(m.getLineMaxColumn(E.lineNumber),E.column+_),A=new u.Range(E.lineNumber,T,E.lineNumber,k);return m.getValueInRange(A)===p&&I===0?null:new N.ReplaceCommandWithOffsetCursorState(A,p,0,I)}static _typeCommand(m,y,p){return p?new N.ReplaceCommandWithoutChangingPosition(m,y,!0):new N.ReplaceCommand(m,y,!0)}static _enter(m,y,p,f){if(m.autoIndent===0)return c._typeCommand(f,`
`,p);if(!y.isCheapToTokenize(f.getStartPosition().lineNumber)||m.autoIndent===1){const T=y.getLineContent(f.startLineNumber),k=C.getLeadingWhitespace(T).substring(0,f.startColumn-1);return c._typeCommand(f,`
`+m.normalizeIndentation(k),p)}const _=n.LanguageConfigurationRegistry.getEnterAction(m.autoIndent,y,f);if(_){if(_.indentAction===i.IndentAction.None)return c._typeCommand(f,`
`+m.normalizeIndentation(_.indentation+_.appendText),p);if(_.indentAction===i.IndentAction.Indent)return c._typeCommand(f,`
`+m.normalizeIndentation(_.indentation+_.appendText),p);if(_.indentAction===i.IndentAction.IndentOutdent){const T=m.normalizeIndentation(_.indentation),k=m.normalizeIndentation(_.indentation+_.appendText),A=`
`+k+`
`+T;return p?new N.ReplaceCommandWithoutChangingPosition(f,A,!0):new N.ReplaceCommandWithOffsetCursorState(f,A,-1,k.length-T.length,!0)}else if(_.indentAction===i.IndentAction.Outdent){const T=c.unshiftIndent(m,_.indentation);return c._typeCommand(f,`
`+m.normalizeIndentation(T+_.appendText),p)}}const I=y.getLineContent(f.startLineNumber),E=C.getLeadingWhitespace(I).substring(0,f.startColumn-1);if(m.autoIndent>=4){const T=n.LanguageConfigurationRegistry.getIndentForEnter(m.autoIndent,y,f,{unshiftIndent:k=>c.unshiftIndent(m,k),shiftIndent:k=>c.shiftIndent(m,k),normalizeIndentation:k=>m.normalizeIndentation(k)});if(T){let k=m.visibleColumnFromColumn(y,f.getEndPosition());const A=f.endColumn,P=y.getLineContent(f.endLineNumber),F=C.firstNonWhitespaceIndex(P);if(F>=0?f=f.setEndPosition(f.endLineNumber,Math.max(f.endColumn,F+1)):f=f.setEndPosition(f.endLineNumber,y.getLineMaxColumn(f.endLineNumber)),p)return new N.ReplaceCommandWithoutChangingPosition(f,`
`+m.normalizeIndentation(T.afterEnter),!0);{let R=0;return A<=F+1&&(m.insertSpaces||(k=Math.ceil(k/m.indentSize)),R=Math.min(k+1-m.normalizeIndentation(T.afterEnter).length-1,0)),new N.ReplaceCommandWithOffsetCursorState(f,`
`+m.normalizeIndentation(T.afterEnter),0,R,!0)}}}return c._typeCommand(f,`
`+m.normalizeIndentation(E),p)}static _isAutoIndentType(m,y,p){if(m.autoIndent<4)return!1;for(let f=0,_=p.length;f<_;f++)if(!y.isCheapToTokenize(p[f].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(m,y,p,f){const _=n.LanguageConfigurationRegistry.getIndentationAtPosition(y,p.startLineNumber,p.startColumn),I=n.LanguageConfigurationRegistry.getIndentActionForType(m.autoIndent,y,p,f,{shiftIndent:E=>c.shiftIndent(m,E),unshiftIndent:E=>c.unshiftIndent(m,E)});if(I===null)return null;if(I!==m.normalizeIndentation(_)){const E=y.getLineFirstNonWhitespaceColumn(p.startLineNumber);return E===0?c._typeCommand(new u.Range(p.startLineNumber,1,p.endLineNumber,p.endColumn),m.normalizeIndentation(I)+f,!1):c._typeCommand(new u.Range(p.startLineNumber,1,p.endLineNumber,p.endColumn),m.normalizeIndentation(I)+y.getLineContent(p.startLineNumber).substring(E-1,p.startColumn-1)+f,!1)}return null}static _isAutoClosingOvertype(m,y,p,f,_){if(m.autoClosingOvertype==="never"||!m.autoClosingPairs.autoClosingPairsCloseSingleChar.has(_))return!1;for(let I=0,E=p.length;I<E;I++){const T=p[I];if(!T.isEmpty())return!1;const k=T.getPosition(),A=y.getLineContent(k.lineNumber);if(A.charAt(k.column-1)!==_)return!1;const F=(0,b.isQuote)(_);if((k.column>2?A.charCodeAt(k.column-2):0)===92&&F)return!1;if(m.autoClosingOvertype==="auto"){let M=!1;for(let O=0,L=f.length;O<L;O++){const B=f[O];if(k.lineNumber===B.startLineNumber&&k.column===B.startColumn){M=!0;break}}if(!M)return!1}}return!0}static _runAutoClosingOvertype(m,y,p,f,_){const I=[];for(let E=0,T=f.length;E<T;E++){const A=f[E].getPosition(),P=new u.Range(A.lineNumber,A.column,A.lineNumber,A.column+1);I[E]=new N.ReplaceCommand(P,_)}return new b.EditOperationResult(4,I,{shouldPushStackElementBefore:r(m,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(m,y){const p=y.charAt(0),f=m.autoClosingPairs.autoClosingPairsOpenByStart.get(p)||[],_=m.autoClosingPairs.autoClosingPairsCloseByStart.get(p)||[],I=f.some(T=>y.startsWith(T.open)),E=_.some(T=>y.startsWith(T.close));return!I&&E}static _findAutoClosingPairOpen(m,y,p,f){const _=m.autoClosingPairs.autoClosingPairsOpenByEnd.get(f);if(!_)return null;let I=null;for(const E of _)if(I===null||E.open.length>I.open.length){let T=!0;for(const k of p)if(y.getValueInRange(new u.Range(k.lineNumber,k.column-E.open.length+1,k.lineNumber,k.column))+f!==E.open){T=!1;break}T&&(I=E)}return I}static _findContainedAutoClosingPair(m,y){if(y.open.length<=1)return null;const p=y.close.charAt(y.close.length-1),f=m.autoClosingPairs.autoClosingPairsCloseByEnd.get(p)||[];let _=null;for(const I of f)I.open!==y.open&&y.open.includes(I.open)&&y.close.endsWith(I.close)&&(!_||I.open.length>_.open.length)&&(_=I);return _}static _getAutoClosingPairClose(m,y,p,f,_){const I=(0,b.isQuote)(f),E=I?m.autoClosingQuotes:m.autoClosingBrackets,T=I?m.shouldAutoCloseBefore.quote:m.shouldAutoCloseBefore.bracket;if(E==="never")return null;for(const M of p)if(!M.isEmpty())return null;const k=p.map(M=>{const O=M.getPosition();return _?{lineNumber:O.lineNumber,beforeColumn:O.column-f.length,afterColumn:O.column}:{lineNumber:O.lineNumber,beforeColumn:O.column,afterColumn:O.column}}),A=this._findAutoClosingPairOpen(m,y,k.map(M=>new t.Position(M.lineNumber,M.beforeColumn)),f);if(!A)return null;const P=this._findContainedAutoClosingPair(m,A),F=P?P.close:"";let R=!0;for(const M of k){const{lineNumber:O,beforeColumn:L,afterColumn:B}=M,x=y.getLineContent(O),U=x.substring(0,L-1),K=x.substring(B-1);if(K.startsWith(F)||(R=!1),K.length>0){const ne=K.charAt(0);if(!c._isBeforeClosingBrace(m,K)&&!T(ne))return null}if(A.open.length===1&&(f==="'"||f==='"')&&E!=="always"){const ne=(0,v.getMapForWordSeparators)(m.wordSeparators);if(U.length>0){const Y=U.charCodeAt(U.length-1);if(ne.get(Y)===0)return null}}if(!y.isCheapToTokenize(O))return null;y.forceTokenization(O);const Z=y.getLineTokens(O),ee=(0,a.createScopedLineTokens)(Z,L-1);if(!A.shouldAutoClose(ee,L-ee.firstCharOffset))return null;const X=A.findNeutralCharacter();if(X){const ne=y.getTokenTypeIfInsertingCharacter(O,L,X);if(!A.isOK(ne))return null}}return R?A.close.substring(0,A.close.length-F.length):A.close}static _runAutoClosingOpenCharType(m,y,p,f,_,I,E){const T=[];for(let k=0,A=f.length;k<A;k++){const P=f[k];T[k]=new d(P,_,!I,E)}return new b.EditOperationResult(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(m,y){return(0,b.isQuote)(y)?m.autoSurround==="quotes"||m.autoSurround==="languageDefined":m.autoSurround==="brackets"||m.autoSurround==="languageDefined"}static _isSurroundSelectionType(m,y,p,f){if(!c._shouldSurroundChar(m,f)||!m.surroundingPairs.hasOwnProperty(f))return!1;const _=(0,b.isQuote)(f);for(let I=0,E=p.length;I<E;I++){const T=p[I];if(T.isEmpty())return!1;let k=!0;for(let A=T.startLineNumber;A<=T.endLineNumber;A++){const P=y.getLineContent(A),F=A===T.startLineNumber?T.startColumn-1:0,R=A===T.endLineNumber?T.endColumn-1:P.length,M=P.substring(F,R);if(/[^ \t]/.test(M)){k=!1;break}}if(k)return!1;if(_&&T.startLineNumber===T.endLineNumber&&T.startColumn+1===T.endColumn){const A=y.getValueInRange(T);if((0,b.isQuote)(A))return!1}}return!0}static _runSurroundSelectionType(m,y,p,f,_){const I=[];for(let E=0,T=f.length;E<T;E++){const k=f[E],A=y.surroundingPairs[_];I[E]=new S.SurroundSelectionCommand(k,_,A)}return new b.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(m,y,p){return!!(p.length===1&&y.isCheapToTokenize(p[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(m,y,p,f,_){if(!y.electricChars.hasOwnProperty(_)||!f.isEmpty())return null;const I=f.getPosition();p.forceTokenization(I.lineNumber);const E=p.getLineTokens(I.lineNumber);let T;try{T=y.onElectricCharacter(_,E,I.column)}catch(k){return(0,w.onUnexpectedError)(k),null}if(!T)return null;if(T.matchOpenBracket){const k=(E.getLineContent()+_).lastIndexOf(T.matchOpenBracket)+1,A=p.bracketPairs.findMatchingBracketUp(T.matchOpenBracket,{lineNumber:I.lineNumber,column:k});if(A){if(A.startLineNumber===I.lineNumber)return null;const P=p.getLineContent(A.startLineNumber),F=C.getLeadingWhitespace(P),R=y.normalizeIndentation(F),M=p.getLineContent(I.lineNumber),O=p.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,L=M.substring(O-1,I.column-1),B=R+L+_,x=new u.Range(I.lineNumber,1,I.lineNumber,I.column),U=new N.ReplaceCommand(x,B);return new b.EditOperationResult(s(B,m),[U],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(m,y,p,f,_,I){if(!f||g.Selection.selectionsArrEqual(f,_))return null;let E=null;for(const k of _){if(!k.isEmpty())return null;const A=k.getPosition(),P=p.getValueInRange(new u.Range(A.lineNumber,A.column-1,A.lineNumber,A.column));if(E===null)E=P;else if(E!==P)return null}if(!E)return null;if(this._isAutoClosingOvertype(y,p,_,I,E)){const k=_.map(A=>new N.ReplaceCommand(new u.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const T=this._getAutoClosingPairClose(y,p,_,E,!0);return T!==null?this._runAutoClosingOpenCharType(m,y,p,_,E,!0,T):null}static typeWithInterceptors(m,y,p,f,_,I,E){if(!m&&E===`
`){const A=[];for(let P=0,F=_.length;P<F;P++)A[P]=c._enter(p,f,!1,_[P]);return new b.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoIndentType(p,f,_)){const A=[];let P=!1;for(let F=0,R=_.length;F<R;F++)if(A[F]=this._runAutoIndentType(p,f,_[F],E),!A[F]){P=!0;break}if(!P)return new b.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoClosingOvertype(p,f,_,I,E))return this._runAutoClosingOvertype(y,p,f,_,E);if(!m){const A=this._getAutoClosingPairClose(p,f,_,E,!1);if(A)return this._runAutoClosingOpenCharType(y,p,f,_,E,!1,A)}if(this._isSurroundSelectionType(p,f,_,E))return this._runSurroundSelectionType(y,p,f,_,E);if(!m&&this._isTypeInterceptorElectricChar(p,f,_)){const A=this._typeInterceptorElectricChar(y,p,f,_[0],E);if(A)return A}const T=[];for(let A=0,P=_.length;A<P;A++)T[A]=new N.ReplaceCommand(_[A],E);const k=s(E,y);return new b.EditOperationResult(k,T,{shouldPushStackElementBefore:r(y,k),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(m,y,p,f,_){const I=[];for(let T=0,k=f.length;T<k;T++)I[T]=new N.ReplaceCommand(f[T],_);const E=s(_,m);return new b.EditOperationResult(E,I,{shouldPushStackElementBefore:r(m,E),shouldPushStackElementAfter:!1})}static lineInsertBefore(m,y,p){if(y===null||p===null)return[];const f=[];for(let _=0,I=p.length;_<I;_++){let E=p[_].positionLineNumber;if(E===1)f[_]=new N.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{E--;const T=y.getLineMaxColumn(E);f[_]=this._enter(m,y,!1,new u.Range(E,T,E,T))}}return f}static lineInsertAfter(m,y,p){if(y===null||p===null)return[];const f=[];for(let _=0,I=p.length;_<I;_++){const E=p[_].positionLineNumber,T=y.getLineMaxColumn(E);f[_]=this._enter(m,y,!1,new u.Range(E,T,E,T))}return f}static lineBreakInsert(m,y,p){const f=[];for(let _=0,I=p.length;_<I;_++)f[_]=this._enter(m,y,!0,p[_]);return f}}e.TypeOperations=c;class d extends N.ReplaceCommandWithOffsetCursorState{constructor(m,y,p,f){super(m,(p?y:"")+f,0,-f.length);this._openCharacter=y,this._closeCharacter=f,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(m,y){const f=y.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(f.startLineNumber,f.endColumn-this._closeCharacter.length,f.endLineNumber,f.endColumn),this.enclosingRange=new u.Range(f.startLineNumber,f.endColumn-this._openCharacter.length-this._closeCharacter.length,f.endLineNumber,f.endColumn),super.computeCursorState(m,y)}}e.TypeWithAutoClosingCommand=d;function s(h,m){return h===" "?m===5||m===6?6:5:4}function r(h,m){return l(h)&&!l(m)?!0:h===5?!1:o(h)!==o(m)}function o(h){return h===6||h===5?"space":h}function l(h){return h===4||h===5||h===6}}),define(Q[158],J([0,1,8,45,201,113,11,3]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(i,n,a,c,d){return{start:c,end:d,wordType:n,nextCharClass:a}}static _findPreviousWordOnLine(i,n,a){const c=n.getLineContent(a.lineNumber);return this._doFindPreviousWordOnLine(c,i,a)}static _doFindPreviousWordOnLine(i,n,a){let c=0;for(let d=a.column-2;d>=0;d--){const s=i.charCodeAt(d),r=n.get(s);if(r===0){if(c===2)return this._createWord(i,c,r,d+1,this._findEndOfWord(i,n,c,d+1));c=1}else if(r===2){if(c===1)return this._createWord(i,c,r,d+1,this._findEndOfWord(i,n,c,d+1));c=2}else if(r===1&&c!==0)return this._createWord(i,c,r,d+1,this._findEndOfWord(i,n,c,d+1))}return c!==0?this._createWord(i,c,1,0,this._findEndOfWord(i,n,c,0)):null}static _findEndOfWord(i,n,a,c){const d=i.length;for(let s=c;s<d;s++){const r=i.charCodeAt(s),o=n.get(r);if(o===1||a===1&&o===2||a===2&&o===0)return s}return d}static _findNextWordOnLine(i,n,a){const c=n.getLineContent(a.lineNumber);return this._doFindNextWordOnLine(c,i,a)}static _doFindNextWordOnLine(i,n,a){let c=0;const d=i.length;for(let s=a.column-1;s<d;s++){const r=i.charCodeAt(s),o=n.get(r);if(o===0){if(c===2)return this._createWord(i,c,o,this._findStartOfWord(i,n,c,s-1),s);c=1}else if(o===2){if(c===1)return this._createWord(i,c,o,this._findStartOfWord(i,n,c,s-1),s);c=2}else if(o===1&&c!==0)return this._createWord(i,c,o,this._findStartOfWord(i,n,c,s-1),s)}return c!==0?this._createWord(i,c,1,this._findStartOfWord(i,n,c,d-1),d):null}static _findStartOfWord(i,n,a,c){for(let d=c;d>=0;d--){const s=i.charCodeAt(d),r=n.get(s);if(r===1||a===1&&r===2||a===2&&r===0)return d+1}return 0}static moveWordLeft(i,n,a,c){let d=a.lineNumber,s=a.column;s===1&&d>1&&(d=d-1,s=n.getLineMaxColumn(d));let r=v._findPreviousWordOnLine(i,n,new S.Position(d,s));if(c===0)return new S.Position(d,r?r.start+1:1);if(c===1)return r&&r.wordType===2&&r.end-r.start==1&&r.nextCharClass===0&&(r=v._findPreviousWordOnLine(i,n,new S.Position(d,r.start+1))),new S.Position(d,r?r.start+1:1);if(c===3){for(;r&&r.wordType===2;)r=v._findPreviousWordOnLine(i,n,new S.Position(d,r.start+1));return new S.Position(d,r?r.start+1:1)}return r&&s<=r.end+1&&(r=v._findPreviousWordOnLine(i,n,new S.Position(d,r.start+1))),new S.Position(d,r?r.end+1:1)}static _moveWordPartLeft(i,n){const a=n.lineNumber,c=i.getLineMaxColumn(a);if(n.column===1)return a>1?new S.Position(a-1,i.getLineMaxColumn(a-1)):n;const d=i.getLineContent(a);for(let s=n.column-1;s>1;s--){const r=d.charCodeAt(s-2),o=d.charCodeAt(s-1);if(r===95&&o!==95)return new S.Position(a,s);if(w.isLowerAsciiLetter(r)&&w.isUpperAsciiLetter(o))return new S.Position(a,s);if(w.isUpperAsciiLetter(r)&&w.isUpperAsciiLetter(o)&&s+1<c){const l=d.charCodeAt(s);if(w.isLowerAsciiLetter(l))return new S.Position(a,s)}}return new S.Position(a,1)}static moveWordRight(i,n,a,c){let d=a.lineNumber,s=a.column,r=!1;s===n.getLineMaxColumn(d)&&d<n.getLineCount()&&(r=!0,d=d+1,s=1);let o=v._findNextWordOnLine(i,n,new S.Position(d,s));if(c===2)o&&o.wordType===2&&o.end-o.start==1&&o.nextCharClass===0&&(o=v._findNextWordOnLine(i,n,new S.Position(d,o.end+1))),o?s=o.end+1:s=n.getLineMaxColumn(d);else if(c===3){for(r&&(s=0);o&&(o.wordType===2||o.start+1<=s);)o=v._findNextWordOnLine(i,n,new S.Position(d,o.end+1));o?s=o.start+1:s=n.getLineMaxColumn(d)}else o&&!r&&s>=o.start+1&&(o=v._findNextWordOnLine(i,n,new S.Position(d,o.end+1))),o?s=o.start+1:s=n.getLineMaxColumn(d);return new S.Position(d,s)}static _moveWordPartRight(i,n){const a=n.lineNumber,c=i.getLineMaxColumn(a);if(n.column===c)return a<i.getLineCount()?new S.Position(a+1,1):n;const d=i.getLineContent(a);for(let s=n.column+1;s<c;s++){const r=d.charCodeAt(s-2),o=d.charCodeAt(s-1);if(r!==95&&o===95)return new S.Position(a,s);if(w.isLowerAsciiLetter(r)&&w.isUpperAsciiLetter(o))return new S.Position(a,s);if(w.isUpperAsciiLetter(r)&&w.isUpperAsciiLetter(o)&&s+1<c){const l=d.charCodeAt(s);if(w.isLowerAsciiLetter(l))return new S.Position(a,s)}}return new S.Position(a,c)}static _deleteWordLeftWhitespace(i,n){const a=i.getLineContent(n.lineNumber),c=n.column-2,d=w.lastNonWhitespaceIndex(a,c);return d+1<c?new b.Range(n.lineNumber,d+2,n.lineNumber,n.column):null}static deleteWordLeft(i,n){const a=i.wordSeparators,c=i.model,d=i.selection,s=i.whitespaceHeuristics;if(!d.isEmpty())return d;if(N.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const m=i.selection.getPosition();return new b.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const r=new S.Position(d.positionLineNumber,d.positionColumn);let o=r.lineNumber,l=r.column;if(o===1&&l===1)return null;if(s){const m=this._deleteWordLeftWhitespace(c,r);if(m)return m}let h=v._findPreviousWordOnLine(a,c,r);return n===0?h?l=h.start+1:l>1?l=1:(o--,l=c.getLineMaxColumn(o)):(h&&l<=h.end+1&&(h=v._findPreviousWordOnLine(a,c,new S.Position(o,h.start+1))),h?l=h.end+1:l>1?l=1:(o--,l=c.getLineMaxColumn(o))),new b.Range(o,l,r.lineNumber,r.column)}static deleteInsideWord(i,n,a){if(!a.isEmpty())return a;const c=new S.Position(a.positionLineNumber,a.positionColumn),d=this._deleteInsideWordWhitespace(n,c);return d||this._deleteInsideWordDetermineDeleteRange(i,n,c)}static _charAtIsWhitespace(i,n){const a=i.charCodeAt(n);return a===32||a===9}static _deleteInsideWordWhitespace(i,n){const a=i.getLineContent(n.lineNumber),c=a.length;if(c===0)return null;let d=Math.max(n.column-2,0);if(!this._charAtIsWhitespace(a,d))return null;let s=Math.min(n.column-1,c-1);if(!this._charAtIsWhitespace(a,s))return null;for(;d>0&&this._charAtIsWhitespace(a,d-1);)d--;for(;s+1<c&&this._charAtIsWhitespace(a,s+1);)s++;return new b.Range(n.lineNumber,d+1,n.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(i,n,a){const c=n.getLineContent(a.lineNumber),d=c.length;if(d===0)return a.lineNumber>1?new b.Range(a.lineNumber-1,n.getLineMaxColumn(a.lineNumber-1),a.lineNumber,1):a.lineNumber<n.getLineCount()?new b.Range(a.lineNumber,1,a.lineNumber+1,1):new b.Range(a.lineNumber,1,a.lineNumber,1);const s=m=>m.start+1<=a.column&&a.column<=m.end+1,r=(m,y)=>(m=Math.min(m,a.column),y=Math.max(y,a.column),new b.Range(a.lineNumber,m,a.lineNumber,y)),o=m=>{let y=m.start+1,p=m.end+1,f=!1;for(;p-1<d&&this._charAtIsWhitespace(c,p-1);)f=!0,p++;if(!f)for(;y>1&&this._charAtIsWhitespace(c,y-2);)y--;return r(y,p)},l=v._findPreviousWordOnLine(i,n,a);if(l&&s(l))return o(l);const h=v._findNextWordOnLine(i,n,a);return h&&s(h)?o(h):l&&h?r(l.end+1,h.start+1):l?r(l.start+1,l.end+1):h?r(h.start+1,h.end+1):r(1,d+1)}static _deleteWordPartLeft(i,n){if(!n.isEmpty())return n;const a=n.getPosition(),c=v._moveWordPartLeft(i,a);return new b.Range(a.lineNumber,a.column,c.lineNumber,c.column)}static _findFirstNonWhitespaceChar(i,n){const a=i.length;for(let c=n;c<a;c++){const d=i.charAt(c);if(d!==" "&&d!=="	")return c}return a}static _deleteWordRightWhitespace(i,n){const a=i.getLineContent(n.lineNumber),c=n.column-1,d=this._findFirstNonWhitespaceChar(a,c);return c+1<d?new b.Range(n.lineNumber,n.column,n.lineNumber,d+1):null}static deleteWordRight(i,n){const a=i.wordSeparators,c=i.model,d=i.selection,s=i.whitespaceHeuristics;if(!d.isEmpty())return d;const r=new S.Position(d.positionLineNumber,d.positionColumn);let o=r.lineNumber,l=r.column;const h=c.getLineCount(),m=c.getLineMaxColumn(o);if(o===h&&l===m)return null;if(s){const p=this._deleteWordRightWhitespace(c,r);if(p)return p}let y=v._findNextWordOnLine(a,c,r);return n===2?y?l=y.end+1:l<m||o===h?l=m:(o++,y=v._findNextWordOnLine(a,c,new S.Position(o,1)),y?l=y.start+1:l=c.getLineMaxColumn(o)):(y&&l>=y.start+1&&(y=v._findNextWordOnLine(a,c,new S.Position(o,y.end+1))),y?l=y.start+1:l<m||o===h?l=m:(o++,y=v._findNextWordOnLine(a,c,new S.Position(o,1)),y?l=y.start+1:l=c.getLineMaxColumn(o))),new b.Range(o,l,r.lineNumber,r.column)}static _deleteWordPartRight(i,n){if(!n.isEmpty())return n;const a=n.getPosition(),c=v._moveWordPartRight(i,a);return new b.Range(a.lineNumber,a.column,c.lineNumber,c.column)}static _createWordAtPosition(i,n,a){const c=new b.Range(n,a.start+1,n,a.end+1);return{word:i.getValueInRange(c),startColumn:c.startColumn,endColumn:c.endColumn}}static getWordAtPosition(i,n,a){const c=(0,D.getMapForWordSeparators)(n),d=v._findPreviousWordOnLine(c,i,a);if(d&&d.wordType===1&&d.start<=a.column-1&&a.column-1<=d.end)return v._createWordAtPosition(i,a.lineNumber,d);const s=v._findNextWordOnLine(c,i,a);return s&&s.wordType===1&&s.start<=a.column-1&&a.column-1<=s.end?v._createWordAtPosition(i,a.lineNumber,s):null}static word(i,n,a,c,d){const s=(0,D.getMapForWordSeparators)(i.wordSeparators),r=v._findPreviousWordOnLine(s,n,d),o=v._findNextWordOnLine(s,n,d);if(!c){let p,f;return r&&r.wordType===1&&r.start<=d.column-1&&d.column-1<=r.end?(p=r.start+1,f=r.end+1):o&&o.wordType===1&&o.start<=d.column-1&&d.column-1<=o.end?(p=o.start+1,f=o.end+1):(r?p=r.end+1:p=1,o?f=o.start+1:f=n.getLineMaxColumn(d.lineNumber)),new C.SingleCursorState(new b.Range(d.lineNumber,p,d.lineNumber,f),0,new S.Position(d.lineNumber,f),0)}let l,h;r&&r.wordType===1&&r.start<d.column-1&&d.column-1<r.end?(l=r.start+1,h=r.end+1):o&&o.wordType===1&&o.start<d.column-1&&d.column-1<o.end?(l=o.start+1,h=o.end+1):(l=d.column,h=d.column);const m=d.lineNumber;let y;if(a.selectionStart.containsPosition(d))y=a.selectionStart.endColumn;else if(d.isBeforeOrEqual(a.selectionStart.getStartPosition())){y=l;const p=new S.Position(m,y);a.selectionStart.containsPosition(p)&&(y=a.selectionStart.endColumn)}else{y=h;const p=new S.Position(m,y);a.selectionStart.containsPosition(p)&&(y=a.selectionStart.startColumn)}return a.move(!0,m,y,0)}}e.WordOperations=v;class u extends v{static deleteWordPartLeft(i){const n=g([v.deleteWordLeft(i,0),v.deleteWordLeft(i,2),v._deleteWordPartLeft(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(i){const n=g([v.deleteWordRight(i,0),v.deleteWordRight(i,2),v._deleteWordPartRight(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(i,n,a){const c=g([v.moveWordLeft(i,n,a,0),v.moveWordLeft(i,n,a,2),v._moveWordPartLeft(n,a)]);return c.sort(S.Position.compare),c[2]}static moveWordPartRight(i,n,a){const c=g([v.moveWordRight(i,n,a,0),v.moveWordRight(i,n,a,2),v._moveWordPartRight(n,a)]);return c.sort(S.Position.compare),c[0]}}e.WordPartOperations=u;function g(t){return t.filter(i=>Boolean(i))}}),define(Q[203],J([0,1,20,45,200,158,11,3]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(t,i,n){const a=[];let c=0;for(let d=0,s=i.length;d<s;d++){const r=i[d];a[c++]=new C.CursorState(r.modelState,r.viewState),n?a[c++]=C.CursorState.fromModelState(N.MoveOperations.translateDown(t.cursorConfig,t.model,r.modelState)):a[c++]=C.CursorState.fromViewState(N.MoveOperations.translateDown(t.cursorConfig,t,r.viewState))}return a}static addCursorUp(t,i,n){const a=[];let c=0;for(let d=0,s=i.length;d<s;d++){const r=i[d];a[c++]=new C.CursorState(r.modelState,r.viewState),n?a[c++]=C.CursorState.fromModelState(N.MoveOperations.translateUp(t.cursorConfig,t.model,r.modelState)):a[c++]=C.CursorState.fromViewState(N.MoveOperations.translateUp(t.cursorConfig,t,r.viewState))}return a}static moveToBeginningOfLine(t,i,n){let a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c];a[c]=this._moveToLineStart(t,s,n)}return a}static _moveToLineStart(t,i,n){const a=i.viewState.position.column,c=i.modelState.position.column,d=a===c,s=i.viewState.position.lineNumber,r=t.getLineFirstNonWhitespaceColumn(s);return!d&&!(a===r)?this._moveToLineStartByView(t,i,n):this._moveToLineStartByModel(t,i,n)}static _moveToLineStartByView(t,i,n){return C.CursorState.fromViewState(N.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t,i.viewState,n))}static _moveToLineStartByModel(t,i,n){return C.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t.model,i.modelState,n))}static moveToEndOfLine(t,i,n,a){const c=[];for(let d=0,s=i.length;d<s;d++){const r=i[d];c[d]=this._moveToLineEnd(t,r,n,a)}return c}static _moveToLineEnd(t,i,n,a){const c=i.viewState.position,d=t.getLineMaxColumn(c.lineNumber),s=c.column===d,r=i.modelState.position,o=t.model.getLineMaxColumn(r.lineNumber),l=d-c.column==o-r.column;return s||l?this._moveToLineEndByModel(t,i,n,a):this._moveToLineEndByView(t,i,n,a)}static _moveToLineEndByView(t,i,n,a){return C.CursorState.fromViewState(N.MoveOperations.moveToEndOfLine(t.cursorConfig,t,i.viewState,n,a))}static _moveToLineEndByModel(t,i,n,a){return C.CursorState.fromModelState(N.MoveOperations.moveToEndOfLine(t.cursorConfig,t.model,i.modelState,n,a))}static expandLineSelection(t,i){const n=[];for(let a=0,c=i.length;a<c;a++){const d=i[a],s=d.modelState.selection.startLineNumber,r=t.model.getLineCount();let o=d.modelState.selection.endLineNumber,l;o===r?l=t.model.getLineMaxColumn(r):(o++,l=1),n[a]=C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(s,1,s,1),0,new S.Position(o,l),0))}return n}static moveToBeginningOfBuffer(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c];a[c]=C.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return a}static moveToEndOfBuffer(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c];a[c]=C.CursorState.fromModelState(N.MoveOperations.moveToEndOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return a}static selectAll(t,i){const n=t.model.getLineCount(),a=t.model.getLineMaxColumn(n);return C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(1,1,1,1),0,new S.Position(n,a),0))}static line(t,i,n,a,c){const d=t.model.validatePosition(a),s=c?t.coordinatesConverter.validateViewPosition(new S.Position(c.lineNumber,c.column),d):t.coordinatesConverter.convertModelPositionToViewPosition(d);if(!n||!i.modelState.hasSelection()){const o=t.model.getLineCount();let l=d.lineNumber+1,h=1;return l>o&&(l=o,h=t.model.getLineMaxColumn(l)),C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(d.lineNumber,1,l,h),0,new S.Position(l,h),0))}const r=i.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<r)return C.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),s.lineNumber,1,0));if(d.lineNumber>r){const o=t.getLineCount();let l=s.lineNumber+1,h=1;return l>o&&(l=o,h=t.getLineMaxColumn(l)),C.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),l,h,0))}else{const o=i.modelState.selectionStart.getEndPosition();return C.CursorState.fromModelState(i.modelState.move(i.modelState.hasSelection(),o.lineNumber,o.column,0))}}static word(t,i,n,a){const c=t.model.validatePosition(a);return C.CursorState.fromModelState(D.WordOperations.word(t.cursorConfig,t.model,i.modelState,n,c))}static cancelSelection(t,i){if(!i.modelState.hasSelection())return new C.CursorState(i.modelState,i.viewState);const n=i.viewState.position.lineNumber,a=i.viewState.position.column;return C.CursorState.fromViewState(new C.SingleCursorState(new b.Range(n,a,n,a),0,new S.Position(n,a),0))}static moveTo(t,i,n,a,c){const d=t.model.validatePosition(a),s=c?t.coordinatesConverter.validateViewPosition(new S.Position(c.lineNumber,c.column),d):t.coordinatesConverter.convertModelPositionToViewPosition(d);return C.CursorState.fromViewState(i.viewState.move(n,s.lineNumber,s.column,0))}static simpleMove(t,i,n,a,c,d){switch(n){case 0:return d===4?this._moveHalfLineLeft(t,i,a):this._moveLeft(t,i,a,c);case 1:return d===4?this._moveHalfLineRight(t,i,a):this._moveRight(t,i,a,c);case 2:return d===2?this._moveUpByViewLines(t,i,a,c):this._moveUpByModelLines(t,i,a,c);case 3:return d===2?this._moveDownByViewLines(t,i,a,c):this._moveDownByModelLines(t,i,a,c);case 4:return d===2?i.map(s=>C.CursorState.fromViewState(N.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t,s.viewState,a))):i.map(s=>C.CursorState.fromModelState(N.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t.model,s.modelState,a)));case 5:return d===2?i.map(s=>C.CursorState.fromViewState(N.MoveOperations.moveToNextBlankLine(t.cursorConfig,t,s.viewState,a))):i.map(s=>C.CursorState.fromModelState(N.MoveOperations.moveToNextBlankLine(t.cursorConfig,t.model,s.modelState,a)));case 6:return this._moveToViewMinColumn(t,i,a);case 7:return this._moveToViewFirstNonWhitespaceColumn(t,i,a);case 8:return this._moveToViewCenterColumn(t,i,a);case 9:return this._moveToViewMaxColumn(t,i,a);case 10:return this._moveToViewLastNonWhitespaceColumn(t,i,a);default:return null}}static viewportMove(t,i,n,a,c){const d=t.getCompletelyVisibleViewRange(),s=t.coordinatesConverter.convertViewRangeToModelRange(d);switch(n){case 11:{const r=this._firstLineNumberInRange(t.model,s,c),o=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],a,r,o)]}case 13:{const r=this._lastLineNumberInRange(t.model,s,c),o=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],a,r,o)]}case 12:{const r=Math.round((s.startLineNumber+s.endLineNumber)/2),o=t.model.getLineFirstNonWhitespaceColumn(r);return[this._moveToModelPosition(t,i[0],a,r,o)]}case 14:{const r=[];for(let o=0,l=i.length;o<l;o++){const h=i[o];r[o]=this.findPositionInViewportIfOutside(t,h,d,a)}return r}default:return null}}static findPositionInViewportIfOutside(t,i,n,a){const c=i.viewState.position.lineNumber;if(n.startLineNumber<=c&&c<=n.endLineNumber-1)return new C.CursorState(i.modelState,i.viewState);{let d;c>n.endLineNumber-1?d=n.endLineNumber-1:c<n.startLineNumber?d=n.startLineNumber:d=c;const s=N.MoveOperations.vertical(t.cursorConfig,t,c,i.viewState.position.column,i.viewState.leftoverVisibleColumns,d,!1);return C.CursorState.fromViewState(i.viewState.move(a,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(t,i,n){let a=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(a)&&a++,Math.min(i.endLineNumber,a+n-1)}static _lastLineNumberInRange(t,i,n){let a=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(a)&&a++,Math.max(a,i.endLineNumber-n+1)}static _moveLeft(t,i,n,a){return i.map(c=>C.CursorState.fromViewState(N.MoveOperations.moveLeft(t.cursorConfig,t,c.viewState,n,a)))}static _moveHalfLineLeft(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=Math.round(t.getLineContent(r).length/2);a[c]=C.CursorState.fromViewState(N.MoveOperations.moveLeft(t.cursorConfig,t,s.viewState,n,o))}return a}static _moveRight(t,i,n,a){return i.map(c=>C.CursorState.fromViewState(N.MoveOperations.moveRight(t.cursorConfig,t,c.viewState,n,a)))}static _moveHalfLineRight(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=Math.round(t.getLineContent(r).length/2);a[c]=C.CursorState.fromViewState(N.MoveOperations.moveRight(t.cursorConfig,t,s.viewState,n,o))}return a}static _moveDownByViewLines(t,i,n,a){const c=[];for(let d=0,s=i.length;d<s;d++){const r=i[d];c[d]=C.CursorState.fromViewState(N.MoveOperations.moveDown(t.cursorConfig,t,r.viewState,n,a))}return c}static _moveDownByModelLines(t,i,n,a){const c=[];for(let d=0,s=i.length;d<s;d++){const r=i[d];c[d]=C.CursorState.fromModelState(N.MoveOperations.moveDown(t.cursorConfig,t.model,r.modelState,n,a))}return c}static _moveUpByViewLines(t,i,n,a){const c=[];for(let d=0,s=i.length;d<s;d++){const r=i[d];c[d]=C.CursorState.fromViewState(N.MoveOperations.moveUp(t.cursorConfig,t,r.viewState,n,a))}return c}static _moveUpByModelLines(t,i,n,a){const c=[];for(let d=0,s=i.length;d<s;d++){const r=i[d];c[d]=C.CursorState.fromModelState(N.MoveOperations.moveUp(t.cursorConfig,t.model,r.modelState,n,a))}return c}static _moveToViewPosition(t,i,n,a,c){return C.CursorState.fromViewState(i.viewState.move(n,a,c,0))}static _moveToModelPosition(t,i,n,a,c){return C.CursorState.fromModelState(i.modelState.move(n,a,c,0))}static _moveToViewMinColumn(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=t.getLineMinColumn(r);a[c]=this._moveToViewPosition(t,s,n,r,o)}return a}static _moveToViewFirstNonWhitespaceColumn(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=t.getLineFirstNonWhitespaceColumn(r);a[c]=this._moveToViewPosition(t,s,n,r,o)}return a}static _moveToViewCenterColumn(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=Math.round((t.getLineMaxColumn(r)+t.getLineMinColumn(r))/2);a[c]=this._moveToViewPosition(t,s,n,r,o)}return a}static _moveToViewMaxColumn(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=t.getLineMaxColumn(r);a[c]=this._moveToViewPosition(t,s,n,r,o)}return a}static _moveToViewLastNonWhitespaceColumn(t,i,n){const a=[];for(let c=0,d=i.length;c<d;c++){const s=i[c],r=s.viewState.position.lineNumber,o=t.getLineLastNonWhitespaceColumn(r);a[c]=this._moveToViewPosition(t,s,n,r,o)}return a}}e.CursorMoveCommands=v;var u;(function(g){const t=function(n){if(!w.isObject(n))return!1;const a=n;return!(!w.isString(a.to)||!w.isUndefined(a.select)&&!w.isBoolean(a.select)||!w.isUndefined(a.by)&&!w.isString(a.by)||!w.isUndefined(a.value)&&!w.isNumber(a.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(n){if(!n.to)return null;let a;switch(n.to){case g.RawDirection.Left:a=0;break;case g.RawDirection.Right:a=1;break;case g.RawDirection.Up:a=2;break;case g.RawDirection.Down:a=3;break;case g.RawDirection.PrevBlankLine:a=4;break;case g.RawDirection.NextBlankLine:a=5;break;case g.RawDirection.WrappedLineStart:a=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:a=7;break;case g.RawDirection.WrappedLineColumnCenter:a=8;break;case g.RawDirection.WrappedLineEnd:a=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:a=10;break;case g.RawDirection.ViewPortTop:a=11;break;case g.RawDirection.ViewPortBottom:a=13;break;case g.RawDirection.ViewPortCenter:a=12;break;case g.RawDirection.ViewPortIfOutside:a=14;break;default:return null}let c=0;switch(n.by){case g.RawUnit.Line:c=1;break;case g.RawUnit.WrappedLine:c=2;break;case g.RawUnit.Character:c=3;break;case g.RawUnit.HalfLine:c=4;break}return{direction:a,unit:c,select:!!n.select,value:n.value||1}}g.parse=i})(u=e.CursorMove||(e.CursorMove={}))}),define(Q[159],J([0,1,484,33,20,43,15,28,694,45,201,203,202,11,3,24,16,84]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const r=0;class o extends S.EditorCommand{runEditorCommand(A,P,F){const R=P._getViewModel();!R||this.runCoreEditorCommand(R,F||{})}}e.CoreEditorCommand=o;var l;(function(k){const A=function(F){if(!N.isObject(F))return!1;const R=F;return!(!N.isString(R.to)||!N.isUndefined(R.by)&&!N.isString(R.by)||!N.isUndefined(R.value)&&!N.isNumber(R.value)||!N.isUndefined(R.revealCursor)&&!N.isBoolean(R.revealCursor))};k.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},k.RawDirection={Up:"up",Down:"down"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function P(F){let R;switch(F.to){case k.RawDirection.Up:R=1;break;case k.RawDirection.Down:R=2;break;default:return null}let M;switch(F.by){case k.RawUnit.Line:M=1;break;case k.RawUnit.WrappedLine:M=2;break;case k.RawUnit.Page:M=3;break;case k.RawUnit.HalfPage:M=4;break;default:M=2}const O=Math.floor(F.value||1),L=!!F.revealCursor;return{direction:R,unit:M,value:O,revealCursor:L,select:!!F.select}}k.parse=P})(l=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(k){const A=function(P){if(!N.isObject(P))return!1;const F=P;return!(!N.isNumber(F.lineNumber)&&!N.isString(F.lineNumber)||!N.isUndefined(F.at)&&!N.isString(F.at))};k.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},k.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class m{constructor(A){A.addImplementation(1e4,"code-editor",(P,F)=>{const R=P.get(b.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(P,R,F):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(P,F)=>{const R=document.activeElement;return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),A.addImplementation(0,"generic-dom",(P,F)=>{const R=P.get(b.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(P,R,F)):!1})}_runEditorCommand(A,P,F){const R=this.runEditorCommand(A,P,F);return R||!0}}var y;(function(k){class A extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.moveTo(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),W.revealPrimaryCursor(V.source,!0)}}k.MoveTo=(0,S.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),k.MoveToSelect=(0,S.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends o{runCoreEditorCommand(W,V){W.model.pushStackElement();const G=this._getColumnSelectResult(W,W.getPrimaryCursorState(),W.getCursorColumnSelectData(),V);W.setCursorStates(V.source,3,G.viewStates.map(oe=>u.CursorState.fromViewState(oe))),W.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:G.fromLineNumber,fromViewVisualColumn:G.fromVisualColumn,toViewLineNumber:G.toLineNumber,toViewVisualColumn:G.toVisualColumn}),G.reversed?W.revealTopMostCursor(V.source):W.revealBottomMostCursor(V.source)}}k.ColumnSelect=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(j,W,V,G){const oe=j.model.validatePosition(G.position),ce=j.coordinatesConverter.validateViewPosition(new n.Position(G.viewPosition.lineNumber,G.viewPosition.column),oe),ie=G.doColumnSelect?V.fromViewLineNumber:ce.lineNumber,de=G.doColumnSelect?V.fromViewVisualColumn:G.mouseColumn-1;return v.ColumnSelection.columnSelect(j.cursorConfig,j,ie,de,ce.lineNumber,G.mouseColumn-1)}}),k.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(j,W,V,G){return v.ColumnSelection.columnSelectLeft(j.cursorConfig,j,V)}}),k.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(j,W,V,G){return v.ColumnSelection.columnSelectRight(j.cursorConfig,j,V)}});class F extends P{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,V,G,oe){return v.ColumnSelection.columnSelectUp(W.cursorConfig,W,G,this._isPaged)}}k.CursorColumnSelectUp=(0,S.registerEditorCommand)(new F({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),k.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new F({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class R extends P{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,V,G,oe){return v.ColumnSelection.columnSelectDown(W.cursorConfig,W,G,this._isPaged)}}k.CursorColumnSelectDown=(0,S.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),k.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class M extends o{constructor(){super({id:"cursorMove",precondition:void 0,description:t.CursorMove.description})}runCoreEditorCommand(W,V){const G=t.CursorMove.parse(V);!G||this._runCursorMove(W,V.source,G)}_runCursorMove(W,V,G){W.model.pushStackElement(),W.setCursorStates(V,3,M._move(W,W.getCursorStates(),G)),W.revealPrimaryCursor(V,!0)}static _move(W,V,G){const oe=G.select,ce=G.value;switch(G.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return t.CursorMoveCommands.simpleMove(W,V,G.direction,oe,ce,G.unit);case 11:case 13:case 12:case 14:return t.CursorMoveCommands.viewportMove(W,V,G.direction,oe,ce);default:return null}}}k.CursorMoveImpl=M,k.CursorMove=(0,S.registerEditorCommand)(new M);class O extends o{constructor(W){super(W);this._staticArgs=W.args}runCoreEditorCommand(W,V){let G=this._staticArgs;this._staticArgs.value===-1&&(G={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:W.cursorConfig.pageSize}),W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.simpleMove(W,W.getCursorStates(),G.direction,G.select,G.value,G.unit)),W.revealPrimaryCursor(V.source,!0)}}k.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),k.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|15}})),k.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),k.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|17}})),k.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),k.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),k.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:11}})),k.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|11}})),k.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),k.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),k.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:12}})),k.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|12}})),k.CreateCursor=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(j,W){let V;W.wholeLine?V=t.CursorMoveCommands.line(j,j.getPrimaryCursorState(),!1,W.position,W.viewPosition):V=t.CursorMoveCommands.moveTo(j,j.getPrimaryCursorState(),!1,W.position,W.viewPosition);const G=j.getCursorStates();if(G.length>1){const oe=V.modelState?V.modelState.position:null,ce=V.viewState?V.viewState.position:null;for(let ie=0,de=G.length;ie<de;ie++){const q=G[ie];if(!(oe&&!q.modelState.selection.containsPosition(oe))&&!(ce&&!q.viewState.selection.containsPosition(ce))){G.splice(ie,1),j.model.pushStackElement(),j.setCursorStates(W.source,3,G);return}}}G.push(V),j.model.pushStackElement(),j.setCursorStates(W.source,3,G)}}),k.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(j,W){const V=j.getLastAddedCursorIndex(),G=j.getCursorStates(),oe=G.slice(0);oe[V]=t.CursorMoveCommands.moveTo(j,G[V],!0,W.position,W.viewPosition),j.model.pushStackElement(),j.setCursorStates(W.source,3,oe)}});class L extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToBeginningOfLine(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorHome=(0,S.registerEditorCommand)(new L({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),k.CursorHomeSelect=(0,S.registerEditorCommand)(new L({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class B extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W){const V=[];for(let G=0,oe=W.length;G<oe;G++){const ce=W[G],ie=ce.modelState.position.lineNumber;V[G]=u.CursorState.fromModelState(ce.modelState.move(this._inSelectionMode,ie,1,0))}return V}}k.CursorLineStart=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),k.CursorLineStartSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class x extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToEndOfLine(W,W.getCursorStates(),this._inSelectionMode,V.sticky||!1)),W.revealPrimaryCursor(V.source,!0)}}k.CursorEnd=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(0,null),type:"boolean",default:!1}}}}]}})),k.CursorEndSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(1,null),type:"boolean",default:!1}}}}]}}));class U extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W,W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W,V){const G=[];for(let oe=0,ce=V.length;oe<ce;oe++){const ie=V[oe],de=ie.modelState.position.lineNumber,q=W.model.getLineMaxColumn(de);G[oe]=u.CursorState.fromModelState(ie.modelState.move(this._inSelectionMode,de,q,0))}return G}}k.CursorLineEnd=(0,S.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),k.CursorLineEndSelect=(0,S.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToBeginningOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorTop=(0,S.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),k.CursorTopSelect=(0,S.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class Z extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToEndOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorBottom=(0,S.registerEditorCommand)(new Z({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),k.CursorBottomSelect=(0,S.registerEditorCommand)(new Z({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class ee extends o{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(W,V){const G=l.parse(V);!G||this._runEditorScroll(W,V.source,G)}_runEditorScroll(W,V,G){const oe=this._computeDesiredScrollTop(W,G);if(G.revealCursor){const ce=W.getCompletelyVisibleViewRangeAtScrollTop(oe);W.setCursorStates(V,3,[t.CursorMoveCommands.findPositionInViewportIfOutside(W,W.getPrimaryCursorState(),ce,G.select)])}W.setScrollTop(oe,0)}_computeDesiredScrollTop(W,V){if(V.unit===1){const ce=W.getCompletelyVisibleViewRange(),ie=W.coordinatesConverter.convertViewRangeToModelRange(ce);let de;V.direction===1?de=Math.max(1,ie.startLineNumber-V.value):de=Math.min(W.model.getLineCount(),ie.startLineNumber+V.value);const q=W.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(de,1));return W.getVerticalOffsetForLineNumber(q.lineNumber)}let G;V.unit===3?G=W.cursorConfig.pageSize*V.value:V.unit===4?G=Math.round(W.cursorConfig.pageSize/2)*V.value:G=V.value;const oe=(V.direction===1?-1:1)*G;return W.getScrollTop()+oe*W.cursorConfig.lineHeight}}k.EditorScrollImpl=ee,k.EditorScroll=(0,S.registerEditorCommand)(new ee),k.ScrollLineUp=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(j,W){k.EditorScroll._runEditorScroll(j,W.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageUp=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(j,W){k.EditorScroll._runEditorScroll(j,W.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),k.ScrollLineDown=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(j,W){k.EditorScroll._runEditorScroll(j,W.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageDown=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(j,W){k.EditorScroll._runEditorScroll(j,W.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class X extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.word(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position)]),W.revealPrimaryCursor(V.source,!0)}}k.WordSelect=(0,S.registerEditorCommand)(new X({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),k.WordSelectDrag=(0,S.registerEditorCommand)(new X({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),k.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(j,W){const V=j.getLastAddedCursorIndex(),G=j.getCursorStates(),oe=G.slice(0),ce=G[V];oe[V]=t.CursorMoveCommands.word(j,ce,ce.modelState.hasSelection(),W.position),j.model.pushStackElement(),j.setCursorStates(W.source,3,oe)}});class ne extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.line(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),W.revealPrimaryCursor(V.source,!1)}}k.LineSelect=(0,S.registerEditorCommand)(new ne({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),k.LineSelectDrag=(0,S.registerEditorCommand)(new ne({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Y extends o{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){const G=W.getLastAddedCursorIndex(),oe=W.getCursorStates(),ce=oe.slice(0);ce[G]=t.CursorMoveCommands.line(W,oe[G],this._inSelectionMode,V.position,V.viewPosition),W.model.pushStackElement(),W.setCursorStates(V.source,3,ce)}}k.LastCursorLineSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),k.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),k.CancelSelection=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"cancelSelection",precondition:c.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(j,W){j.model.pushStackElement(),j.setCursorStates(W.source,3,[t.CursorMoveCommands.cancelSelection(j,j.getPrimaryCursorState())]),j.revealPrimaryCursor(W.source,!0)}}),k.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"removeSecondaryCursors",precondition:c.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:r+1,kbExpr:c.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(j,W){j.model.pushStackElement(),j.setCursorStates(W.source,3,[j.getPrimaryCursorState()]),j.revealPrimaryCursor(W.source,!0),(0,D.status)(w.localize(2,null))}}),k.RevealLine=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(j,W){const V=W,G=V.lineNumber||0;let oe=typeof G=="number"?G+1:parseInt(G)+1;oe<1&&(oe=1);const ce=j.model.getLineCount();oe>ce&&(oe=ce);const ie=new a.Range(oe,1,oe,j.model.getLineMaxColumn(oe));let de=0;if(V.at)switch(V.at){case h.RawAtArgument.Top:de=3;break;case h.RawAtArgument.Center:de=1;break;case h.RawAtArgument.Bottom:de=4;break;default:break}const q=j.coordinatesConverter.convertModelRangeToViewRange(ie);j.revealRange(W.source,!1,q,de,0)}}),k.SelectAll=new class extends m{constructor(){super(S.SelectAllCommand)}runDOMCommand(){C.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(j,W,V){const G=W._getViewModel();!G||this.runCoreEditorCommand(G,V)}runCoreEditorCommand(j,W){j.model.pushStackElement(),j.setCursorStates("keyboard",3,[t.CursorMoveCommands.selectAll(j,j.getPrimaryCursorState())])}},k.SetSelection=(0,S.registerEditorCommand)(new class extends o{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(j,W){j.model.pushStackElement(),j.setCursorStates(W.source,3,[u.CursorState.fromModelSelection(W.selection)])}})})(y=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const p=d.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,c.EditorContextKeys.columnSelection);function f(k,A){s.KeybindingsRegistry.registerKeybindingRule({id:k,primary:A,when:p,weight:r+1})}f(y.CursorColumnSelectLeft.id,1024|15),f(y.CursorColumnSelectRight.id,1024|17),f(y.CursorColumnSelectUp.id,1024|16),f(y.CursorColumnSelectPageUp.id,1024|11),f(y.CursorColumnSelectDown.id,1024|18),f(y.CursorColumnSelectPageDown.id,1024|12);function _(k){return k.register(),k}var I;(function(k){class A extends S.EditorCommand{runEditorCommand(F,R,M){const O=R._getViewModel();!O||this.runCoreEditingCommand(R,O,M||{})}}k.CoreEditingCommand=A,k.LineBreakInsert=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:c.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(P,F,R){P.pushUndoStop(),P.executeCommands(this.id,i.TypeOperations.lineBreakInsert(F.cursorConfig,F.model,F.getCursorStates().map(M=>M.modelState.selection)))}}),k.Outdent=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:c.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:d.ContextKeyExpr.and(c.EditorContextKeys.editorTextFocus,c.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(P,F,R){P.pushUndoStop(),P.executeCommands(this.id,i.TypeOperations.outdent(F.cursorConfig,F.model,F.getCursorStates().map(M=>M.modelState.selection))),P.pushUndoStop()}}),k.Tab=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:c.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:d.ContextKeyExpr.and(c.EditorContextKeys.editorTextFocus,c.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,F,R){P.pushUndoStop(),P.executeCommands(this.id,i.TypeOperations.tab(F.cursorConfig,F.model,F.getCursorStates().map(M=>M.modelState.selection))),P.pushUndoStop()}}),k.DeleteLeft=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(P,F,R){const[M,O]=g.DeleteOperations.deleteLeft(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(L=>L.modelState.selection),F.getCursorAutoClosedCharacters());M&&P.pushUndoStop(),P.executeCommands(this.id,O),F.setPrevEditOperationType(2)}}),k.DeleteRight=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:r,kbExpr:c.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(P,F,R){const[M,O]=g.DeleteOperations.deleteRight(F.getPrevEditOperationType(),F.cursorConfig,F.model,F.getCursorStates().map(L=>L.modelState.selection));M&&P.pushUndoStop(),P.executeCommands(this.id,O),F.setPrevEditOperationType(3)}}),k.Undo=new class extends m{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,F,R){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().undo()}},k.Redo=new class extends m{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,F,R){if(!(!F.hasModel()||F.getOption(80)===!0))return F.getModel().redo()}}})(I=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends S.Command{constructor(A,P,F){super({id:A,precondition:void 0,description:F});this._handlerId=P}runCommand(A,P){const F=A.get(b.ICodeEditorService).getFocusedCodeEditor();!F||F.trigger("keyboard",this._handlerId,P)}}function T(k,A){_(new E("default:"+k,k)),_(new E(k,k,A))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(Q[695],J([0,1,159,11,17]),function(H,e,w,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(b,v,u,g){this.configuration=b,this.viewModel=v,this.userInputEvents=u,this.commandDelegate=g}paste(b,v,u,g){this.commandDelegate.paste(b,v,u,g)}type(b){this.commandDelegate.type(b)}compositionType(b,v,u,g){this.commandDelegate.compositionType(b,v,u,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){w.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const v=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<v?new C.Position(b.lineNumber,v):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(69)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(69)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const v=this.configuration.options,u=N.isLinux&&v.get(95),g=v.get(18);b.middleButton&&!u?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position):this._lastCursorLineSelect(b.position):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount===2?this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position):b.inSelectionMode?this._wordSelectDrag(b.position):this._wordSelect(b.position):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):g?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position):this.moveTo(b.position)}_usualArgs(b){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b}}moveTo(b){w.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_moveToSelect(b){w.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_columnSelect(b,v,u){b=this._validateViewColumn(b),w.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:v,doColumnSelect:u})}_createCursor(b,v){b=this._validateViewColumn(b),w.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:v})}_lastCursorMoveToSelect(b){w.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelect(b){w.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelectDrag(b){w.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorWordSelect(b){w.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelect(b){w.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelectDrag(b){w.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelect(b){w.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelectDrag(b){w.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_selectAll(){w.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=D}),define(Q[696],J([0,1,7,33,21,31,14,693,637,695,228,497,49,430,635,431,631,181,636,275,629,432,243,433,632,434,638,435,639,633,634,640,436,11,3,119,424,426,121,13,285]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A,P,F,R,M,O,L,B,x,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class K extends B.ViewEventHandler{constructor(X,ne,Y,j,W,V){super();this._selections=[new N.Selection(1,1,1,1)],this._renderAnimationFrame=null;const G=new u.ViewController(ne,j,W,X);this._context=new O.ViewContext(ne,Y.getColorTheme(),j),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(Y.onDidColorThemeChange(se=>{this._context.theme.update(se),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new v.TextAreaHandler(this._context,G,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const oe=new _.DecorationsOverviewRuler(this._context);this._viewParts.push(oe);const ce=new T.ScrollDecorationViewPart(this._context);this._viewParts.push(ce);const ie=new t.ContentViewOverlays(this._context);this._viewParts.push(ie),ie.addDynamicOverlay(new a.CurrentLineHighlightOverlay(this._context)),ie.addDynamicOverlay(new k.SelectionsOverlay(this._context)),ie.addDynamicOverlay(new r.IndentGuidesOverlay(this._context)),ie.addDynamicOverlay(new c.DecorationsOverlay(this._context));const de=new t.MarginViewOverlays(this._context);this._viewParts.push(de),de.addDynamicOverlay(new a.CurrentLineMarginHighlightOverlay(this._context)),de.addDynamicOverlay(new s.GlyphMarginOverlay(this._context)),de.addDynamicOverlay(new y.MarginViewLineDecorationsOverlay(this._context)),de.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),de.addDynamicOverlay(new o.LineNumbersOverlay(this._context));const q=new m.Margin(this._context);q.getDomNode().appendChild(this._viewZones.marginDomNode),q.getDomNode().appendChild(de.getDomNode()),this._viewParts.push(q),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new A.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new f.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const z=new E.Rulers(this._context);this._viewParts.push(z);const $=new p.Minimap(this._context);if(this._viewParts.push($),oe){const se=this._scrollbar.getOverviewRulerLayoutInfo();se.parent.insertBefore(oe.getDomNode(),se.insertBefore)}this._linesContent.appendChild(ie.getDomNode()),this._linesContent.appendChild(z.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ce.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),V?V.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new b.PointerHandler(this._context,G,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:X=>{this._textAreaHandler.textArea.domNode.dispatchEvent(X)},getLastRenderData:()=>{const X=this._viewCursors.getLastRenderData()||[],ne=this._textAreaHandler.getLastRenderData();return new U.PointerHandlerLastRenderData(X,ne)},shouldSuppressMouseDownOnViewZone:X=>this._viewZones.shouldSuppressMouseDownOnViewZone(X),shouldSuppressMouseDownOnWidget:X=>this._contentWidgets.shouldSuppressMouseDownOnWidget(X),getPositionFromDOMInfo:(X,ne)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(X,ne)),visibleRangeForPosition:(X,ne)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(X,ne))),getLineWidth:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(X))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:X=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(X))}}_applyLayout(){const ne=this._context.configuration.options.get(130);this.domNode.setWidth(ne.width),this.domNode.setHeight(ne.height),this._overflowGuardContainer.setWidth(ne.width),this._overflowGuardContainer.setHeight(ne.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const X=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+(0,x.getThemeTypeSelector)(this._context.theme.type)+X}handleEvents(X){super.handleEvents(X),this._scheduleRender()}onConfigurationChanged(X){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(X){return this._selections=X.selections,!1}onFocusChanged(X){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(X){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const X of this._viewParts)X.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=w.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Z(()=>this._actualRender())}_getViewPartsToRender(){const X=[];let ne=0;for(const Y of this._viewParts)Y.shouldRender()&&(X[ne++]=Y);return X}_actualRender(){if(!w.isInDOM(this.domNode.domNode))return;let X=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&X.length===0)return;const ne=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ne.startLineNumber,ne.endLineNumber,ne.centeredLineNumber);const Y=new L.ViewportData(this._selections,ne,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(Y),this._viewLines.shouldRender()&&(this._viewLines.renderText(Y),this._viewLines.onDidRender(),X=this._getViewPartsToRender());const j=new M.RenderingContext(this._context.viewLayout,Y,this._viewLines);for(const W of X)W.prepareRender(j);for(const W of X)W.render(j),W.onDidRender();Math.abs(C.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.observePixelRatio()}delegateVerticalScrollbarMouseDown(X){this._scrollbar.delegateVerticalScrollbarMouseDown(X)}restoreState(X){this._context.model.setScrollPosition({scrollTop:X.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:X.scrollLeft},1)}getOffsetForColumn(X,ne){const Y=this._context.model.validateModelPosition({lineNumber:X,column:ne}),j=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(Y);this._flushAccumulatedAndRenderNow();const W=this._viewLines.visibleRangeForPosition(new F.Position(j.lineNumber,j.column));return W?W.left:-1}getTargetAtClientPoint(X,ne){const Y=this._pointerHandler.getTargetAtClientPoint(X,ne);return Y?g.ViewUserInputEvents.convertViewToModelMouseTarget(Y,this._context.model.coordinatesConverter):null}createOverviewRuler(X){return new I.OverviewRuler(this._context,X)}change(X){this._viewZones.changeViewZones(X),this._scheduleRender()}render(X,ne){if(ne){this._viewLines.forceShouldRender();for(const Y of this._viewParts)Y.forceShouldRender()}X?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(X){this._textAreaHandler.setAriaOptions(X)}addContentWidget(X){this._contentWidgets.addWidget(X.widget),this.layoutContentWidget(X),this._scheduleRender()}layoutContentWidget(X){let ne=X.position&&X.position.range||null;if(ne===null){const j=X.position?X.position.position:null;j!==null&&(ne=new R.Range(j.lineNumber,j.column,j.lineNumber,j.column))}const Y=X.position?X.position.preference:null;this._contentWidgets.setWidgetPosition(X.widget,ne,Y),this._scheduleRender()}removeContentWidget(X){this._contentWidgets.removeWidget(X.widget),this._scheduleRender()}addOverlayWidget(X){this._overlayWidgets.addWidget(X.widget),this.layoutOverlayWidget(X),this._scheduleRender()}layoutOverlayWidget(X){const ne=X.position?X.position.preference:null;this._overlayWidgets.setWidgetPosition(X.widget,ne)&&this._scheduleRender()}removeOverlayWidget(X){this._overlayWidgets.removeWidget(X.widget),this._scheduleRender()}}e.View=K;function Z(ee){try{return ee()}catch(X){(0,S.onUnexpectedError)(X)}}}),define(Q[697],J([0,1,45,11,3,21]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new w.SingleCursorState(new N.Range(1,1,1,1),0,new C.Position(1,1),0),new w.SingleCursorState(new N.Range(1,1,1,1),0,new C.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new w.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const u=v.model._getTrackedRange(this._selTrackedRange);return D.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,u,g){this._setState(v,u,g)}static _validatePositionWithCache(v,u,g,t){return u.equals(g)?t:v.normalizePosition(u,2)}static _validateViewState(v,u){const g=u.position,t=u.selectionStart.getStartPosition(),i=u.selectionStart.getEndPosition(),n=v.normalizePosition(g,2),a=this._validatePositionWithCache(v,t,g,n),c=this._validatePositionWithCache(v,i,t,a);return g.equals(n)&&t.equals(a)&&i.equals(c)?u:new w.SingleCursorState(N.Range.fromPositions(a,c),u.selectionStartLeftoverVisibleColumns+t.column-a.column,n,u.leftoverVisibleColumns+g.column-n.column)}_setState(v,u,g){if(g&&(g=S._validateViewState(v.viewModel,g)),u){const t=v.model.validateRange(u.selectionStart),i=u.selectionStart.equalsRange(t)?u.selectionStartLeftoverVisibleColumns:0,n=v.model.validatePosition(u.position),a=u.position.equals(n)?u.leftoverVisibleColumns:0;u=new w.SingleCursorState(t,i,n,a)}else{if(!g)return;const t=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),i=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(g.position));u=new w.SingleCursorState(t,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}if(g){const t=v.coordinatesConverter.validateViewRange(g.selectionStart,u.selectionStart),i=v.coordinatesConverter.validateViewPosition(g.position,u.position);g=new w.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,i,u.leftoverVisibleColumns)}else{const t=v.coordinatesConverter.convertModelPositionToViewPosition(new C.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),i=v.coordinatesConverter.convertModelPositionToViewPosition(new C.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),n=new N.Range(t.lineNumber,t.column,i.lineNumber,i.column),a=v.coordinatesConverter.convertModelPositionToViewPosition(u.position);g=new w.SingleCursorState(n,u.selectionStartLeftoverVisibleColumns,a,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=g,this._updateTrackedRange(v)}}e.Cursor=S}),define(Q[698],J([0,1,19,45,697,11,3,21]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(g){this.context=g,this.cursors=[new N.Cursor(g)],this.lastAddedCursorIndex=0}dispose(){for(const g of this.cursors)g.dispose(this.context)}startTrackingSelections(){for(const g of this.cursors)g.startTrackingSelection(this.context)}stopTrackingSelections(){for(const g of this.cursors)g.stopTrackingSelection(this.context)}updateContext(g){this.context=g}ensureValidState(){for(const g of this.cursors)g.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(g=>g.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(g=>g.asCursorState())}getViewPositions(){return this.cursors.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,w.findMinBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,w.findLastMaxBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(g=>g.modelState.selection)}getViewSelections(){return this.cursors.map(g=>g.viewState.selection)}setSelections(g){this.setStates(C.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(g){g!==null&&(this.cursors[0].setState(this.context,g[0].modelState,g[0].viewState),this._setSecondaryStates(g.slice(1)))}_setSecondaryStates(g){const t=this.cursors.length-1,i=g.length;if(t<i){const n=i-t;for(let a=0;a<n;a++)this._addSecondaryCursor()}else if(t>i){const n=t-i;for(let a=0;a<n;a++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,g[n].modelState,g[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(g){this.lastAddedCursorIndex>=g+1&&this.lastAddedCursorIndex--,this.cursors[g+1].dispose(this.context),this.cursors.splice(g+1,1)}normalize(){if(this.cursors.length===1)return;const g=this.cursors.slice(0),t=[];for(let i=0,n=g.length;i<n;i++)t.push({index:i,selection:g[i].modelState.selection});t.sort((0,w.compareBy)(i=>i.selection,S.Range.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],a=t[i+1],c=n.selection,d=a.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let s;if(d.isEmpty()||c.isEmpty()?s=d.getStartPosition().isBeforeOrEqual(c.getEndPosition()):s=d.getStartPosition().isBefore(c.getEndPosition()),s){const r=n.index<a.index?i:i+1,o=n.index<a.index?i+1:i,l=t[o].index,h=t[r].index,m=t[o].selection,y=t[r].selection;if(!m.equalsSelection(y)){const p=m.plusRange(y),f=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,_=y.selectionStartLineNumber===y.startLineNumber&&y.selectionStartColumn===y.startColumn;let I;l===this.lastAddedCursorIndex?(I=f,this.lastAddedCursorIndex=h):I=_;let E;I?E=new b.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):E=new b.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),t[r].selection=E;const T=C.CursorState.fromModelSelection(E);g[h].setState(this.context,T.modelState,T.viewState)}for(const p of t)p.index>l&&p.index--;g.splice(l,1),t.splice(o,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=v}),define(Q[286],J([0,1,14,8,698,45,201,202,3,21,91,180,2,182]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class a extends i.Disposable{constructor(o,l,h,m){super();this._model=o,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=h,this.context=new D.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors=new N.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(o){this.context=new D.CursorContext(this._model,this._viewModel,this._coordinatesConverter,o),this._cursors.updateContext(this.context)}onLineMappingChanged(o){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(o,"viewModel",0,this.getCursorStates())}setHasFocus(o){this._hasFocus=o}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const o=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const h=this._autoClosedActions[l];h.isValid(o)||(h.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(o,l,h,m){let y=!1;m!==null&&m.length>a.MAX_CURSOR_COUNT&&(m=m.slice(0,a.MAX_CURSOR_COUNT),y=!0);const p=c.from(this._model,this);return this._cursors.setStates(m),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,l,h,p,y)}setCursorColumnSelectData(o){this._columnSelectData=o}revealPrimary(o,l,h,m){const y=this._cursors.getViewPositions();if(y.length>1){this._emitCursorRevealRange(o,l,null,this._cursors.getViewSelections(),0,h,m);return}else{const p=y[0],f=new v.Range(p.lineNumber,p.column,p.lineNumber,p.column);this._emitCursorRevealRange(o,l,f,null,0,h,m)}}_revealPrimaryCursor(o,l,h,m,y){const p=this._cursors.getViewPositions();if(p.length>1)this._emitCursorRevealRange(o,l,null,this._cursors.getViewSelections(),h,m,y);else{const f=p[0],_=new v.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._emitCursorRevealRange(o,l,_,null,h,m,y)}}_emitCursorRevealRange(o,l,h,m,y,p,f){o.emitViewEvent(new t.ViewRevealRangeRequestEvent(l,h,m,y,p,f))}saveState(){const o=[],l=this._cursors.getSelections();for(let h=0,m=l.length;h<m;h++){const y=l[h];o.push({inSelectionMode:!y.isEmpty(),selectionStart:{lineNumber:y.selectionStartLineNumber,column:y.selectionStartColumn},position:{lineNumber:y.positionLineNumber,column:y.positionColumn}})}return o}restoreState(o,l){const h=[];for(let m=0,y=l.length;m<y;m++){const p=l[m];let f=1,_=1;p.position&&p.position.lineNumber&&(f=p.position.lineNumber),p.position&&p.position.column&&(_=p.position.column);let I=f,E=_;p.selectionStart&&p.selectionStart.lineNumber&&(I=p.selectionStart.lineNumber),p.selectionStart&&p.selectionStart.column&&(E=p.selectionStart.column),h.push({selectionStartLineNumber:I,selectionStartColumn:E,positionLineNumber:f,positionColumn:_})}this.setStates(o,"restoreState",0,D.CursorState.fromModelSelections(h)),this.revealPrimary(o,"restoreState",!0,1)}onModelContentChanged(o,l){if(l instanceof g.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(o,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=l.versionId,this._isHandling)return;const h=l.containsEvent(1);if(this._prevEditOperationType=0,h)this._cursors.dispose(),this._cursors=new N.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,"model",1,null,!1);else if(this._hasFocus&&l.resultingSelection&&l.resultingSelection.length>0){const m=D.CursorState.fromModelSelections(l.resultingSelection);this.setStates(o,"modelChange",l.isUndoing?5:l.isRedoing?6:2,m)&&this._revealPrimaryCursor(o,"modelChange",0,!0,0)}else{const m=this._cursors.readSelectionFromMarkers();this.setStates(o,"modelChange",2,D.CursorState.fromModelSelections(m))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const o=this._cursors.getPrimaryCursor(),l=o.viewState.selectionStart.getStartPosition(),h=o.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l),toViewLineNumber:h.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,h)}}getSelections(){return this._cursors.getSelections()}setSelections(o,l,h,m){this.setStates(o,l,m,D.CursorState.fromModelSelections(h))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(o){this._prevEditOperationType=o}_pushAutoClosedAction(o,l){const h=[],m=[];for(let f=0,_=o.length;f<_;f++)h.push({range:o[f],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),m.push({range:l[f],options:{description:"auto-closed-enclosing",stickiness:1}});const y=this._model.deltaDecorations([],h),p=this._model.deltaDecorations([],m);this._autoClosedActions.push(new d(this._model,y,p))}_executeEditOperation(o){if(!o)return;o.shouldPushStackElementBefore&&this._model.pushStackElement();const l=s.executeCommands(this._model,this._cursors.getSelections(),o.commands);if(l){this._interpretCommandResult(l);const h=[],m=[];for(let y=0;y<o.commands.length;y++){const p=o.commands[y];p instanceof b.TypeWithAutoClosingCommand&&p.enclosingRange&&p.closeCharacterRange&&(h.push(p.closeCharacterRange),m.push(p.enclosingRange))}h.length>0&&this._pushAutoClosedAction(h,m),this._prevEditOperationType=o.type}o.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(o){(!o||o.length===0)&&(o=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(o),this._cursors.normalize()}_emitStateChangedIfNecessary(o,l,h,m,y){const p=c.from(this._model,this);if(p.equals(m))return!1;const f=this._cursors.getSelections(),_=this._cursors.getViewSelections();if(o.emitViewEvent(new t.ViewCursorStateChangedEvent(_,f)),!m||m.cursorState.length!==p.cursorState.length||p.cursorState.some((I,E)=>!I.modelState.equals(m.cursorState[E].modelState))){const I=m?m.cursorState.map(T=>T.modelState.selection):null,E=m?m.modelVersionId:0;o.emitOutgoingEvent(new n.CursorStateChangedEvent(I,f,E,p.modelVersionId,l||"keyboard",h,y))}return!0}_findAutoClosingPairs(o){if(!o.length)return null;const l=[];for(let h=0,m=o.length;h<m;h++){const y=o[h];if(!y.text||y.text.indexOf(`
`)>=0)return null;const p=y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!p)return null;const f=p[1],_=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(f);if(!_||_.length!==1)return null;const I=_[0].open,E=y.text.length-p[2].length-1,T=y.text.lastIndexOf(I,E-1);if(T===-1)return null;l.push([T,E])}return l}executeEdits(o,l,h,m){let y=null;l==="snippet"&&(y=this._findAutoClosingPairs(h)),y&&(h[0]._isTracked=!0);const p=[],f=[],_=this._model.pushEditOperations(this.getSelections(),h,I=>{if(y)for(let T=0,k=y.length;T<k;T++){const[A,P]=y[T],F=I[T],R=F.range.startLineNumber,M=F.range.startColumn-1+A,O=F.range.startColumn-1+P;p.push(new v.Range(R,O+1,R,O+2)),f.push(new v.Range(R,M+1,R,O+2))}const E=m(I);return E&&(this._isHandling=!0),E});_&&(this._isHandling=!1,this.setSelections(o,l,_,0)),p.length>0&&this._pushAutoClosedAction(p,f)}_executeEdit(o,l,h,m=0){if(this.context.cursorConfig.readOnly)return;const y=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),o()}catch(p){(0,w.onUnexpectedError)(p)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,h,m,y,!1)&&this._revealPrimaryCursor(l,h,0,!0,0)}setIsDoingComposition(o){this._isDoingComposition=o}getAutoClosedCharacters(){return d.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(o){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(o,l){this._executeEdit(()=>{l==="keyboard"&&(this._executeEditOperation(b.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},o,l)}type(o,l,h){this._executeEdit(()=>{if(h==="keyboard"){const m=l.length;let y=0;for(;y<m;){const p=C.nextCharLength(l,y),f=l.substr(y,p);this._executeEditOperation(b.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),f)),y+=p}}else this._executeEditOperation(b.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},o,h)}compositionType(o,l,h,m,y,p){if(l.length===0&&h===0&&m===0){if(y!==0){const f=this.getSelections().map(_=>{const I=_.getPosition();return new u.Selection(I.lineNumber,I.column+y,I.lineNumber,I.column+y)});this.setSelections(o,p,f,0)}return}this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,h,m,y))},o,p)}paste(o,l,h,m,y){this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),l,h,m||[]))},o,y,4)}cut(o,l){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},o,l)}executeCommand(o,l,h){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,h)}executeCommands(o,l,h){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,h)}}e.CursorsController=a,a.MAX_CURSOR_COUNT=1e4;class c{constructor(o,l){this.modelVersionId=o,this.cursorState=l}static from(o,l){return new c(o.getVersionId(),l.getCursorStates())}equals(o){if(!o||this.modelVersionId!==o.modelVersionId||this.cursorState.length!==o.cursorState.length)return!1;for(let l=0,h=this.cursorState.length;l<h;l++)if(!this.cursorState[l].equals(o.cursorState[l]))return!1;return!0}}class d{constructor(o,l,h){this._model=o,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=h}static getAllAutoClosedCharacters(o){let l=[];for(const h of o)l=l.concat(h.getAutoClosedCharactersRanges());return l}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const o=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const h=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);h&&o.push(h)}return o}isValid(o){const l=[];for(let h=0;h<this._autoClosedEnclosingDecorations.length;h++){const m=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[h]);if(m&&(l.push(m),m.startLineNumber!==m.endLineNumber))return!1}l.sort(v.Range.compareRangesUsingStarts),o.sort(v.Range.compareRangesUsingStarts);for(let h=0;h<o.length;h++)if(h>=l.length||!l[h].strictContainsRange(o[h]))return!1;return!0}}class s{static executeCommands(o,l,h){const m={model:o,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},y=this._innerExecuteCommands(m,h);for(let p=0,f=m.trackedRanges.length;p<f;p++)m.model._setTrackedRange(m.trackedRanges[p],null,0);return y}static _innerExecuteCommands(o,l){if(this._arrayIsEmpty(l))return null;const h=this._getEditOperations(o,l);if(h.operations.length===0)return null;const m=h.operations,y=this._getLoserCursorMap(m);if(y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const p=[];for(let I=0,E=m.length;I<E;I++)y.hasOwnProperty(m[I].identifier.major.toString())||p.push(m[I]);h.hadTrackedEditOperation&&p.length>0&&(p[0]._isTracked=!0);let f=o.model.pushEditOperations(o.selectionsBefore,p,I=>{const E=[];for(let A=0;A<o.selectionsBefore.length;A++)E[A]=[];for(const A of I)!A.identifier||E[A.identifier.major].push(A);const T=(A,P)=>A.identifier.minor-P.identifier.minor,k=[];for(let A=0;A<o.selectionsBefore.length;A++)E[A].length>0?(E[A].sort(T),k[A]=l[A].computeCursorState(o.model,{getInverseEditOperations:()=>E[A],getTrackedSelection:P=>{const F=parseInt(P,10),R=o.model._getTrackedRange(o.trackedRanges[F]);return o.trackedRangesDirection[F]===0?new u.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new u.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):k[A]=o.selectionsBefore[A];return k});f||(f=o.selectionsBefore);const _=[];for(let I in y)y.hasOwnProperty(I)&&_.push(parseInt(I,10));_.sort((I,E)=>E-I);for(const I of _)f.splice(I,1);return f}static _arrayIsEmpty(o){for(let l=0,h=o.length;l<h;l++)if(o[l])return!1;return!0}static _getEditOperations(o,l){let h=[],m=!1;for(let y=0,p=l.length;y<p;y++){const f=l[y];if(f){const _=this._getEditOperationsFromCommand(o,y,f);h=h.concat(_.operations),m=m||_.hadTrackedEditOperation}}return{operations:h,hadTrackedEditOperation:m}}static _getEditOperationsFromCommand(o,l,h){const m=[];let y=0;const p=(T,k,A=!1)=>{v.Range.isEmpty(T)&&k===""||m.push({identifier:{major:l,minor:y++},range:T,text:k,forceMoveMarkers:A,isAutoWhitespaceEdit:h.insertsAutoWhitespace})};let f=!1;const E={addEditOperation:p,addTrackedEditOperation:(T,k,A)=>{f=!0,p(T,k,A)},trackSelection:(T,k)=>{const A=u.Selection.liftSelection(T);let P;if(A.isEmpty())if(typeof k=="boolean")k?P=2:P=3;else{const M=o.model.getLineMaxColumn(A.startLineNumber);A.startColumn===M?P=2:P=3}else P=1;const F=o.trackedRanges.length,R=o.model._setTrackedRange(null,A,P);return o.trackedRanges[F]=R,o.trackedRangesDirection[F]=A.getDirection(),F.toString()}};try{h.getEditOperations(o.model,E)}catch(T){return(0,w.onUnexpectedError)(T),{operations:[],hadTrackedEditOperation:!1}}return{operations:m,hadTrackedEditOperation:f}}static _getLoserCursorMap(o){o=o.slice(0),o.sort((h,m)=>-v.Range.compareRangesUsingEnds(h.range,m.range));const l={};for(let h=1;h<o.length;h++){const m=o[h-1],y=o[h];if(v.Range.getStartPosition(m.range).isBefore(v.Range.getEndPosition(y.range))){let p;m.identifier.major>y.identifier.major?p=m.identifier.major:p=y.identifier.major,l[p.toString()]=!0;for(let f=0;f<o.length;f++)o[f].identifier.major===p&&(o.splice(f,1),f<h&&h--,f--);h>0&&h--}}return l}}}),define(Q[287],J([0,1,4,2,17,14,29,32,18,76,34,152,39,10,23,13,68,157,108,257,48,274,264,38,35]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function f(O){return O.toString()}function _(O){const L=new r.StringSHA1,B=O.createSnapshot();let x;for(;x=B.read();)L.update(x);return L.digest()}class I{constructor(L,B,x){this._modelEventListeners=new C.DisposableStore,this.model=L,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(L.onWillDispose(()=>B(L))),this._modelEventListeners.add(L.onDidChangeLanguage(U=>x(L,U)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(L){this._disposeLanguageSelection(),this._languageSelection=L,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(L.languageId)),this.model.setMode(L.languageId)}}const E=N.isLinux||N.isMacintosh?1:2;class T{constructor(L,B,x,U,K,Z,ee,X){this.uri=L,this.initialUndoRedoSnapshot=B,this.time=x,this.sharesUndoRedoStack=U,this.heapSize=K,this.sha1=Z,this.versionId=ee,this.alternativeVersionId=X}}let k=class kt extends C.Disposable{constructor(L,B,x,U,K,Z,ee){super();this._configurationService=L,this._resourcePropertiesService=B,this._themeService=x,this._logService=U,this._undoRedoService=K,this._languageService=Z,this._languageConfigurationService=ee,this._onModelAdded=this._register(new w.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new w.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new w.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new F(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new P(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(L,B){var x;let U=S.EDITOR_MODEL_DEFAULTS.tabSize;if(L.editor&&typeof L.editor.tabSize!="undefined"){const V=parseInt(L.editor.tabSize,10);isNaN(V)||(U=V),U<1&&(U=1)}let K=U;if(L.editor&&typeof L.editor.indentSize!="undefined"&&L.editor.indentSize!=="tabSize"){const V=parseInt(L.editor.indentSize,10);isNaN(V)||(K=V),K<1&&(K=1)}let Z=S.EDITOR_MODEL_DEFAULTS.insertSpaces;L.editor&&typeof L.editor.insertSpaces!="undefined"&&(Z=L.editor.insertSpaces==="false"?!1:Boolean(L.editor.insertSpaces));let ee=E;const X=L.eol;X===`\r
`?ee=2:X===`
`&&(ee=1);let ne=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;L.editor&&typeof L.editor.trimAutoWhitespace!="undefined"&&(ne=L.editor.trimAutoWhitespace==="false"?!1:Boolean(L.editor.trimAutoWhitespace));let Y=S.EDITOR_MODEL_DEFAULTS.detectIndentation;L.editor&&typeof L.editor.detectIndentation!="undefined"&&(Y=L.editor.detectIndentation==="false"?!1:Boolean(L.editor.detectIndentation));let j=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;L.editor&&typeof L.editor.largeFileOptimizations!="undefined"&&(j=L.editor.largeFileOptimizations==="false"?!1:Boolean(L.editor.largeFileOptimizations));let W=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((x=L.editor)===null||x===void 0?void 0:x.bracketPairColorization)&&typeof L.editor.bracketPairColorization=="object"&&(W={enabled:!!L.editor.bracketPairColorization.enabled}),{isForSimpleWidget:B,tabSize:U,indentSize:K,insertSpaces:Z,detectIndentation:Y,defaultEOL:ee,trimAutoWhitespace:ne,largeFileOptimizations:j,bracketPairColorizationOptions:W}}_getEOL(L,B){if(L)return this._resourcePropertiesService.getEOL(L,B);const x=this._configurationService.getValue("files.eol",{overrideIdentifier:B});return x&&typeof x=="string"&&x!=="auto"?x:N.OS===3||N.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const L=this._configurationService.getValue("files.restoreUndoStack");return typeof L=="boolean"?L:!0}getCreationOptions(L,B,x){let U=this._modelCreationOptionsByLanguageAndResource[L+B];if(!U){const K=this._configurationService.getValue("editor",{overrideIdentifier:L,resource:B}),Z=this._getEOL(B,L);U=kt._readModelOptions({editor:K,eol:Z},x),this._modelCreationOptionsByLanguageAndResource[L+B]=U}return U}_updateModelOptions(){const L=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const B=Object.keys(this._models);for(let x=0,U=B.length;x<U;x++){const K=B[x],Z=this._models[K],ee=Z.model.getLanguageId(),X=Z.model.uri,ne=L[ee+X],Y=this.getCreationOptions(ee,X,Z.model.isForSimpleWidget);kt._setModelOptionsForModel(Z.model,Y,ne)}}static _setModelOptionsForModel(L,B,x){x&&x.defaultEOL!==B.defaultEOL&&L.getLineCount()===1&&L.setEOL(B.defaultEOL===1?0:1),!(x&&x.detectIndentation===B.detectIndentation&&x.insertSpaces===B.insertSpaces&&x.tabSize===B.tabSize&&x.indentSize===B.indentSize&&x.trimAutoWhitespace===B.trimAutoWhitespace&&(0,y.equals)(x.bracketPairColorizationOptions,B.bracketPairColorizationOptions))&&(B.detectIndentation?(L.detectIndentation(B.insertSpaces,B.tabSize),L.updateOptions({trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions})):L.updateOptions({insertSpaces:B.insertSpaces,tabSize:B.tabSize,indentSize:B.indentSize,trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions}))}_insertDisposedModel(L){this._disposedModels.set(f(L.uri),L),this._disposedModelsHeapSize+=L.heapSize}_removeDisposedModel(L){const B=this._disposedModels.get(f(L));return B&&(this._disposedModelsHeapSize-=B.heapSize),this._disposedModels.delete(f(L)),B}_ensureDisposedModelsHeapSize(L){if(this._disposedModelsHeapSize>L){const B=[];for(this._disposedModels.forEach(x=>{x.sharesUndoRedoStack||B.push(x)}),B.sort((x,U)=>x.time-U.time);B.length>0&&this._disposedModelsHeapSize>L;){const x=B.shift();this._removeDisposedModel(x.uri),x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}}}_createModelData(L,B,x,U){const K=this.getCreationOptions(B,x,U),Z=new b.TextModel(L,B,K,x,this._undoRedoService,this._languageService,this._languageConfigurationService);if(x&&this._disposedModels.has(f(x))){const ne=this._removeDisposedModel(x),Y=this._undoRedoService.getElements(x),j=_(Z)===ne.sha1;if(j||ne.sharesUndoRedoStack){for(const W of Y.past)(0,o.isEditStackElement)(W)&&W.matchesResource(x)&&W.setModel(Z);for(const W of Y.future)(0,o.isEditStackElement)(W)&&W.matchesResource(x)&&W.setModel(Z);this._undoRedoService.setElementsValidFlag(x,!0,W=>(0,o.isEditStackElement)(W)&&W.matchesResource(x)),j&&(Z._overwriteVersionId(ne.versionId),Z._overwriteAlternativeVersionId(ne.alternativeVersionId),Z._overwriteInitialUndoRedoSnapshot(ne.initialUndoRedoSnapshot))}else ne.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ne.initialUndoRedoSnapshot)}const ee=f(Z.uri);if(this._models[ee])throw new Error("ModelService: Cannot add model because it already exists!");const X=new I(Z,ne=>this._onWillDispose(ne),(ne,Y)=>this._onDidChangeLanguage(ne,Y));return this._models[ee]=X,X}createModel(L,B,x,U=!1){let K;return B?(K=this._createModelData(L,B.languageId,x,U),this.setMode(K.model,B)):K=this._createModelData(L,u.PLAINTEXT_LANGUAGE_ID,x,U),this._onModelAdded.fire(K.model),K.model}setMode(L,B){if(!B)return;const x=this._models[f(L.uri)];!x||x.setLanguage(B)}getModels(){const L=[],B=Object.keys(this._models);for(let x=0,U=B.length;x<U;x++){const K=B[x];L.push(this._models[K].model)}return L}getModel(L){const B=f(L),x=this._models[B];return x?x.model:null}getSemanticTokensProviderStyling(L){return this._semanticStyling.get(L)}_schemaShouldMaintainUndoRedoElements(L){return L.scheme===l.Schemas.file||L.scheme===l.Schemas.vscodeRemote||L.scheme===l.Schemas.userData||L.scheme===l.Schemas.vscodeNotebookCell||L.scheme==="fake-fs"}_onWillDispose(L){const B=f(L.uri),x=this._models[B],U=this._undoRedoService.getUriComparisonKey(L.uri)!==L.uri.toString();let K=!1,Z=0;if(U||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(L.uri)){const X=this._undoRedoService.getElements(L.uri);if(X.past.length>0||X.future.length>0){for(const ne of X.past)(0,o.isEditStackElement)(ne)&&ne.matchesResource(L.uri)&&(K=!0,Z+=ne.heapSize(L.uri),ne.setModel(L.uri));for(const ne of X.future)(0,o.isEditStackElement)(ne)&&ne.matchesResource(L.uri)&&(K=!0,Z+=ne.heapSize(L.uri),ne.setModel(L.uri))}}const ee=kt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(K)if(!U&&Z>ee){const X=x.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}else this._ensureDisposedModelsHeapSize(ee-Z),this._undoRedoService.setElementsValidFlag(L.uri,!1,X=>(0,o.isEditStackElement)(X)&&X.matchesResource(L.uri)),this._insertDisposedModel(new T(L.uri,x.model.getInitialUndoRedoSnapshot(),Date.now(),U,Z,_(L),L.getVersionId(),L.getAlternativeVersionId()));else if(!U){const X=x.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}delete this._models[B],x.dispose(),delete this._modelCreationOptionsByLanguageAndResource[L.getLanguageId()+L.uri],this._onModelRemoved.fire(L)}_onDidChangeLanguage(L,B){const x=B.oldLanguage,U=L.getLanguageId(),K=this.getCreationOptions(x,L.uri,L.isForSimpleWidget),Z=this.getCreationOptions(U,L.uri,L.isForSimpleWidget);kt._setModelOptionsForModel(L,Z,K),this._onModelModeChanged.fire({model:L,oldLanguageId:x})}};k.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,k=Be([fe(0,i.IConfigurationService),fe(1,t.ITextResourcePropertiesService),fe(2,c.IThemeService),fe(3,d.ILogService),fe(4,s.IUndoRedoService),fe(5,g.ILanguageService),fe(6,p.ILanguageConfigurationService)],k),e.ModelService=k,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function A(O,L,B){var x;const U=(x=B.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:O.getLanguageId(),resource:O.uri}))===null||x===void 0?void 0:x.enabled;return typeof U=="boolean"?U:L.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=A;class P extends C.Disposable{constructor(L,B,x,U){super();this._watchers=Object.create(null),this._semanticStyling=U;const K=X=>{this._watchers[X.uri.toString()]=new M(X,B,this._semanticStyling)},Z=(X,ne)=>{ne.dispose(),delete this._watchers[X.uri.toString()]},ee=()=>{for(let X of L.getModels()){const ne=this._watchers[X.uri.toString()];A(X,B,x)?ne||K(X):ne&&Z(X,ne)}};this._register(L.onModelAdded(X=>{A(X,B,x)&&K(X)})),this._register(L.onModelRemoved(X=>{const ne=this._watchers[X.uri.toString()];ne&&Z(X,ne)})),this._register(x.onDidChangeConfiguration(X=>{X.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&ee()})),this._register(B.onDidColorThemeChange(ee))}}class F extends C.Disposable{constructor(L,B,x){super();this._themeService=L,this._languageService=B,this._logService=x,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(L){return this._caches.has(L)||this._caches.set(L,new h.SemanticTokensProviderStyling(L.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(L)}}class R{constructor(L,B,x){this.provider=L,this.resultId=B,this.data=x}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class M extends C.Disposable{constructor(L,B,x){super();this._isDisposed=!1,this._model=L,this._semanticStyling=x,this._fetchDocumentSemanticTokens=this._register(new n.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),M.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const U=()=>{(0,C.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const K of v.DocumentSemanticTokensProviderRegistry.all(L))typeof K.onDidChange=="function"&&this._documentProvidersChangeListeners.push(K.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};U(),this._register(v.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{U(),this._fetchDocumentSemanticTokens.schedule()})),this._register(B.onDidColorThemeChange(K=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,m.hasDocumentSemanticTokensProvider)(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const L=new a.CancellationTokenSource,B=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,x=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,U=(0,m.getDocumentSemanticTokens)(this._model,B,x,L.token);this._currentDocumentRequestCancellationTokenSource=L;const K=[],Z=this._model.onDidChangeContent(ee=>{K.push(ee)});U.then(ee=>{if(this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),!ee)this._setDocumentSemanticTokens(null,null,null,K);else{const{provider:X,tokens:ne}=ee,Y=this._semanticStyling.get(X);this._setDocumentSemanticTokens(X,ne||null,Y,K)}},ee=>{ee&&(D.isPromiseCanceledError(ee)||typeof ee.message=="string"&&ee.message.indexOf("busy")!==-1)||D.onUnexpectedError(ee),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),K.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(L,B,x,U,K){for(let Z=0;Z<K;Z++)x[U+Z]=L[B+Z]}_setDocumentSemanticTokens(L,B,x,U){const K=this._currentDocumentResponse,Z=()=>{U.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){L&&B&&L.releaseDocumentSemanticTokens(B.resultId);return}if(!L||!x){this._model.setSemanticTokens(null,!1);return}if(!B){this._model.setSemanticTokens(null,!0),Z();return}if((0,m.isSemanticTokensEdits)(B)){if(!K){this._model.setSemanticTokens(null,!0);return}if(B.edits.length===0)B={resultId:B.resultId,data:K.data};else{let ee=0;for(const W of B.edits)ee+=(W.data?W.data.length:0)-W.deleteCount;const X=K.data,ne=new Uint32Array(X.length+ee);let Y=X.length,j=ne.length;for(let W=B.edits.length-1;W>=0;W--){const V=B.edits[W],G=Y-(V.start+V.deleteCount);G>0&&(M._copy(X,Y-G,ne,j-G,G),j-=G),V.data&&(M._copy(V.data,0,ne,j-V.data.length,V.data.length),j-=V.data.length),Y=V.start}Y>0&&M._copy(X,0,ne,0,Y),B={resultId:B.resultId,data:ne}}}if((0,m.isSemanticTokens)(B)){this._currentDocumentResponse=new R(L,B.resultId,B.data);const ee=(0,h.toMultilineTokens2)(B,x,this._model.getLanguageId());if(U.length>0)for(const X of U)for(const ne of ee)for(const Y of X.changes)ne.applyEdit(Y.range,Y.text);this._model.setSemanticTokens(ee,!0)}else this._model.setSemanticTokens(null,!0);Z()}}e.ModelSemanticColoring=M,M.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(Q[699],J([0,1,19,11,3,178,32,91,180,592,242,66]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(l,h,m,y,p,f,_,I,E){this._editorId=l,this.model=h,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=y,this.fontInfo=p,this.tabSize=f,this.wrappingStrategy=_,this.wrappingColumn=I,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new d(this)}_constructLines(l,h){this.modelLineProjections=[],l&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const m=this.model.getLinesContent(),y=this.model.getInjectedTextDecorations(this._editorId),p=m.length,f=this.createLineBreaksComputer(),_=new w.ArrayQueue(b.LineInjectedText.fromDecorations(y));for(let R=0;R<p;R++){const M=_.takeWhile(O=>O.lineNumber===R+1);f.addRequest(m[R],M,h?h[R]:null)}const I=f.finalize(),E=[],T=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(N.Range.compareRangesUsingStarts);let k=1,A=0,P=-1,F=P+1<T.length?A+1:p+2;for(let R=0;R<p;R++){const M=R+1;M===F&&(P++,k=T[P].startLineNumber,A=T[P].endLineNumber,F=P+1<T.length?A+1:p+2);const O=M>=k&&M<=A,L=(0,u.createModelLineProjection)(I[R],!O);E[R]=L.getViewLineCount(),this.modelLineProjections[R]=L}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(l=>this.model.getDecorationRange(l))}setHiddenAreas(l){const h=l.map(A=>this.model.validateRange(A)),m=n(h),y=this.hiddenAreasDecorationIds.map(A=>this.model.getDecorationRange(A)).sort(N.Range.compareRangesUsingStarts);if(m.length===y.length){let A=!1;for(let P=0;P<m.length;P++)if(!m[P].equalsRange(y[P])){A=!0;break}if(!A)return!1}const p=m.map(A=>({range:A,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,p);const f=m;let _=1,I=0,E=-1,T=E+1<f.length?I+1:this.modelLineProjections.length+2,k=!1;for(let A=0;A<this.modelLineProjections.length;A++){const P=A+1;P===T&&(E++,_=f[E].startLineNumber,I=f[E].endLineNumber,T=E+1<f.length?I+1:this.modelLineProjections.length+2);let F=!1;if(P>=_&&P<=I?this.modelLineProjections[A].isVisible()&&(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!1),F=!0):(k=!0,this.modelLineProjections[A].isVisible()||(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!0),F=!0)),F){const R=this.modelLineProjections[A].getViewLineCount();this.projectedModelLineLineCounts.setValue(A,R)}}return k||this.setHiddenAreas([]),!0}modelPositionIsVisible(l,h){return l<1||l>this.modelLineProjections.length?!1:this.modelLineProjections[l-1].isVisible()}getModelLineViewLineCount(l){return l<1||l>this.modelLineProjections.length?1:this.modelLineProjections[l-1].getViewLineCount()}setTabSize(l){return this.tabSize===l?!1:(this.tabSize=l,this._constructLines(!1,null),!0)}setWrappingSettings(l,h,m,y){const p=this.fontInfo.equals(l),f=this.wrappingStrategy===h,_=this.wrappingColumn===m,I=this.wrappingIndent===y;if(p&&f&&_&&I)return!1;const E=p&&f&&!_&&I;this.fontInfo=l,this.wrappingStrategy=h,this.wrappingColumn=m,this.wrappingIndent=y;let T=null;if(E){T=[];for(let k=0,A=this.modelLineProjections.length;k<A;k++)T[k]=this.modelLineProjections[k].getProjectionData()}return this._constructLines(!1,T),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(l,h,m){if(!l||l<=this._validModelVersionId)return null;const y=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,p=this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections.splice(h-1,m-h+1),this.projectedModelLineLineCounts.removeValues(h-1,m-h+1),new v.ViewLinesDeletedEvent(y,p)}onModelLinesInserted(l,h,m,y){if(!l||l<=this._validModelVersionId)return null;const p=h>2&&!this.modelLineProjections[h-2].isVisible(),f=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1;let _=0;const I=[],E=[];for(let T=0,k=y.length;T<k;T++){const A=(0,u.createModelLineProjection)(y[T],!p);I.push(A);const P=A.getViewLineCount();_+=P,E[T]=P}return this.modelLineProjections=this.modelLineProjections.slice(0,h-1).concat(I).concat(this.modelLineProjections.slice(h-1)),this.projectedModelLineLineCounts.insertValues(h-1,E),new v.ViewLinesInsertedEvent(f,f+_-1)}onModelLineChanged(l,h,m){if(l!==null&&l<=this._validModelVersionId)return[!1,null,null,null];const y=h-1,p=this.modelLineProjections[y].getViewLineCount(),f=this.modelLineProjections[y].isVisible(),_=(0,u.createModelLineProjection)(m,f);this.modelLineProjections[y]=_;const I=this.modelLineProjections[y].getViewLineCount();let E=!1,T=0,k=-1,A=0,P=-1,F=0,R=-1;p>I?(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,k=T+I-1,F=k+1,R=F+(p-I)-1,E=!0):p<I?(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,k=T+p-1,A=k+1,P=A+(I-p)-1,E=!0):(T=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,k=T+I-1),this.projectedModelLineLineCounts.setValue(y,I);const M=T<=k?new v.ViewLinesChangedEvent(T,k):null,O=A<=P?new v.ViewLinesInsertedEvent(A,P):null,L=F<=R?new v.ViewLinesDeletedEvent(F,R):null;return[E,M,O,L]}acceptVersionId(l){this._validModelVersionId=l,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(l){if(l<1)return 1;const h=this.getViewLineCount();return l>h?h:l|0}getActiveIndentGuide(l,h,m){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h),m=this._toValidViewLineNumber(m);const y=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),p=this.convertViewPositionToModelPosition(h,this.getViewLineMinColumn(h)),f=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),_=this.model.guides.getActiveIndentGuide(y.lineNumber,p.lineNumber,f.lineNumber),I=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:I.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(l){l=this._toValidViewLineNumber(l);const h=this.projectedModelLineLineCounts.getIndexOf(l-1),m=h.index,y=h.remainder;return new a(m+1,y)}getMinColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(l){const h=this.modelLineProjections[l.modelLineNumber-1],m=h.getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),y=h.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,m);return new C.Position(l.modelLineNumber,y)}getModelEndPositionOfViewLine(l){const h=this.modelLineProjections[l.modelLineNumber-1],m=h.getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),y=h.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,m);return new C.Position(l.modelLineNumber,y)}getViewLineInfosGroupedByModelRanges(l,h){const m=this.getViewLineInfo(l),y=this.getViewLineInfo(h),p=new Array;let f=this.getModelStartPositionOfViewLine(m),_=new Array;for(let I=m.modelLineNumber;I<=y.modelLineNumber;I++){const E=this.modelLineProjections[I-1];if(E.isVisible()){const T=I===m.modelLineNumber?m.modelLineWrappedLineIdx:0,k=I===y.modelLineNumber?y.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let A=T;A<k;A++)_.push(new a(I,A))}if(!E.isVisible()&&f){const T=new C.Position(I-1,this.model.getLineMaxColumn(I-1)+1),k=N.Range.fromPositions(f,T);p.push(new c(k,_)),_=[],f=null}else E.isVisible()&&!f&&(f=new C.Position(I,1))}if(f){const I=N.Range.fromPositions(f,this.getModelEndPositionOfViewLine(y));p.push(new c(I,_))}return p}getViewLinesBracketGuides(l,h,m,y){const p=m?this.convertViewPositionToModelPosition(m.lineNumber,m.column):null,f=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(l,h)){const I=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(I,_.modelRange.endLineNumber,p,y);for(const T of _.viewLines)if(T.isWrappedLineContinuation&&this.getMinColumnOfViewLine(T)===1)f.push([]);else{let k=E[T.modelLineNumber-I];k=k.map(A=>A.horizontalLine?new D.IndentGuide(A.visibleColumn,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,this.convertModelPositionToViewPosition(T.modelLineNumber,A.horizontalLine.endColumn).column)):A),f.push(k)}}return f}getViewLinesIndentGuides(l,h){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h);const m=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),y=this.convertViewPositionToModelPosition(h,this.getViewLineMaxColumn(h));let p=[];const f=[],_=[],I=m.lineNumber-1,E=y.lineNumber-1;let T=null;for(let F=I;F<=E;F++){const R=this.modelLineProjections[F];if(R.isVisible()){const M=R.getViewLineNumberOfModelPosition(0,F===I?m.column:1),O=R.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(F+1)),L=O-M+1;let B=0;L>1&&R.getViewLineMinColumn(this.model,F+1,O)===1&&(B=M===0?1:2),f.push(L),_.push(B),T===null&&(T=new C.Position(F+1,0))}else T!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,F)),T=null)}T!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,y.lineNumber)),T=null);const k=h-l+1,A=new Array(k);let P=0;for(let F=0,R=p.length;F<R;F++){let M=p[F];const O=Math.min(k-P,f[F]),L=_[F];let B;L===2?B=0:L===1?B=1:B=O;for(let x=0;x<O;x++)x===B&&(M=0),A[P++]=M}return A}getViewLineContent(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineContent(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineLength(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineLength(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMinColumn(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMinColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMaxColumn(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMaxColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineData(l){const h=this.getViewLineInfo(l);return this.modelLineProjections[h.modelLineNumber-1].getViewLineData(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLinesData(l,h,m){l=this._toValidViewLineNumber(l),h=this._toValidViewLineNumber(h);const y=this.projectedModelLineLineCounts.getIndexOf(l-1);let p=l;const f=y.index,_=y.remainder,I=[];for(let E=f,T=this.model.getLineCount();E<T;E++){const k=this.modelLineProjections[E];if(!k.isVisible())continue;const A=E===f?_:0;let P=k.getViewLineCount()-A,F=!1;if(p+P>h&&(F=!0,P=h-p+1),k.getViewLinesData(this.model,E+1,A,P,p-l,m,I),p+=P,F)break}return I}validateViewPosition(l,h,m){l=this._toValidViewLineNumber(l);const y=this.projectedModelLineLineCounts.getIndexOf(l-1),p=y.index,f=y.remainder,_=this.modelLineProjections[p],I=_.getViewLineMinColumn(this.model,p+1,f),E=_.getViewLineMaxColumn(this.model,p+1,f);h<I&&(h=I),h>E&&(h=E);const T=_.getModelColumnOfViewPosition(f,h);return this.model.validatePosition(new C.Position(p+1,T)).equals(m)?new C.Position(l,h):this.convertModelPositionToViewPosition(m.lineNumber,m.column)}validateViewRange(l,h){const m=this.validateViewPosition(l.startLineNumber,l.startColumn,h.getStartPosition()),y=this.validateViewPosition(l.endLineNumber,l.endColumn,h.getEndPosition());return new N.Range(m.lineNumber,m.column,y.lineNumber,y.column)}convertViewPositionToModelPosition(l,h){const m=this.getViewLineInfo(l),y=this.modelLineProjections[m.modelLineNumber-1].getModelColumnOfViewPosition(m.modelLineWrappedLineIdx,h);return this.model.validatePosition(new C.Position(m.modelLineNumber,y))}convertViewRangeToModelRange(l){const h=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),m=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);return new N.Range(h.lineNumber,h.column,m.lineNumber,m.column)}convertModelPositionToViewPosition(l,h,m=2){const y=this.model.validatePosition(new C.Position(l,h)),p=y.lineNumber,f=y.column;let _=p-1,I=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,I=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new C.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(_);let T;return I?T=this.modelLineProjections[_].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(_+1),m):T=this.modelLineProjections[p-1].getViewPositionOfModelPosition(E,f,m),T}convertModelRangeToViewRange(l,h=0){if(l.isEmpty()){const m=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,h);return N.Range.fromPositions(m)}else{const m=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,1),y=this.convertModelPositionToViewPosition(l.endLineNumber,l.endColumn,0);return new N.Range(m.lineNumber,m.column,y.lineNumber,y.column)}}getViewLineNumberOfModelPosition(l,h){let m=l-1;if(this.modelLineProjections[m].isVisible()){const p=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(p,h)}for(;m>0&&!this.modelLineProjections[m].isVisible();)m--;if(m===0&&!this.modelLineProjections[m].isVisible())return 1;const y=1+this.projectedModelLineLineCounts.getPrefixSum(m);return this.modelLineProjections[m].getViewLineNumberOfModelPosition(y,this.model.getLineMaxColumn(m+1))}getDecorationsInRange(l,h,m){const y=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),p=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);if(p.lineNumber-y.lineNumber<=l.endLineNumber-l.startLineNumber)return this.model.getDecorationsInRange(new N.Range(y.lineNumber,1,p.lineNumber,p.column),h,m);let f=[];const _=y.lineNumber-1,I=p.lineNumber-1;let E=null;for(let P=_;P<=I;P++)if(this.modelLineProjections[P].isVisible())E===null&&(E=new C.Position(P+1,P===_?y.column:1));else if(E!==null){const R=this.model.getLineMaxColumn(P);f=f.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,P,R),h,m)),E=null}E!==null&&(f=f.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,p.lineNumber,p.column),h,m)),E=null),f.sort((P,F)=>{const R=N.Range.compareRangesUsingStarts(P.range,F.range);return R===0?P.id<F.id?-1:P.id>F.id?1:0:R});let T=[],k=0,A=null;for(const P of f){const F=P.id;A!==F&&(A=F,T[k++]=P)}return T}getInjectedTextAt(l){const h=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[h.modelLineNumber-1].getInjectedTextAt(h.modelLineWrappedLineIdx,l.column)}normalizePosition(l,h){const m=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].normalizePosition(m.modelLineWrappedLineIdx,l,h)}getLineIndentColumn(l){const h=this.getViewLineInfo(l);return h.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(h.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function n(o){if(o.length===0)return[];const l=o.slice();l.sort(N.Range.compareRangesUsingStarts);const h=[];let m=l[0].startLineNumber,y=l[0].endLineNumber;for(let p=1,f=l.length;p<f;p++){const _=l[p];_.startLineNumber>y+1?(h.push(new N.Range(m,1,y,1)),m=_.startLineNumber,y=_.endLineNumber):_.endLineNumber>y&&(y=_.endLineNumber)}return h.push(new N.Range(m,1,y,1)),h}class a{constructor(l,h){this.modelLineNumber=l,this.modelLineWrappedLineIdx=h}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class c{constructor(l,h){this.modelRange=l,this.viewLines=h}}class d{constructor(l){this._lines=l}convertViewPositionToModelPosition(l){return this._lines.convertViewPositionToModelPosition(l.lineNumber,l.column)}convertViewRangeToModelRange(l){return this._lines.convertViewRangeToModelRange(l)}validateViewPosition(l,h){return this._lines.validateViewPosition(l.lineNumber,l.column,h)}validateViewRange(l,h){return this._lines.validateViewRange(l,h)}convertModelPositionToViewPosition(l,h){return this._lines.convertModelPositionToViewPosition(l.lineNumber,l.column,h)}convertModelRangeToViewRange(l,h){return this._lines.convertModelRangeToViewRange(l,h)}modelPositionIsVisible(l){return this._lines.modelPositionIsVisible(l.lineNumber,l.column)}getModelLineViewLineCount(l){return this._lines.getModelLineViewLineCount(l)}getViewLineNumberOfModelPosition(l,h){return this._lines.getViewLineNumberOfModelPosition(l,h)}}class s{constructor(l){this.model=l}dispose(){}createCoordinatesConverter(){return new r(this)}getHiddenAreas(){return[]}setHiddenAreas(l){return!1}setTabSize(l){return!1}setWrappingSettings(l,h,m,y){return!1}createLineBreaksComputer(){const l=[];return{addRequest:(h,m,y)=>{l.push(null)},finalize:()=>l}}onModelFlushed(){}onModelLinesDeleted(l,h,m){return new v.ViewLinesDeletedEvent(h,m)}onModelLinesInserted(l,h,m,y){return new v.ViewLinesInsertedEvent(h,m)}onModelLineChanged(l,h,m){return[!1,new v.ViewLinesChangedEvent(h,h),null,null]}acceptVersionId(l){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(l,h,m){return{startLineNumber:l,endLineNumber:l,indent:0}}getViewLinesBracketGuides(l,h,m){return new Array(h-l+1).fill([])}getViewLinesIndentGuides(l,h){const m=h-l+1,y=new Array(m);for(let p=0;p<m;p++)y[p]=0;return y}getViewLineContent(l){return this.model.getLineContent(l)}getViewLineLength(l){return this.model.getLineLength(l)}getViewLineMinColumn(l){return this.model.getLineMinColumn(l)}getViewLineMaxColumn(l){return this.model.getLineMaxColumn(l)}getViewLineData(l){const h=this.model.getLineTokens(l),m=h.getLineContent();return new t.ViewLineData(m,!1,1,m.length+1,0,h.inflate(),null)}getViewLinesData(l,h,m){const y=this.model.getLineCount();l=Math.min(Math.max(1,l),y),h=Math.min(Math.max(1,h),y);const p=[];for(let f=l;f<=h;f++){const _=f-l;p[_]=m[_]?this.getViewLineData(f):null}return p}getDecorationsInRange(l,h,m){return this.model.getDecorationsInRange(l,h,m)}normalizePosition(l,h){return this.model.normalizePosition(l,h)}getLineIndentColumn(l){return this.model.getLineIndentColumn(l)}getInjectedTextAt(l){return null}}e.ViewModelLinesFromModelAsIs=s;class r{constructor(l){this._lines=l}_validPosition(l){return this._lines.model.validatePosition(l)}_validRange(l){return this._lines.model.validateRange(l)}convertViewPositionToModelPosition(l){return this._validPosition(l)}convertViewRangeToModelRange(l){return this._validRange(l)}validateViewPosition(l,h){return this._validPosition(h)}validateViewRange(l,h){return this._validRange(h)}convertModelPositionToViewPosition(l){return this._validPosition(l)}convertModelRangeToViewRange(l){return this._validRange(l)}modelPositionIsVisible(l){const h=this._lines.model.getLineCount();return!(l.lineNumber<1||l.lineNumber>h)}getModelLineViewLineCount(l){return 1}getViewLineNumberOfModelPosition(l,h){return l}}}),define(Q[700],J([0,1,19,10,30,2,17,8,29,286,45,11,3,91,18,76,260,180,437,261,66,256,182,699]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class f extends D.Disposable{constructor(E,T,k,A,P,F,R){super();if(this.languageConfigurationService=R,this._editorId=E,this._configuration=T,this.model=k,this._eventDispatcher=new m.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new C.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new C.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,p&&this.model.isTooLargeForTokenization())this._lines=new y.ViewModelLinesFromModelAsIs(this.model);else{const M=this._configuration.options,O=M.get(43),L=M.get(124),B=M.get(131),x=M.get(123);this._lines=new y.ViewModelLinesFromProjectedModel(this._editorId,this.model,A,P,O,this.model.getOptions().tabSize,L,B.wrappingColumn,x)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(k,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new r.ViewLayout(this._configuration,this.getLineCount(),F)),this._register(this.viewLayout.onDidScroll(M=>{M.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new s.ViewScrollChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new m.ScrollChangedEvent(M.oldScrollWidth,M.oldScrollLeft,M.oldScrollHeight,M.oldScrollTop,M.scrollWidth,M.scrollLeft,M.scrollHeight,M.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(M=>{this._eventDispatcher.emitOutgoingEvent(M)})),this._decorations=new h.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(M=>{try{const O=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(O,M)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(o.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(E){this._eventDispatcher.addViewEventHandler(E)}removeViewEventHandler(E){this._eventDispatcher.removeViewEventHandler(E)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const E=this.viewLayout.getLinesViewportData(),T=new i.Range(E.startLineNumber,this.getLineMinColumn(E.startLineNumber),E.endLineNumber,this.getLineMaxColumn(E.endLineNumber)),k=this._toModelVisibleRanges(T);for(const A of k)this.model.tokenizeViewport(A.startLineNumber,A.endLineNumber)}setHasFocus(E){this._hasFocus=E,this._cursor.setHasFocus(E),this._eventDispatcher.emitSingleViewEvent(new s.ViewFocusChangedEvent(E)),this._eventDispatcher.emitOutgoingEvent(new m.FocusChangedEvent(!E,E))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new s.ViewThemeChangedEvent)}_onConfigurationChanged(E,T){let k=null;if(this._viewportStartLine!==-1){const L=new t.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));k=this.coordinatesConverter.convertViewPositionToModelPosition(L)}let A=!1;const P=this._configuration.options,F=P.get(43),R=P.get(124),M=P.get(131),O=P.get(123);if(this._lines.setWrappingSettings(F,R,M.wrappingColumn,O)&&(E.emitViewEvent(new s.ViewFlushedEvent),E.emitViewEvent(new s.ViewLineMappingChangedEvent),E.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(E),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(A=!0),this._updateConfigurationViewLineCount.schedule()),T.hasChanged(80)&&(this._decorations.reset(),E.emitViewEvent(new s.ViewDecorationsChangedEvent(null))),E.emitViewEvent(new s.ViewConfigurationChangedEvent(T)),this.viewLayout.onConfigurationChanged(T),A&&k){const L=this.coordinatesConverter.convertModelPositionToViewPosition(k),B=this.viewLayout.getVerticalOffsetForLineNumber(L.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStartLineDelta},1)}g.CursorConfiguration.shouldRecreate(T)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(E=>{try{const T=this._eventDispatcher.beginEmitViewEvents();let k=!1,A=!1;const P=E.changes,F=E instanceof n.ModelRawContentChangedEvent?E.versionId:null,R=this._lines.createLineBreaksComputer();for(const L of P)switch(L.changeType){case 4:{for(let B=0;B<L.detail.length;B++){const x=L.detail[B];let U=L.injectedTexts[B];U&&(U=U.filter(K=>!K.ownerId||K.ownerId===this._editorId)),R.addRequest(x,U,null)}break}case 2:{let B=null;L.injectedText&&(B=L.injectedText.filter(x=>!x.ownerId||x.ownerId===this._editorId)),R.addRequest(L.detail,B,null);break}}const M=R.finalize(),O=new w.ArrayQueue(M);for(const L of P)switch(L.changeType){case 1:{this._lines.onModelFlushed(),T.emitViewEvent(new s.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),k=!0;break}case 3:{const B=this._lines.onModelLinesDeleted(F,L.fromLineNumber,L.toLineNumber);B!==null&&(T.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber)),k=!0;break}case 4:{const B=O.takeCount(L.detail.length),x=this._lines.onModelLinesInserted(F,L.fromLineNumber,L.toLineNumber,B);x!==null&&(T.emitViewEvent(x),this.viewLayout.onLinesInserted(x.fromLineNumber,x.toLineNumber)),k=!0;break}case 2:{const B=O.dequeue(),[x,U,K,Z]=this._lines.onModelLineChanged(F,L.lineNumber,B);A=x,U&&T.emitViewEvent(U),K&&(T.emitViewEvent(K),this.viewLayout.onLinesInserted(K.fromLineNumber,K.toLineNumber)),Z&&(T.emitViewEvent(Z),this.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber));break}case 5:break}F!==null&&this._lines.acceptVersionId(F),this.viewLayout.onHeightMaybeChanged(),!k&&A&&(T.emitViewEvent(new s.ViewLineMappingChangedEvent),T.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const T=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(T){const k=this.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),A=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber);this.viewLayout.setScrollPosition({scrollTop:A+this._viewportStartLineDelta},1)}}try{const T=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(T,E)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(E=>{const T=[];for(let k=0,A=E.ranges.length;k<A;k++){const P=E.ranges[k],F=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(P.fromLineNumber,1)).lineNumber,R=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(P.toLineNumber,this.model.getLineMaxColumn(P.toLineNumber))).lineNumber;T[k]={fromLineNumber:F,toLineNumber:R}}this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensChangedEvent(T)),E.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(E=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(E=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(E=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const T=this._eventDispatcher.beginEmitViewEvents();T.emitViewEvent(new s.ViewFlushedEvent),T.emitViewEvent(new s.ViewLineMappingChangedEvent),T.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(E=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new s.ViewDecorationsChangedEvent(E))}))}setHiddenAreas(E){let T=!1;try{const k=this._eventDispatcher.beginEmitViewEvents();T=this._lines.setHiddenAreas(E),T&&(k.emitViewEvent(new s.ViewFlushedEvent),k.emitViewEvent(new s.ViewLineMappingChangedEvent),k.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(k),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),T&&this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const E=this._configuration.options.get(130),T=this._configuration.options.get(58),k=Math.max(20,Math.round(E.height/T)),A=this.viewLayout.getLinesViewportData(),P=Math.max(1,A.completelyVisibleStartLineNumber-k),F=Math.min(this.getLineCount(),A.completelyVisibleEndLineNumber+k);return this._toModelVisibleRanges(new i.Range(P,this.getLineMinColumn(P),F,this.getLineMaxColumn(F)))}getVisibleRanges(){const E=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(E)}_toModelVisibleRanges(E){const T=this.coordinatesConverter.convertViewRangeToModelRange(E),k=this._lines.getHiddenAreas();if(k.length===0)return[T];const A=[];let P=0,F=T.startLineNumber,R=T.startColumn;const M=T.endLineNumber,O=T.endColumn;for(let L=0,B=k.length;L<B;L++){const x=k[L].startLineNumber,U=k[L].endLineNumber;U<F||x>M||(F<x&&(A[P++]=new i.Range(F,R,x-1,this.model.getLineMaxColumn(x-1))),F=U+1,R=1)}return(F<M||F===M&&R<O)&&(A[P++]=new i.Range(F,R,M,O)),A}getCompletelyVisibleViewRange(){const E=this.viewLayout.getLinesViewportData(),T=E.completelyVisibleStartLineNumber,k=E.completelyVisibleEndLineNumber;return new i.Range(T,this.getLineMinColumn(T),k,this.getLineMaxColumn(k))}getCompletelyVisibleViewRangeAtScrollTop(E){const T=this.viewLayout.getLinesViewportDataAtScrollTop(E),k=T.completelyVisibleStartLineNumber,A=T.completelyVisibleEndLineNumber;return new i.Range(k,this.getLineMinColumn(k),A,this.getLineMaxColumn(A))}saveState(){const E=this.viewLayout.saveState(),T=E.scrollTop,k=this.viewLayout.getLineNumberAtVerticalOffset(T),A=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(k,this.getLineMinColumn(k))),P=this.viewLayout.getVerticalOffsetForLineNumber(k)-T;return{scrollLeft:E.scrollLeft,firstPosition:A,firstPositionDeltaTop:P}}reduceRestoreState(E){if(typeof E.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(E);const T=this.model.validatePosition(E.firstPosition),k=this.coordinatesConverter.convertModelPositionToViewPosition(T),A=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber)-E.firstPositionDeltaTop;return{scrollLeft:E.scrollLeft,scrollTop:A}}_reduceRestoreStateCompatibility(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(E,T,k){this._viewportStartLine=E;const A=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(E,this.getLineMinColumn(E)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new i.Range(A.lineNumber,A.column,A.lineNumber,A.column),1);const P=this.viewLayout.getVerticalOffsetForLineNumber(E),F=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=F-P}getActiveIndentGuide(E,T,k){return this._lines.getActiveIndentGuide(E,T,k)}getLinesIndentGuides(E,T){return this._lines.getViewLinesIndentGuides(E,T)}getBracketGuidesInRangeByLine(E,T,k,A){return this._lines.getViewLinesBracketGuides(E,T,k,A)}getLineContent(E){return this._lines.getViewLineContent(E)}getLineLength(E){return this._lines.getViewLineLength(E)}getLineMinColumn(E){return this._lines.getViewLineMinColumn(E)}getLineMaxColumn(E){return this._lines.getViewLineMaxColumn(E)}getLineFirstNonWhitespaceColumn(E){const T=b.firstNonWhitespaceIndex(this.getLineContent(E));return T===-1?0:T+1}getLineLastNonWhitespaceColumn(E){const T=b.lastNonWhitespaceIndex(this.getLineContent(E));return T===-1?0:T+2}getDecorationsInViewport(E){return this._decorations.getDecorationsViewportData(E).decorations}getInjectedTextAt(E){return this._lines.getInjectedTextAt(E)}getViewLineRenderingData(E,T){const k=this.model.mightContainRTL(),A=this.model.mightContainNonBasicASCII(),P=this.getTabSize(),F=this._lines.getViewLineData(T);let M=this._decorations.getDecorationsViewportData(E).inlineDecorations[T-E.startLineNumber];return F.inlineDecorations&&(M=[...M,...F.inlineDecorations.map(O=>O.toInlineDecoration(T))]),new l.ViewLineRenderingData(F.minColumn,F.maxColumn,F.content,F.continuesWithWrappedLine,k,A,F.tokens,M,P,F.startVisibleColumn)}getViewLineData(E){return this._lines.getViewLineData(E)}getMinimapLinesRenderingData(E,T,k){const A=this._lines.getViewLinesData(E,T,k);return new l.MinimapLinesRenderingData(this.getTabSize(),A)}getAllOverviewRulerDecorations(E){const T=this.model.getOverviewRulerDecorations(this._editorId,(0,v.filterValidationDecorations)(this._configuration.options)),k=new _;for(const A of T){const P=A.options,F=P.overviewRuler;if(!F)continue;const R=F.position;if(R===0)continue;const M=F.getColor(E),O=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.startLineNumber,A.range.startColumn),L=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.endLineNumber,A.range.endColumn);k.accept(M,P.zIndex,O,L,R)}return k.asArray}invalidateOverviewRulerColorCache(){const E=this.model.getOverviewRulerDecorations();for(const T of E){const k=T.options.overviewRuler;k&&k.invalidateCachedColor()}}invalidateMinimapColorCache(){const E=this.model.getAllDecorations();for(const T of E){const k=T.options.minimap;k&&k.invalidateCachedColor()}}getValueInRange(E,T){const k=this.coordinatesConverter.convertViewRangeToModelRange(E);return this.model.getValueInRange(k,T)}getModelLineMaxColumn(E){return this.model.getLineMaxColumn(E)}validateModelPosition(E){return this.model.validatePosition(E)}validateModelRange(E){return this.model.validateRange(E)}deduceModelPositionRelativeToViewPosition(E,T,k){const A=this.coordinatesConverter.convertViewPositionToModelPosition(E);this.model.getEOL().length===2&&(T<0?T-=k:T+=k);const F=this.model.getOffsetAt(A)+T;return this.model.getPositionAt(F)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(E,T,k){const A=k?`\r
`:this.model.getEOL();E=E.slice(0),E.sort(i.Range.compareRangesUsingStarts);let P=!1,F=!1;for(const M of E)M.isEmpty()?P=!0:F=!0;if(!F){if(!T)return"";const M=E.map(L=>L.startLineNumber);let O="";for(let L=0;L<M.length;L++)L>0&&M[L-1]===M[L]||(O+=this.model.getLineContent(M[L])+A);return O}if(P&&T){const M=[];let O=0;for(const L of E){const B=L.startLineNumber;L.isEmpty()?B!==O&&M.push(this.model.getLineContent(B)):M.push(this.model.getValueInRange(L,k?2:0)),O=B}return M.length===1?M[0]:M}const R=[];for(const M of E)M.isEmpty()||R.push(this.model.getValueInRange(M,k?2:0));return R.length===1?R[0]:R}getRichTextToCopy(E,T){const k=this.model.getLanguageId();if(k===c.PLAINTEXT_LANGUAGE_ID||E.length!==1)return null;let A=E[0];if(A.isEmpty()){if(!T)return null;const L=A.startLineNumber;A=new i.Range(L,this.model.getLineMinColumn(L),L,this.model.getLineMaxColumn(L))}const P=this._configuration.options.get(43),F=this._getColorMap(),M=/[:;\\\/<>]/.test(P.fontFamily)||P.fontFamily===v.EDITOR_FONT_DEFAULTS.fontFamily;let O;return M?O=v.EDITOR_FONT_DEFAULTS.fontFamily:(O=P.fontFamily,O=O.replace(/"/g,"'"),/[,']/.test(O)||/[+ ]/.test(O)&&(O=`'${O}'`),O=`${O}, ${v.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:k,html:`<div style="color: ${F[1]};background-color: ${F[2]};font-family: ${O};font-weight: ${P.fontWeight};font-size: ${P.fontSize}px;line-height: ${P.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(A,F)+"</div>"}}_getHTMLToCopy(E,T){const k=E.startLineNumber,A=E.startColumn,P=E.endLineNumber,F=E.endColumn,R=this.getTabSize();let M="";for(let O=k;O<=P;O++){const L=this.model.getLineTokens(O),B=L.getLineContent(),x=O===k?A-1:0,U=O===P?F-1:B.length;B===""?M+="<br>":M+=(0,d.tokenizeLineToHTML)(B,L.inflate(),T,x,U,R,S.isWindows)}return M}_getColorMap(){const E=a.TokenizationRegistry.getColorMap(),T=["#000000"];if(E)for(let k=1,A=E.length;k<A;k++)T[k]=N.Color.Format.CSS.formatHex(E[k]);return T}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(E,T,k){this._withViewEventsCollector(A=>this._cursor.setStates(A,E,T,k))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(E){this._cursor.setCursorColumnSelectData(E)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(E){this._cursor.setPrevEditOperationType(E)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(E,T,k=0){this._withViewEventsCollector(A=>this._cursor.setSelections(A,E,T,k))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(E){this._withViewEventsCollector(T=>this._cursor.restoreState(T,E))}_executeCursorEdit(E){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new m.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(E)}executeEdits(E,T,k){this._executeCursorEdit(A=>this._cursor.executeEdits(A,E,T,k))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(E=>this._cursor.startComposition(E))}endComposition(E){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(T=>this._cursor.endComposition(T,E))}type(E,T){this._executeCursorEdit(k=>this._cursor.type(k,E,T))}compositionType(E,T,k,A,P){this._executeCursorEdit(F=>this._cursor.compositionType(F,E,T,k,A,P))}paste(E,T,k,A){this._executeCursorEdit(P=>this._cursor.paste(P,E,T,k,A))}cut(E){this._executeCursorEdit(T=>this._cursor.cut(T,E))}executeCommand(E,T){this._executeCursorEdit(k=>this._cursor.executeCommand(k,E,T))}executeCommands(E,T){this._executeCursorEdit(k=>this._cursor.executeCommands(k,E,T))}revealPrimaryCursor(E,T){this._withViewEventsCollector(k=>this._cursor.revealPrimary(k,E,T,0))}revealTopMostCursor(E){const T=this._cursor.getTopMostViewPosition(),k=new i.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(A=>A.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,k,null,0,!0,0)))}revealBottomMostCursor(E){const T=this._cursor.getBottomMostViewPosition(),k=new i.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(A=>A.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,k,null,0,!0,0)))}revealRange(E,T,k,A,P){this._withViewEventsCollector(F=>F.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,k,null,A,T,P)))}getVerticalOffsetForLineNumber(E){return this.viewLayout.getVerticalOffsetForLineNumber(E)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(E,T){this.viewLayout.setScrollPosition({scrollTop:E},T)}setScrollPosition(E,T){this.viewLayout.setScrollPosition(E,T)}deltaScrollNow(E,T){this.viewLayout.deltaScrollNow(E,T)}changeWhitespace(E){this.viewLayout.changeWhitespace(E)&&(this._eventDispatcher.emitSingleViewEvent(new s.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new m.ViewZonesChangedEvent))}setMaxLineWidth(E){this.viewLayout.setMaxLineWidth(E)}_withViewEventsCollector(E){try{const T=this._eventDispatcher.beginEmitViewEvents();E(T)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(E,T){return this._lines.normalizePosition(E,T)}getLineIndentColumn(E){return this._lines.getLineIndentColumn(E)}}e.ViewModel=f;class _{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(E,T,k,A,P){const F=this._asMap[E];if(F){const R=F.data,M=R[R.length-3],O=R[R.length-1];if(M===P&&O+1>=k){A>O&&(R[R.length-1]=A);return}R.push(P,k,A)}else{const R=new l.OverviewRulerDecorationsGroup(E,T,[P,k,A]);this._asMap[E]=R,this.asArray.push(R)}}}}),define(Q[160],J([0,1,488,7,14,4,2,48,601,15,28,696,228,29,286,45,11,3,21,233,144,24,18,52,22,700,26,16,9,153,40,13,63,20,427,496,158,35,60,652,363]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A,P,F,R,M,O,L,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let x=0;class U{constructor(ie,de,q,z,$){this.model=ie,this.viewModel=de,this.view=q,this.hasRealView=z,this.listenersToRemove=$}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let K=class Vt extends S.Disposable{constructor(ie,de,q,z,$,se,te,ae,me,_e,we){super();this.languageConfigurationService=we,this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new D.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new D.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Z),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Z),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new D.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new D.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new D.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new D.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new D.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new D.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new D.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new D.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new D.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new D.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new D.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new D.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new D.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new D.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new D.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const le=Object.assign({},de);this._domElement=ie,this._overflowWidgetsDomNode=le.overflowWidgetsDomNode,delete le.overflowWidgetsDomNode,this._id=++x,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=q.telemetryData,this._configuration=this._register(this._createConfiguration(q.isSimpleWidget||!1,le,_e)),this._register(this._configuration.onDidChange(ue=>{this._onDidChangeConfiguration.fire(ue);const ve=this._configuration.options;if(ue.hasChanged(130)){const re=ve.get(130);this._onDidLayoutChange.fire(re)}})),this._contextKeyService=this._register(te.createScoped(this._domElement)),this._notificationService=me,this._codeEditorService=$,this._commandService=se,this._themeService=ae,this._register(new ee(this,this._contextKeyService)),this._register(new X(this,this._contextKeyService)),this._instantiationService=z.createChild(new T.ServiceCollection([I.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ne(ie),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let he;Array.isArray(q.contributions)?he=q.contributions:he=u.EditorExtensionsRegistry.getEditorContributions();for(const ue of he){if(this._contributions[ue.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ue.id}`));continue}try{const ve=this._instantiationService.createInstance(ue.ctor,this);this._contributions[ue.id]=ve}catch(ve){(0,N.onUnexpectedError)(ve)}}u.EditorExtensionsRegistry.getEditorActions().forEach(ue=>{if(this._actions[ue.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ue.id}`));return}const ve=new o.InternalEditorAction(ue.id,ue.label,ue.alias,(0,F.withNullAsUndefined)(ue.precondition),()=>this._instantiationService.invokeFunction(re=>Promise.resolve(ue.runEditorCommand(re,this,null))),this._contextKeyService);this._actions[ve.id]=ve}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(ie,de,q){return new v.EditorConfiguration(ie,de,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const ie=Object.keys(this._contributions);for(let de=0,q=ie.length;de<q;de++){const z=ie[de];this._contributions[z].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(ie){return this._instantiationService.invokeFunction(ie)}updateOptions(ie){this._configuration.updateOptions(ie||{})}getOptions(){return this._configuration.options}getOption(ie){return this._configuration.options.get(ie)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(ie){return this._modelData?O.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),ie):null}getValue(ie=null){if(!this._modelData)return"";const de=!!(ie&&ie.preserveBOM);let q=0;return ie&&ie.lineEnding&&ie.lineEnding===`
`?q=1:ie&&ie.lineEnding&&ie.lineEnding===`\r
`&&(q=2),this._modelData.model.getValue(q,de)}setValue(ie){!this._modelData||this._modelData.model.setValue(ie)}getModel(){return this._modelData?this._modelData.model:null}setModel(ie=null){const de=ie;if(this._modelData===null&&de===null||this._modelData&&this._modelData.model===de)return;const q=this.hasTextFocus(),z=this._detachModel();this._attachModel(de),q&&this.hasModel()&&this.focus();const $={oldModelUrl:z?z.uri:null,newModelUrl:de?de.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(z)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let ie in this._decorationTypeSubtypes){const de=this._decorationTypeSubtypes[ie];for(let q in de)this._removeDecorationType(ie+"-"+q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(ie,de,q){const z=ie.model.validatePosition({lineNumber:de,column:q}),$=ie.viewModel.coordinatesConverter.convertModelPositionToViewPosition(z);return ie.viewModel.viewLayout.getVerticalOffsetForLineNumber($.lineNumber)}getTopForLineNumber(ie){return this._modelData?Vt._getVerticalOffsetForPosition(this._modelData,ie,1):-1}getTopForPosition(ie,de){return this._modelData?Vt._getVerticalOffsetForPosition(this._modelData,ie,de):-1}setHiddenAreas(ie){this._modelData&&this._modelData.viewModel.setHiddenAreas(ie.map(de=>s.Range.lift(de)))}getVisibleColumnFromPosition(ie){if(!this._modelData)return ie.column;const de=this._modelData.model.validatePosition(ie),q=this._modelData.model.getOptions().tabSize;return c.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(de.lineNumber),de.column,q)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(ie){if(!!this._modelData){if(!d.Position.isIPosition(ie))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:ie.lineNumber,selectionStartColumn:ie.column,positionLineNumber:ie.lineNumber,positionColumn:ie.column}])}}_sendRevealRange(ie,de,q,z){if(!this._modelData)return;if(!s.Range.isIRange(ie))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(ie),se=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",q,se,de,z)}revealLine(ie,de=0){this._revealLine(ie,0,de)}revealLineInCenter(ie,de=0){this._revealLine(ie,1,de)}revealLineInCenterIfOutsideViewport(ie,de=0){this._revealLine(ie,2,de)}revealLineNearTop(ie,de=0){this._revealLine(ie,5,de)}_revealLine(ie,de,q){if(typeof ie!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(ie,1,ie,1),de,!1,q)}revealPosition(ie,de=0){this._revealPosition(ie,0,!0,de)}revealPositionInCenter(ie,de=0){this._revealPosition(ie,1,!0,de)}revealPositionInCenterIfOutsideViewport(ie,de=0){this._revealPosition(ie,2,!0,de)}revealPositionNearTop(ie,de=0){this._revealPosition(ie,5,!0,de)}_revealPosition(ie,de,q,z){if(!d.Position.isIPosition(ie))throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(ie.lineNumber,ie.column,ie.lineNumber,ie.column),de,q,z)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(ie){const de=r.Selection.isISelection(ie),q=s.Range.isIRange(ie);if(!de&&!q)throw new Error("Invalid arguments");if(de)this._setSelectionImpl(ie);else if(q){const z={selectionStartLineNumber:ie.startLineNumber,selectionStartColumn:ie.startColumn,positionLineNumber:ie.endLineNumber,positionColumn:ie.endColumn};this._setSelectionImpl(z)}}_setSelectionImpl(ie){if(!this._modelData)return;const de=new r.Selection(ie.selectionStartLineNumber,ie.selectionStartColumn,ie.positionLineNumber,ie.positionColumn);this._modelData.viewModel.setSelections("api",[de])}revealLines(ie,de,q=0){this._revealLines(ie,de,0,q)}revealLinesInCenter(ie,de,q=0){this._revealLines(ie,de,1,q)}revealLinesInCenterIfOutsideViewport(ie,de,q=0){this._revealLines(ie,de,2,q)}revealLinesNearTop(ie,de,q=0){this._revealLines(ie,de,5,q)}_revealLines(ie,de,q,z){if(typeof ie!="number"||typeof de!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(ie,1,de,1),q,!1,z)}revealRange(ie,de=0,q=!1,z=!0){this._revealRange(ie,q?1:0,z,de)}revealRangeInCenter(ie,de=0){this._revealRange(ie,1,!0,de)}revealRangeInCenterIfOutsideViewport(ie,de=0){this._revealRange(ie,2,!0,de)}revealRangeNearTop(ie,de=0){this._revealRange(ie,5,!0,de)}revealRangeNearTopIfOutsideViewport(ie,de=0){this._revealRange(ie,6,!0,de)}revealRangeAtTop(ie,de=0){this._revealRange(ie,3,!0,de)}_revealRange(ie,de,q,z){if(!s.Range.isIRange(ie))throw new Error("Invalid arguments");this._sendRevealRange(s.Range.lift(ie),de,q,z)}setSelections(ie,de="api",q=0){if(!!this._modelData){if(!ie||ie.length===0)throw new Error("Invalid arguments");for(let z=0,$=ie.length;z<$;z++)if(!r.Selection.isISelection(ie[z]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(de,ie,q)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(ie,de=1){if(!!this._modelData){if(typeof ie!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:ie},de)}}setScrollTop(ie,de=1){if(!!this._modelData){if(typeof ie!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:ie},de)}}setScrollPosition(ie,de=1){!this._modelData||this._modelData.viewModel.setScrollPosition(ie,de)}saveViewState(){if(!this._modelData)return null;const ie={},de=Object.keys(this._contributions);for(const $ of de){const se=this._contributions[$];typeof se.saveViewState=="function"&&(ie[$]=se.saveViewState())}const q=this._modelData.viewModel.saveCursorState(),z=this._modelData.viewModel.saveState();return{cursorState:q,viewState:z,contributionsState:ie}}restoreViewState(ie){if(!this._modelData||!this._modelData.hasRealView)return;const de=ie;if(de&&de.cursorState&&de.viewState){const q=de.cursorState;Array.isArray(q)?this._modelData.viewModel.restoreCursorState(q):this._modelData.viewModel.restoreCursorState([q]);const z=de.contributionsState||{},$=Object.keys(this._contributions);for(let te=0,ae=$.length;te<ae;te++){const me=$[te],_e=this._contributions[me];typeof _e.restoreViewState=="function"&&_e.restoreViewState(z[me])}const se=this._modelData.viewModel.reduceRestoreState(de.viewState);this._modelData.view.restoreState(se)}}getContribution(ie){return this._contributions[ie]||null}getActions(){const ie=[],de=Object.keys(this._actions);for(let q=0,z=de.length;q<z;q++){const $=de[q];ie.push(this._actions[$])}return ie}getSupportedActions(){let ie=this.getActions();return ie=ie.filter(de=>de.isSupported()),ie}getAction(ie){return this._actions[ie]||null}trigger(ie,de,q){switch(q=q||{},de){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(ie);return;case"type":{const $=q;this._type(ie,$.text||"");return}case"replacePreviousChar":{const $=q;this._compositionType(ie,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=q;this._compositionType(ie,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=q;this._paste(ie,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(ie);return}const z=this.getAction(de);if(z){Promise.resolve(z.run()).then(void 0,N.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(ie,de,q)||this._triggerCommand(de,q)}_triggerCommand(ie,de){this._commandService.executeCommand(ie,de)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(ie){!this._modelData||(this._modelData.viewModel.endComposition(ie),this._onDidCompositionEnd.fire())}_type(ie,de){!this._modelData||de.length===0||(ie==="keyboard"&&this._onWillType.fire(de),this._modelData.viewModel.type(de,ie),ie==="keyboard"&&this._onDidType.fire(de))}_compositionType(ie,de,q,z,$){!this._modelData||this._modelData.viewModel.compositionType(de,q,z,$,ie)}_paste(ie,de,q,z,$){if(!this._modelData||de.length===0)return;const se=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(de,q,z,ie);const te=this._modelData.viewModel.getSelection().getStartPosition();ie==="keyboard"&&this._onDidPaste.fire({range:new s.Range(se.lineNumber,se.column,te.lineNumber,te.column),languageId:$})}_cut(ie){!this._modelData||this._modelData.viewModel.cut(ie)}_triggerEditorCommand(ie,de,q){const z=u.EditorExtensionsRegistry.getEditorCommand(de);return z?(q=q||{},q.source=ie,this._instantiationService.invokeFunction($=>{Promise.resolve(z.runEditorCommand($,this,q)).then(void 0,N.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(ie,de,q){if(!this._modelData||this._configuration.options.get(80))return!1;let z;return q?Array.isArray(q)?z=()=>q:z=q:z=()=>null,this._modelData.viewModel.executeEdits(ie,de,z),!0}executeCommand(ie,de){!this._modelData||this._modelData.viewModel.executeCommand(de,ie)}executeCommands(ie,de){!this._modelData||this._modelData.viewModel.executeCommands(de,ie)}changeDecorations(ie){return this._modelData?this._modelData.model.changeDecorations(ie,this._id):null}getLineDecorations(ie){return this._modelData?this._modelData.model.getLineDecorations(ie,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(ie){return this._modelData?this._modelData.model.getDecorationsInRange(ie,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(ie,de){return this._modelData?ie.length===0&&de.length===0?ie:this._modelData.model.deltaDecorations(ie,de,this._id):[]}removeDecorations(ie){const de=this._decorationTypeKeysToIds[ie];de&&this.deltaDecorations(de,[]),this._decorationTypeKeysToIds.hasOwnProperty(ie)&&delete this._decorationTypeKeysToIds[ie],this._decorationTypeSubtypes.hasOwnProperty(ie)&&delete this._decorationTypeSubtypes[ie]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(ie){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(ie)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(ie){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(ie)}layout(ie){this._configuration.observeContainer(ie),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(ie){const de={widget:ie,position:ie.getPosition()};this._contentWidgets.hasOwnProperty(ie.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[ie.getId()]=de,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(de)}layoutContentWidget(ie){const de=ie.getId();if(this._contentWidgets.hasOwnProperty(de)){const q=this._contentWidgets[de];q.position=ie.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(q)}}removeContentWidget(ie){const de=ie.getId();if(this._contentWidgets.hasOwnProperty(de)){const q=this._contentWidgets[de];delete this._contentWidgets[de],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(q)}}addOverlayWidget(ie){const de={widget:ie,position:ie.getPosition()};this._overlayWidgets.hasOwnProperty(ie.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[ie.getId()]=de,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(de)}layoutOverlayWidget(ie){const de=ie.getId();if(this._overlayWidgets.hasOwnProperty(de)){const q=this._overlayWidgets[de];q.position=ie.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(q)}}removeOverlayWidget(ie){const de=ie.getId();if(this._overlayWidgets.hasOwnProperty(de)){const q=this._overlayWidgets[de];delete this._overlayWidgets[de],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(q)}}changeViewZones(ie){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(ie)}getTargetAtClientPoint(ie,de){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(ie,de)}getScrolledVisiblePosition(ie){if(!this._modelData||!this._modelData.hasRealView)return null;const de=this._modelData.model.validatePosition(ie),q=this._configuration.options,z=q.get(130),$=Vt._getVerticalOffsetForPosition(this._modelData,de.lineNumber,de.column)-this.getScrollTop(),se=this._modelData.view.getOffsetForColumn(de.lineNumber,de.column)+z.glyphMarginWidth+z.lineNumbersWidth+z.decorationsWidth-this.getScrollLeft();return{top:$,left:se,height:q.get(58)}}getOffsetForColumn(ie,de){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(ie,de)}render(ie=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,ie)}setAriaOptions(ie){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(ie)}applyFontInfo(ie){(0,B.applyFontInfo)(ie,this._configuration.options.get(43))}setBanner(ie,de){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=ie,this._configuration.setReservedHeight(ie?de:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(ie){if(!ie){this._modelData=null;return}const de=[];this._domElement.setAttribute("data-mode-id",ie.getLanguageId()),this._configuration.setIsDominatedByLongLines(ie.isDominatedByLongLines()),this._configuration.setModelLineCount(ie.getLineCount()),ie.onBeforeAttached();const q=new f.ViewModel(this._id,this._configuration,ie,M.DOMLineBreaksComputerFactory.create(),R.MonospaceLineBreaksComputerFactory.create(this._configuration.options),se=>C.scheduleAtNextAnimationFrame(se),this.languageConfigurationService);de.push(ie.onDidChangeDecorations(se=>this._onDidChangeModelDecorations.fire(se))),de.push(ie.onDidChangeLanguage(se=>{this._domElement.setAttribute("data-mode-id",ie.getLanguageId()),this._onDidChangeModelLanguage.fire(se)})),de.push(ie.onDidChangeLanguageConfiguration(se=>this._onDidChangeModelLanguageConfiguration.fire(se))),de.push(ie.onDidChangeContent(se=>this._onDidChangeModelContent.fire(se))),de.push(ie.onDidChangeOptions(se=>this._onDidChangeModelOptions.fire(se))),de.push(ie.onWillDispose(()=>this.setModel(null))),de.push(q.onEvent(se=>{switch(se.kind){case 0:this._onDidContentSizeChange.fire(se);break;case 1:this._editorTextFocus.setValue(se.hasFocus);break;case 2:this._onDidScrollChange.fire(se);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{se.reachedMaxCursorCount&&this._notificationService.warn(w.localize(0,null,a.CursorsController.MAX_CURSOR_COUNT));const te=[];for(let _e=0,we=se.selections.length;_e<we;_e++)te[_e]=se.selections[_e].getPosition();const ae={position:te[0],secondaryPositions:te.slice(1),reason:se.reason,source:se.source};this._onDidChangeCursorPosition.fire(ae);const me={selection:se.selections[0],secondarySelections:se.selections.slice(1),modelVersionId:se.modelVersionId,oldSelections:se.oldSelections,oldModelVersionId:se.oldModelVersionId,source:se.source,reason:se.reason};this._onDidChangeCursorSelection.fire(me);break}}}));const[z,$]=this._createView(q);if($){this._domElement.appendChild(z.domNode.domNode);let se=Object.keys(this._contentWidgets);for(let te=0,ae=se.length;te<ae;te++){const me=se[te];z.addContentWidget(this._contentWidgets[me])}se=Object.keys(this._overlayWidgets);for(let te=0,ae=se.length;te<ae;te++){const me=se[te];z.addOverlayWidget(this._overlayWidgets[me])}z.render(!1,!0),z.domNode.domNode.setAttribute("data-uri",ie.uri.toString())}this._modelData=new U(ie,q,z,$,de)}_createView(ie){let de;this.isSimpleWidget?de={paste:($,se,te,ae)=>{this._paste("keyboard",$,se,te,ae)},type:$=>{this._type("keyboard",$)},compositionType:($,se,te,ae)=>{this._compositionType("keyboard",$,se,te,ae)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:de={paste:($,se,te,ae)=>{const me={text:$,pasteOnNewLine:se,multicursorText:te,mode:ae};this._commandService.executeCommand("paste",me)},type:$=>{const se={text:$};this._commandService.executeCommand("type",se)},compositionType:($,se,te,ae)=>{if(te||ae){const me={text:$,replacePrevCharCnt:se,replaceNextCharCnt:te,positionDelta:ae};this._commandService.executeCommand("compositionType",me)}else{const me={text:$,replaceCharCnt:se};this._commandService.executeCommand("replacePreviousChar",me)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const q=new i.ViewUserInputEvents(ie.coordinatesConverter);return q.onKeyDown=$=>this._onKeyDown.fire($),q.onKeyUp=$=>this._onKeyUp.fire($),q.onContextMenu=$=>this._onContextMenu.fire($),q.onMouseMove=$=>this._onMouseMove.fire($),q.onMouseLeave=$=>this._onMouseLeave.fire($),q.onMouseDown=$=>this._onMouseDown.fire($),q.onMouseUp=$=>this._onMouseUp.fire($),q.onMouseDrag=$=>this._onMouseDrag.fire($),q.onMouseDrop=$=>this._onMouseDrop.fire($),q.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),q.onMouseWheel=$=>this._onMouseWheel.fire($),[new t.View(de,this._configuration,this._themeService,ie,q,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(ie){ie&&ie.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const ie=this._modelData.model,de=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),de&&this._domElement.contains(de)&&this._domElement.removeChild(de),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),ie}_removeDecorationType(ie){this._codeEditorService.removeDecorationType(ie)}hasModel(){return this._modelData!==null}};K=Be([fe(3,E.IInstantiationService),fe(4,g.ICodeEditorService),fe(5,_.ICommandService),fe(6,I.IContextKeyService),fe(7,A.IThemeService),fe(8,k.INotificationService),fe(9,P.IAccessibilityService),fe(10,L.ILanguageConfigurationService)],K),e.CodeEditorWidget=K;class Z extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new D.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(ie){const de=ie?2:1;this._value!==de&&(this._value=de,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Z;class ee extends S.Disposable{constructor(ie,de){super();this._editor=ie,de.createKey("editorId",ie.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(de),this._editorFocus=h.EditorContextKeys.focus.bindTo(de),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(de),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(de),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(de),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(de),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(de),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(de),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(de),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(de),this._canUndo=h.EditorContextKeys.canUndo.bindTo(de),this._canRedo=h.EditorContextKeys.canRedo.bindTo(de),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const ie=this._editor.getOptions();this._editorTabMovesFocus.set(ie.get(129)),this._editorReadonly.set(ie.get(80)),this._inDiffEditor.set(ie.get(53)),this._editorColumnSelection.set(ie.get(18))}_updateFromSelection(){const ie=this._editor.getSelections();ie?(this._hasMultipleSelections.set(ie.length>1),this._hasNonEmptySelection.set(ie.some(de=>!de.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const ie=this._editor.getModel();this._canUndo.set(Boolean(ie&&ie.canUndo())),this._canRedo.set(Boolean(ie&&ie.canRedo()))}}class X extends S.Disposable{constructor(ie,de){super();this._editor=ie,this._contextKeyService=de,this._langId=h.EditorContextKeys.languageId.bindTo(de),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(de),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(de),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(de),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(de),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(de),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(de),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(de),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(de),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(de),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(de),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(de),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(de),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(de),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(de),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(de),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(de),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(de),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(de),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(de);const q=()=>this._update();this._register(ie.onDidChangeModel(q)),this._register(ie.onDidChangeModelLanguage(q)),this._register(m.CompletionProviderRegistry.onDidChange(q)),this._register(m.CodeActionProviderRegistry.onDidChange(q)),this._register(m.CodeLensProviderRegistry.onDidChange(q)),this._register(m.DefinitionProviderRegistry.onDidChange(q)),this._register(m.DeclarationProviderRegistry.onDidChange(q)),this._register(m.ImplementationProviderRegistry.onDidChange(q)),this._register(m.TypeDefinitionProviderRegistry.onDidChange(q)),this._register(m.HoverProviderRegistry.onDidChange(q)),this._register(m.DocumentHighlightProviderRegistry.onDidChange(q)),this._register(m.DocumentSymbolProviderRegistry.onDidChange(q)),this._register(m.ReferenceProviderRegistry.onDidChange(q)),this._register(m.RenameProviderRegistry.onDidChange(q)),this._register(m.DocumentFormattingEditProviderRegistry.onDidChange(q)),this._register(m.DocumentRangeFormattingEditProviderRegistry.onDidChange(q)),this._register(m.SignatureHelpProviderRegistry.onDidChange(q)),this._register(m.InlayHintsProviderRegistry.onDidChange(q)),q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const ie=this._editor.getModel();if(!ie){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(ie.getLanguageId()),this._hasCompletionItemProvider.set(m.CompletionProviderRegistry.has(ie)),this._hasCodeActionsProvider.set(m.CodeActionProviderRegistry.has(ie)),this._hasCodeLensProvider.set(m.CodeLensProviderRegistry.has(ie)),this._hasDefinitionProvider.set(m.DefinitionProviderRegistry.has(ie)),this._hasDeclarationProvider.set(m.DeclarationProviderRegistry.has(ie)),this._hasImplementationProvider.set(m.ImplementationProviderRegistry.has(ie)),this._hasTypeDefinitionProvider.set(m.TypeDefinitionProviderRegistry.has(ie)),this._hasHoverProvider.set(m.HoverProviderRegistry.has(ie)),this._hasDocumentHighlightProvider.set(m.DocumentHighlightProviderRegistry.has(ie)),this._hasDocumentSymbolProvider.set(m.DocumentSymbolProviderRegistry.has(ie)),this._hasReferenceProvider.set(m.ReferenceProviderRegistry.has(ie)),this._hasRenameProvider.set(m.RenameProviderRegistry.has(ie)),this._hasSignatureHelpProvider.set(m.SignatureHelpProviderRegistry.has(ie)),this._hasInlayHintsProvider.set(m.InlayHintsProviderRegistry.has(ie)),this._hasDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.has(ie)||m.DocumentRangeFormattingEditProviderRegistry.has(ie)),this._hasDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.has(ie)),this._hasMultipleDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.all(ie).length+m.DocumentRangeFormattingEditProviderRegistry.all(ie).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.all(ie).length>1),this._isInWalkThrough.set(ie.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=X;class ne extends S.Disposable{constructor(ie){super();this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(C.trackFocus(ie)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Y=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),j=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function W(ce){return Y+encodeURIComponent(ce.toString())+j}const V=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),G=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function oe(ce){return V+encodeURIComponent(ce.toString())+G}(0,A.registerThemingParticipant)((ce,ie)=>{const de=ce.getColor(p.editorErrorBorder);de&&ie.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${de}; }`);const q=ce.getColor(p.editorErrorForeground);q&&ie.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${W(q)}") repeat-x bottom left; }`);const z=ce.getColor(p.editorErrorBackground);z&&ie.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${z}; }`);const $=ce.getColor(p.editorWarningBorder);$&&ie.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${$}; }`);const se=ce.getColor(p.editorWarningForeground);se&&ie.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${W(se)}") repeat-x bottom left; }`);const te=ce.getColor(p.editorWarningBackground);te&&ie.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${te}; }`);const ae=ce.getColor(p.editorInfoBorder);ae&&ie.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ae}; }`);const me=ce.getColor(p.editorInfoForeground);me&&ie.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${W(me)}") repeat-x bottom left; }`);const _e=ce.getColor(p.editorInfoBackground);_e&&ie.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${_e}; }`);const we=ce.getColor(p.editorHintBorder);we&&ie.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${we}; }`);const le=ce.getColor(p.editorHintForeground);le&&ie.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${oe(le)}") no-repeat bottom left; }`);const he=ce.getColor(y.editorUnnecessaryCodeOpacity);he&&ie.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${he.rgba.a}; }`);const ue=ce.getColor(y.editorUnnecessaryCodeBorder);ue&&ie.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${ue}; }`);const ve=ce.getColor(p.editorForeground)||"inherit";ie.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${ve}}`)})}),define(Q[288],J([0,1,489,7,31,110,10,4,2,60,70,28,160,685,29,3,89,144,32,82,240,149,120,66,16,9,153,40,22,13,83,492,101,15,14,69,226,27,140,71,361]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A,P,F,R,M,O,L,B,x){"use strict";var U;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class K{constructor(le,he){this._contextMenuService=le,this._clipboardService=he,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(le){return le.filter(he=>!this._zonesMap[String(he.id)])}clean(le){this._zones.length>0&&le.changeViewZones(he=>{for(const ue of this._zones)he.removeZone(ue)}),this._zones=[],this._zonesMap={},this._decorations=le.deltaDecorations(this._decorations,[])}apply(le,he,ue,ve){const re=ve?g.StableEditorScrollState.capture(le):null;le.changeViewZones(ge=>{var ye;for(const Ae of this._zones)ge.removeZone(Ae);for(const Ae of this._inlineDiffMargins)Ae.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ae=0,Oe=ue.zones.length;Ae<Oe;Ae++){const He=ue.zones[Ae];He.suppressMouseDown=!0;const Ve=ge.addZone(He);this._zones.push(Ve),this._zonesMap[String(Ve)]=!0,ue.zones[Ae].diff&&He.marginDomNode&&(He.suppressMouseDown=!1,((ye=ue.zones[Ae].diff)===null||ye===void 0?void 0:ye.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new A.InlineDiffMargin(Ve,He.marginDomNode,le,ue.zones[Ae].diff,this._contextMenuService,this._clipboardService)))}}),re&&re.restore(le),this._decorations=le.deltaDecorations(this._decorations,ue.decorations),he&&he.setZones(ue.overviewZones)}}let Z=0;const ee=(0,x.registerIcon)("diff-insert",L.Codicon.add,w.localize(0,null)),X=(0,x.registerIcon)("diff-remove",L.Codicon.remove,w.localize(1,null)),ne=(U=window.trustedTypes)===null||U===void 0?void 0:U.createPolicy("diffEditorWidget",{createHTML:we=>we});let Y=class rt extends v.Disposable{constructor(le,he,ue,ve,re,ge,ye,Ae,Oe,He,Ve,Ge){super();this._editorProgressService=Ge,this._onDidDispose=this._register(new b.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new b.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new b.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=re,this._codeEditorService=Ae,this._contextKeyService=this._register(ge.createScoped(le)),this._instantiationService=ye.createChild(new _.ServiceCollection([p.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Oe,this._notificationService=He,this._id=++Z,this._state=0,this._updatingDiffProgress=null,this._domElement=le,he=he||{},this._options=me(he,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof he.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",he.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,N.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(C.addStandardDisposableListener(this._overviewDomElement,"mousedown",Ze=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Ze)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new K(Ve,ve),this._modifiedEditorState=new K(Ve,ve),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new O.ElementSizeObserver(this._containerDomElement,he.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),he.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(he,ue.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(he,ue.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ye.createInstance(n.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ce(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new de(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Oe.onDidColorThemeChange(Ze=>{this._strategy&&this._strategy.applyColors(Ze)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Je=F.EditorExtensionsRegistry.getDiffEditorContributions();for(const Ze of Je)try{this._register(ye.createInstance(Ze.ctor,this))}catch(et){(0,R.onUnexpectedError)(et)}this._codeEditorService.addDiffEditor(this)}_setState(le){this._state!==le&&(this._state=le,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(le,he){let ue="monaco-diff-editor monaco-editor-background ";return he&&(ue+="side-by-side "),ue+=(0,T.getThemeTypeSelector)(le.type),ue}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(le,he){const ue=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(le),he);this._register(ue.onDidScrollChange(re=>{this._isHandlingScrollEvent||!re.scrollTopChanged&&!re.scrollLeftChanged&&!re.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:re.scrollLeft,scrollTop:re.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ue.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ue.onDidChangeConfiguration(re=>{!ue.getModel()||(re.hasChanged(43)&&this._updateDecorationsRunner.schedule(),re.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ue.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ue.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const ve=this._contextKeyService.createKey("isInDiffLeftEditor",ue.hasWidgetFocus());return this._register(ue.onDidFocusEditorWidget(()=>ve.set(!0))),this._register(ue.onDidBlurEditorWidget(()=>ve.set(!1))),this._register(ue.onDidContentSizeChange(re=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,ye=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ye,contentWidth:ge,contentHeightChanged:re.contentHeightChanged,contentWidthChanged:re.contentWidthChanged})})),ue}_createRightHandSideEditor(le,he){const ue=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(le),he);this._register(ue.onDidScrollChange(re=>{this._isHandlingScrollEvent||!re.scrollTopChanged&&!re.scrollLeftChanged&&!re.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:re.scrollLeft,scrollTop:re.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ue.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ue.onDidChangeConfiguration(re=>{!ue.getModel()||(re.hasChanged(43)&&this._updateDecorationsRunner.schedule(),re.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ue.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ue.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ue.onDidChangeModelOptions(re=>{re.tabSize&&this._updateDecorationsRunner.schedule()}));const ve=this._contextKeyService.createKey("isInDiffRightEditor",ue.hasWidgetFocus());return this._register(ue.onDidFocusEditorWidget(()=>ve.set(!0))),this._register(ue.onDidBlurEditorWidget(()=>ve.set(!1))),this._register(ue.onDidContentSizeChange(re=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,ye=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ye,contentWidth:ge,contentHeightChanged:re.contentHeightChanged,contentWidthChanged:re.contentWidthChanged})})),ue}_createInnerEditor(le,he,ue,ve){return le.createInstance(i.CodeEditorWidget,he,ue,ve)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return s.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(le){const he=me(le,this._options),ue=_e(this._options,he);this._options=he;const ve=ue.ignoreTrimWhitespace||ue.renderIndicators,re=this._isVisible&&(ue.maxComputationTime||ue.maxFileSize);ve?this._beginUpdateDecorations():re&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(le)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(le)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ue.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ce(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new de(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ue.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(le){if(le&&(!le.original||!le.modified))throw new Error(le.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(le?le.original:null),this._modifiedEditor.setModel(le?le.modified:null),this._updateDecorationsRunner.cancel(),le&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),le&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(le){return this._modifiedEditor.getVisibleColumnFromPosition(le)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(le){this._modifiedEditor.setPosition(le)}revealLine(le,he=0){this._modifiedEditor.revealLine(le,he)}revealLineInCenter(le,he=0){this._modifiedEditor.revealLineInCenter(le,he)}revealLineInCenterIfOutsideViewport(le,he=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(le,he)}revealLineNearTop(le,he=0){this._modifiedEditor.revealLineNearTop(le,he)}revealPosition(le,he=0){this._modifiedEditor.revealPosition(le,he)}revealPositionInCenter(le,he=0){this._modifiedEditor.revealPositionInCenter(le,he)}revealPositionInCenterIfOutsideViewport(le,he=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(le,he)}revealPositionNearTop(le,he=0){this._modifiedEditor.revealPositionNearTop(le,he)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(le){this._modifiedEditor.setSelection(le)}setSelections(le){this._modifiedEditor.setSelections(le)}revealLines(le,he,ue=0){this._modifiedEditor.revealLines(le,he,ue)}revealLinesInCenter(le,he,ue=0){this._modifiedEditor.revealLinesInCenter(le,he,ue)}revealLinesInCenterIfOutsideViewport(le,he,ue=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(le,he,ue)}revealLinesNearTop(le,he,ue=0){this._modifiedEditor.revealLinesNearTop(le,he,ue)}revealRange(le,he=0,ue=!1,ve=!0){this._modifiedEditor.revealRange(le,he,ue,ve)}revealRangeInCenter(le,he=0){this._modifiedEditor.revealRangeInCenter(le,he)}revealRangeInCenterIfOutsideViewport(le,he=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(le,he)}revealRangeNearTop(le,he=0){this._modifiedEditor.revealRangeNearTop(le,he)}revealRangeNearTopIfOutsideViewport(le,he=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(le,he)}revealRangeAtTop(le,he=0){this._modifiedEditor.revealRangeAtTop(le,he)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const le=this._originalEditor.saveViewState(),he=this._modifiedEditor.saveViewState();return{original:le,modified:he}}restoreViewState(le){if(le&&le.original&&le.modified){const he=le;this._originalEditor.restoreViewState(he.original),this._modifiedEditor.restoreViewState(he.modified)}}layout(le){this._elementSizeObserver.observe(le)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(le,he,ue){this._modifiedEditor.trigger(le,he,ue)}changeDecorations(le){return this._modifiedEditor.changeDecorations(le)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const le=this._elementSizeObserver.getHeight(),he=this._getReviewHeight(),ue=rt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*rt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:rt.ONE_OVERVIEW_WIDTH,right:ue+rt.ONE_OVERVIEW_WIDTH,height:le-he}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:rt.ONE_OVERVIEW_WIDTH,height:le-he}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),rt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(le,he){return!le&&!he?!0:!le||!he?!1:le.toString()===he.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const le=this._originalEditor.getModel(),he=this._modifiedEditor.getModel();if(!le||!he)return;this._diffComputationToken++;const ue=this._diffComputationToken,ve=this._options.maxFileSize*1024*1024,re=ge=>{const ye=ge.getValueLength();return ve===0||ye<=ve};if(!re(le)||!re(he)){(!rt._equals(le.uri,this._lastOriginalWarning)||!rt._equals(he.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=le.uri,this._lastModifiedWarning=he.uri,this._notificationService.warn(w.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(le.uri,he.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ge=>{ue===this._diffComputationToken&&le===this._originalEditor.getModel()&&he===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ge,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ge=>{ue===this._diffComputationToken&&le===this._originalEditor.getModel()&&he===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const le=this._diffComputationResult?this._diffComputationResult.changes:[],he=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ue=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ve=this._strategy.getEditorsDiffDecorations(le,this._options.ignoreTrimWhitespace,this._options.renderIndicators,he,ue);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ve.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ve.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(le){const he=Object.assign({},le);return he.inDiffEditor=!0,he.automaticLayout=!1,he.scrollbar=Object.assign({},he.scrollbar||{}),he.scrollbar.vertical="visible",he.folding=!1,he.codeLens=this._options.diffCodeLens,he.fixedOverflowWidgets=!0,he.minimap=Object.assign({},he.minimap||{}),he.minimap.enabled=!1,he}_adjustOptionsForLeftHandSide(le){const he=this._adjustOptionsForSubEditor(le);return this._options.renderSideBySide?he.wordWrapOverride1=this._options.diffWordWrap:he.wordWrapOverride1="off",le.originalAriaLabel&&(he.ariaLabel=le.originalAriaLabel),he.readOnly=!this._options.originalEditable,he.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},he),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(le){const he=this._adjustOptionsForSubEditor(le);return le.modifiedAriaLabel&&(he.ariaLabel=le.modifiedAriaLabel),he.wordWrapOverride1=this._options.diffWordWrap,he.revealHorizontalRightPadding=a.EditorOptions.revealHorizontalRightPadding.defaultValue+rt.ENTIRE_DIFF_OVERVIEW_WIDTH,he.scrollbar.verticalHasArrows=!1,he.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},he),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const le=this._elementSizeObserver.getWidth(),he=this._elementSizeObserver.getHeight(),ue=this._getReviewHeight(),ve=this._strategy.layout();this._originalDomNode.style.width=ve+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=le-ve+"px",this._modifiedDomNode.style.left=ve+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=he-ue+"px",this._overviewDomElement.style.width=rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=le-rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(rt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ve,height:he-ue}),this._modifiedEditor.layout({width:le-ve-(this._options.renderOverviewRuler?rt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:he-ue}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(he-ue,le,ue),this._layoutOverviewViewport()}_layoutOverviewViewport(){const le=this._computeOverviewViewport();le?(this._overviewViewportDomElement.setTop(le.top),this._overviewViewportDomElement.setHeight(le.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const le=this._modifiedEditor.getLayoutInfo();if(!le)return null;const he=this._modifiedEditor.getScrollTop(),ue=this._modifiedEditor.getScrollHeight(),ve=Math.max(0,le.height),re=Math.max(0,ve-2*0),ge=ue>0?re/ue:0,ye=Math.max(0,Math.floor(le.height*ge)),Ae=Math.floor(he*ge);return{height:ye,top:Ae}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(le){this._strategy&&this._strategy.dispose(),this._strategy=le,le.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(le,he){const ue=this._diffComputationResult?this._diffComputationResult.changes:[];if(ue.length===0||le<he(ue[0]))return null;let ve=0,re=ue.length-1;for(;ve<re;){const ge=Math.floor((ve+re)/2),ye=he(ue[ge]),Ae=ge+1<=re?he(ue[ge+1]):1073741824;le<ye?re=ge-1:le>=Ae?ve=ge+1:(ve=ge,re=ge)}return ue[ve]}_getEquivalentLineForOriginalLineNumber(le){const he=this._getLineChangeAtOrBeforeLineNumber(le,Ae=>Ae.originalStartLineNumber);if(!he)return le;const ue=he.originalStartLineNumber+(he.originalEndLineNumber>0?-1:0),ve=he.modifiedStartLineNumber+(he.modifiedEndLineNumber>0?-1:0),re=he.originalEndLineNumber>0?he.originalEndLineNumber-he.originalStartLineNumber+1:0,ge=he.modifiedEndLineNumber>0?he.modifiedEndLineNumber-he.modifiedStartLineNumber+1:0,ye=le-ue;return ye<=re?ve+Math.min(ye,ge):ve+ge-re+ye}_getEquivalentLineForModifiedLineNumber(le){const he=this._getLineChangeAtOrBeforeLineNumber(le,Ae=>Ae.modifiedStartLineNumber);if(!he)return le;const ue=he.originalStartLineNumber+(he.originalEndLineNumber>0?-1:0),ve=he.modifiedStartLineNumber+(he.modifiedEndLineNumber>0?-1:0),re=he.originalEndLineNumber>0?he.originalEndLineNumber-he.originalStartLineNumber+1:0,ge=he.modifiedEndLineNumber>0?he.modifiedEndLineNumber-he.modifiedStartLineNumber+1:0,ye=le-ve;return ye<=ge?ue+Math.min(ye,re):ue+re-ge+ye}getDiffLineInformationForOriginal(le){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(le)}:null}getDiffLineInformationForModified(le){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(le)}:null}};Y.ONE_OVERVIEW_WIDTH=15,Y.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Y.UPDATE_DIFF_DECORATIONS_DELAY=200,Y=Be([fe(3,P.IClipboardService),fe(4,o.IEditorWorkerService),fe(5,p.IContextKeyService),fe(6,f.IInstantiationService),fe(7,t.ICodeEditorService),fe(8,T.IThemeService),fe(9,I.INotificationService),fe(10,k.IContextMenuService),fe(11,M.IEditorProgressService)],Y),e.DiffEditorWidget=Y;class j extends v.Disposable{constructor(le){super();this._dataSource=le,this._insertColor=null,this._removeColor=null}applyColors(le){const he=(le.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),ue=(le.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),ve=!he.equals(this._insertColor)||!ue.equals(this._removeColor);return this._insertColor=he,this._removeColor=ue,ve}getEditorsDiffDecorations(le,he,ue,ve,re){re=re.sort((Oe,He)=>Oe.afterLineNumber-He.afterLineNumber),ve=ve.sort((Oe,He)=>Oe.afterLineNumber-He.afterLineNumber);const ge=this._getViewZones(le,ve,re,ue),ye=this._getOriginalEditorDecorations(le,he,ue),Ae=this._getModifiedEditorDecorations(le,he,ue);return{original:{decorations:ye.decorations,overviewZones:ye.overviewZones,zones:ge.original},modified:{decorations:Ae.decorations,overviewZones:Ae.overviewZones,zones:ge.modified}}}}class W{constructor(le){this._source=le,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class V{constructor(le,he,ue,ve,re){this._lineChanges=le,this._originalForeignVZ=he,this._modifiedForeignVZ=ue,this._originalEditor=ve,this._modifiedEditor=re}static _getViewLineCount(le,he,ue){const ve=le.getModel(),re=le._getViewModel();if(ve&&re){const ge=ae(ve,re,he,ue);return ge.endLineNumber-ge.startLineNumber+1}return ue-he+1}getViewZones(){const le=this._originalEditor.getOption(58),he=this._modifiedEditor.getOption(58),ue=this._originalEditor.getOption(131).wrappingColumn!==-1,ve=this._modifiedEditor.getOption(131).wrappingColumn!==-1,re=ue||ve,ge=this._originalEditor.getModel(),ye=this._originalEditor._getViewModel().coordinatesConverter,Ae=this._modifiedEditor._getViewModel().coordinatesConverter,Oe={original:[],modified:[]};let He=0,Ve=0,Ge=0,Je=0,Ze=0,et=0;const Ee=(Te,pe)=>Te.afterLineNumber-pe.afterLineNumber,Ie=(Te,pe)=>{if(pe.domNode===null&&Te.length>0){const Ce=Te[Te.length-1];if(Ce.afterLineNumber===pe.afterLineNumber&&Ce.domNode===null){Ce.heightInLines+=pe.heightInLines;return}}Te.push(pe)},Re=new W(this._modifiedForeignVZ),Ue=new W(this._originalForeignVZ);let Ne=1,ke=1;for(let Te=0,pe=this._lineChanges.length;Te<=pe;Te++){const Ce=Te<pe?this._lineChanges[Te]:null;Ce!==null?(Ge=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),Je=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),Ve=Ce.originalEndLineNumber>0?V._getViewLineCount(this._originalEditor,Ce.originalStartLineNumber,Ce.originalEndLineNumber):0,He=Ce.modifiedEndLineNumber>0?V._getViewLineCount(this._modifiedEditor,Ce.modifiedStartLineNumber,Ce.modifiedEndLineNumber):0,Ze=Math.max(Ce.originalStartLineNumber,Ce.originalEndLineNumber),et=Math.max(Ce.modifiedStartLineNumber,Ce.modifiedEndLineNumber)):(Ge+=1e7+Ve,Je+=1e7+He,Ze=Ge,et=Je);let Le=[],Se=[];if(re){let Me;Ce?Ce.originalEndLineNumber>0?Me=Ce.originalStartLineNumber-Ne:Me=Ce.modifiedStartLineNumber-ke:Me=ge.getLineCount()-Ne;for(let xe=0;xe<Me;xe++){const je=Ne+xe,qe=ke+xe,ze=ye.getModelLineViewLineCount(je),Fe=Ae.getModelLineViewLineCount(qe);ze<Fe?Le.push({afterLineNumber:je,heightInLines:Fe-ze,domNode:null,marginDomNode:null}):ze>Fe&&Se.push({afterLineNumber:qe,heightInLines:ze-Fe,domNode:null,marginDomNode:null})}Ce&&(Ne=(Ce.originalEndLineNumber>0?Ce.originalEndLineNumber:Ce.originalStartLineNumber)+1,ke=(Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber:Ce.modifiedStartLineNumber)+1)}for(;Re.current&&Re.current.afterLineNumber<=et;){let Me;Re.current.afterLineNumber<=Je?Me=Ge-Je+Re.current.afterLineNumber:Me=Ze;let xe=null;Ce&&Ce.modifiedStartLineNumber<=Re.current.afterLineNumber&&Re.current.afterLineNumber<=Ce.modifiedEndLineNumber&&(xe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Le.push({afterLineNumber:Me,heightInLines:Re.current.height/he,domNode:null,marginDomNode:xe}),Re.advance()}for(;Ue.current&&Ue.current.afterLineNumber<=Ze;){let Me;Ue.current.afterLineNumber<=Ge?Me=Je-Ge+Ue.current.afterLineNumber:Me=et,Se.push({afterLineNumber:Me,heightInLines:Ue.current.height/le,domNode:null}),Ue.advance()}if(Ce!==null&&$(Ce)){const Me=this._produceOriginalFromDiff(Ce,Ve,He);Me&&Le.push(Me)}if(Ce!==null&&se(Ce)){const Me=this._produceModifiedFromDiff(Ce,Ve,He);Me&&Se.push(Me)}let be=0,Pe=0;for(Le=Le.sort(Ee),Se=Se.sort(Ee);be<Le.length&&Pe<Se.length;){const Me=Le[be],xe=Se[Pe],je=Me.afterLineNumber-Ge,qe=xe.afterLineNumber-Je;je<qe?(Ie(Oe.original,Me),be++):qe<je?(Ie(Oe.modified,xe),Pe++):Me.shouldNotShrink?(Ie(Oe.original,Me),be++):xe.shouldNotShrink?(Ie(Oe.modified,xe),Pe++):Me.heightInLines>=xe.heightInLines?(Me.heightInLines-=xe.heightInLines,Pe++):(xe.heightInLines-=Me.heightInLines,be++)}for(;be<Le.length;)Ie(Oe.original,Le[be]),be++;for(;Pe<Se.length;)Ie(Oe.modified,Se[Pe]),Pe++}return{original:V._ensureDomNodes(Oe.original),modified:V._ensureDomNodes(Oe.modified)}}static _ensureDomNodes(le){return le.map(he=>(he.domNode||(he.domNode=te()),he))}}function G(we,le,he,ue,ve){return{range:new c.Range(we,le,he,ue),options:ve}}const oe={charDelete:r.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:r.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:r.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:r.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:r.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:r.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+T.ThemeIcon.asClassName(ee),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:r.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:r.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+T.ThemeIcon.asClassName(X),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:r.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ce extends j{constructor(le,he){super(le);this._disableSash=he===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new D.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ue=>this._onSashDrag(ue)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(le){const he=le===!1;this._disableSash!==he&&(this._disableSash=he,this._sash.state=this._disableSash?0:3)}layout(le=this._sashRatio){const ue=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Y.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ve=Math.floor((le||.5)*ue);const re=Math.floor(.5*ue);return ve=this._disableSash?re:ve||re,ue>ce.MINIMUM_EDITOR_WIDTH*2?(ve<ce.MINIMUM_EDITOR_WIDTH&&(ve=ce.MINIMUM_EDITOR_WIDTH),ve>ue-ce.MINIMUM_EDITOR_WIDTH&&(ve=ue-ce.MINIMUM_EDITOR_WIDTH)):ve=re,this._sashPosition!==ve&&(this._sashPosition=ve,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(le){const ue=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Y.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ve=this.layout((this._startSashPosition+(le.currentX-le.startX))/ue);this._sashRatio=ve/ue,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(le){return 0}getVerticalSashLeft(le){return this._sashPosition}getVerticalSashHeight(le){return this._dataSource.getHeight()}_getViewZones(le,he,ue){const ve=this._dataSource.getOriginalEditor(),re=this._dataSource.getModifiedEditor();return new ie(le,he,ue,ve,re).getViewZones()}_getOriginalEditorDecorations(le,he,ue){const ve=this._dataSource.getOriginalEditor(),re=String(this._removeColor),ge={decorations:[],overviewZones:[]},ye=ve.getModel(),Ae=ve._getViewModel();for(const Oe of le)if(se(Oe)){ge.decorations.push({range:new c.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:ue?oe.lineDeleteWithSign:oe.lineDelete}),(!$(Oe)||!Oe.charChanges)&&ge.decorations.push(G(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824,oe.charDeleteWholeLine));const He=ae(ye,Ae,Oe.originalStartLineNumber,Oe.originalEndLineNumber);if(ge.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if(se(Ve))if(he)for(let Ge=Ve.originalStartLineNumber;Ge<=Ve.originalEndLineNumber;Ge++){let Je,Ze;Ge===Ve.originalStartLineNumber?Je=Ve.originalStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.originalEndLineNumber?Ze=Ve.originalEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),ge.decorations.push(G(Ge,Je,Ge,Ze,oe.charDelete))}else ge.decorations.push(G(Ve.originalStartLineNumber,Ve.originalStartColumn,Ve.originalEndLineNumber,Ve.originalEndColumn,oe.charDelete))}}return ge}_getModifiedEditorDecorations(le,he,ue){const ve=this._dataSource.getModifiedEditor(),re=String(this._insertColor),ge={decorations:[],overviewZones:[]},ye=ve.getModel(),Ae=ve._getViewModel();for(const Oe of le)if($(Oe)){ge.decorations.push({range:new c.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:ue?oe.lineInsertWithSign:oe.lineInsert}),(!se(Oe)||!Oe.charChanges)&&ge.decorations.push(G(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine));const He=ae(ye,Ae,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(ge.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if($(Ve))if(he)for(let Ge=Ve.modifiedStartLineNumber;Ge<=Ve.modifiedEndLineNumber;Ge++){let Je,Ze;Ge===Ve.modifiedStartLineNumber?Je=Ve.modifiedStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.modifiedEndLineNumber?Ze=Ve.modifiedEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),ge.decorations.push(G(Ge,Je,Ge,Ze,oe.charInsert))}else ge.decorations.push(G(Ve.modifiedStartLineNumber,Ve.modifiedStartColumn,Ve.modifiedEndLineNumber,Ve.modifiedEndColumn,oe.charInsert))}}return ge}}ce.MINIMUM_EDITOR_WIDTH=100;class ie extends V{constructor(le,he,ue,ve,re){super(le,he,ue,ve,re)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(le,he,ue){return ue>he?{afterLineNumber:Math.max(le.originalStartLineNumber,le.originalEndLineNumber),heightInLines:ue-he,domNode:null}:null}_produceModifiedFromDiff(le,he,ue){return he>ue?{afterLineNumber:Math.max(le.modifiedStartLineNumber,le.modifiedEndLineNumber),heightInLines:he-ue,domNode:null}:null}}class de extends j{constructor(le,he){super(le);this._decorationsLeft=le.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(le.getOriginalEditor().onDidLayoutChange(ue=>{this._decorationsLeft!==ue.decorationsLeft&&(this._decorationsLeft=ue.decorationsLeft,le.relayoutEditors())}))}setEnableSplitViewResizing(le){}_getViewZones(le,he,ue,ve){const re=this._dataSource.getOriginalEditor(),ge=this._dataSource.getModifiedEditor();return new q(le,he,ue,re,ge,ve).getViewZones()}_getOriginalEditorDecorations(le,he,ue){const ve=String(this._removeColor),re={decorations:[],overviewZones:[]},ge=this._dataSource.getOriginalEditor(),ye=ge.getModel(),Ae=ge._getViewModel();for(const Oe of le)if(se(Oe)){re.decorations.push({range:new c.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:oe.lineDeleteMargin});const He=ae(ye,Ae,Oe.originalStartLineNumber,Oe.originalEndLineNumber);re.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,ve))}return re}_getModifiedEditorDecorations(le,he,ue){const ve=this._dataSource.getModifiedEditor(),re=String(this._insertColor),ge={decorations:[],overviewZones:[]},ye=ve.getModel(),Ae=ve._getViewModel();for(const Oe of le)if($(Oe)){ge.decorations.push({range:new c.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:ue?oe.lineInsertWithSign:oe.lineInsert});const He=ae(ye,Ae,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(ge.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if($(Ve))if(he)for(let Ge=Ve.modifiedStartLineNumber;Ge<=Ve.modifiedEndLineNumber;Ge++){let Je,Ze;Ge===Ve.modifiedStartLineNumber?Je=Ve.modifiedStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.modifiedEndLineNumber?Ze=Ve.modifiedEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),ge.decorations.push(G(Ge,Je,Ge,Ze,oe.charInsert))}else ge.decorations.push(G(Ve.modifiedStartLineNumber,Ve.modifiedStartColumn,Ve.modifiedEndLineNumber,Ve.modifiedEndColumn,oe.charInsert))}else ge.decorations.push(G(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,oe.charInsertWholeLine))}return ge}layout(){return Math.max(5,this._decorationsLeft)}}class q extends V{constructor(le,he,ue,ve,re,ge){super(le,he,ue,ve,re);this._originalModel=ve.getModel(),this._renderIndicators=ge,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const le=super.getViewZones();return this._finalize(le),le}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const le=document.createElement("div");return le.className="inline-added-margin-view-zone",le}_produceOriginalFromDiff(le,he,ue){const ve=document.createElement("div");return ve.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(le.originalStartLineNumber,le.originalEndLineNumber),heightInLines:ue,domNode:document.createElement("div"),marginDomNode:ve}}_produceModifiedFromDiff(le,he,ue){const ve=document.createElement("div");ve.className=`view-lines line-delete ${B.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const re=document.createElement("div");re.className="inline-deleted-margin-view-zone";const ge={shouldNotShrink:!0,afterLineNumber:le.modifiedEndLineNumber===0?le.modifiedStartLineNumber:le.modifiedStartLineNumber-1,heightInLines:he,minWidthInPx:0,domNode:ve,marginDomNode:re,diff:{originalStartLineNumber:le.originalStartLineNumber,originalEndLineNumber:le.originalEndLineNumber,modifiedStartLineNumber:le.modifiedStartLineNumber,modifiedEndLineNumber:le.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ye=le.originalStartLineNumber;ye<=le.originalEndLineNumber;ye++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ye),null,null);return this._pendingLineChange.push(le),this._pendingViewZones.push(ge),ge}_finalize(le){const he=this._modifiedEditor.getOptions(),ue=this._modifiedEditor.getModel().getOptions().tabSize,ve=he.get(43),re=he.get(29),ge=ve.typicalHalfwidthCharacterWidth,ye=he.get(92),Ae=this._originalModel.mightContainNonBasicASCII(),Oe=this._originalModel.mightContainRTL(),He=he.get(58),Ge=he.get(130).decorationsWidth,Je=he.get(104),Ze=he.get(87),et=he.get(82),Ee=he.get(44),Ie=this._lineBreaksComputer.finalize();let Re=0;for(let Ue=0;Ue<this._pendingLineChange.length;Ue++){const Ne=this._pendingLineChange[Ue],ke=this._pendingViewZones[Ue],Te=ke.domNode;(0,u.applyFontInfo)(Te,ve);const pe=ke.marginDomNode;(0,u.applyFontInfo)(pe,ve);const Ce=[];if(Ne.charChanges)for(const qe of Ne.charChanges)se(qe)&&Ce.push(new y.InlineDecoration(new c.Range(qe.originalStartLineNumber,qe.originalStartColumn,qe.originalEndLineNumber,qe.originalEndColumn),"char-delete",0));const Le=Ce.length>0,Se=(0,d.createStringBuilder)(1e4);let be=0,Pe=0,Me=null;for(let qe=Ne.originalStartLineNumber;qe<=Ne.originalEndLineNumber;qe++){const ze=qe-Ne.originalStartLineNumber,Fe=this._originalModel.getLineTokens(qe),We=Fe.getLineContent(),$e=Ie[Re++],Ke=h.LineDecoration.filter(Ce,qe,1,We.length+1);if($e){let Xe=0;for(const Ye of $e.breakOffsets){const it=Fe.sliceAndInflate(Xe,Ye,0),at=We.substring(Xe,Ye);be=Math.max(be,this._renderOriginalLine(Pe++,at,it,h.LineDecoration.extractWrapped(Ke,Xe,Ye),Le,Ae,Oe,ve,re,He,Ge,Je,Ze,et,Ee,ue,Se,pe)),Xe=Ye}for(Me||(Me=[]);Me.length<ze;)Me[Me.length]=1;Me[ze]=$e.breakOffsets.length,ke.heightInLines+=$e.breakOffsets.length-1;const Qe=document.createElement("div");Qe.className="line-delete",le.original.push({afterLineNumber:qe,afterColumn:0,heightInLines:$e.breakOffsets.length-1,domNode:te(),marginDomNode:Qe})}else be=Math.max(be,this._renderOriginalLine(Pe++,We,Fe,Ke,Le,Ae,Oe,ve,re,He,Ge,Je,Ze,et,Ee,ue,Se,pe))}be+=ye;const xe=Se.build(),je=ne?ne.createHTML(xe):xe;if(Te.innerHTML=je,ke.minWidthInPx=be*ge,Me){const qe=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;Me.length<=qe;)Me[Me.length]=1}ke.diff.viewLineCounts=Me}le.original.sort((Ue,Ne)=>Ue.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(le,he,ue,ve,re,ge,ye,Ae,Oe,He,Ve,Ge,Je,Ze,et,Ee,Ie,Re){Ie.appendASCIIString('<div class="view-line'),re||Ie.appendASCIIString(" char-delete"),Ie.appendASCIIString('" style="top:'),Ie.appendASCIIString(String(le*He)),Ie.appendASCIIString('px;width:1000000px;">');const Ue=y.ViewLineRenderingData.isBasicASCII(he,ge),Ne=y.ViewLineRenderingData.containsRTL(he,Ue,ye),ke=(0,m.renderViewLine)(new m.RenderLineInput(Ae.isMonospace&&!Oe,Ae.canUseHalfwidthRightwardsArrow,he,!1,Ue,Ne,0,ue,ve,Ee,0,Ae.spaceWidth,Ae.middotWidth,Ae.wsmiddotWidth,Ge,Je,Ze,et!==a.EditorFontLigatures.OFF,null),Ie);if(Ie.appendASCIIString("</div>"),this._renderIndicators){const Te=document.createElement("div");Te.className=`delete-sign ${T.ThemeIcon.asClassName(X)}`,Te.setAttribute("style",`position:absolute;top:${le*He}px;width:${Ve}px;height:${He}px;right:0;`),Re.appendChild(Te)}return ke.characterMapping.getAbsoluteOffset(ke.characterMapping.length)}}function z(we,le){return(0,a.stringSet)(we,le,["off","on","inherit"])}function $(we){return we.modifiedEndLineNumber>0}function se(we){return we.originalEndLineNumber>0}function te(){const we=document.createElement("div");return we.className="diagonal-fill",we}function ae(we,le,he,ue){const ve=we.getLineCount();return he=Math.min(ve,Math.max(1,he)),ue=Math.min(ve,Math.max(1,ue)),le.coordinatesConverter.convertModelRangeToViewRange(new c.Range(he,we.getLineMinColumn(he),ue,we.getLineMaxColumn(ue)))}function me(we,le){return{enableSplitViewResizing:(0,a.boolean)(we.enableSplitViewResizing,le.enableSplitViewResizing),renderSideBySide:(0,a.boolean)(we.renderSideBySide,le.renderSideBySide),maxComputationTime:(0,a.clampedInt)(we.maxComputationTime,le.maxComputationTime,0,1073741824),maxFileSize:(0,a.clampedInt)(we.maxFileSize,le.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,a.boolean)(we.ignoreTrimWhitespace,le.ignoreTrimWhitespace),renderIndicators:(0,a.boolean)(we.renderIndicators,le.renderIndicators),originalEditable:(0,a.boolean)(we.originalEditable,le.originalEditable),diffCodeLens:(0,a.boolean)(we.diffCodeLens,le.diffCodeLens),renderOverviewRuler:(0,a.boolean)(we.renderOverviewRuler,le.renderOverviewRuler),diffWordWrap:z(we.diffWordWrap,le.diffWordWrap)}}function _e(we,le){return{enableSplitViewResizing:we.enableSplitViewResizing!==le.enableSplitViewResizing,renderSideBySide:we.renderSideBySide!==le.renderSideBySide,maxComputationTime:we.maxComputationTime!==le.maxComputationTime,maxFileSize:we.maxFileSize!==le.maxFileSize,ignoreTrimWhitespace:we.ignoreTrimWhitespace!==le.ignoreTrimWhitespace,renderIndicators:we.renderIndicators!==le.renderIndicators,originalEditable:we.originalEditable!==le.originalEditable,diffCodeLens:we.diffCodeLens!==le.diffCodeLens,renderOverviewRuler:we.renderOverviewRuler!==le.renderOverviewRuler,diffWordWrap:we.diffWordWrap!==le.diffWordWrap}}(0,T.registerThemingParticipant)((we,le)=>{const he=we.getColor(E.diffInserted);he&&(le.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${he}; }`),le.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${he}; }`),le.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${he}; }`));const ue=we.getColor(E.diffRemoved);ue&&(le.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ue}; }`),le.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ue}; }`),le.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ue}; }`));const ve=we.getColor(E.diffInsertedOutline);ve&&le.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${we.type==="hc"?"dashed":"solid"} ${ve}; }`);const re=we.getColor(E.diffRemovedOutline);re&&le.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${we.type==="hc"?"dashed":"solid"} ${re}; }`);const ge=we.getColor(E.scrollbarShadow);ge&&le.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ge}; }`);const ye=we.getColor(E.diffBorder);ye&&le.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${ye}; }`);const Ae=we.getColor(E.scrollbarSliderBackground);Ae&&le.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Ae};
			}
		`);const Oe=we.getColor(E.scrollbarSliderHoverBackground);Oe&&le.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Oe};
			}
		`);const He=we.getColor(E.scrollbarSliderActiveBackground);He&&le.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${He};
			}
		`);const Ve=we.getColor(E.diffDiagonalFill);le.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Ve} 12.5%,
			#0000 12.5%, #0000 50%,
			${Ve} 50%, ${Ve} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(Q[161],J([0,1,38,28,160,26,16,9,40,13,63,35]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends N.CodeEditorWidget{constructor(a,c,d,s,r,o,l,h,m,y,p){super(a,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},s,r,o,l,h,m,y,p);this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){w.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};i=Be([fe(3,b.IInstantiationService),fe(4,C.ICodeEditorService),fe(5,D.ICommandService),fe(6,S.IContextKeyService),fe(7,u.IThemeService),fe(8,v.INotificationService),fe(9,g.IAccessibilityService),fe(10,t.ILanguageConfigurationService)],i),e.EmbeddedCodeEditorWidget=i}),define(Q[701],J([0,1,10,2,15,11,3,21,24,53,32,52,505,37,22,13,365]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const d=(0,a.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i.localize(0,null));class s extends N.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,y){var p;(p=l.get(y))===null||p===void 0||p.jumpToBracket()}}class r extends N.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,y,p){var f;let _=!0;p&&p.selectBrackets===!1&&(_=!1),(f=l.get(y))===null||f===void 0||f.selectToBracket(_)}}class o{constructor(m,y,p){this.position=m,this.brackets=y,this.options=p}}class l extends C.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new w.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(y=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(y=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(y=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(y=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(y=>{y.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(m.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(m){return m.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),y=this._editor.getSelections().map(p=>{const f=p.getStartPosition(),_=m.bracketPairs.matchBracket(f);let I=null;if(_)_[0].containsPosition(f)?I=_[1].getStartPosition():_[1].containsPosition(f)&&(I=_[0].getStartPosition());else{const E=m.bracketPairs.findEnclosingBrackets(f);if(E)I=E[0].getStartPosition();else{const T=m.bracketPairs.findNextBracket(f);T&&T.range&&(I=T.range.getStartPosition())}}return I?new b.Selection(I.lineNumber,I.column,I.lineNumber,I.column):new b.Selection(f.lineNumber,f.column,f.lineNumber,f.column)});this._editor.setSelections(y),this._editor.revealRange(y[0])}selectToBracket(m){if(!this._editor.hasModel())return;const y=this._editor.getModel(),p=[];this._editor.getSelections().forEach(f=>{const _=f.getStartPosition();let I=y.bracketPairs.matchBracket(_);if(!I&&(I=y.bracketPairs.findEnclosingBrackets(_),!I)){const k=y.bracketPairs.findNextBracket(_);k&&k.range&&(I=y.bracketPairs.matchBracket(k.range.getStartPosition()))}let E=null,T=null;if(I){I.sort(S.Range.compareRangesUsingStarts);const[k,A]=I;if(E=m?k.getStartPosition():k.getEndPosition(),T=m?A.getEndPosition():A.getStartPosition(),A.containsPosition(_)){const P=E;E=T,T=P}}E&&T&&p.push(new b.Selection(E.lineNumber,E.column,T.lineNumber,T.column))}),p.length>0&&(this._editor.setSelections(p),this._editor.revealRange(p[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let m=[],y=0;for(const p of this._lastBracketsData){let f=p.brackets;f&&(m[y++]={range:f[0],options:p.options},m[y++]={range:f[1],options:p.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getModel(),p=y.getVersionId();let f=[];this._lastVersionId===p&&(f=this._lastBracketsData);let _=[],I=0;for(let P=0,F=m.length;P<F;P++){let R=m[P];R.isEmpty()&&(_[I++]=R.getStartPosition())}_.length>1&&_.sort(D.Position.compare);let E=[],T=0,k=0,A=f.length;for(let P=0,F=_.length;P<F;P++){let R=_[P];for(;k<A&&f[k].position.isBefore(R);)k++;if(k<A&&f[k].position.equals(R))E[T++]=f[k];else{let M=y.bracketPairs.matchBracket(R),O=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!M&&this._matchBrackets==="always"&&(M=y.bracketPairs.findEnclosingBrackets(R,20),O=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[T++]=new o(R,M,O)}}this._lastBracketsData=E,this._lastVersionId=p}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,c.themeColorFromId)(d),position:u.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,N.registerEditorContribution)(l.ID,l),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(s),(0,c.registerThemingParticipant)((h,m)=>{const y=h.getColor(t.editorBracketMatchBackground);y&&m.addRule(`.monaco-editor .bracket-match { background-color: ${y}; }`);const p=h.getColor(t.editorBracketMatchBorder);p&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${p}; }`)}),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(Q[702],J([0,1,15,98,200,3,24,507]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends w.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(g,t){if(!t.hasModel())return;let i=t.getModel(),n=[],a=t.getSelections();for(let c of a){if(!c.isEmpty())continue;let d=c.startLineNumber,s=c.startColumn,r=i.getLineMaxColumn(d);if(d===1&&(s===1||s===2&&r===2))continue;let o=s===r?c.getPosition():N.MoveOperations.rightPosition(i,c.getPosition().lineNumber,c.getPosition().column),l=N.MoveOperations.leftPosition(i,o),h=N.MoveOperations.leftPosition(i,l),m=i.getValueInRange(D.Range.fromPositions(h,l)),y=i.getValueInRange(D.Range.fromPositions(l,o)),p=D.Range.fromPositions(h,o);n.push(new C.ReplaceCommand(p,y+m))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}(0,w.registerEditorAction)(v)}),define(Q[703],J([0,1,7,109,3,32,367]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(t,i,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=i,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(t,i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${i}`}withCommands(t,i){this._commands.clear();let n=[],a=!1;for(let c=0;c<t.length;c++){const d=t[c];if(!!d&&(a=!0,d.command)){const s=(0,C.renderLabelWithIcons)(d.command.title.trim());d.command.id?(n.push(w.$("a",{id:String(c),title:d.command.tooltip},...s)),this._commands.set(String(c),d.command)):n.push(w.$("span",{title:d.command.tooltip},...s)),c+1<t.length&&n.push(w.$("span",void 0,"\xA0|\xA0"))}}a?(w.reset(this._domNode,...n),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):w.reset(this._domNode,w.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class v{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,i){this._addDecorations.push(t),this._addDecorationsCallbacks.push(i)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let i=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,a=i.length;n<a;n++)this._addDecorationsCallbacks[n](i[n])}}e.CodeLensHelper=v;class u{constructor(t,i,n,a,c,d,s){this._isDisposed=!1,this._editor=i,this._className=n,this._data=t,this._decorationIds=[];let r,o=[];this._data.forEach((l,h)=>{l.symbol.command&&o.push(l.symbol),a.addDecoration({range:l.symbol.range,options:D.ModelDecorationOptions.EMPTY},m=>this._decorationIds[h]=m),r?r=N.Range.plusRange(r,l.symbol.range):r=N.Range.lift(l.symbol.range)}),this._viewZone=new S(r.startLineNumber-1,d,s),this._viewZoneId=c.addZone(this._viewZone),o.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(o,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,i){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],i&&i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,i)=>{const n=this._editor.getModel().getDecorationRange(t),a=this._data[i].symbol;return!!(n&&N.Range.isEmpty(a.range)===n.isEmpty())})}updateCodeLensSymbols(t,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=t,this._data.forEach((n,a)=>{i.addDecoration({range:n.symbol.range,options:D.ModelDecorationOptions.EMPTY},c=>this._decorationIds[a]=c)})}updateHeight(t,i){this._viewZone.heightInPx=t,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const n=t.getDecorationRange(this._decorationIds[i]);n&&(this._data[i].symbol.range=n)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let i=0;i<this._data.length;i++){const n=t[i];if(n){const{symbol:a}=this._data[i];a.command=n.command||a.command}}}getCommand(t){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(Q[704],J([0,1,7,10,14,108,2,70,15,29,24,18,151,265,624,703,511,26,40,75]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(m,y,p,f){this._editor=m,this._commandService=y,this._notificationService=p,this._codeLensCache=f,this._disposables=new S.DisposableStore,this._localToDispose=new S.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new i.LanguageFeatureRequestDelays(t.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new S.DisposableStore,this._resolveCodeLensesDelays=new i.LanguageFeatureRequestDelays(t.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new C.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(_=>{(_.hasChanged(43)||_.hasChanged(16)||_.hasChanged(15))&&this._updateLensStyle(),_.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,D.hash)(this._editor.getId()).toString(16),this._styleElement=w.createStyleSheet(w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var m;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose(),this._styleElement.remove()}_getLayoutInfo(){let m=this._editor.getOption(16),y;return!m||m<5?(m=this._editor.getOption(45)*.9|0,y=this._editor.getOption(58)):y=m*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:y,fontSize:m}}_updateLensStyle(){const{codeLensHeight:m,fontSize:y}=this._getLayoutInfo(),p=this._editor.getOption(15),f=this._editor.getOption(43),_=`--codelens-font-family${this._styleClassName}`,I=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${m}px; font-size: ${y}px; padding-right: ${Math.round(y*.5)}px; font-feature-settings: var(${I}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${m}px; font-size: ${y}px; }
		`;p&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(_,p??"inherit"),this._editor.getContainerDomNode().style.setProperty(I,f.fontFeatureSettings),this._editor.changeViewZones(T=>{for(let k of this._lenses)k.updateHeight(m,T)})}_localDispose(){var m,y,p;(m=this._getCodeLensModelPromise)===null||m===void 0||m.cancel(),this._getCodeLensModelPromise=void 0,(y=this._resolveCodeLensesPromise)===null||y===void 0||y.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose()}_onModelChange(){this._localDispose();const m=this._editor.getModel();if(!m||!this._editor.getOption(14))return;const y=this._codeLensCache.get(m);if(y&&this._renderCodeLensSymbols(y),!t.CodeLensProviderRegistry.has(m)){y&&this._localToDispose.add((0,C.disposableTimeout)(()=>{const f=this._codeLensCache.get(m);y===f&&(this._codeLensCache.delete(m),this._onModelChange())},30*1e3));return}for(const f of t.CodeLensProviderRegistry.all(m))if(typeof f.onDidChange=="function"){let _=f.onDidChange(()=>p.schedule());this._localToDispose.add(_)}const p=new C.RunOnceScheduler(()=>{var f;const _=Date.now();(f=this._getCodeLensModelPromise)===null||f===void 0||f.cancel(),this._getCodeLensModelPromise=(0,C.createCancelablePromise)(I=>(0,n.getCodeLensModel)(m,I)),this._getCodeLensModelPromise.then(I=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=I,this._codeLensCache.put(m,I);const E=this._getCodeLensModelDelays.update(m,Date.now()-_);p.delay=E,this._renderCodeLensSymbols(I),this._resolveCodeLensesInViewportSoon()},N.onUnexpectedError)},this._getCodeLensModelDelays.get(m));this._localToDispose.add(p),this._localToDispose.add((0,S.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(f=>{this._editor.changeViewZones(_=>{let I=[],E=-1;this._lenses.forEach(k=>{!k.isValid()||E===k.getLineNumber()?I.push(k):(k.update(_),E=k.getLineNumber())});let T=new c.CodeLensHelper;I.forEach(k=>{k.dispose(T,_),this._lenses.splice(this._lenses.indexOf(k),1)}),T.commit(f)})}),p.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{p.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(f=>{f.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,S.toDisposable)(()=>{if(this._editor.getModel()){const f=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(I=>{this._disposeAllLenses(_,I)})}),f.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(f=>{if(f.target.type!==9)return;let _=f.target.element;if((_==null?void 0:_.tagName)==="SPAN"&&(_=_.parentElement),(_==null?void 0:_.tagName)==="A")for(const I of this._lenses){let E=I.getCommand(_);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(T=>this._notificationService.error(T));break}}})),p.schedule()}_disposeAllLenses(m,y){const p=new c.CodeLensHelper;for(const f of this._lenses)f.dispose(p,y);m&&p.commit(m),this._lenses.length=0}_renderCodeLensSymbols(m){if(!this._editor.hasModel())return;let y=this._editor.getModel().getLineCount(),p=[],f;for(let E of m.lenses){let T=E.symbol.range.startLineNumber;T<1||T>y||(f&&f[f.length-1].symbol.range.startLineNumber===T?f.push(E):(f=[E],p.push(f)))}const _=b.StableEditorScrollState.capture(this._editor),I=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(T=>{const k=new c.CodeLensHelper;let A=0,P=0;for(;P<p.length&&A<this._lenses.length;){let F=p[P][0].symbol.range.startLineNumber,R=this._lenses[A].getLineNumber();R<F?(this._lenses[A].dispose(k,T),this._lenses.splice(A,1)):R===F?(this._lenses[A].updateCodeLensSymbols(p[P],k),P++,A++):(this._lenses.splice(A,0,new c.CodeLensWidget(p[P],this._editor,this._styleClassName,k,T,I.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),A++,P++)}for(;A<this._lenses.length;)this._lenses[A].dispose(k,T),this._lenses.splice(A,1);for(;P<p.length;)this._lenses.push(new c.CodeLensWidget(p[P],this._editor,this._styleClassName,k,T,I.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),P++;k.commit(E)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var m;(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0;const y=this._editor.getModel();if(!y)return;const p=[],f=[];if(this._lenses.forEach(E=>{const T=E.computeIfNecessary(y);T&&(p.push(T),f.push(E))}),p.length===0)return;const _=Date.now(),I=(0,C.createCancelablePromise)(E=>{const T=p.map((k,A)=>{const P=new Array(k.length),F=k.map((R,M)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(y,R.symbol,E)).then(O=>{P[M]=O},N.onUnexpectedExternalError):(P[M]=R.symbol,Promise.resolve(void 0)));return Promise.all(F).then(()=>{!E.isCancellationRequested&&!f[A].isDisposed()&&f[A].updateCommands(P)})});return Promise.all(T)});this._resolveCodeLensesPromise=I,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDelays.update(y,Date.now()-_);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(y,this._currentCodeLensModel),this._oldCodeLensModels.clear(),I===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,N.onUnexpectedError)(E),I===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};l.ID="css.editor.codeLens",l=Be([fe(1,s.ICommandService),fe(2,r.INotificationService),fe(3,a.ICodeLensCache)],l),e.CodeLensContribution=l,(0,v.registerEditorContribution)(l.ID,l),(0,v.registerEditorAction)(class extends v.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,d.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(m,y){return De(this,void 0,void 0,function*(){if(!y.hasModel())return;const p=m.get(o.IQuickInputService),f=m.get(s.ICommandService),_=m.get(r.INotificationService),I=y.getSelection().positionLineNumber,E=y.getContribution(l.ID);if(!E)return;const T=E.getModel();if(!T)return;const k=[];for(const P of T.lenses)P.symbol.command&&P.symbol.range.startLineNumber===I&&k.push({label:P.symbol.command.title,command:P.symbol.command});if(k.length===0)return;const A=yield p.pick(k,{canPickMany:!1});if(!!A){if(T.isDisposed)return yield f.executeCommand(this.id);try{yield f.executeCommand(A.command.id,...A.command.arguments||[])}catch(P){_.error(P)}}})}})}),define(Q[289],J([0,1,10,30,14,2,8,128,15,3,32,18,266,39]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const a=500;let c=class Ti extends D.Disposable{constructor(s,r){super();this._editor=s,this._configurationService=r,this._localToDispose=this._register(new D.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new b.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new D.DisposableStore),this._register(s.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(s.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(t.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(s.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const s=this._editor.getModel();if(!s)return!1;const r=s.getLanguageId(),o=this._configurationService.getValue(r);if(o&&typeof o=="object"){const l=o.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(17)}static get(s){return s.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const s=this._editor.getModel();!s||!t.ColorProviderRegistry.has(s)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new w.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Ti.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,w.createCancelablePromise)(s=>{const r=this._editor.getModel();return r?(0,i.getColors)(r,s):Promise.resolve([])}),this._computePromise.then(s=>{this.updateDecorations(s),this.updateColorDecorators(s),this._computePromise=null},N.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(s){const r=s.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:g.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,r),this._colorDatas=new Map,this._decorationsIds.forEach((o,l)=>this._colorDatas.set(o,s[l]))}updateColorDecorators(s){this._colorDecorationClassRefs.clear();let r=[];for(let o=0;o<s.length&&r.length<a;o++){const{red:l,green:h,blue:m,alpha:y}=s[o].colorInfo.color,p=new C.RGBA(Math.round(l*255),Math.round(h*255),Math.round(m*255),y);let f=`rgba(${p.r}, ${p.g}, ${p.b}, ${p.a})`;const _=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:f}));r.push({range:{startLineNumber:s[o].colorInfo.range.startLineNumber,startColumn:s[o].colorInfo.range.startColumn,endLineNumber:s[o].colorInfo.range.endLineNumber,endColumn:s[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:S.noBreakWhitespace,inlineClassName:`${_.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],r))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(s){const r=this._editor.getModel();if(!r)return null;const o=r.getDecorationsInRange(u.Range.fromPositions(s,s)).filter(l=>this._colorDatas.has(l.id));return o.length===0?null:this._colorDatas.get(o[0].id)}isColorDecorationId(s){return this._colorDecoratorIds.has(s)}};c.ID="editor.contrib.colorDetector",c.RECOMPUTE_TIME=1e3,c=Be([fe(1,n.IConfigurationService)],c),e.ColorDetector=c,(0,v.registerEditorContribution)(c.ID,c)}),define(Q[705],J([0,1,2,17,15,11,3,21,32,440,369]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(i){return C.isMacintosh?i.altKey:i.ctrlKey}class t extends w.Disposable{constructor(n){super();this._editor=n,this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(a))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(a))),this._register(this._editor.onMouseDrag(a=>this._onEditorMouseDrag(a))),this._register(this._editor.onMouseDrop(a=>this._onEditorMouseDrop(a))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(a=>this.onEditorKeyDown(a))),this._register(this._editor.onKeyUp(a=>this.onEditorKeyUp(a))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!0),this._mouseDown&&g(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){let a=n.target;if(this._dragSelection===null){let d=(this._editor.getSelections()||[]).filter(s=>a.position&&s.containsPosition(a.position));if(d.length===1)this._dragSelection=d[0];else return}g(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),a.position&&(this._dragSelection.containsPosition(a.position)?this._removeDecoration():this.showAt(a.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){let a=new D.Position(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let c=null;if(n.event.shiftKey){let d=this._editor.getSelection();if(d){const{selectionStartLineNumber:s,selectionStartColumn:r}=d;c=[new b.Selection(s,r,a.lineNumber,a.column)]}}else c=(this._editor.getSelections()||[]).map(d=>d.containsPosition(a)?new b.Selection(a.lineNumber,a.column,a.lineNumber,a.column):d);this._editor.setSelections(c||[],"mouse",3)}else(!this._dragSelection.containsPosition(a)||(g(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(a)||this._dragSelection.getStartPosition().equals(a)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new u.DragAndDropCommand(this._dragSelection,a,g(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){let a=[{range:new S.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:t._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,a),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=t,t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=C.isMacintosh?6:5,t._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,N.registerEditorContribution)(t.ID,t)}),define(Q[706],J([0,1,3,53,32,22,13]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const g=this._decorations.indexOf(u);return g>=0?g+1:1}getCurrentMatchesPosition(u){let g=this._editor.getModel().getDecorationsInRange(u);for(const t of g){const i=t.options;if(i===b._FIND_MATCH_DECORATION||i===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(t.id)}return 0}setCurrentFindMatch(u){let g=null,t=0;if(u)for(let i=0,n=this._decorations.length;i<n;i++){let a=this._editor.getModel().getDecorationRange(this._decorations[i]);if(u.equalsRange(a)){g=this._decorations[i],t=i+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,i.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let n=this._editor.getModel().getDecorationRange(g);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){let a=n.endLineNumber-1,c=this._editor.getModel().getLineMaxColumn(a);n=new w.Range(n.startLineNumber,n.startColumn,a,c)}this._rangeHighlightDecorationId=i.addDecoration(n,b._RANGE_HIGHLIGHT_DECORATION)}}),t}set(u,g){this._editor.changeDecorations(t=>{let i=b._FIND_MATCH_DECORATION,n=[];if(u.length>1e3){i=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const c=this._editor.getModel().getLineCount(),s=this._editor.getLayoutInfo().height/c,r=Math.max(2,Math.ceil(3/s));let o=u[0].range.startLineNumber,l=u[0].range.endLineNumber;for(let h=1,m=u.length;h<m;h++){const y=u[h].range;l+r>=y.startLineNumber?y.endLineNumber>l&&(l=y.endLineNumber):(n.push({range:new w.Range(o,1,l,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),o=y.startLineNumber,l=y.endLineNumber)}n.push({range:new w.Range(o,1,l,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let a=new Array(u.length);for(let c=0,d=u.length;c<d;c++)a[c]={range:u[c].range,options:i};this._decorations=t.deltaDecorations(this._decorations,a),this._overviewRulerApproximateDecorations=t.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(c=>t.removeDecoration(c)),this._findScopeDecorationIds=[]),(g==null?void 0:g.length)&&(this._findScopeDecorationIds=g.map(c=>t.addDecoration(c,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){let t=this._decorations[g],i=this._editor.getModel().getDecorationRange(t);if(!(!i||i.endLineNumber>u.lineNumber)){if(i.endLineNumber<u.lineNumber)return i;if(!(i.endColumn>u.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let g=0,t=this._decorations.length;g<t;g++){let i=this._decorations[g],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.startLineNumber<u.lineNumber)){if(n.startLineNumber>u.lineNumber)return n;if(!(n.startColumn<u.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:C.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:C.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=N.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=N.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(Q[162],J([0,1,19,10,2,98,11,3,21,147,706,441,442,16]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const a=240;class c{constructor(s,r){this._toDispose=new N.DisposableStore,this._editor=s,this._state=r,this._isDisposed=!1,this._startSearchingTimer=new C.TimeoutTimer,this._decorations=new g.FindDecorations(s),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new C.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(o=>{(o.reason===3||o.reason===5||o.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(o=>{this._ignoreModelContentChanged||(o.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,N.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(s){this._isDisposed||!this._editor.hasModel()||(s.searchString||s.isReplaceRevealed||s.isRegex||s.wholeWord||s.matchCase||s.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor)},a)):s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor))}static _getSearchRange(s,r){return r||s.getFullModelRange()}research(s,r){let o=null;typeof r!="undefined"?r!==null&&(Array.isArray(r)?o=r:o=[r]):o=this._decorations.getFindScopes(),o!==null&&(o=o.map(y=>{if(y.startLineNumber!==y.endLineNumber){let p=y.endLineNumber;return y.endColumn===1&&(p=p-1),new b.Range(y.startLineNumber,1,p,this._editor.getModel().getLineMaxColumn(p))}return y}));let l=this._findMatches(o,!1,e.MATCHES_LIMIT);this._decorations.set(l,o);const h=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(h);if(m===0&&l.length>0){const y=(0,w.findFirstInSorted)(l.map(p=>p.range),p=>b.Range.compareRangesUsingStarts(p,h)>=0);m=y>0?y-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),s&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let s=this._decorations.getFindScope();return s&&this._editor.revealRangeInCenterIfOutsideViewport(s,0),!0}return!1}_setCurrentFindMatch(s){let r=this._decorations.setCurrentFindMatch(s);this._state.changeMatchInfo(r,this._decorations.getCount(),s),this._editor.setSelection(s),this._editor.revealRangeInCenterIfOutsideViewport(s,0)}_prevSearchPosition(s){let r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:l}=s,h=this._editor.getModel();return r||l===1?(o===1?o=h.getLineCount():o--,l=h.getLineMaxColumn(o)):l--,new S.Position(o,l)}_moveToPrevMatch(s,r=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(s);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(s);_&&_.isEmpty()&&_.getStartPosition().equals(s)&&(s=this._prevSearchPosition(s),_=this._decorations.matchBeforePosition(s)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;let o=this._decorations.getFindScope(),l=c._getSearchRange(this._editor.getModel(),o);l.getEndPosition().isBefore(s)&&(s=l.getEndPosition()),s.isBefore(l.getStartPosition())&&(s=l.getEndPosition());let{lineNumber:h,column:m}=s,y=this._editor.getModel(),p=new S.Position(h,m),f=y.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(f&&f.range.isEmpty()&&f.range.getStartPosition().equals(p)&&(p=this._prevSearchPosition(p),f=y.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!f){if(!r&&!l.containsRange(f.range))return this._moveToPrevMatch(f.range.getStartPosition(),!0);this._setCurrentFindMatch(f.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(s){let r=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:l}=s,h=this._editor.getModel();return r||l===h.getLineMaxColumn(o)?(o===h.getLineCount()?o=1:o++,l=1):l++,new S.Position(o,l)}_moveToNextMatch(s){if(!this._state.canNavigateForward()){const o=this._decorations.matchBeforePosition(s);o&&this._setCurrentFindMatch(o);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let o=this._decorations.matchAfterPosition(s);o&&o.isEmpty()&&o.getStartPosition().equals(s)&&(s=this._nextSearchPosition(s),o=this._decorations.matchAfterPosition(s)),o&&this._setCurrentFindMatch(o);return}let r=this._getNextMatch(s,!1,!0);r&&this._setCurrentFindMatch(r.range)}_getNextMatch(s,r,o,l=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),m=c._getSearchRange(this._editor.getModel(),h);m.getEndPosition().isBefore(s)&&(s=m.getStartPosition()),s.isBefore(m.getStartPosition())&&(s=m.getStartPosition());let{lineNumber:y,column:p}=s,f=this._editor.getModel(),_=new S.Position(y,p),I=f.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,r);return o&&I&&I.range.isEmpty()&&I.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),I=f.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,r)),I?!l&&!m.containsRange(I.range)?this._getNextMatch(I.range.getEndPosition(),r,o,!0):I:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let s=this._getReplacePattern(),r=this._editor.getSelection(),o=this._getNextMatch(r.getStartPosition(),!0,!1);if(o)if(r.equalsRange(o.range)){let l=s.buildReplaceString(o.matches,this._state.preserveCase),h=new D.ReplaceCommand(r,l);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new S.Position(r.startLineNumber,r.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(o.range)}_findMatches(s,r,o){const l=(s||[null]).map(h=>c._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,r,o)}replaceAll(){if(!this._hasMatches())return;const s=this._decorations.getFindScopes();s===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(s),this.research(!1)}_largeReplaceAll(){const r=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!r)return;let o=r.regex;if(!o.multiline){let I="mu";o.ignoreCase&&(I+="i"),o.global&&(I+="g"),o=new RegExp(o.source,I)}const l=this._editor.getModel(),h=l.getValue(1),m=l.getFullModelRange(),y=this._getReplacePattern();let p;const f=this._state.preserveCase;y.hasReplacementPatterns||f?p=h.replace(o,function(){return y.buildReplaceString(arguments,f)}):p=h.replace(o,y.buildReplaceString(null,f));let _=new D.ReplaceCommandThatPreservesSelection(m,p,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(s){const r=this._getReplacePattern();let o=this._findMatches(s,r.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let m=0,y=o.length;m<y;m++)l[m]=r.buildReplaceString(o[m].matches,this._state.preserveCase);let h=new t.ReplaceAllCommand(this._editor.getSelection(),o.map(m=>m.range),l);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let s=this._decorations.getFindScopes(),o=this._findMatches(s,!1,1073741824).map(h=>new v.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),l=this._editor.getSelection();for(let h=0,m=o.length;h<m;h++)if(o[h].equalsRange(l)){o=[l].concat(o.slice(0,h)).concat(o.slice(h+1));break}this._editor.setSelections(o)}_executeEditorCommand(s,r){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(s,r),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=c}),define(Q[707],J([0,1,7,253,58,10,162,22,13]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends N.Widget{constructor(t,i,n,a){super();this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=i,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const c=a.getColorTheme().getColor(b.inputActiveOptionBorder),d=a.getColorTheme().getColor(b.inputActiveOptionForeground),s=a.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new C.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:s})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new C.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:s})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new C.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:c,inputActiveOptionForeground:d,inputActiveOptionBackground:s})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(r=>{let o=!1;r.isRegex&&(this.regex.checked=this._state.isRegex,o=!0),r.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,o=!0),r.matchCase&&(this.caseSensitive.checked=this._state.matchCase,o=!0),!this._state.isRevealed&&o&&this._revealTemporarily()})),this._register(w.addDisposableNonBubblingMouseOutListener(this._domNode,r=>this._onMouseOut())),this._register(w.addDisposableListener(this._domNode,"mouseover",r=>this._onMouseOver())),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){let i=this._keybindingService.lookupKeybinding(t);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){let i={inputActiveOptionBorder:t.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:t.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:t.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(i),this.wholeWords.style(i),this.regex.style(i)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,v.registerThemingParticipant)((g,t)=>{const i=g.getColor(b.editorWidgetBackground);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=g.getColor(b.editorWidgetForeground);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const a=g.getColor(b.widgetShadow);a&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${a}; }`);const c=g.getColor(b.contrastBorder);c&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${c}; }`)})}),define(Q[708],J([0,1,4,2,3,162]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(v,u){return v===1?!0:v===2?!1:u}class b extends C.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new w.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,g,t){let i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1;g===0&&(u=0),u>g&&(u=g),this._matchesPosition!==u&&(this._matchesPosition=u,i.matchesPosition=!0,n=!0),this._matchesCount!==g&&(this._matchesCount=g,i.matchesCount=!0,n=!0),typeof t!="undefined"&&(N.Range.equalsRange(this._currentMatch,t)||(this._currentMatch=t,i.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(i)}change(u,g,t=!0){var i;let n={moveCursor:g,updateHistory:t,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},a=!1;const c=this.isRegex,d=this.wholeWord,s=this.matchCase,r=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,n.searchString=!0,a=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,n.replaceString=!0,a=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,n.isRevealed=!0,a=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,n.isReplaceRevealed=!0,a=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((i=u.searchScope)===null||i===void 0?void 0:i.every(o=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(h=>!N.Range.equalsRange(h,o))}))||(this._searchScope=u.searchScope,n.searchScope=!0,a=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,n.loop=!0,a=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,n.isSearching=!0,a=!0),typeof u.filters!="undefined"&&this._filters!==u.filters&&(this._filters=u.filters,n.filters=!0,a=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,c!==this.isRegex&&(a=!0,n.isRegex=!0),d!==this.wholeWord&&(a=!0,n.wholeWord=!0),s!==this.matchCase&&(a=!0,n.matchCase=!0),r!==this.preserveCase&&(a=!0,n.preserveCase=!0),a&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=b}),define(Q[709],J([0,1,7,43,171,110,58,10,27,14,2,17,8,3,162,517,679,581,22,71,13,370]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const h=(0,o.registerIcon)("find-selection",v.Codicon.selection,c.localize(0,null)),m=(0,o.registerIcon)("find-collapsed",v.Codicon.chevronRight,c.localize(1,null)),y=(0,o.registerIcon)("find-expanded",v.Codicon.chevronDown,c.localize(2,null));e.findReplaceIcon=(0,o.registerIcon)("find-replace",v.Codicon.replace,c.localize(3,null)),e.findReplaceAllIcon=(0,o.registerIcon)("find-replace-all",v.Codicon.replaceAll,c.localize(4,null)),e.findPreviousMatchIcon=(0,o.registerIcon)("find-previous-match",v.Codicon.arrowUp,c.localize(5,null)),e.findNextMatchIcon=(0,o.registerIcon)("find-next-match",v.Codicon.arrowDown,c.localize(6,null));const p=c.localize(7,null),f=c.localize(8,null),_=c.localize(9,null),I=c.localize(10,null),E=c.localize(11,null),T=c.localize(12,null),k=c.localize(13,null),A=c.localize(14,null),P=c.localize(15,null),F=c.localize(16,null),R=c.localize(17,null),M=c.localize(18,null,a.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=c.localize(19,null),e.NLS_NO_RESULTS=c.localize(20,null);const O=419,B=275-54;let x=69;const U=33,K="ctrlEnterReplaceAll.windows.donotask",Z=t.isMacintosh?256:2048;class ee{constructor(V){this.afterLineNumber=V,this.heightInPx=U,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=ee;function X(W,V,G){const oe=!!V.match(/\n/);if(G&&oe&&G.selectionStart>0){W.stopPropagation();return}}function ne(W,V,G){const oe=!!V.match(/\n/);if(G&&oe&&G.selectionEnd<G.value.length){W.stopPropagation();return}}class Y extends S.Widget{constructor(V,G,oe,ce,ie,de,q,z,$){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=V,this._controller=G,this._state=oe,this._contextViewProvider=ce,this._keybindingService=ie,this._contextKeyService=de,this._storageService=z,this._notificationService=$,this._ctrlEnterReplaceAllWarningPrompted=!!z.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(se=>this._onStateChanged(se))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(se=>{if(se.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),se.hasChanged(130)&&this._tryUpdateWidgetWidth(),se.hasChanged(2)&&this.updateAccessibilitySupport(),se.hasChanged(35)){const te=this._codeEditor.getOption(35).addExtraSpaceOnTop;te&&!this._viewZone&&(this._viewZone=new ee(0),this._showViewZone()),!te&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>De(this,void 0,void 0,function*(){if(this._isVisible){let se=yield this._controller.getGlobalBufferTerm();se&&se!==this._state.searchString&&(this._state.change({searchString:se},!1),this._findInput.select())}}))),this._findInputFocused=a.CONTEXT_FIND_INPUT_FOCUSED.bindTo(de),this._findFocusTracker=this._register(w.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=a.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(de),this._replaceFocusTracker=this._register(w.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new ee(0)),this._applyTheme(q.getColorTheme()),this._register(q.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(se=>{if(se.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Y.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(V){if(V.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(V.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),V.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),V.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(V.isRevealed||V.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),V.isRegex&&this._findInput.setRegex(this._state.isRegex),V.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),V.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),V.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),V.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),V.searchString||V.matchesCount||V.matchesPosition){let G=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",G),this._updateMatchesCount(),this._updateButtons()}(V.searchString||V.currentMatch)&&this._layoutViewZone(),V.updateHistory&&this._delayedUpdateHistory(),V.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=a.MATCHES_LIMIT?this._matchesCount.title=M:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let V;if(this._state.matchesCount>0){let G=String(this._state.matchesCount);this._state.matchesCount>=a.MATCHES_LIMIT&&(G+="+");let oe=String(this._state.matchesPosition);oe==="0"&&(oe="?"),V=i.format(e.NLS_MATCHES_LOCATION,oe,G)}else V=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(V)),(0,C.alert)(this._getAriaLabel(V,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(V,G,oe){if(V===e.NLS_NO_RESULTS)return oe===""?c.localize(21,null,V):c.localize(22,null,V,oe);if(G){const ce=c.localize(23,null,V,oe,G.startLineNumber+":"+G.startColumn),ie=this._codeEditor.getModel();return ie&&G.startLineNumber<=ie.getLineCount()&&G.startLineNumber>=1?`${ie.getLineContent(G.startLineNumber)}, ${ce}`:ce}return c.localize(24,null,V,oe)}_updateToggleSelectionFindButton(){let V=this._codeEditor.getSelection(),G=V?V.startLineNumber!==V.endLineNumber||V.startColumn!==V.endColumn:!1,oe=this._toggleSelectionFind.checked;this._isVisible&&(oe||G)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let V=this._state.searchString.length>0,G=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&V&&G&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&V&&G&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&V),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&V),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let oe=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&oe)}_reveal(){if(this._revealTimeouts.forEach(V=>{clearTimeout(V)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const V=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const oe=!!V&&V.startLineNumber!==V.endLineNumber;this._toggleSelectionFind.checked=oe;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let G=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&V){const oe=this._codeEditor.getDomNode();if(oe){const ce=w.getDomNodePagePosition(oe),ie=this._codeEditor.getScrolledVisiblePosition(V.getStartPosition()),de=ce.left+(ie?ie.left:0),q=ie?ie.top:0;if(this._viewZone&&q<this._viewZone.heightInPx){V.endLineNumber>V.startLineNumber&&(G=!1);const z=w.getTopLeftOffset(this._domNode).left;de>z&&(G=!1);const $=this._codeEditor.getScrolledVisiblePosition(V.getEndPosition());ce.left+($?$.left:0)>z&&(G=!1)}}}this._showViewZone(G)}}_hide(V){this._revealTimeouts.forEach(G=>{clearTimeout(G)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),V&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(V){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const oe=this._viewZone;this._viewZoneId!==void 0||!oe||this._codeEditor.changeViewZones(ce=>{oe.heightInPx=this._getHeight(),this._viewZoneId=ce.addZone(oe),this._codeEditor.setScrollTop(V||this._codeEditor.getScrollTop()+oe.heightInPx)})}_showViewZone(V=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ee(0));const oe=this._viewZone;this._codeEditor.changeViewZones(ce=>{if(this._viewZoneId!==void 0){const ie=this._getHeight();if(ie===oe.heightInPx)return;let de=ie-oe.heightInPx;oe.heightInPx=ie,ce.layoutZone(this._viewZoneId),V&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+de);return}else{let ie=this._getHeight();if(ie-=this._codeEditor.getOption(74).top,ie<=0)return;oe.heightInPx=ie,this._viewZoneId=ce.addZone(oe),V&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ie)}})}_removeViewZone(){this._codeEditor.changeViewZones(V=>{this._viewZoneId!==void 0&&(V.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(V){let G={inputActiveOptionBorder:V.getColor(r.inputActiveOptionBorder),inputActiveOptionBackground:V.getColor(r.inputActiveOptionBackground),inputActiveOptionForeground:V.getColor(r.inputActiveOptionForeground),inputBackground:V.getColor(r.inputBackground),inputForeground:V.getColor(r.inputForeground),inputBorder:V.getColor(r.inputBorder),inputValidationInfoBackground:V.getColor(r.inputValidationInfoBackground),inputValidationInfoForeground:V.getColor(r.inputValidationInfoForeground),inputValidationInfoBorder:V.getColor(r.inputValidationInfoBorder),inputValidationWarningBackground:V.getColor(r.inputValidationWarningBackground),inputValidationWarningForeground:V.getColor(r.inputValidationWarningForeground),inputValidationWarningBorder:V.getColor(r.inputValidationWarningBorder),inputValidationErrorBackground:V.getColor(r.inputValidationErrorBackground),inputValidationErrorForeground:V.getColor(r.inputValidationErrorForeground),inputValidationErrorBorder:V.getColor(r.inputValidationErrorBorder)};this._findInput.style(G),this._replaceInput.style(G),this._toggleSelectionFind.style(G)}_tryUpdateWidgetWidth(){if(!this._isVisible||!w.isInDOM(this._domNode))return;const V=this._codeEditor.getLayoutInfo();if(V.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const oe=V.width,ce=V.minimap.minimapWidth;let ie=!1,de=!1,q=!1;if(this._resized&&w.getTotalWidth(this._domNode)>O){this._domNode.style.maxWidth=`${oe-28-ce-15}px`,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode);return}if(O+28+ce>=oe&&(de=!0),O+28+ce-x>=oe&&(q=!0),O+28+ce-x>=oe+50&&(ie=!0),this._domNode.classList.toggle("collapsed-find-widget",ie),this._domNode.classList.toggle("narrow-find-widget",q),this._domNode.classList.toggle("reduced-find-widget",de),!q&&!ie&&(this._domNode.style.maxWidth=`${oe-28-ce-15}px`),this._resized){this._findInput.inputBox.layout();let z=this._findInput.inputBox.element.clientWidth;z>0&&(this._replaceInput.width=z)}else this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode))}_getHeight(){let V=0;return V+=4,V+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(V+=4,V+=this._replaceInput.inputBox.height+2),V+=4,V}_tryUpdateHeight(){const V=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===V?!1:(this._cachedHeight=V,this._domNode.style.height=`${V}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let V=this._codeEditor.getSelections();V.map(G=>{G.endColumn===1&&G.endLineNumber>G.startLineNumber&&(G=G.setEndPosition(G.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(G.endLineNumber-1)));const oe=this._state.currentMatch;return G.startLineNumber!==G.endLineNumber&&!n.Range.equalsRange(G,oe)?G:null}).filter(G=>!!G),V.length&&this._state.change({searchScope:V},!0)}}_onFindInputMouseDown(V){V.middleButton&&V.stopPropagation()}_onFindInputKeyDown(V){if(V.equals(Z|3))if(this._keybindingService.dispatchEvent(V,V.target)){V.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),V.preventDefault();return}if(V.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),V.preventDefault();return}if(V.equals(2048|18)){this._codeEditor.focus(),V.preventDefault();return}if(V.equals(16))return X(V,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(V.equals(18))return ne(V,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(V){if(V.equals(Z|3))if(this._keybindingService.dispatchEvent(V,V.target)){V.preventDefault();return}else{t.isWindows&&t.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(c.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),V.preventDefault();return}if(V.equals(2)){this._findInput.focusOnCaseSensitive(),V.preventDefault();return}if(V.equals(1024|2)){this._findInput.focus(),V.preventDefault();return}if(V.equals(2048|18)){this._codeEditor.focus(),V.preventDefault();return}if(V.equals(16))return X(V,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(V.equals(18))return ne(V,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(V){return 0}_keybindingLabelFor(V){let G=this._keybindingService.lookupKeybinding(V);return G?` (${G.getLabel()})`:""}_buildDomNode(){const V=!0,G=!0;this._findInput=this._register(new d.ContextScopedFindInput(null,this._contextViewProvider,{width:B,label:p,placeholder:f,appendCaseSensitiveLabel:this._keybindingLabelFor(a.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(a.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(a.FIND_IDS.ToggleRegexCommand),validation:z=>{if(z.length===0||!this._findInput.getRegex())return null;try{return new RegExp(z,"gu"),null}catch($){return{content:$.message}}},flexibleHeight:V,flexibleWidth:G,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(z=>this._onFindInputKeyDown(z))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(z=>{z.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),z.preventDefault())})),this._register(this._findInput.onRegexKeyDown(z=>{z.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),z.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(z=>{this._tryUpdateHeight()&&this._showViewZone()})),t.isLinux&&this._register(this._findInput.onMouseDown(z=>this._onFindInputMouseDown(z))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new j({label:_+this._keybindingLabelFor(a.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(a.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new j({label:I+this._keybindingLabelFor(a.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(a.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));let oe=document.createElement("div");oe.className="find-part",oe.appendChild(this._findInput.domNode);const ce=document.createElement("div");ce.className="find-actions",oe.appendChild(ce),ce.appendChild(this._matchesCount),ce.appendChild(this._prevBtn.domNode),ce.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new N.Checkbox({icon:h,title:E+this._keybindingLabelFor(a.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let z=this._codeEditor.getSelections();z.map($=>($.endColumn===1&&$.endLineNumber>$.startLineNumber&&($=$.setEndPosition($.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn($.endLineNumber-1))),$.isEmpty()?null:$)).filter($=>!!$),z.length&&this._state.change({searchScope:z},!0)}}else this._state.change({searchScope:null},!0)})),ce.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new j({label:T+this._keybindingLabelFor(a.FIND_IDS.CloseFindWidgetCommand),icon:o.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:z=>{z.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),z.preventDefault())}})),ce.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new d.ContextScopedReplaceInput(null,void 0,{label:k,placeholder:A,appendPreserveCaseLabel:this._keybindingLabelFor(a.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:V,flexibleWidth:G,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(z=>this._onReplaceInputKeyDown(z))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(z=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(z=>{z.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),z.preventDefault())})),this._replaceBtn=this._register(new j({label:P+this._keybindingLabelFor(a.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:z=>{z.equals(1024|2)&&(this._closeBtn.focus(),z.preventDefault())}})),this._replaceAllBtn=this._register(new j({label:F+this._keybindingLabelFor(a.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ie=document.createElement("div");ie.className="replace-part",ie.appendChild(this._replaceInput.domNode);const de=document.createElement("div");de.className="replace-actions",ie.appendChild(de),de.appendChild(this._replaceBtn.domNode),de.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new j({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${O}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(oe),this._domNode.appendChild(ie),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let q=O;this._register(this._resizeSash.onDidStart(()=>{q=w.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(z=>{this._resized=!0;let $=q+z.startX-z.currentX;if($<O)return;const se=parseFloat(w.getComputedStyle(this._domNode).maxWidth)||0;$>se||(this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const z=w.getTotalWidth(this._domNode);if(z<O)return;let $=O;if(!this._resized||z===O){const se=this._codeEditor.getLayoutInfo();$=se.width-28-se.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const V=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(V!==2)}}e.FindWidget=Y,Y.ID="editor.contrib.findWidget";class j extends S.Widget{constructor(V){super();this._opts=V;let G="button";this._opts.className&&(G=G+" "+this._opts.className),this._opts.icon&&(G=G+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=G,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,oe=>{this._opts.onTrigger(),oe.preventDefault()}),this.onkeydown(this._domNode,oe=>{if(oe.equals(10)||oe.equals(3)){this._opts.onTrigger(),oe.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(oe)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(V){this._domNode.classList.toggle("disabled",!V),this._domNode.setAttribute("aria-disabled",String(!V)),this._domNode.tabIndex=V?0:-1}setExpanded(V){this._domNode.setAttribute("aria-expanded",String(!!V)),V?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(m)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(y))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(y)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(m)))}}e.SimpleButton=j,(0,l.registerThemingParticipant)((W,V)=>{const G=(_e,we)=>{we&&V.addRule(`.monaco-editor ${_e} { background-color: ${we}; }`)};G(".findMatch",W.getColor(r.editorFindMatchHighlight)),G(".currentFindMatch",W.getColor(r.editorFindMatch)),G(".findScope",W.getColor(r.editorFindRangeHighlight));const oe=W.getColor(r.editorWidgetBackground);G(".find-widget",oe);const ce=W.getColor(r.widgetShadow);ce&&V.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ce}; }`);const ie=W.getColor(r.editorFindMatchHighlightBorder);ie&&V.addRule(`.monaco-editor .findMatch { border: 1px ${W.type==="hc"?"dotted":"solid"} ${ie}; box-sizing: border-box; }`);const de=W.getColor(r.editorFindMatchBorder);de&&V.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${de}; padding: 1px; box-sizing: border-box; }`);const q=W.getColor(r.editorFindRangeHighlightBorder);q&&V.addRule(`.monaco-editor .findScope { border: 1px ${W.type==="hc"?"dashed":"solid"} ${q}; }`);const z=W.getColor(r.contrastBorder);z&&V.addRule(`.monaco-editor .find-widget { border: 1px solid ${z}; }`);const $=W.getColor(r.editorWidgetForeground);$&&V.addRule(`.monaco-editor .find-widget { color: ${$}; }`);const se=W.getColor(r.errorForeground);se&&V.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${se}; }`);const te=W.getColor(r.editorWidgetResizeBorder);if(te)V.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${te}; }`);else{const _e=W.getColor(r.editorWidgetBorder);_e&&V.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${_e}; }`)}const ae=W.getColor(r.toolbarHoverBackground);ae&&V.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ae} !important;
		}
	`);const me=W.getColor(r.focusBorder);me&&V.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${me}; }`)})}),define(Q[290],J([0,1,10,2,8,15,24,162,707,708,709,516,37,101,16,83,42,40,77,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function h(R,M="single",O=!1){if(!R.hasModel())return null;const L=R.getSelection();if(M==="single"&&L.startLineNumber===L.endLineNumber||M==="multiple"){if(L.isEmpty()){const B=R.getConfiguredWordAtPosition(L.getStartPosition());if(B&&O===!1)return B.word}else if(R.getModel().getValueLengthInRange(L)<l)return R.getModel().getValueInRange(L)}return null}e.getSelectionSearchString=h;let m=class Mi extends C.Disposable{constructor(M,O,L,B){super();this._editor=M,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=L,this._clipboardService=B,this._updateHistoryDelayer=new w.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(x=>this._onStateChanged(x))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let x=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),x&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(M){return M.getContribution(Mi.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(M){this.saveQueryState(M),M.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),M.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(M){M.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),M.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),M.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),M.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let M=this._editor.getSelections();M.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),M.length&&this._state.change({searchScope:M},!0)}}setSearchString(M){this._state.isRegex&&(M=N.escapeRegExpCharacters(M)),this._state.change({searchString:M},!1)}highlightFindOptions(M=!1){}_start(M,O){return De(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let L=Object.assign(Object.assign({},O),{isRevealed:!0});if(M.seedSearchStringFromSelection==="single"){let B=h(this._editor,M.seedSearchStringFromSelection,M.seedSearchStringFromNonEmptySelection);B&&(this._state.isRegex?L.searchString=N.escapeRegExpCharacters(B):L.searchString=B)}else if(M.seedSearchStringFromSelection==="multiple"&&!M.updateSearchScope){let B=h(this._editor,M.seedSearchStringFromSelection);B&&(L.searchString=B)}if(!L.searchString&&M.seedSearchStringFromGlobalClipboard){let B=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;B&&(L.searchString=B)}if(M.forceRevealReplace||L.isReplaceRevealed?L.isReplaceRevealed=!0:this._findWidgetVisible.get()||(L.isReplaceRevealed=!1),M.updateSearchScope){let B=this._editor.getSelections();B.some(x=>!x.isEmpty())&&(L.searchScope=B)}L.loop=M.loop,this._state.change(L,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(M,O){return this._start(M,O)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return De(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(M){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(M)}};m.ID="editor.contrib.findController",m=Be([fe(1,a.IContextKeyService),fe(2,r.IStorageService),fe(3,n.IClipboardService)],m),e.CommonFindController=m;let y=class extends m{constructor(M,O,L,B,x,U,K,Z){super(M,L,K,Z);this._contextViewService=O,this._keybindingService=B,this._themeService=x,this._notificationService=U,this._widget=null,this._findOptionsWidget=null}_start(M,O){const L=Object.create(null,{_start:{get:()=>super._start}});return De(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const B=this._editor.getSelection();let x=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":x=!0;break;case"never":x=!1;break;case"multiline":{x=!!B&&B.startLineNumber!==B.endLineNumber;break}default:break}M.updateSearchScope=M.updateSearchScope||x,yield L._start.call(this,M,O),this._widget&&(M.shouldFocus===2?this._widget.focusReplaceInput():M.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(M=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!M?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};y=Be([fe(1,c.IContextViewService),fe(2,a.IContextKeyService),fe(3,d.IKeybindingService),fe(4,o.IThemeService),fe(5,s.INotificationService),fe(6,r.IStorageService),fe(7,n.IClipboardService)],y),e.FindController=y,e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:t.localize(0,null),alias:"Find",precondition:a.ContextKeyExpr.or(S.EditorContextKeys.focus,a.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(R,M,O)=>{const L=m.get(M);return L?L.start({forceRevealReplace:!1,seedSearchStringFromSelection:M.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(35).loop}):!1});const p={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:t.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:t.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:t.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:t.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class f extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:t.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:p})}run(M,O,L){return De(this,void 0,void 0,function*(){const B=m.get(O);if(B){const x=L?{searchString:L.searchString,replaceString:L.replaceString,isReplaceRevealed:L.replaceString!==void 0,isRegex:L.isRegex,wholeWord:L.matchWholeWord,matchCase:L.isCaseSensitive,preserveCase:L.preserveCase}:{};yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(L==null?void 0:L.findInSelection)||!1,loop:O.getOption(35).loop},x),B.setGlobalBufferTerm(B.getState().searchString)}})}}e.StartFindWithArgsAction=f;class _ extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:t.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(M,O){return De(this,void 0,void 0,function*(){const L=m.get(O);L&&(yield L.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),L.setGlobalBufferTerm(L.getState().searchString))})}}e.StartFindWithSelectionAction=_;class I extends D.EditorAction{run(M,O){return De(this,void 0,void 0,function*(){const L=m.get(O);L&&!this._run(L)&&(yield L.start({forceRevealReplace:!1,seedSearchStringFromSelection:L.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(L))})}}e.MatchFindAction=I;class E extends I{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:t.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:a.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(M){return M.moveToNextMatch()?(M.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class T extends I{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:t.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:a.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(M){return M.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class k extends D.EditorAction{run(M,O){return De(this,void 0,void 0,function*(){const L=m.get(O);if(!L)return;const B=O.getOption(35).seedSearchStringFromSelection==="selection";let x=null;O.getOption(35).seedSearchStringFromSelection!=="never"&&(x=h(O,"single",B)),x&&L.setSearchString(x),this._run(L)||(yield L.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:B,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(L))})}}e.SelectionMatchFindAction=k;class A extends k{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(M){return M.moveToNextMatch()}}e.NextSelectionMatchFindAction=A;class P extends k{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(M){return M.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=P,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:t.localize(12,null),alias:"Replace",precondition:a.ContextKeyExpr.or(S.EditorContextKeys.focus,a.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(R,M,O)=>{if(!M.hasModel()||M.getOption(80))return!1;const L=m.get(M);if(!L)return!1;const B=M.getSelection(),x=L.isFindInputFocused(),U=!B.isEmpty()&&B.startLineNumber===B.endLineNumber&&M.getOption(35).seedSearchStringFromSelection!=="never"&&!x,K=x||U?2:1;return L.start({forceRevealReplace:!0,seedSearchStringFromSelection:U?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:K,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(35).loop})}),(0,D.registerEditorContribution)(m.ID,y),(0,D.registerEditorAction)(f),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(P);const F=D.EditorCommand.bindToContribution(m.get);(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(S.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:R=>R.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:R=>R.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:R=>R.toggleRegex(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:R=>R.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:R=>R.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|1024|22}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replace(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|512|3}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.replaceAll(),kbOpts:{weight:100+5,kbExpr:a.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,D.registerEditorCommand)(new F({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:R=>R.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:512|3}}))}),define(Q[710],J([0,1,27,32,519,71,13]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,D.registerIcon)("folding-expanded",w.Codicon.chevronDown,(0,N.localize)(0,null)),e.foldingCollapsedIcon=(0,D.registerIcon)("folding-collapsed",w.Codicon.chevronRight,(0,N.localize)(1,null));class b{constructor(u){this.editor=u,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(u,g){return g?b.HIDDEN_RANGE_DECORATION:u?this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}deltaDecorations(u,g){return this.editor.deltaDecorations(u,g)}changeDecorations(u){return this.editor.changeDecorations(u)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=C.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(Q[711],J([0,1,10,14,55,2,8,20,70,15,24,18,35,443,444,445,446,518,16,22,13,710,245,371]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const y=new r.RawContextKey("foldingEnabled",!1);let p=class Ai extends D.Disposable{constructor(X,ne,Y){super();this.contextKeyService=ne,this.languageConfigurationService=Y,this.localToDispose=this._register(new D.DisposableStore),this.editor=X;const j=this.editor.getOptions();this._isEnabled=j.get(37),this._useFoldingProviders=j.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=j.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=j.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new h.FoldingDecorationProvider(X),this.foldingDecorationProvider.autoHideFoldingControls=j.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=j.get(39),this.foldingEnabled=y.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(W=>{if(W.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),W.hasChanged(98)||W.hasChanged(39)){const V=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=V.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=V.get(39),this.triggerFoldingModelChanged()}W.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),W.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),W.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(X){return X.getContribution(Ai.ID)}saveViewState(){let X=this.editor.getModel();if(!X||!this._isEnabled||X.isTooLargeForTokenization())return{};if(this.foldingModel){let ne=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),Y=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ne,lineCount:X.getLineCount(),provider:Y,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(X){let ne=this.editor.getModel();if(!ne||!this._isEnabled||ne.isTooLargeForTokenization()||!this.hiddenRangeModel||!X||X.lineCount!==ne.getLineCount()||(this._currentModelHasFoldedImports=!!X.foldedImports,!X.collapsedRegions))return;(X.provider===m.ID_SYNTAX_PROVIDER||X.provider===d.ID_INIT_PROVIDER)&&(this.foldingStateMemento=X);const Y=X.collapsedRegions;if(this.hiddenRangeModel.applyMemento(Y)){const j=this.getFoldingModel();j&&j.then(W=>{if(W){this._restoringViewState=!0;try{W.applyMemento(Y)}finally{this._restoringViewState=!1}}}).then(void 0,C.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let X=this.editor.getModel();!this._isEnabled||!X||X.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new n.FoldingModel(X,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ne=>this.onHiddenRangesChanges(ne))),this.updateScheduler=new w.Delayer(200),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(t.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ne=>this.onDidChangeModelContent(ne))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ne=>this.onEditorMouseDown(ne))),this.localToDispose.add(this.editor.onMouseUp(ne=>this.onEditorMouseUp(ne))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(X){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(X,this.languageConfigurationService),this._useFoldingProviders&&this.foldingModel){let ne=t.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(ne.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new d.InitializingRangeProvider(X,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);ne.length>0&&(this.rangeProvider=new m.SyntaxRangeProvider(X,ne,()=>this.triggerFoldingModelChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(X){var ne;(ne=this.hiddenRangeModel)===null||ne===void 0||ne.notifyChangeModelContent(X),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const X=this.foldingModel;if(!X)return null;const ne=this.getRangeProvider(X.textModel);let Y=this.foldingRegionPromise=(0,w.createCancelablePromise)(j=>ne.compute(j));return Y.then(j=>{if(j&&Y===this.foldingRegionPromise){let W;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const oe=j.setCollapsedAllOfType(t.FoldingRangeKind.Imports.value,!0);oe&&(W=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=oe)}let V=this.editor.getSelections(),G=V?V.map(oe=>oe.startLineNumber):[];X.update(j,G),W&&W.restore(this.editor)}return X})}).then(void 0,X=>((0,C.onUnexpectedError)(X),null)))}onHiddenRangesChanges(X){if(this.hiddenRangeModel&&X.length&&!this._restoringViewState){let ne=this.editor.getSelections();ne&&this.hiddenRangeModel.adjustSelections(ne)&&this.editor.setSelections(ne)}this.editor.setHiddenAreas(X)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const X=this.getFoldingModel();!X||X.then(ne=>{if(ne){let Y=this.editor.getSelections();if(Y&&Y.length>0){let j=[];for(let W of Y){let V=W.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(V)&&j.push(...ne.getAllRegionsAtLine(V,G=>G.isCollapsed&&V>G.startLineNumber))}j.length&&(ne.toggleCollapseState(j),this.reveal(Y[0].getPosition()))}}}).then(void 0,C.onUnexpectedError)}onEditorMouseDown(X){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!X.target||!X.target.range||!X.event.leftButton&&!X.event.middleButton)return;const ne=X.target.range;let Y=!1;switch(X.target.type){case 4:{const j=X.target.detail,W=X.target.element.offsetLeft;if(j.offsetX-W<5)return;Y=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!X.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let j=this.editor.getModel();if(j&&ne.startColumn===j.getLineMaxColumn(ne.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ne.startLineNumber,iconClicked:Y}}onEditorMouseUp(X){const ne=this.getFoldingModel();if(!ne||!this.mouseDownInfo||!X.target)return;let Y=this.mouseDownInfo.lineNumber,j=this.mouseDownInfo.iconClicked,W=X.target.range;if(!(!W||W.startLineNumber!==Y)){if(j){if(X.target.type!==4)return}else{let V=this.editor.getModel();if(!V||W.startColumn!==V.getLineMaxColumn(Y))return}ne.then(V=>{if(V){let G=V.getRegionAtLine(Y);if(G&&G.startLineNumber===Y){let oe=G.isCollapsed;if(j||oe){let ce=X.event.altKey,ie=[];if(ce){let de=z=>!z.containedBy(G)&&!G.containedBy(z),q=V.getRegionsInside(null,de);for(const z of q)z.isCollapsed&&ie.push(z);ie.length===0&&(ie=q)}else{let de=X.event.middleButton||X.event.shiftKey;if(de)for(const q of V.getRegionsInside(G))q.isCollapsed===oe&&ie.push(q);(oe||!de||ie.length===0)&&ie.push(G)}V.toggleCollapseState(ie),this.reveal({lineNumber:Y,column:1})}}}}).then(void 0,C.onUnexpectedError)}}reveal(X){this.editor.revealPositionInCenterIfOutsideViewport(X,0)}};p.ID="editor.contrib.folding",p=Be([fe(1,r.IContextKeyService),fe(2,i.ILanguageConfigurationService)],p),e.FoldingController=p;class f extends u.EditorAction{runEditorCommand(X,ne,Y){const j=X.get(i.ILanguageConfigurationService),W=p.get(ne);if(!W)return;const V=W.getFoldingModel();if(V)return this.reportTelemetry(X,ne),V.then(G=>{if(G){this.invoke(W,G,ne,Y,j);const oe=ne.getSelection();oe&&W.reveal(oe.getStartPosition())}})}getSelectedLines(X){let ne=X.getSelections();return ne?ne.map(Y=>Y.startLineNumber):[]}getLineNumbers(X,ne){return X&&X.selectionLines?X.selectionLines.map(Y=>Y+1):this.getSelectedLines(ne)}run(X,ne){}}function _(ee){if(!b.isUndefined(ee)){if(!b.isObject(ee))return!1;const X=ee;if(!b.isUndefined(X.levels)&&!b.isNumber(X.levels)||!b.isUndefined(X.direction)&&!b.isString(X.direction)||!b.isUndefined(X.selectionLines)&&(!b.isArray(X.selectionLines)||!X.selectionLines.every(b.isNumber)))return!1}return!0}class I extends f{constructor(){super({id:"editor.unfold",label:s.localize(0,null),alias:"Unfold",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:_,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(X,ne,Y,j){let W=j&&j.levels||1,V=this.getLineNumbers(j,Y);j&&j.direction==="up"?(0,n.setCollapseStateLevelsUp)(ne,!1,W,V):(0,n.setCollapseStateLevelsDown)(ne,!1,W,V)}}class E extends f{constructor(){super({id:"editor.unfoldRecursively",label:s.localize(1,null),alias:"Unfold Recursively",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|89),weight:100}})}invoke(X,ne,Y,j){(0,n.setCollapseStateLevelsDown)(ne,!1,Number.MAX_VALUE,this.getSelectedLines(Y))}}class T extends f{constructor(){super({id:"editor.fold",label:s.localize(2,null),alias:"Fold",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:_,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(X,ne,Y,j){let W=this.getLineNumbers(j,Y);const V=j&&j.levels,G=j&&j.direction;typeof V!="number"&&typeof G!="string"?(0,n.setCollapseStateUp)(ne,!0,W):G==="up"?(0,n.setCollapseStateLevelsUp)(ne,!0,V||1,W):(0,n.setCollapseStateLevelsDown)(ne,!0,V||1,W)}}class k extends f{constructor(){super({id:"editor.toggleFold",label:s.localize(3,null),alias:"Toggle Fold",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|42),weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);(0,n.toggleCollapseState)(ne,1,j)}}class A extends f{constructor(){super({id:"editor.foldRecursively",label:s.localize(4,null),alias:"Fold Recursively",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|87),weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);(0,n.setCollapseStateLevelsDown)(ne,!0,Number.MAX_VALUE,j)}}class P extends f{constructor(){super({id:"editor.foldAllBlockComments",label:s.localize(5,null),alias:"Fold All Block Comments",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|85),weight:100}})}invoke(X,ne,Y,j,W){if(ne.regions.hasTypes())(0,n.setCollapseStateForType)(ne,t.FoldingRangeKind.Comment.value,!0);else{const V=Y.getModel();if(!V)return;const G=W.getLanguageConfiguration(V.getLanguageId()).comments;if(G&&G.blockCommentStartToken){let oe=new RegExp("^\\s*"+(0,S.escapeRegExpCharacters)(G.blockCommentStartToken));(0,n.setCollapseStateForMatchingLines)(ne,oe,!0)}}}}class F extends f{constructor(){super({id:"editor.foldAllMarkerRegions",label:s.localize(6,null),alias:"Fold All Regions",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|29),weight:100}})}invoke(X,ne,Y,j,W){if(ne.regions.hasTypes())(0,n.setCollapseStateForType)(ne,t.FoldingRangeKind.Region.value,!0);else{const V=Y.getModel();if(!V)return;const G=W.getLanguageConfiguration(V.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let oe=new RegExp(G.markers.start);(0,n.setCollapseStateForMatchingLines)(ne,oe,!0)}}}}class R extends f{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:s.localize(7,null),alias:"Unfold All Regions",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|30),weight:100}})}invoke(X,ne,Y,j,W){if(ne.regions.hasTypes())(0,n.setCollapseStateForType)(ne,t.FoldingRangeKind.Region.value,!1);else{const V=Y.getModel();if(!V)return;const G=W.getLanguageConfiguration(V.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let oe=new RegExp(G.markers.start);(0,n.setCollapseStateForMatchingLines)(ne,oe,!1)}}}}class M extends f{constructor(){super({id:"editor.foldAllExcept",label:s.localize(8,null),alias:"Fold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|83),weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);(0,n.setCollapseStateForRest)(ne,!0,j)}}class O extends f{constructor(){super({id:"editor.unfoldAllExcept",label:s.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|81),weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);(0,n.setCollapseStateForRest)(ne,!1,j)}}class L extends f{constructor(){super({id:"editor.foldAll",label:s.localize(10,null),alias:"Fold All",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21),weight:100}})}invoke(X,ne,Y){(0,n.setCollapseStateLevelsDown)(ne,!0)}}class B extends f{constructor(){super({id:"editor.unfoldAll",label:s.localize(11,null),alias:"Unfold All",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|40),weight:100}})}invoke(X,ne,Y){(0,n.setCollapseStateLevelsDown)(ne,!1)}}class x extends f{getFoldingLevel(){return parseInt(this.id.substr(x.ID_PREFIX.length))}invoke(X,ne,Y){(0,n.setCollapseStateAtLevel)(ne,this.getFoldingLevel(),!0,this.getSelectedLines(Y))}}x.ID_PREFIX="editor.foldLevel",x.ID=ee=>x.ID_PREFIX+ee;class U extends f{constructor(){super({id:"editor.gotoParentFold",label:s.localize(12,null),alias:"Go to Parent Fold",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);if(j.length>0){let W=(0,n.getParentFoldLine)(j[0],ne);W!==null&&Y.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class K extends f{constructor(){super({id:"editor.gotoPreviousFold",label:s.localize(13,null),alias:"Go to Previous Folding Range",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);if(j.length>0){let W=(0,n.getPreviousFoldLine)(j[0],ne);W!==null&&Y.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}class Z extends f{constructor(){super({id:"editor.gotoNextFold",label:s.localize(14,null),alias:"Go to Next Folding Range",precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(X,ne,Y){let j=this.getSelectedLines(Y);if(j.length>0){let W=(0,n.getNextFoldLine)(j[0],ne);W!==null&&Y.setSelection({startLineNumber:W,startColumn:1,endLineNumber:W,endColumn:1})}}}(0,u.registerEditorContribution)(p.ID,p),(0,u.registerEditorAction)(I),(0,u.registerEditorAction)(E),(0,u.registerEditorAction)(T),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(L),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(P),(0,u.registerEditorAction)(F),(0,u.registerEditorAction)(R),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(k),(0,u.registerEditorAction)(U),(0,u.registerEditorAction)(K),(0,u.registerEditorAction)(Z);for(let ee=1;ee<=7;ee++)(0,u.registerInstantiatedEditorAction)(new x({id:x.ID(ee),label:s.localize(15,null,ee),alias:`Fold Level ${ee}`,precondition:y,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21+ee),weight:100}}));e.foldBackgroundBackground=(0,o.registerColor)("editor.foldBackground",{light:(0,o.transparent)(o.editorSelectionBackground,.3),dark:(0,o.transparent)(o.editorSelectionBackground,.3),hc:null},s.localize(16,null),!0),e.editorFoldForeground=(0,o.registerColor)("editorGutter.foldingControlForeground",{dark:o.iconForeground,light:o.iconForeground,hc:o.iconForeground},s.localize(17,null)),(0,l.registerThemingParticipant)((ee,X)=>{const ne=ee.getColor(e.foldBackgroundBackground);ne&&X.addRule(`.monaco-editor .folded-background { background-color: ${ne}; }`);const Y=ee.getColor(e.editorFoldForeground);Y&&X.addRule(`
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(h.foldingExpandedIcon)},
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(h.foldingCollapsedIcon)} {
			color: ${Y} !important;
		}
		`)})}),define(Q[712],J([0,1,10,23,30,2,3,266,289,439,644,13]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(c,d,s,r){this.owner=c,this.range=d,this.model=s,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=i;let n=class{constructor(c,d){this._editor=c,this._themeService=d}computeSync(c,d){return[]}computeAsync(c,d,s){return w.AsyncIterableObject.fromPromise(this._computeAsync(c,d,s))}_computeAsync(c,d,s){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const r=v.ColorDetector.get(this._editor);if(!r)return[];for(const o of d){if(!r.isColorDecorationId(o.id))continue;const l=r.getColorData(o.range.getStartPosition());if(l)return[yield this._createColorHover(this._editor.getModel(),l.colorInfo,l.provider)]}return[]})}_createColorHover(c,d,s){return De(this,void 0,void 0,function*(){const r=c.getValueInRange(d.range),{red:o,green:l,blue:h,alpha:m}=d.color,y=new N.RGBA(Math.round(o*255),Math.round(l*255),Math.round(h*255),m),p=new N.Color(y),f=yield(0,b.getColorPresentations)(c,d,s,C.CancellationToken.None),_=new u.ColorPickerModel(p,[],0);return _.colorPresentations=f||[],_.guessColorPresentation(p,r),new i(this,S.Range.lift(d.range),_,s)})}renderHoverParts(c,d){if(d.length===0||!this._editor.hasModel())return D.Disposable.None;const s=new D.DisposableStore,r=d[0],o=this._editor.getModel(),l=r.model,h=s.add(new g.ColorPickerWidget(c.fragment,l,this._editor.getOption(128),this._themeService));c.setColorPicker(h);let m=new S.Range(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);const y=()=>{let f,_;if(l.presentation.textEdit){f=[l.presentation.textEdit],_=new S.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const I=this._editor.getModel()._setTrackedRange(null,_,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",f),_=this._editor.getModel()._getTrackedRange(I)||_}else f=[{identifier:null,range:m,text:l.presentation.label,forceMoveMarkers:!1}],_=m.setEndPosition(m.endLineNumber,m.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",f);l.presentation.additionalTextEdits&&(f=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",f),c.hide()),this._editor.pushUndoStop(),m=_},p=f=>(0,b.getColorPresentations)(o,{range:m,color:{red:f.rgba.r/255,green:f.rgba.g/255,blue:f.rgba.b/255,alpha:f.rgba.a}},r.provider,C.CancellationToken.None).then(_=>{l.colorPresentations=_||[]});return s.add(l.onColorFlushed(f=>{p(f).then(y)})),s.add(l.onDidChangeColor(p)),s}};n=Be([fe(1,t.IThemeService)],n),e.ColorHoverParticipant=n}),define(Q[713],J([0,1,10,14,70,15,3,21,24,32,82,52,535,13,447]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class Xt{constructor(o,l){this.decorationIds=[],this.editor=o,this.editorWorkerService=l}static get(o){return o.getContribution(Xt.ID)}dispose(){}run(o,l){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),m=this.editor.getModel();if(!m||!h)return;let y=h;if(y.startLineNumber!==y.endLineNumber)return;const p=new N.EditorState(this.editor,1|4),f=m.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=(0,w.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(f,y,l)),this.currentRequest.then(_=>{if(!_||!_.range||!_.value||!p.validate(this.editor))return;let I=S.Range.lift(_.range),E=_.range,T=_.value.length-(y.endColumn-y.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+_.value.length},T>1&&(y=new b.Selection(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn+T-1));const k=new a.InPlaceReplaceCommand(I,y,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(o,k),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:E,options:Xt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,w.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(C.onUnexpectedError)}).catch(C.onUnexpectedError)):Promise.resolve(void 0)}};c.ID="editor.contrib.inPlaceReplaceController",c.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),c=Be([fe(1,g.IEditorWorkerService)],c);class d extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(o,l){const h=c.get(l);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class s extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(o,l){const h=c.get(l);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(c.ID,c),(0,D.registerEditorAction)(d),(0,D.registerEditorAction)(s),(0,n.registerThemingParticipant)((r,o)=>{const l=r.getColor(t.editorBracketMatchBorder);l&&o.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(Q[714],J([0,1,2,8,15,199,59,3,21,24,32,35,44,248,536,75]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function d(k,A,P,F,R){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return[];const M=A.getLanguageConfiguration(k.getLanguageId()).indentationRules;if(!M)return[];for(F=Math.min(F,k.getLineCount());P<=F&&M.unIndentedLinePattern;){let Y=k.getLineContent(P);if(!M.unIndentedLinePattern.test(Y))break;P++}if(P>F-1)return[];const{tabSize:O,indentSize:L,insertSpaces:B}=k.getOptions(),x=(Y,j)=>(j=j||1,D.ShiftCommand.shiftIndent(Y,Y.length+j,O,L,B)),U=(Y,j)=>(j=j||1,D.ShiftCommand.unshiftIndent(Y,Y.length+j,O,L,B));let K=[],Z,ee=k.getLineContent(P),X=ee;if(R!=null){Z=R;let Y=C.getLeadingWhitespace(ee);X=Z+ee.substring(Y.length),M.decreaseIndentPattern&&M.decreaseIndentPattern.test(X)&&(Z=U(Z),X=Z+ee.substring(Y.length)),ee!==X&&K.push(S.EditOperation.replaceMove(new v.Selection(P,1,P,Y.length+1),g.TextModel.normalizeIndentation(Z,L,B)))}else Z=C.getLeadingWhitespace(ee);let ne=Z;M.increaseIndentPattern&&M.increaseIndentPattern.test(X)?(ne=x(ne),Z=x(Z)):M.indentNextLinePattern&&M.indentNextLinePattern.test(X)&&(ne=x(ne)),P++;for(let Y=P;Y<=F;Y++){let j=k.getLineContent(Y),W=C.getLeadingWhitespace(j),V=ne+j.substring(W.length);M.decreaseIndentPattern&&M.decreaseIndentPattern.test(V)&&(ne=U(ne),Z=U(Z)),W!==ne&&K.push(S.EditOperation.replaceMove(new v.Selection(Y,1,Y,W.length+1),g.TextModel.normalizeIndentation(ne,L,B))),!(M.unIndentedLinePattern&&M.unIndentedLinePattern.test(j))&&(M.increaseIndentPattern&&M.increaseIndentPattern.test(V)?(Z=x(Z),ne=Z):M.indentNextLinePattern&&M.indentNextLinePattern.test(V)?ne=x(ne):ne=Z)}return K}e.getReindentEditOperations=d;class s extends N.EditorAction{constructor(){super({id:s.ID,label:a.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let R=F.getOptions(),M=P.getSelection();if(!M)return;const O=new E(M,R.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[O]),P.pushUndoStop(),F.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class r extends N.EditorAction{constructor(){super({id:r.ID,label:a.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(A,P){let F=P.getModel();if(!F)return;let R=F.getOptions(),M=P.getSelection();if(!M)return;const O=new T(M,R.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[O]),P.pushUndoStop(),F.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=r,r.ID="editor.action.indentationToTabs";class o extends N.EditorAction{constructor(A,P){super(P);this.insertSpaces=A}run(A,P){const F=A.get(c.IQuickInputService),R=A.get(i.IModelService);let M=P.getModel();if(!M)return;const O=R.getCreationOptions(M.getLanguageId(),M.uri,M.isForSimpleWidget),L=[1,2,3,4,5,6,7,8].map(x=>({id:x.toString(),label:x.toString(),description:x===O.tabSize?a.localize(2,null):void 0})),B=Math.min(M.getOptions().tabSize-1,7);setTimeout(()=>{F.pick(L,{placeHolder:a.localize(3,null),activeItem:L[B]}).then(x=>{x&&M&&!M.isDisposed()&&M.updateOptions({tabSize:parseInt(x.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=o;class l extends o{constructor(){super(!1,{id:l.ID,label:a.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class h extends o{constructor(){super(!0,{id:h.ID,label:a.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class m extends N.EditorAction{constructor(){super({id:m.ID,label:a.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(A,P){const F=A.get(i.IModelService);let R=P.getModel();if(!R)return;const M=F.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget);R.detectIndentation(M.insertSpaces,M.tabSize)}}e.DetectIndentation=m,m.ID="editor.action.detectIndentation";class y extends N.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:a.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(A,P){const F=A.get(t.ILanguageConfigurationService);let R=P.getModel();if(!R)return;let M=d(R,F,1,R.getLineCount());M.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,M),P.pushUndoStop())}}e.ReindentLinesAction=y;class p extends N.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:a.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(A,P){const F=A.get(t.ILanguageConfigurationService);let R=P.getModel();if(!R)return;let M=P.getSelections();if(M===null)return;let O=[];for(let L of M){let B=L.startLineNumber,x=L.endLineNumber;if(B!==x&&L.endColumn===1&&x--,B===1){if(B===x)continue}else B--;let U=d(R,F,B,x);O.push(...U)}O.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,O),P.pushUndoStop())}}e.ReindentSelectedLinesAction=p;class f{constructor(A,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(let F of A)F.range&&typeof F.text=="string"&&this._edits.push(F)}getEditOperations(A,P){for(let R of this._edits)P.addEditOperation(b.Range.lift(R.range),R.text);let F=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(F=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(F=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),F||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(A,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=f;class _{constructor(A){this.callOnDispose=new w.DisposableStore,this.callOnModel=new w.DisposableStore,this.editor=A,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)})))}trigger(A){let P=this.editor.getSelections();if(P===null||P.length>1)return;const F=this.editor.getModel();if(!F||!F.isCheapToTokenize(A.getStartPosition().lineNumber))return;const R=this.editor.getOption(9),{tabSize:M,indentSize:O,insertSpaces:L}=F.getOptions();let B=[],x={shiftIndent:ee=>D.ShiftCommand.shiftIndent(ee,ee.length+1,M,O,L),unshiftIndent:ee=>D.ShiftCommand.unshiftIndent(ee,ee.length+1,M,O,L)},U=A.startLineNumber;for(;U<=A.endLineNumber;){if(this.shouldIgnoreLine(F,U)){U++;continue}break}if(U>A.endLineNumber)return;let K=F.getLineContent(U);if(!/\S/.test(K.substring(0,A.startColumn-1))){const ee=t.LanguageConfigurationRegistry.getGoodIndentForLine(R,F,F.getLanguageId(),U,x);if(ee!==null){let X=C.getLeadingWhitespace(K),ne=n.getSpaceCnt(ee,M),Y=n.getSpaceCnt(X,M);if(ne!==Y){let j=n.generateIndent(ne,M,L);B.push({range:new b.Range(U,1,U,X.length+1),text:j}),K=j+K.substr(X.length)}else{let j=t.LanguageConfigurationRegistry.getIndentMetadata(F,U);if(j===0||j===8)return}}}const Z=U;for(;U<A.endLineNumber;){if(!/\S/.test(F.getLineContent(U+1))){U++;continue}break}if(U!==A.endLineNumber){let ee={getLineTokens:ne=>F.getLineTokens(ne),getLanguageId:()=>F.getLanguageId(),getLanguageIdAtPosition:(ne,Y)=>F.getLanguageIdAtPosition(ne,Y),getLineContent:ne=>ne===Z?K:F.getLineContent(ne)},X=t.LanguageConfigurationRegistry.getGoodIndentForLine(R,ee,F.getLanguageId(),U+1,x);if(X!==null){let ne=n.getSpaceCnt(X,M),Y=n.getSpaceCnt(C.getLeadingWhitespace(F.getLineContent(U+1)),M);if(ne!==Y){let j=ne-Y;for(let W=U+1;W<=A.endLineNumber;W++){let V=F.getLineContent(W),G=C.getLeadingWhitespace(V),ce=n.getSpaceCnt(G,M)+j,ie=n.generateIndent(ce,M,L);ie!==G&&B.push({range:new b.Range(W,1,W,G.length+1),text:ie})}}}}if(B.length>0){this.editor.pushUndoStop();let ee=new f(B,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ee),this.editor.pushUndoStop()}}shouldIgnoreLine(A,P){A.forceTokenization(P);let F=A.getLineFirstNonWhitespaceColumn(P);if(F===0)return!0;let R=A.getLineTokens(P);if(R.getCount()>0){let M=R.findTokenIndexAtOffset(F);if(M>=0&&R.getStandardTokenType(M)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=_,_.ID="editor.contrib.autoIndentOnPaste";function I(k,A,P,F){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return;let R="";for(let O=0;O<P;O++)R+=" ";let M=new RegExp(R,"gi");for(let O=1,L=k.getLineCount();O<=L;O++){let B=k.getLineFirstNonWhitespaceColumn(O);if(B===0&&(B=k.getLineMaxColumn(O)),B===1)continue;const x=new b.Range(O,1,O,B),U=k.getValueInRange(x),K=F?U.replace(/\t/ig,R):U.replace(M,"	");A.addEditOperation(x,K)}}class E{constructor(A,P){this.selection=A,this.tabSize=P,this.selectionId=null}getEditOperations(A,P){this.selectionId=P.trackSelection(this.selection),I(A,P,this.tabSize,!0)}computeCursorState(A,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=E;class T{constructor(A,P){this.selection=A,this.tabSize=P,this.selectionId=null}getEditOperations(A,P){this.selectionId=P.trackSelection(this.selection),I(A,P,this.tabSize,!1)}computeCursorState(A,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,N.registerEditorContribution)(_.ID,_),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(h),(0,N.registerEditorAction)(m),(0,N.registerEditorAction)(y),(0,N.registerEditorAction)(p)}),define(Q[291],J([0,1,10,23,2,47,20,25,128,15,29,3,18,151,32,62,184,593,26,40,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.InlayHintLabelPart=void 0;const m=1500;class y{constructor(){this._entries=new D.LRUCache(50)}get(E){const T=y._key(E);return this._entries.get(T)}set(E,T){const k=y._key(E);this._entries.set(k,T)}static _key(E){return`${E.uri.toString()}/${E.getVersionId()}`}}class p{constructor(E,T){this.item=E,this.index=T}get part(){const E=this.item.hint.label;return typeof E=="string"?{label:E}:E[this.index]}}e.InlayHintLabelPart=p;let f=class Ri{constructor(E,T,k){this._editor=E,this._commandService=T,this._notificationService=k,this._disposables=new N.DisposableStore,this._sessionDisposables=new N.DisposableStore,this._getInlayHintsDelays=new n.LanguageFeatureRequestDelays(i.InlayHintsProviderRegistry,25,500),this._cache=new y,this._decorationsMetadata=new Map,this._ruleFactory=new v.DynamicCssRules(this._editor),this._disposables.add(i.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(E.onDidChangeModel(()=>this._update())),this._disposables.add(E.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(E.onDidChangeConfiguration(A=>{A.hasChanged(126)&&this._update()})),this._update()}static get(E){var T;return(T=E.getContribution(Ri.ID))!==null&&T!==void 0?T:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(126).enabled)return;const E=this._editor.getModel();if(!E||!i.InlayHintsProviderRegistry.has(E))return;const T=this._cache.get(E);T&&this._updateHintsDecorators([E.getFullModelRange()],T);const k=new w.RunOnceScheduler(()=>De(this,void 0,void 0,function*(){const A=Date.now(),P=new C.CancellationTokenSource;this._sessionDisposables.add((0,N.toDisposable)(()=>P.dispose(!0)));const F=this._getHintsRanges(),R=yield s.InlayHintsFragments.create(E,F,P.token);this._sessionDisposables.add(R),this._sessionDisposables.add(R.onDidReceiveProviderSignal(()=>k.schedule())),k.delay=this._getInlayHintsDelays.update(E,Date.now()-A),!P.token.isCancellationRequested&&(this._updateHintsDecorators(F,R.items),this._cacheHintsForFastRestore(E))}),this._getInlayHintsDelays.get(E));this._sessionDisposables.add(k),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>k.schedule())),this._sessionDisposables.add(this._editor.onDidScrollChange(()=>k.schedule())),k.schedule(),this._sessionDisposables.add(this._installLinkGesture())}_installLinkGesture(){let E=()=>{};const T=new d.ClickLinkGesture(this._editor);return T.onMouseMoveOrRelevantKeyDown(k=>{var A;const[P]=k;if(P.target.type!==6||!P.hasTriggerModifier){E();return}const F=this._editor.getModel(),R=(A=P.target.detail.injectedText)===null||A===void 0?void 0:A.options;if(!(R instanceof a.ModelDecorationInjectedTextOptions&&R.attachedData instanceof p)){E();return}if(R.attachedData.item.resolve(C.CancellationToken.None),P.hasTriggerModifier&&R.attachedData.part.action){this._activeInlayHintPart=R.attachedData;const M=this._activeInlayHintPart.item.hint.position.lineNumber,O=new t.Range(M,1,M,F.getLineMaxColumn(M)),L=new Set;for(let B of this._decorationsMetadata.values())O.containsRange(B.item.anchor.range)&&L.add(B.item);this._updateHintsDecorators([O],Array.from(L)),E=()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([O],Array.from(L))}}}),T.onCancel(E),T.onExecute(k=>{var A,P,F;if(k.target.type!==6||!k.hasTriggerModifier)return;const R=(P=(A=k.target.detail)===null||A===void 0?void 0:A.injectedText)===null||P===void 0?void 0:P.options;if(R instanceof a.ModelDecorationInjectedTextOptions&&R.attachedData instanceof p&&R.attachedData.part.action){const M=R.attachedData.part;i.Command.is(M.action)?this._commandService.executeCommand(M.action.id,...(F=M.action.arguments)!==null&&F!==void 0?F:[]).catch(O=>this._notificationService.error(O)):M.action&&console.log("TODO",M.action)}}),T}_cacheHintsForFastRestore(E){const T=new Map;for(const[k,A]of this._decorationsMetadata){if(T.has(A.item))continue;let P=A.item;const F=E.getDecorationRange(k);if(F){const R=new s.InlayHintAnchor(F,A.item.anchor.direction,A.item.anchor.usesWordRange);P=A.item.with({anchor:R})}T.set(A.item,P)}this._cache.set(E,Array.from(T.values()))}_getHintsRanges(){const E=30,T=this._editor.getModel(),k=this._editor.getVisibleRangesPlusViewportAboveBelow(),A=[];for(const P of k.sort(t.Range.compareRangesUsingStarts)){const F=T.validateRange(new t.Range(P.startLineNumber-E,P.startColumn,P.endLineNumber+E,P.endColumn));A.length===0||!t.Range.areIntersectingOrTouching(A[A.length-1],F)?A.push(F):A[A.length-1]=t.Range.plusRange(A[A.length-1],F)}return A}_updateHintsDecorators(E,T){var k,A;const{fontSize:P,fontFamily:F}=this._getLayoutInfo(),R=[],M="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(M,F);for(const B of T){const x=typeof B.hint.label=="string"?[{label:B.hint.label}]:B.hint.label,U=B.hint.whitespaceBefore?P/3|0:0,K=B.hint.whitespaceAfter?P/3|0:0;for(let Z=0;Z<x.length;Z++){const ee=x[Z],X=Z===0,ne=Z===x.length-1,Y={fontSize:`${P}px`,fontFamily:`var(${M}), ${g.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:"middle"};this._fillInColors(Y,B.hint),ee.action&&((k=this._activeInlayHintPart)===null||k===void 0?void 0:k.item)===B&&this._activeInlayHintPart.index===Z&&(Y.textDecoration="underline",Y.cursor="pointer",Y.color=(0,h.themeColorFromId)(l.editorActiveLinkForeground)),X&&ne?(Y.margin=`0px ${K}px 0px ${U}px`,Y.padding=`1px ${Math.max(1,P/4)|0}px`,Y.borderRadius=`${P/4|0}px`):X?(Y.margin=`0px 0 0 ${K}px`,Y.padding=`1px 0 0 ${Math.max(1,P/4)|0}px`,Y.borderRadius=`${P/4|0}px 0 0 ${P/4|0}px`):ne?(Y.margin=`0px ${K}px 0 0`,Y.padding=`1px ${Math.max(1,P/4)|0}px 0 0`,Y.borderRadius=`0 ${P/4|0}px ${P/4|0}px 0`):Y.padding="1px 0 1px 0";const j=this._ruleFactory.createClassNameRef(Y);R.push({item:B,classNameRef:j,decoration:{range:B.anchor.range,options:{[B.anchor.direction]:{content:_(ee.label),inlineClassNameAffectsLetterSpacing:!0,inlineClassName:j.className,attachedData:new p(B,Z)},description:"InlayHint",showIfCollapsed:!B.anchor.usesWordRange,stickiness:0}}})}if(R.length>m)break}const O=[];for(const B of E)for(const{id:x}of(A=this._editor.getDecorationsInRange(B))!==null&&A!==void 0?A:[]){const U=this._decorationsMetadata.get(x);U&&(O.push(x),U.classNameRef.dispose(),this._decorationsMetadata.delete(x))}const L=this._editor.deltaDecorations(O,R.map(B=>B.decoration));for(let B=0;B<L.length;B++){const x=R[B];this._decorationsMetadata.set(L[B],{item:x.item,classNameRef:x.classNameRef})}}_fillInColors(E,T){T.kind===i.InlayHintKind.Parameter?(E.backgroundColor=(0,h.themeColorFromId)(l.editorInlayHintParameterBackground),E.color=(0,h.themeColorFromId)(l.editorInlayHintParameterForeground)):T.kind===i.InlayHintKind.Type?(E.backgroundColor=(0,h.themeColorFromId)(l.editorInlayHintTypeBackground),E.color=(0,h.themeColorFromId)(l.editorInlayHintTypeForeground)):(E.backgroundColor=(0,h.themeColorFromId)(l.editorInlayHintBackground),E.color=(0,h.themeColorFromId)(l.editorInlayHintForeground))}_getLayoutInfo(){const E=this._editor.getOption(126),T=this._editor.getOption(45);let k=E.fontSize;(!k||k<5||k>T)&&(k=T*.9|0);const A=E.fontFamily||this._editor.getOption(42);return{fontSize:k,fontFamily:A}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let E of this._decorationsMetadata.values())E.classNameRef.dispose();this._decorationsMetadata.clear()}};f.ID="editor.contrib.InlayHints",f=Be([fe(1,r.ICommandService),fe(2,o.INotificationService)],f),e.InlayHintsController=f;function _(I){const E="\xA0";return I.replace(/[ \t]/g,E)}(0,u.registerEditorContribution)(f.ID,f),r.CommandsRegistry.registerCommand("_executeInlayHintProvider",(I,...E)=>De(void 0,void 0,void 0,function*(){const[T,k]=E;(0,S.assertType)(b.URI.isUri(T)),(0,S.assertType)(t.Range.isIRange(k));const A=yield I.get(c.ITextModelService).createModelReference(T);try{const P=yield s.InlayHintsFragments.create(A.object.textEditorModel,[t.Range.lift(k)],C.CancellationToken.None),F=P.items.map(R=>R.hint);return setTimeout(()=>P.dispose(),0),F}finally{A.dispose()}}))});var Ct=this&&this.__asyncValues||function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=H[Symbol.asyncIterator],w;return e?e.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(D){w[D]=H[D]&&function(S){return new Promise(function(b,v){S=H[D](S),N(b,v,S.done,S.value)})}}function N(D,S,b,v){Promise.resolve(v).then(function(u){D({value:u,done:b})},S)}};define(Q[715],J([0,1,10,64,11,18,32,185,34,62,281,197,291,39,51]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class c extends b.HoverForeignElementAnchor{constructor(r,o){super(10,o,r.item.anchor.range);this.part=r}}let d=class extends t.MarkdownHoverParticipant{constructor(r,o,l,h,m){super(r,o,l,h);this._resolverService=m}suggestHoverAnchor(r){var o;if(!i.InlayHintsController.get(this._editor)||r.target.type!==6)return null;const h=(o=r.target.detail.injectedText)===null||o===void 0?void 0:o.options;return h instanceof S.ModelDecorationInjectedTextOptions&&h.attachedData instanceof i.InlayHintLabelPart?new c(h.attachedData,this):null}computeSync(){return[]}computeAsync(r,o,l){return r instanceof c?new w.AsyncIterableObject(h=>De(this,void 0,void 0,function*(){var m,y;const{part:p}=r;if(yield p.item.resolve(l),l.isCancellationRequested)return;let f;typeof p.item.hint.tooltip=="string"?f=new C.MarkdownString().appendText(p.item.hint.tooltip):p.item.hint.tooltip&&(f=p.item.hint.tooltip),f&&h.emitOne(new t.MarkdownHover(this,r.range,[f],0));const _=yield this._resolveInlayHintLabelPartHover(p,l);try{for(var I=Ct(_),E;E=yield I.next(),!E.done;){let T=E.value;h.emitOne(T)}}catch(T){m={error:T}}finally{try{E&&!E.done&&(y=I.return)&&(yield y.call(I))}finally{if(m)throw m.error}}})):w.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(r,o){return De(this,void 0,void 0,function*(){if(typeof r.item.hint.label=="string")return w.AsyncIterableObject.EMPTY;const l=r.part.action;if(!l||D.Command.is(l))return w.AsyncIterableObject.EMPTY;const{uri:h,range:m}=l,y=yield this._resolverService.createModelReference(h);try{const p=y.object.textEditorModel;return D.HoverProviderRegistry.has(p)?(0,g.getHover)(p,new N.Position(m.startLineNumber,m.startColumn),o).filter(f=>!(0,C.isEmptyMarkdownString)(f.hover.contents)).map(f=>new t.MarkdownHover(this,r.item.anchor.range,f.hover.contents,f.ordinal)):w.AsyncIterableObject.EMPTY}finally{y.dispose()}})}};d=Be([fe(1,v.ILanguageService),fe(2,a.IOpenerService),fe(3,n.IConfigurationService),fe(4,u.ITextModelService)],d),e.InlayHintsHover=d}),define(Q[204],J([0,1,10,23,14,4,2,8,159,59,3,18,186,26,249,187]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let d=class extends S.Disposable{constructor(f,_,I){super();this.editor=f,this.cache=_,this.commandService=I,this.onDidChangeEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new S.MutableDisposable),this.active=!1,this.disposed=!1,this._register(I.onDidExecuteCommand(E=>{new Set([v.CoreEditingCommands.Tab.id,v.CoreEditingCommands.DeleteLeft.id,v.CoreEditingCommands.DeleteRight.id,a.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(E.commandId)&&f.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(E=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(E=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,S.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var f;return(f=this.session)===null||f===void 0?void 0:f.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(f){var _;(_=this.session)===null||_===void 0||_.setExpanded(f)}setActive(f){var _;this.active=f,f&&((_=this.session)===null||_===void 0||_.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(54).enabled||this.session&&this.session.isValid||this.trigger(t.InlineCompletionTriggerKind.Automatic)}trigger(f){if(this.completionSession.value){f===t.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new s(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,f),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var f;(f=this.session)===null||f===void 0||f.commitCurrentCompletion()}showNext(){var f;(f=this.session)===null||f===void 0||f.showNextInlineCompletion()}showPrevious(){var f;(f=this.session)===null||f===void 0||f.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var f;return De(this,void 0,void 0,function*(){const _=yield(f=this.session)===null||f===void 0?void 0:f.hasMultipleInlineCompletions();return _!==void 0?_:!1})}};d=Be([fe(2,n.ICommandService)],d),e.InlineCompletionsModel=d;class s extends i.BaseGhostTextWidgetModel{constructor(f,_,I,E,T,k){super(f);this.triggerPosition=_,this.shouldUpdate=I,this.commandService=E,this.cache=T,this.initialTriggerKind=k,this.minReservedLineCount=0,this.updateOperation=this._register(new S.MutableDisposable),this.updateSoon=this._register(new w.RunOnceScheduler(()=>{let P=this.initialTriggerKind;return this.initialTriggerKind=t.InlineCompletionTriggerKind.Automatic,this.update(P)},50)),this.currentlySelectedCompletionId=void 0;let A;this._register(this.onDidChange(()=>{const P=this.currentCompletion;if(P&&P.sourceInlineCompletion!==A){A=P.sourceInlineCompletion;const F=P.sourceProvider;F.handleItemDidShow&&F.handleItemDidShow(P.sourceInlineCompletions,A)}})),this._register((0,S.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(P=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(P=>{this.scheduleAutomaticUpdate()})),this._register(t.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const f=this.cache.value.completions.findIndex(_=>_.semanticId===this.currentlySelectedCompletionId);return f===-1?(this.currentlySelectedCompletionId=void 0,0):f}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var f;return De(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((f=this.cache.value)===null||f===void 0?void 0:f.completions)||[];if(_.length>0){const I=(this.fixAndGetIndexOfCurrentSelection()+1)%_.length;this.currentlySelectedCompletionId=_[I].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var f;return De(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((f=this.cache.value)===null||f===void 0?void 0:f.completions)||[];if(_.length>0){const I=(this.fixAndGetIndexOfCurrentSelection()+_.length-1)%_.length;this.currentlySelectedCompletionId=_[I].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var f;return De(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===t.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(t.InlineCompletionTriggerKind.Explicit):((f=this.cache.value)===null||f===void 0?void 0:f.triggerKind)!==t.InlineCompletionTriggerKind.Explicit&&(yield this.update(t.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var f;return De(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((f=this.cache.value)===null||f===void 0?void 0:f.completions.length)||0)>1})}get ghostText(){const f=this.currentCompletion,_=this.editor.getOptions().get(54).mode;return f?(0,c.inlineCompletionToGhostText)(f,this.editor.getModel(),_,this.editor.getPosition()):void 0}get currentCompletion(){const f=this.currentCachedCompletion;if(!!f)return f.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(f){return De(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const _=this.editor.getPosition(),I=(0,w.createCancelablePromise)(T=>De(this,void 0,void 0,function*(){let k;try{k=yield m(_,this.editor.getModel(),{triggerKind:f,selectedSuggestionInfo:void 0},T)}catch(A){(0,N.onUnexpectedError)(A);return}T.isCancellationRequested||(this.cache.setValue(this.editor,k,f),this.onDidChangeEmitter.fire())})),E=new r(I,f);this.updateOperation.value=E,yield I,this.updateOperation.value===E&&this.updateOperation.clear()})}takeOwnership(f){this._register(f)}commitCurrentCompletion(){if(!this.ghostText)return;const f=this.currentCompletion;f&&this.commit(f)}commit(f){const _=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[u.EditOperation.replaceMove(f.range,f.text)]),f.command?this.commandService.executeCommand(f.command.id,...f.command.arguments||[]).finally(()=>{_==null||_.dispose()}).then(void 0,N.onUnexpectedExternalError):_==null||_.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=s;class r{constructor(f,_){this.promise=f,this.triggerKind=_}dispose(){this.promise.cancel()}}e.UpdateOperation=r;class o extends S.Disposable{constructor(f,_,I,E){super();this.triggerKind=E;const T=f.deltaDecorations([],_.items.map(k=>({range:k.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,S.toDisposable)(()=>{f.deltaDecorations(T,[])})),this.completions=_.items.map((k,A)=>new l(k,T[A])),this._register(f.onDidChangeModelContent(()=>{let k=!1;const A=f.getModel();for(const P of this.completions){const F=A.getDecorationRange(P.decorationId);if(!F){(0,N.onUnexpectedError)(new Error("Decoration has no range"));continue}P.synchronizedRange.equalsRange(F)||(k=!0,P.synchronizedRange=F)}k&&I()})),this._register(_)}}e.SynchronizedInlineCompletionsCache=o;class l{constructor(f,_){this.inlineCompletion=f,this.decorationId=_,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=f.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function h(p,f){const _=f.getWordAtPosition(p),I=f.getLineMaxColumn(p.lineNumber);return _?new g.Range(p.lineNumber,_.startColumn,p.lineNumber,I):g.Range.fromPositions(p,p.with(void 0,I))}function m(p,f,_,I=C.CancellationToken.None){return De(this,void 0,void 0,function*(){const E=h(p,f),T=t.InlineCompletionsProviderRegistry.all(f),k=yield Promise.all(T.map(P=>De(this,void 0,void 0,function*(){const F=yield P.provideInlineCompletions(f,p,_,I);return{completions:F,provider:P,dispose:()=>{F&&P.freeInlineCompletions(F)}}}))),A=new Map;for(const P of k){const F=P.completions;if(F)for(const R of F.items.map(M=>({text:M.text,range:M.range?g.Range.lift(M.range):E,command:M.command,sourceProvider:P.provider,sourceInlineCompletions:F,sourceInlineCompletion:M})))R.range.startLineNumber===R.range.endLineNumber&&A.set(JSON.stringify({text:R.text,range:R.range}),R)}return{items:[...A.values()],dispose:()=>{for(const P of k)P.dispose()}}})}e.provideInlineCompletions=m;function y(p,f){if(!f)return f;const _=p.getValueInRange(f.range),I=(0,b.commonPrefixLength)(_,f.text),E=p.getOffsetAt(f.range.getStartPosition())+I,T=p.getPositionAt(E),k=_.substr(I),A=(0,b.commonSuffixLength)(k,f.text),P=p.getPositionAt(Math.max(E,p.getOffsetAt(f.range.getEndPosition())-A));return{range:g.Range.fromPositions(T,P),text:f.text.substr(I,f.text.length-I-A)}}e.minimizeInlineCompletion=y}),define(Q[716],J([0,1,15,203,24,539]),function(H,e,w,C,N,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends w.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|42}})}run(v,u,g){if(g=g||{},!u.hasModel())return;const t=u._getViewModel();t.model.pushStackElement(),t.setCursorStates(g.source,3,C.CursorMoveCommands.expandLineSelection(t,t.getCursorStates())),t.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=S,(0,w.registerEditorAction)(S)}),define(Q[717],J([0,1,8,199,3,21,114,35,248]),function(H,e,w,C,N,D,S,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class u{constructor(t,i,n){this._selection=t,this._isMovingDown=i,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,i){let n=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=i.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=i.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let a=this._selection;a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,t.getLineMaxColumn(a.endLineNumber-1)));const{tabSize:c,indentSize:d,insertSpaces:s}=t.getOptions();let r=this.buildIndentConverter(c,d,s),o={getLineTokens:l=>t.getLineTokens(l),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(l,h)=>t.getLanguageIdAtPosition(l,h),getLineContent:null};if(a.startLineNumber===a.endLineNumber&&t.getLineMaxColumn(a.startLineNumber)===1){let l=a.startLineNumber,h=this._isMovingDown?l+1:l-1;t.getLineMaxColumn(h)===1?i.addEditOperation(new N.Range(1,1,1,1),null):(i.addEditOperation(new N.Range(l,1,l,1),t.getLineContent(h)),i.addEditOperation(new N.Range(h,1,h,t.getLineMaxColumn(h)),null)),a=new D.Selection(h,1,h,1)}else{let l,h;if(this._isMovingDown){l=a.endLineNumber+1,h=t.getLineContent(l),i.addEditOperation(new N.Range(l-1,t.getLineMaxColumn(l-1),l,t.getLineMaxColumn(l)),null);let m=h;if(this.shouldAutoIndent(t,a)){let y=this.matchEnterRule(t,r,c,l,a.startLineNumber-1);if(y!==null){let f=w.getLeadingWhitespace(t.getLineContent(l)),_=y+v.getSpaceCnt(f,c);m=v.generateIndent(_,c,s)+this.trimLeft(h)}else{o.getLineContent=_=>_===a.startLineNumber?t.getLineContent(l):t.getLineContent(_);let f=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,o,t.getLanguageIdAtPosition(l,1),a.startLineNumber,r);if(f!==null){let _=w.getLeadingWhitespace(t.getLineContent(l)),I=v.getSpaceCnt(f,c),E=v.getSpaceCnt(_,c);I!==E&&(m=v.generateIndent(I,c,s)+this.trimLeft(h))}}i.addEditOperation(new N.Range(a.startLineNumber,1,a.startLineNumber,1),m+`
`);let p=this.matchEnterRuleMovingDown(t,r,c,a.startLineNumber,l,m);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,i,a,c,s,p);else{o.getLineContent=_=>_===a.startLineNumber?m:_>=a.startLineNumber+1&&_<=a.endLineNumber+1?t.getLineContent(_-1):t.getLineContent(_);let f=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,o,t.getLanguageIdAtPosition(l,1),a.startLineNumber+1,r);if(f!==null){const _=w.getLeadingWhitespace(t.getLineContent(a.startLineNumber)),I=v.getSpaceCnt(f,c),E=v.getSpaceCnt(_,c);if(I!==E){const T=I-E;this.getIndentEditsOfMovingBlock(t,i,a,c,s,T)}}}}else i.addEditOperation(new N.Range(a.startLineNumber,1,a.startLineNumber,1),m+`
`)}else if(l=a.startLineNumber-1,h=t.getLineContent(l),i.addEditOperation(new N.Range(l,1,l+1,1),null),i.addEditOperation(new N.Range(a.endLineNumber,t.getLineMaxColumn(a.endLineNumber),a.endLineNumber,t.getLineMaxColumn(a.endLineNumber)),`
`+h),this.shouldAutoIndent(t,a)){o.getLineContent=y=>y===l?t.getLineContent(a.startLineNumber):t.getLineContent(y);let m=this.matchEnterRule(t,r,c,a.startLineNumber,a.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(t,i,a,c,s,m);else{let y=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,o,t.getLanguageIdAtPosition(a.startLineNumber,1),l,r);if(y!==null){let p=w.getLeadingWhitespace(t.getLineContent(a.startLineNumber)),f=v.getSpaceCnt(y,c),_=v.getSpaceCnt(p,c);if(f!==_){let I=f-_;this.getIndentEditsOfMovingBlock(t,i,a,c,s,I)}}}}}this._selectionId=i.trackSelection(a)}buildIndentConverter(t,i,n){return{shiftIndent:a=>C.ShiftCommand.shiftIndent(a,a.length+1,t,i,n),unshiftIndent:a=>C.ShiftCommand.unshiftIndent(a,a.length+1,t,i,n)}}parseEnterResult(t,i,n,a,c){if(c){let d=c.indentation;c.indentAction===S.IndentAction.None||c.indentAction===S.IndentAction.Indent?d=c.indentation+c.appendText:c.indentAction===S.IndentAction.IndentOutdent?d=c.indentation:c.indentAction===S.IndentAction.Outdent&&(d=i.unshiftIndent(c.indentation)+c.appendText);let s=t.getLineContent(a);if(this.trimLeft(s).indexOf(this.trimLeft(d))>=0){let r=w.getLeadingWhitespace(t.getLineContent(a)),o=w.getLeadingWhitespace(d),l=b.LanguageConfigurationRegistry.getIndentMetadata(t,a);l!==null&&l&2&&(o=i.unshiftIndent(o));let h=v.getSpaceCnt(o,n),m=v.getSpaceCnt(r,n);return h-m}}return null}matchEnterRuleMovingDown(t,i,n,a,c,d){if(w.lastNonWhitespaceIndex(d)>=0){let s=t.getLineMaxColumn(c),r=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(c,s,c,s));return this.parseEnterResult(t,i,n,a,r)}else{let s=a-1;for(;s>=1;){let l=t.getLineContent(s);if(w.lastNonWhitespaceIndex(l)>=0)break;s--}if(s<1||a>t.getLineCount())return null;let r=t.getLineMaxColumn(s),o=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(s,r,s,r));return this.parseEnterResult(t,i,n,a,o)}}matchEnterRule(t,i,n,a,c,d){let s=c;for(;s>=1;){let l;if(s===c&&d!==void 0?l=d:l=t.getLineContent(s),w.lastNonWhitespaceIndex(l)>=0)break;s--}if(s<1||a>t.getLineCount())return null;let r=t.getLineMaxColumn(s),o=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(s,r,s,r));return this.parseEnterResult(t,i,n,a,o)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,i){if(this._autoIndent<4||!t.isCheapToTokenize(i.startLineNumber))return!1;let n=t.getLanguageIdAtPosition(i.startLineNumber,1),a=t.getLanguageIdAtPosition(i.endLineNumber,1);return!(n!==a||b.LanguageConfigurationRegistry.getIndentRulesSupport(n)===null)}getIndentEditsOfMovingBlock(t,i,n,a,c,d){for(let s=n.startLineNumber;s<=n.endLineNumber;s++){let r=t.getLineContent(s),o=w.getLeadingWhitespace(r),h=v.getSpaceCnt(o,a)+d,m=v.generateIndent(h,a,c);m!==o&&(i.addEditOperation(new N.Range(s,1,s,o.length+1),m),s===n.endLineNumber&&n.endColumn<=o.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}e.MoveLinesCommand=u}),define(Q[718],J([0,1,55,159,15,98,397,202,59,11,3,21,24,449,717,450,540,37]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class r extends N.EditorAction{constructor(j,W){super(W);this.down=j}run(j,W){if(!W.hasModel())return;const V=W.getSelections().map((ce,ie)=>({selection:ce,index:ie,ignore:!1}));V.sort((ce,ie)=>g.Range.compareRangesUsingStarts(ce.selection,ie.selection));let G=V[0];for(let ce=1;ce<V.length;ce++){const ie=V[ce];G.selection.endLineNumber===ie.selection.startLineNumber&&(G.index<ie.index?ie.ignore=!0:(G.ignore=!0,G=ie))}const oe=[];for(const ce of V)oe.push(new n.CopyLinesCommand(ce.selection,this.down,ce.ignore));W.pushUndoStop(),W.executeCommands(this.id,oe),W.pushUndoStop()}}class o extends r{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:d.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(1,null),order:1}})}}class l extends r{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:d.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(3,null),order:2}})}}class h extends N.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:d.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(5,null),order:5}})}run(j,W,V){if(!W.hasModel())return;const G=[],oe=W.getSelections(),ce=W.getModel();for(const ie of oe)if(ie.isEmpty())G.push(new n.CopyLinesCommand(ie,!0));else{const de=new t.Selection(ie.endLineNumber,ie.endColumn,ie.endLineNumber,ie.endColumn);G.push(new D.ReplaceCommandThatSelectsText(de,ce.getValueInRange(ie)))}W.pushUndoStop(),W.executeCommands(this.id,G),W.pushUndoStop()}}e.DuplicateSelectionAction=h;class m extends N.EditorAction{constructor(j,W){super(W);this.down=j}run(j,W){let V=[],G=W.getSelections()||[];const oe=W.getOption(9);for(const ce of G)V.push(new a.MoveLinesCommand(ce,this.down,oe));W.pushUndoStop(),W.executeCommands(this.id,V),W.pushUndoStop()}}class y extends m{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:d.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(7,null),order:3}})}}class p extends m{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:d.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(9,null),order:4}})}}class f extends N.EditorAction{constructor(j,W){super(W);this.descending=j}run(j,W){const V=W.getSelections()||[];for(const oe of V)if(!c.SortLinesCommand.canRun(W.getModel(),oe,this.descending))return;let G=[];for(let oe=0,ce=V.length;oe<ce;oe++)G[oe]=new c.SortLinesCommand(V[oe],this.descending);W.pushUndoStop(),W.executeCommands(this.id,G),W.pushUndoStop()}}e.AbstractSortLinesAction=f;class _ extends f{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:d.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=_;class I extends f{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:d.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=I;class E extends N.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:d.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(j,W){if(!W.hasModel())return;let V=W.getModel();if(V.getLineCount()===1&&V.getLineMaxColumn(1)===1)return;let G=[],oe=[],ce=0;for(let ie of W.getSelections()){let de=new Set,q=[];for(let te=ie.startLineNumber;te<=ie.endLineNumber;te++){let ae=V.getLineContent(te);de.has(ae)||(q.push(ae),de.add(ae))}let z=new t.Selection(ie.startLineNumber,1,ie.endLineNumber,V.getLineMaxColumn(ie.endLineNumber)),$=ie.startLineNumber-ce,se=new t.Selection($,1,$+q.length-1,q[q.length-1].length);G.push(v.EditOperation.replace(z,q.join(`
`))),oe.push(se),ce+=ie.endLineNumber-ie.startLineNumber+1-q.length}W.pushUndoStop(),W.executeEdits(this.id,G,oe),W.pushUndoStop()}}e.DeleteDuplicateLinesAction=E;class T extends N.EditorAction{constructor(){super({id:T.ID,label:d.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|54),weight:100}})}run(j,W,V){let G=[];V.reason==="auto-save"&&(G=(W.getSelections()||[]).map(ie=>new u.Position(ie.positionLineNumber,ie.positionColumn)));let oe=W.getSelection();if(oe===null)return;let ce=new S.TrimTrailingWhitespaceCommand(oe,G);W.pushUndoStop(),W.executeCommands(this.id,[ce]),W.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class k extends N.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:d.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(j,W){if(!W.hasModel())return;let V=this._getLinesToRemove(W),G=W.getModel();if(G.getLineCount()===1&&G.getLineMaxColumn(1)===1)return;let oe=0,ce=[],ie=[];for(let de=0,q=V.length;de<q;de++){const z=V[de];let $=z.startLineNumber,se=z.endLineNumber,te=1,ae=G.getLineMaxColumn(se);se<G.getLineCount()?(se+=1,ae=1):$>1&&($-=1,te=G.getLineMaxColumn($)),ce.push(v.EditOperation.replace(new t.Selection($,te,se,ae),"")),ie.push(new t.Selection($-oe,z.positionColumn,$-oe,z.positionColumn)),oe+=z.endLineNumber-z.startLineNumber+1}W.pushUndoStop(),W.executeEdits(this.id,ce,ie),W.pushUndoStop()}_getLinesToRemove(j){let W=j.getSelections().map(oe=>{let ce=oe.endLineNumber;return oe.startLineNumber<oe.endLineNumber&&oe.endColumn===1&&(ce-=1),{startLineNumber:oe.startLineNumber,selectionStartColumn:oe.selectionStartColumn,endLineNumber:ce,positionColumn:oe.positionColumn}});W.sort((oe,ce)=>oe.startLineNumber===ce.startLineNumber?oe.endLineNumber-ce.endLineNumber:oe.startLineNumber-ce.startLineNumber);let V=[],G=W[0];for(let oe=1;oe<W.length;oe++)G.endLineNumber+1>=W[oe].startLineNumber?G.endLineNumber=W[oe].endLineNumber:(V.push(G),G=W[oe]);return V.push(G),V}}e.DeleteLinesAction=k;class A extends N.EditorAction{constructor(){super({id:"editor.action.indentLines",label:d.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(j,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.indent(V.cursorConfig,W.getModel(),W.getSelections())),W.pushUndoStop())}}e.IndentLinesAction=A;class P extends N.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:d.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(j,W){C.CoreEditingCommands.Outdent.runEditorCommand(j,W,null)}}class F extends N.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:d.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(j,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.lineInsertBefore(V.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineBeforeAction=F;class R extends N.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:d.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(j,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.lineInsertAfter(V.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineAfterAction=R;class M extends N.EditorAction{run(j,W){if(!W.hasModel())return;const V=W.getSelection();let G=this._getRangesToDelete(W),oe=[];for(let de=0,q=G.length-1;de<q;de++){let z=G[de],$=G[de+1];g.Range.intersectRanges(z,$)===null?oe.push(z):G[de+1]=g.Range.plusRange(z,$)}oe.push(G[G.length-1]);let ce=this._getEndCursorState(V,oe),ie=oe.map(de=>v.EditOperation.replace(de,""));W.pushUndoStop(),W.executeEdits(this.id,ie,ce),W.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=M;class O extends M{constructor(){super({id:"deleteAllLeft",label:d.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(j,W){let V=null,G=[],oe=0;return W.forEach(ce=>{let ie;if(ce.endColumn===1&&oe>0){let de=ce.startLineNumber-oe;ie=new t.Selection(de,ce.startColumn,de,ce.startColumn)}else ie=new t.Selection(ce.startLineNumber,ce.startColumn,ce.startLineNumber,ce.startColumn);oe+=ce.endLineNumber-ce.startLineNumber,ce.intersectRanges(j)?V=ie:G.push(ie)}),V&&G.unshift(V),G}_getRangesToDelete(j){let W=j.getSelections();if(W===null)return[];let V=W,G=j.getModel();return G===null?[]:(V.sort(g.Range.compareRangesUsingStarts),V=V.map(oe=>{if(oe.isEmpty())if(oe.startColumn===1){let ce=Math.max(1,oe.startLineNumber-1),ie=oe.startLineNumber===1?1:G.getLineContent(ce).length+1;return new g.Range(ce,ie,oe.startLineNumber,1)}else return new g.Range(oe.startLineNumber,1,oe.startLineNumber,oe.startColumn);else return new g.Range(oe.startLineNumber,1,oe.endLineNumber,oe.endColumn)}),V)}}e.DeleteAllLeftAction=O;class L extends M{constructor(){super({id:"deleteAllRight",label:d.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(j,W){let V=null,G=[];for(let oe=0,ce=W.length,ie=0;oe<ce;oe++){let de=W[oe],q=new t.Selection(de.startLineNumber-ie,de.startColumn,de.startLineNumber-ie,de.startColumn);de.intersectRanges(j)?V=q:G.push(q)}return V&&G.unshift(V),G}_getRangesToDelete(j){let W=j.getModel();if(W===null)return[];let V=j.getSelections();if(V===null)return[];let G=V.map(oe=>{if(oe.isEmpty()){const ce=W.getLineMaxColumn(oe.startLineNumber);return oe.startColumn===ce?new g.Range(oe.startLineNumber,oe.startColumn,oe.startLineNumber+1,1):new g.Range(oe.startLineNumber,oe.startColumn,oe.startLineNumber,ce)}return oe});return G.sort(g.Range.compareRangesUsingStarts),G}}e.DeleteAllRightAction=L;class B extends N.EditorAction{constructor(){super({id:"editor.action.joinLines",label:d.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(j,W){let V=W.getSelections();if(V===null)return;let G=W.getSelection();if(G===null)return;V.sort(g.Range.compareRangesUsingStarts);let oe=[],ce=V.reduce((se,te)=>se.isEmpty()?se.endLineNumber===te.startLineNumber?(G.equalsSelection(se)&&(G=te),te):te.startLineNumber>se.endLineNumber+1?(oe.push(se),te):new t.Selection(se.startLineNumber,se.startColumn,te.endLineNumber,te.endColumn):te.startLineNumber>se.endLineNumber?(oe.push(se),te):new t.Selection(se.startLineNumber,se.startColumn,te.endLineNumber,te.endColumn));oe.push(ce);let ie=W.getModel();if(ie===null)return;let de=[],q=[],z=G,$=0;for(let se=0,te=oe.length;se<te;se++){let ae=oe[se],me=ae.startLineNumber,_e=1,we=0,le,he,ue=ie.getLineContent(ae.endLineNumber).length-ae.endColumn;if(ae.isEmpty()||ae.startLineNumber===ae.endLineNumber){let ge=ae.getStartPosition();ge.lineNumber<ie.getLineCount()?(le=me+1,he=ie.getLineMaxColumn(le)):(le=ge.lineNumber,he=ie.getLineMaxColumn(ge.lineNumber))}else le=ae.endLineNumber,he=ie.getLineMaxColumn(le);let ve=ie.getLineContent(me);for(let ge=me+1;ge<=le;ge++){let ye=ie.getLineContent(ge),Ae=ie.getLineFirstNonWhitespaceColumn(ge);if(Ae>=1){let Oe=!0;ve===""&&(Oe=!1),Oe&&(ve.charAt(ve.length-1)===" "||ve.charAt(ve.length-1)==="	")&&(Oe=!1,ve=ve.replace(/[\s\uFEFF\xA0]+$/g," "));let He=ye.substr(Ae-1);ve+=(Oe?" ":"")+He,Oe?we=He.length+1:we=He.length}else we=0}let re=new g.Range(me,_e,le,he);if(!re.isEmpty()){let ge;ae.isEmpty()?(de.push(v.EditOperation.replace(re,ve)),ge=new t.Selection(re.startLineNumber-$,ve.length-we+1,me-$,ve.length-we+1)):ae.startLineNumber===ae.endLineNumber?(de.push(v.EditOperation.replace(re,ve)),ge=new t.Selection(ae.startLineNumber-$,ae.startColumn,ae.endLineNumber-$,ae.endColumn)):(de.push(v.EditOperation.replace(re,ve)),ge=new t.Selection(ae.startLineNumber-$,ae.startColumn,ae.startLineNumber-$,ve.length-ue)),g.Range.intersectRanges(re,G)!==null?z=ge:q.push(ge)}$+=re.endLineNumber-re.startLineNumber}q.unshift(z),W.pushUndoStop(),W.executeEdits(this.id,de,q),W.pushUndoStop()}}e.JoinLinesAction=B;class x extends N.EditorAction{constructor(){super({id:"editor.action.transpose",label:d.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run(j,W){let V=W.getSelections();if(V===null)return;let G=W.getModel();if(G===null)return;let oe=[];for(let ce=0,ie=V.length;ce<ie;ce++){let de=V[ce];if(!de.isEmpty())continue;let q=de.getStartPosition(),z=G.getLineMaxColumn(q.lineNumber);if(q.column>=z){if(q.lineNumber===G.getLineCount())continue;let $=new g.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),se=G.getValueInRange($).split("").reverse().join("");oe.push(new D.ReplaceCommand(new t.Selection(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),se))}else{let $=new g.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber,q.column+1),se=G.getValueInRange($).split("").reverse().join("");oe.push(new D.ReplaceCommandThatPreservesSelection($,se,new t.Selection(q.lineNumber,q.column+1,q.lineNumber,q.column+1)))}}W.pushUndoStop(),W.executeCommands(this.id,oe),W.pushUndoStop()}}e.TransposeAction=x;class U extends N.EditorAction{run(j,W){const V=W.getSelections();if(V===null)return;const G=W.getModel();if(G===null)return;const oe=W.getOption(116),ce=[];for(const ie of V)if(ie.isEmpty()){const de=ie.getStartPosition(),q=W.getConfiguredWordAtPosition(de);if(!q)continue;const z=new g.Range(de.lineNumber,q.startColumn,de.lineNumber,q.endColumn),$=G.getValueInRange(z);ce.push(v.EditOperation.replace(z,this._modifyText($,oe)))}else{const de=G.getValueInRange(ie);ce.push(v.EditOperation.replace(ie,this._modifyText(de,oe)))}W.pushUndoStop(),W.executeEdits(this.id,ce),W.pushUndoStop()}}e.AbstractCaseAction=U;class K extends U{constructor(){super({id:"editor.action.transformToUppercase",label:d.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(j,W){return j.toLocaleUpperCase()}}e.UpperCaseAction=K;class Z extends U{constructor(){super({id:"editor.action.transformToLowercase",label:d.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(j,W){return j.toLocaleLowerCase()}}e.LowerCaseAction=Z;class ee{constructor(j,W){this._pattern=j,this._flags=W,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class X extends U{constructor(){super({id:"editor.action.transformToTitlecase",label:d.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(j,W){const V=X.titleBoundary.get();return V?j.toLocaleLowerCase().replace(V,G=>G.toLocaleUpperCase()):j}}e.TitleCaseAction=X,X.titleBoundary=new ee("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ne extends U{constructor(){super({id:"editor.action.transformToSnakecase",label:d.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(j,W){const V=ne.caseBoundary.get(),G=ne.singleLetters.get();return!V||!G?j:j.replace(V,"$1_$2").replace(G,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ne,ne.caseBoundary=new ee("(\\p{Ll})(\\p{Lu})","gmu"),ne.singleLetters=new ee("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(h),(0,N.registerEditorAction)(y),(0,N.registerEditorAction)(p),(0,N.registerEditorAction)(_),(0,N.registerEditorAction)(I),(0,N.registerEditorAction)(E),(0,N.registerEditorAction)(T),(0,N.registerEditorAction)(k),(0,N.registerEditorAction)(A),(0,N.registerEditorAction)(P),(0,N.registerEditorAction)(F),(0,N.registerEditorAction)(R),(0,N.registerEditorAction)(O),(0,N.registerEditorAction)(L),(0,N.registerEditorAction)(B),(0,N.registerEditorAction)(x),(0,N.registerEditorAction)(K),(0,N.registerEditorAction)(Z),ne.caseBoundary.isSupported()&&ne.singleLetters.isSupported()&&(0,N.registerEditorAction)(ne),X.titleBoundary.isSupported()&&(0,N.registerEditorAction)(X)}),define(Q[719],J([0,1,19,10,23,30,14,4,2,8,25,15,28,11,3,24,32,18,35,541,16,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new l.RawContextKey("LinkedEditingInputVisible",!1);const y="linked-editing-decoration";let p=class Qt extends v.Disposable{constructor(T,k,A){super();this.languageConfigurationService=A,this._debounceDuration=200,this._localToDispose=this._register(new v.DisposableStore),this._editor=T,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(k),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new v.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(61)||P.hasChanged(81))&&this.reinitialize(!1)})),this._register(s.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(T){return T.getContribution(Qt.ID)}reinitialize(T){const k=this._editor.getModel(),A=k!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&s.LinkedEditingRangeProviderRegistry.has(k);if(A===this._enabled&&!T||(this._enabled=A,this.clearRanges(),this._localToDispose.clear(),!A||k===null))return;this._localToDispose.add(b.Event.runAndSubscribe(k.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(k.getLanguageId()).getWordDefinition()}));const P=new C.Delayer(this._debounceDuration),F=()=>{this._rangeUpdateTriggerPromise=P.trigger(()=>this.updateRanges(),this._debounceDuration)},R=new C.Delayer(0),M=O=>{this._rangeSyncTriggerPromise=R.trigger(()=>this._syncRanges(O))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{F()})),this._localToDispose.add(this._editor.onDidChangeModelContent(O=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const L=k.getDecorationRange(this._currentDecorations[0]);if(L&&O.changes.every(B=>L.intersectRanges(B.range))){M(this._currentDecorations);return}}F()})),this._localToDispose.add({dispose:()=>{P.cancel(),R.cancel()}}),this.updateRanges()}_syncRanges(T){if(!this._editor.hasModel()||T!==this._currentDecorations||T.length===0)return;const k=this._editor.getModel(),A=k.getDecorationRange(T[0]);if(!A||A.startLineNumber!==A.endLineNumber)return this.clearRanges();const P=k.getValueInRange(A);if(this._currentWordPattern){const R=P.match(this._currentWordPattern);if((R?R[0].length:0)!==P.length)return this.clearRanges()}let F=[];for(let R=1,M=T.length;R<M;R++){const O=k.getDecorationRange(T[R]);if(!!O)if(O.startLineNumber!==O.endLineNumber)F.push({range:O,text:P});else{let L=k.getValueInRange(O),B=P,x=O.startColumn,U=O.endColumn;const K=u.commonPrefixLength(L,B);x+=K,L=L.substr(K),B=B.substr(K);const Z=u.commonSuffixLength(L,B);U-=Z,L=L.substr(0,L.length-Z),B=B.substr(0,B.length-Z),(x!==U||B.length!==0)&&F.push({range:new a.Range(O.startLineNumber,x,O.endLineNumber,U),text:B})}}if(F.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",F),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(T=!1){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const k=this._editor.getPosition();if(!this._enabled&&!T||this._editor.getSelections().length>1){this.clearRanges();return}const A=this._editor.getModel(),P=A.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===P){if(k.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const R=A.getDecorationRange(this._currentDecorations[0]);if(R&&R.containsPosition(k))return}}this._currentRequestPosition=k,this._currentRequestModelVersion=P;const F=(0,C.createCancelablePromise)(R=>De(this,void 0,void 0,function*(){try{const M=yield I(A,k,R);if(F!==this._currentRequest||(this._currentRequest=null,P!==A.getVersionId()))return;let O=[];(M==null?void 0:M.ranges)&&(O=M.ranges),this._currentWordPattern=(M==null?void 0:M.wordPattern)||this._languageWordPattern;let L=!1;for(let x=0,U=O.length;x<U;x++)if(a.Range.containsPosition(O[x],k)){if(L=!0,x!==0){const K=O[x];O.splice(x,1),O.unshift(K)}break}if(!L){this.clearRanges();return}const B=O.map(x=>({range:x,options:Qt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,B)}catch(M){(0,S.isPromiseCanceledError)(M)||(0,S.onUnexpectedError)(M),(this._currentRequest===F||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=F,F})}};p.ID="editor.contrib.linkedEditing",p.DECORATION=d.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:y}),p=Be([fe(1,l.IContextKeyService),fe(2,r.ILanguageConfigurationService)],p),e.LinkedEditingContribution=p;class f extends t.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:o.localize(0,null),alias:"Start Linked Editing",precondition:l.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(T,k){const A=T.get(i.ICodeEditorService),[P,F]=Array.isArray(k)&&k||[void 0,void 0];return g.URI.isUri(P)&&n.Position.isIPosition(F)?A.openCodeEditor({resource:P},A.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(F),R.invokeWithinContext(M=>(this.reportTelemetry(M,R),this.run(M,R))))},S.onUnexpectedError):super.runCommand(T,k)}run(T,k){const A=p.get(k);return A?Promise.resolve(A.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=f;const _=t.EditorCommand.bindToContribution(p.get);(0,t.registerEditorCommand)(new _({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:E=>E.clearRanges(),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function I(E,T,k){const A=s.LinkedEditingRangeProviderRegistry.ordered(E);return(0,C.first)(A.map(P=>()=>De(this,void 0,void 0,function*(){try{return yield P.provideLinkedEditingRanges(E,T,k)}catch(F){(0,S.onUnexpectedExternalError)(F);return}})),P=>!!P&&w.isNonEmptyArray(P==null?void 0:P.ranges))}e.editorLinkedEditingBackground=(0,h.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hc:D.Color.fromHex("#f00").transparent(.3)},o.localize(1,null)),(0,m.registerThemingParticipant)((E,T)=>{const k=E.getColor(e.editorLinkedEditingBackground);k&&T.addRule(`.monaco-editor .${y} { background: ${k}; border-left-color: ${k}; }`)}),(0,t.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(E,T)=>I(E,T,N.CancellationToken.None)),(0,t.registerEditorContribution)(p.ID,p),(0,t.registerEditorAction)(f)}),define(Q[720],J([0,1,10,23,14,64,2,48,17,41,25,15,32,18,184,596,542,40,51,22,13,376]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(_,I){const E=_.url&&/^command:/i.test(_.url.toString()),T=_.tooltip?_.tooltip:E?d.localize(0,null):d.localize(1,null),k=I?v.isMacintosh?d.localize(2,null):d.localize(3,null):v.isMacintosh?d.localize(4,null):d.localize(5,null);if(_.url){let A="";if(/^command:/i.test(_.url.toString())){const F=_.url.toString().match(/^command:([^?#]+)/);if(F){const R=F[1];A=` "${d.localize(6,null,R)}"`}}return new D.MarkdownString("",!0).appendMarkdown(`[${T}](${_.url.toString(!0).replace(/ /g,"%20")}${A}) (${k})`)}else return new D.MarkdownString().appendText(`${T} (${k})`)}const m={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class y{constructor(I,E){this.link=I,this.decorationId=E}static decoration(I,E){return{range:I.range,options:y._getOptions(I,E,!1)}}static _getOptions(I,E,T){const k=Object.assign({},T?m.active:m.general);return k.hoverMessage=h(I,E),k}activate(I,E){I.changeDecorationOptions(this.decorationId,y._getOptions(this.link,E,!0))}deactivate(I,E){I.changeDecorationOptions(this.decorationId,y._getOptions(this.link,E,!1))}}let p=class Jt{constructor(I,E,T){this.listenersToRemove=new S.DisposableStore,this.editor=I,this.openerService=E,this.notificationService=T;let k=new a.ClickLinkGesture(I);this.listenersToRemove.add(k),this.listenersToRemove.add(k.onMouseMoveOrRelevantKeyDown(([A,P])=>{this._onEditorMouseMove(A,P)})),this.listenersToRemove.add(k.onExecute(A=>{this.onEditorMouseUp(A)})),this.listenersToRemove.add(k.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this.enabled=I.getOption(62),this.listenersToRemove.add(I.onDidChangeConfiguration(A=>{const P=I.getOption(62);this.enabled!==P&&(this.enabled=P,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(I.onDidChangeModelContent(A=>this.onChange())),this.listenersToRemove.add(I.onDidChangeModel(A=>this.onModelChanged())),this.listenersToRemove.add(I.onDidChangeModelLanguage(A=>this.onModelLanguageChanged())),this.listenersToRemove.add(n.LinkProviderRegistry.onDidChange(A=>this.onModelLanguageChanged())),this.timeout=new w.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(I){return I.getContribution(Jt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelLanguageChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),Jt.RECOMPUTE_TIME)}beginCompute(){return De(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const I=this.editor.getModel();if(!!n.LinkProviderRegistry.has(I)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=w.createCancelablePromise(E=>(0,c.getLinks)(I,E));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(E){(0,N.onUnexpectedError)(E)}finally{this.computePromise=null}}})}updateDecorations(I){const E=this.editor.getOption(69)==="altKey";let T=[],k=Object.keys(this.currentOccurrences);for(let F=0,R=k.length;F<R;F++){let M=k[F],O=this.currentOccurrences[M];T.push(O.decorationId)}let A=[];if(I)for(const F of I)A.push(y.decoration(F,E));let P=this.editor.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let F=0,R=P.length;F<R;F++){let M=new y(I[F],P[F]);this.currentOccurrences[M.decorationId]=M}}_onEditorMouseMove(I,E){const T=this.editor.getOption(69)==="altKey";if(this.isEnabled(I,E)){this.cleanUpActiveLinkDecoration();const k=this.getLinkOccurrence(I.target.position);k&&this.editor.changeDecorations(A=>{k.activate(A,T),this.activeLinkDecorationId=k.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const I=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(T=>{E.deactivate(T,I)}),this.activeLinkDecorationId=null}}onEditorMouseUp(I){if(!this.isEnabled(I))return;const E=this.getLinkOccurrence(I.target.position);!E||this.openLinkOccurrence(E,I.hasSideBySideModifier,!0)}openLinkOccurrence(I,E,T=!1){if(!this.openerService)return;const{link:k}=I;k.resolve(C.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===b.Schemas.file&&A.startsWith(`${b.Schemas.file}:`)){const F=g.URI.parse(A);if(F.scheme===b.Schemas.file){const R=u.originalFSPath(F);let M=null;R.startsWith("/./")?M=`.${R.substr(1)}`:R.startsWith("//./")&&(M=`.${R.substr(2)}`),M&&(A=u.joinPath(P,M))}}}return this.openerService.open(A,{openToSide:E,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0})},A=>{const P=A instanceof Error?A.message:A;P==="invalid"?this.notificationService.warn(d.localize(7,null,k.url.toString())):P==="missing"?this.notificationService.warn(d.localize(8,null)):(0,N.onUnexpectedError)(A)})}getLinkOccurrence(I){if(!this.editor.hasModel()||!I)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:I.lineNumber,endColumn:I.column},0,!0);for(const T of E){const k=this.currentOccurrences[T.id];if(k)return k}return null}isEnabled(I,E){return Boolean(I.target.type===6&&(I.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var I;this.timeout.cancel(),this.activeLinksList&&((I=this.activeLinksList)===null||I===void 0||I.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};p.ID="editor.linkDetector",p.RECOMPUTE_TIME=1e3,p=Be([fe(1,r.IOpenerService),fe(2,s.INotificationService)],p),e.LinkDetector=p;class f extends t.EditorAction{constructor(){super({id:"editor.action.openLink",label:d.localize(9,null),alias:"Open Link",precondition:void 0})}run(I,E){const T=p.get(E);if(!T||!E.hasModel())return;let k=E.getSelections();for(let A of k){let P=T.getLinkOccurrence(A.getEndPosition());P&&T.openLinkOccurrence(P,!1)}}}(0,t.registerEditorContribution)(p.ID,p),(0,t.registerEditorAction)(f),(0,l.registerThemingParticipant)((_,I)=>{const E=_.getColor(o.editorActiveLinkForeground);E&&I.addRule(`.monaco-editor .detected-link-active { color: ${E} !important; }`)})}),define(Q[721],J([0,1,43,10,55,2,15,203,3,21,24,53,32,18,290,544,37,16,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(U,K){const Z=K.filter(ee=>!U.find(X=>X.equals(ee)));if(Z.length>=1){const ee=Z.map(ne=>`line ${ne.viewState.position.lineNumber} column ${ne.viewState.position.column}`).join(", "),X=Z.length===1?c.localize(0,null,ee):c.localize(1,null,ee);(0,w.status)(X)}}class h extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:c.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(3,null),order:2}})}run(K,Z,ee){if(!Z.hasModel())return;let X=!0;ee&&ee.logicalLine===!1&&(X=!1);const ne=Z._getViewModel();if(ne.cursorConfig.readOnly)return;ne.pushStackElement();const Y=ne.getCursorStates();ne.setCursorStates(ee.source,3,b.CursorMoveCommands.addCursorUp(ne,Y,X)),ne.revealTopMostCursor(ee.source),l(Y,ne.getCursorStates())}}e.InsertCursorAbove=h;class m extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:c.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(5,null),order:3}})}run(K,Z,ee){if(!Z.hasModel())return;let X=!0;ee&&ee.logicalLine===!1&&(X=!1);const ne=Z._getViewModel();if(ne.cursorConfig.readOnly)return;ne.pushStackElement();const Y=ne.getCursorStates();ne.setCursorStates(ee.source,3,b.CursorMoveCommands.addCursorDown(ne,Y,X)),ne.revealBottomMostCursor(ee.source),l(Y,ne.getCursorStates())}}e.InsertCursorBelow=m;class y extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(7,null),order:4}})}getCursorsForSelection(K,Z,ee){if(!K.isEmpty()){for(let X=K.startLineNumber;X<K.endLineNumber;X++){let ne=Z.getLineMaxColumn(X);ee.push(new u.Selection(X,ne,X,ne))}K.endColumn>1&&ee.push(new u.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,Z){if(!Z.hasModel())return;const ee=Z.getModel(),X=Z.getSelections(),ne=Z._getViewModel(),Y=ne.getCursorStates();let j=[];X.forEach(W=>this.getCursorsForSelection(W,ee,j)),j.length>0&&Z.setSelections(j),l(Y,ne.getCursorStates())}}class p extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:c.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,Z){if(!Z.hasModel())return;const ee=Z.getSelections(),X=Z.getModel().getLineCount();let ne=[];for(let W=ee[0].startLineNumber;W<=X;W++)ne.push(new u.Selection(W,ee[0].startColumn,W,ee[0].endColumn));const Y=Z._getViewModel(),j=Y.getCursorStates();ne.length>0&&Z.setSelections(ne),l(j,Y.getCursorStates())}}class f extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:c.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,Z){if(!Z.hasModel())return;const ee=Z.getSelections();let X=[];for(let j=ee[0].startLineNumber;j>=1;j--)X.push(new u.Selection(j,ee[0].startColumn,j,ee[0].endColumn));const ne=Z._getViewModel(),Y=ne.getCursorStates();X.length>0&&Z.setSelections(X),l(Y,ne.getCursorStates())}}class _{constructor(K,Z,ee){this.selections=K,this.revealRange=Z,this.revealScrollType=ee}}e.MultiCursorSessionResult=_;class I{constructor(K,Z,ee,X,ne,Y,j){this._editor=K,this.findController=Z,this.isDisconnectedFromFindController=ee,this.searchText=X,this.wholeWord=ne,this.matchCase=Y,this.currentMatch=j}static create(K,Z){if(!K.hasModel())return null;const ee=Z.getState();if(!K.hasTextFocus()&&ee.isRevealed&&ee.searchString.length>0)return new I(K,Z,!1,ee.searchString,ee.wholeWord,ee.matchCase,null);let X=!1,ne,Y;const j=K.getSelections();j.length===1&&j[0].isEmpty()?(X=!0,ne=!0,Y=!0):(ne=ee.wholeWord,Y=ee.matchCase);const W=K.getSelection();let V,G=null;if(W.isEmpty()){const oe=K.getConfiguredWordAtPosition(W.getStartPosition());if(!oe)return null;V=oe.word,G=new u.Selection(W.startLineNumber,oe.startColumn,W.startLineNumber,oe.endColumn)}else V=K.getModel().getValueInRange(W).replace(/\r\n/g,`
`);return new I(K,Z,X,V,ne,Y,G)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const Z=this._editor.getSelections();return new _(Z.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const Z=this._editor.getSelections();return new _(Z.slice(0,Z.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const X=this.currentMatch;return this.currentMatch=null,X}this.findController.highlightFindOptions();const K=this._editor.getSelections(),Z=K[K.length-1],ee=this._editor.getModel().findNextMatch(this.searchText,Z.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return ee?new u.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const Z=this._editor.getSelections();return new _(Z.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const Z=this._editor.getSelections();return new _(Z.slice(0,Z.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const X=this.currentMatch;return this.currentMatch=null,X}this.findController.highlightFindOptions();const K=this._editor.getSelections(),Z=K[K.length-1],ee=this._editor.getModel().findPreviousMatch(this.searchText,Z.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return ee?new u.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}e.MultiCursorSession=I;class E extends D.Disposable{constructor(K){super();this._sessionDispose=this._register(new D.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}static get(K){return K.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const Z=I.create(this._editor,K);if(!Z)return;this._session=Z;const ee={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ee.wholeWordOverride=1,ee.matchCaseOverride=1,ee.isRegexOverride=2),K.getState().change(ee,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(X=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(X=>{(X.matchCase||X.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,Z){if(!Z.isEmpty())return Z;const ee=this._editor.getConfiguredWordAtPosition(Z.getStartPosition());return ee?new u.Selection(Z.startLineNumber,ee.startColumn,Z.startLineNumber,ee.endColumn):Z}_applySessionResult(K){!K||(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(!!this._editor.hasModel()){if(!this._session){const Z=this._editor.getSelections();if(Z.length>1){const X=K.getState().matchCase;if(!B(this._editor.getModel(),Z,X)){const Y=this._editor.getModel();let j=[];for(let W=0,V=Z.length;W<V;W++)j[W]=this._expandEmptyToWord(Y,Z[W]);this._editor.setSelections(j);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let Z=null;const ee=K.getState();if(ee.isRevealed&&ee.searchString.length>0&&ee.isRegex)Z=this._editor.getModel().findMatches(ee.searchString,!0,ee.isRegex,ee.matchCase,ee.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(K),!this._session)return;Z=this._session.selectAll()}if(ee.searchScope){const X=ee.searchScope;let ne=[];Z.forEach(Y=>{X.forEach(j=>{Y.range.endLineNumber<=j.endLineNumber&&Y.range.startLineNumber>=j.startLineNumber&&ne.push(Y)})}),Z=ne}if(Z.length>0){const X=this._editor.getSelection();for(let ne=0,Y=Z.length;ne<Y;ne++){const j=Z[ne];if(j.range.intersectRanges(X)){Z[ne]=Z[0],Z[0]=j;break}}this._setSelections(Z.map(ne=>new u.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class T extends S.EditorAction{run(K,Z){const ee=E.get(Z);if(!ee)return;const X=a.CommonFindController.get(Z);if(!X)return;const ne=Z._getViewModel();if(ne){const Y=ne.getCursorStates();this._run(ee,X),l(Y,ne.getCursorStates())}}}e.MultiCursorSelectionControllerAction=T;class k extends T{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:c.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(11,null),order:5}})}_run(K,Z){K.addSelectionToNextFindMatch(Z)}}e.AddSelectionToNextFindMatchAction=k;class A extends T{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:c.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(13,null),order:6}})}_run(K,Z){K.addSelectionToPreviousFindMatch(Z)}}e.AddSelectionToPreviousFindMatchAction=A;class P extends T{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:c.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,N.KeyChord)(2048|41,2048|34),weight:100}})}_run(K,Z){K.moveSelectionToNextFindMatch(Z)}}e.MoveSelectionToNextFindMatchAction=P;class F extends T{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:c.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,Z){K.moveSelectionToPreviousFindMatch(Z)}}e.MoveSelectionToPreviousFindMatchAction=F;class R extends T{constructor(){super({id:"editor.action.selectHighlights",label:c.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:c.localize(17,null),order:7}})}_run(K,Z){K.selectAll(Z)}}e.SelectHighlightsAction=R;class M extends T{constructor(){super({id:"editor.action.changeAll",label:c.localize(18,null),alias:"Change All Occurrences",precondition:s.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,Z){K.selectAll(Z)}}e.CompatChangeAll=M;class O{constructor(K,Z,ee,X,ne){this._model=K,this._searchText=Z,this._matchCase=ee,this._wordSeparators=X,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ne&&this._model===ne._model&&this._searchText===ne._searchText&&this._matchCase===ne._matchCase&&this._wordSeparators===ne._wordSeparators&&this._modelVersionId===ne._modelVersionId&&(this._cachedFindMatches=ne._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(v.Range.compareRangesUsingStarts)),this._cachedFindMatches}}class L extends D.Disposable{constructor(K){super();this.editor=K,this._isEnabled=K.getOption(96),this.decorations=[],this.updateSoon=this._register(new C.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(ee=>{this._isEnabled=K.getOption(96)})),this._register(K.onDidChangeCursorSelection(ee=>{!this._isEnabled||(ee.selection.isEmpty()?ee.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(ee=>{this._setState(null)})),this._register(K.onDidChangeModelContent(ee=>{this._isEnabled&&this.updateSoon.schedule()}));const Z=a.CommonFindController.get(K);Z&&this._register(Z.getState().onFindReplaceStateChange(ee=>{this._update()}))}_update(){this._setState(L._createState(this.state,this._isEnabled,this.editor))}static _createState(K,Z,ee){if(!Z||!ee.hasModel())return null;const X=ee.getSelection();if(X.startLineNumber!==X.endLineNumber)return null;const ne=E.get(ee);if(!ne)return null;const Y=a.CommonFindController.get(ee);if(!Y)return null;let j=ne.getSession(Y);if(!j){const G=ee.getSelections();if(G.length>1){const ce=Y.getState().matchCase;if(!B(ee.getModel(),G,ce))return null}j=I.create(ee,Y)}if(!j||j.currentMatch||/^[ \t]+$/.test(j.searchText)||j.searchText.length>200)return null;const W=Y.getState(),V=W.matchCase;if(W.isRevealed){let G=W.searchString;V||(G=G.toLowerCase());let oe=j.searchText;if(V||(oe=oe.toLowerCase()),G===oe&&j.matchCase===W.matchCase&&j.wholeWord===W.wholeWord&&!W.isRegex)return null}return new O(ee.getModel(),j.searchText,j.matchCase,j.wholeWord?ee.getOption(116):null,K)}_setState(K){if(this.state=K,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const Z=this.editor.getModel();if(Z.isTooLargeForTokenization())return;const ee=this.state.findMatches(),X=this.editor.getSelections();X.sort(v.Range.compareRangesUsingStarts);const ne=[];for(let W=0,V=0,G=ee.length,oe=X.length;W<G;){const ce=ee[W];if(V>=oe)ne.push(ce),W++;else{const ie=v.Range.compareRangesUsingStarts(ce,X[V]);ie<0?((X[V].isEmpty()||!v.Range.areIntersecting(ce,X[V]))&&ne.push(ce),W++):(ie>0||W++,V++)}}const Y=n.DocumentHighlightProviderRegistry.has(Z)&&this.editor.getOption(71),j=ne.map(W=>({range:W,options:Y?L._SELECTION_HIGHLIGHT:L._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,j)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=L,L.ID="editor.contrib.selectionHighlighter",L._SELECTION_HIGHLIGHT_OVERVIEW=i.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,o.themeColorFromId)(r.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline},overviewRuler:{color:(0,o.themeColorFromId)(r.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center}}),L._SELECTION_HIGHLIGHT=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function B(U,K,Z){const ee=x(U,K[0],!Z);for(let X=1,ne=K.length;X<ne;X++){const Y=K[X];if(Y.isEmpty())return!1;const j=x(U,Y,!Z);if(ee!==j)return!1}return!0}function x(U,K,Z){const ee=U.getValueInRange(K);return Z?ee.toLowerCase():ee}(0,S.registerEditorContribution)(E.ID,E),(0,S.registerEditorContribution)(L.ID,L),(0,S.registerEditorAction)(h),(0,S.registerEditorAction)(m),(0,S.registerEditorAction)(y),(0,S.registerEditorAction)(k),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(P),(0,S.registerEditorAction)(F),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(p),(0,S.registerEditorAction)(f)}),define(Q[722],J([0,1,7,111,10,14,4,2,107,8,161,677,557,16,9,77,22,129,13,251,92,272,688,139,382,277]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,d.registerColor)("editorSuggestWidget.background",{dark:d.editorWidgetBackground,light:d.editorWidgetBackground,hc:d.editorWidgetBackground},i.localize(0,null)),e.editorSuggestWidgetBorder=(0,d.registerColor)("editorSuggestWidget.border",{dark:d.editorWidgetBorder,light:d.editorWidgetBorder,hc:d.editorWidgetBorder},i.localize(1,null)),e.editorSuggestWidgetForeground=(0,d.registerColor)("editorSuggestWidget.foreground",{dark:d.editorForeground,light:d.editorForeground,hc:d.editorForeground},i.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,d.registerColor)("editorSuggestWidget.selectedForeground",{dark:d.quickInputListFocusForeground,light:d.quickInputListFocusForeground,hc:d.quickInputListFocusForeground},i.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,d.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:d.quickInputListFocusIconForeground,light:d.quickInputListFocusIconForeground,hc:d.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,d.registerColor)("editorSuggestWidget.selectedBackground",{dark:d.quickInputListFocusBackground,light:d.quickInputListFocusBackground,hc:d.quickInputListFocusBackground},i.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,d.registerColor)("editorSuggestWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hc:d.listHighlightForeground},i.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,d.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:d.listFocusHighlightForeground,light:d.listFocusHighlightForeground,hc:d.listFocusHighlightForeground},i.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,d.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hc:(0,d.transparent)(e.editorSuggestWidgetForeground,.5)},i.localize(8,null));class y{constructor(I,E){this._service=I,this._key=`suggestWidget.size/${E.getEditorType()}/${E instanceof g.EmbeddedCodeEditorWidget}`}restore(){var I;const E=(I=this._service.get(this._key,0))!==null&&I!==void 0?I:"";try{const T=JSON.parse(E);if(w.Dimension.is(T))return w.Dimension.lift(T)}catch{}}store(I){this._service.store(this._key,JSON.stringify(I),0,1)}reset(){this._service.remove(this._key,0)}}let p=class ei{constructor(I,E,T,k,A){this.editor=I,this._storageService=E,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new N.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new S.Emitter,this._onDidFocus=new S.Emitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new f(this,I),this._persistedSize=new y(E,I);class P{constructor(x,U,K=!1,Z=!1){this.persistedSize=x,this.currentSize=U,this.persistHeight=K,this.persistWidth=Z}}let F;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),F=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var x,U,K,Z;if(this._resize(B.dimension.width,B.dimension.height),F&&(F.persistHeight=F.persistHeight||!!B.north||!!B.south,F.persistWidth=F.persistWidth||!!B.east||!!B.west),!!B.done){if(F){const{itemHeight:ee,defaultSize:X}=this.getLayoutInfo(),ne=Math.round(ee/2);let{width:Y,height:j}=this.element.size;(!F.persistHeight||Math.abs(F.currentSize.height-j)<=ne)&&(j=(U=(x=F.persistedSize)===null||x===void 0?void 0:x.height)!==null&&U!==void 0?U:X.height),(!F.persistWidth||Math.abs(F.currentSize.width-Y)<=ne)&&(Y=(Z=(K=F.persistedSize)===null||K===void 0?void 0:K.width)!==null&&Z!==void 0?Z:X.width),this._persistedSize.store(new w.Dimension(Y,j))}this._contentWidget.unlockPreference(),F=void 0}})),this._messageElement=w.append(this.element.domNode,w.$(".message")),this._listElement=w.append(this.element.domNode,w.$(".tree"));const R=A.createInstance(h.SuggestDetailsWidget,this.editor);R.onDidClose(this.toggleDetails,this,this._disposables),this._details=new h.SuggestDetailsOverlay(R,this.editor);const M=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);M();const O=A.createInstance(m.ItemRenderer,this.editor);this._disposables.add(O),this._disposables.add(O.onDidToggleDetails(()=>this.toggleDetails())),this._list=new C.List("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[O],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:x,detail:U}=B.completion,K=u.format("{0}{1}",U||"",x?typeof x=="string"?x:x.value:"");return i.localize(11,null,B.textLabel,K)}else return B.textLabel},getWidgetAriaLabel:()=>i.localize(12,null),getWidgetRole:()=>"listbox"}}),this._status=A.createInstance(t.SuggestWidgetStatus,this.element.domNode);const L=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);L(),this._disposables.add((0,s.attachListStyler)(this._list,k,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:d.activeContrastBorder})),this._disposables.add(k.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange(k.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(105)&&(L(),M())})),this._ctxSuggestWidgetVisible=l.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=l.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=l.Context.MultipleSuggestions.bindTo(T),this._disposables.add(w.addStandardDisposableListener(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var I;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(I){this._details.widget.domNode.contains(I.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(I.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(I){typeof I.element=="undefined"||typeof I.index=="undefined"||(I.browserEvent.preventDefault(),I.browserEvent.stopPropagation(),this._select(I.element,I.index))}_onListSelection(I){I.elements.length&&this._select(I.elements[0],I.indexes[0])}_select(I,E){const T=this._completionModel;T&&(this._onDidSelect.fire({item:I,index:E,model:T}),this.editor.focus())}_onThemeChange(I){this._details.widget.borderWidth=I.type==="hc"?2:1}_onListFocus(I){var E;if(this._ignoreFocusEvents)return;if(!I.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const T=I.elements[0],k=I.indexes[0];T!==this._focusedItem&&((E=this._currentSuggestionDetails)===null||E===void 0||E.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(k),this._currentSuggestionDetails=(0,N.createCancelablePromise)(A=>De(this,void 0,void 0,function*(){const P=(0,N.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);A.onCancellationRequested(()=>P.dispose());const F=yield T.resolve(A);return P.dispose(),F})),this._currentSuggestionDetails.then(()=>{k>=this._list.length||T!==this._list.element(k)||(this._ignoreFocusEvents=!0,this._list.splice(k,1,[T]),this._list.setFocus([k]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,m.getAriaId)(k)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:T,index:k,model:this._completionModel})}_setState(I){if(this._state!==I)switch(this._state=I,this.element.domNode.classList.toggle("frozen",I===4),this.element.domNode.classList.remove("message"),I){case 0:w.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ei.LOADING_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ei.NO_SUGGESTIONS_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 4:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 5:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(I,E){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!I,this._isAuto||(this._loadingTimeout=(0,N.disposableTimeout)(()=>this._setState(1),E)))}showSuggestions(I,E,T,k){var A,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(A=this._loadingTimeout)===null||A===void 0||A.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==I&&(this._completionModel=I),T&&this._state!==2&&this._state!==0){this._setState(4);return}const F=this._completionModel.items.length,R=F===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(F>1),R){this._setState(k?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),this._list.reveal(E,0),this._list.setFocus([E]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,h.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(I){this._details.show(),I?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var I;(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const E=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);E&&E.height<T&&this._persistedSize.store(E.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(I){if(I===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(I){var E,T,k;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const A=w.getClientArea(document.body),P=this.getLayoutInfo();I||(I=P.defaultSize);let F=I.height,R=I.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)F=P.itemHeight+P.borderHeight,R=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new w.Dimension(R,F),this._contentWidget.setPreference(2);else{const M=A.width-P.borderHeight-2*P.horizontalPadding;R>M&&(R=M);const O=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:R,L=P.statusBarHeight+this._list.contentHeight+P.borderHeight,B=P.itemHeight+P.statusBarHeight,x=w.getDomNodePagePosition(this.editor.getDomNode()),U=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=x.top+U.top+U.height,Z=Math.min(A.height-K-P.verticalPadding,L),ee=x.top+U.top-P.verticalPadding,X=Math.min(ee,L);let ne=Math.min(Math.max(X,Z)+P.borderHeight,L);F===((E=this._cappedHeight)===null||E===void 0?void 0:E.capped)&&(F=this._cappedHeight.wanted),F<B&&(F=B),F>ne&&(F=ne);const Y=150;F>Z||this._forceRenderingAbove&&ee>Y?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ne=X):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ne=Z),this.element.preferredSize=new w.Dimension(O,P.defaultSize.height),this.element.maxSize=new w.Dimension(M,ne),this.element.minSize=new w.Dimension(220,B),this._cappedHeight=F===L?{wanted:(k=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&k!==void 0?k:I.height,capped:F}:void 0}this._resize(R,F)}_resize(I,E){const{width:T,height:k}=this.element.maxSize;I=Math.min(T,I),E=Math.min(k,E);const{statusBarHeight:A}=this.getLayoutInfo();this._list.layout(E-A,I),this._listElement.style.height=`${E-A}px`,this.element.layout(E,I),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var I;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((I=this._contentWidget.getPosition())===null||I===void 0?void 0:I.preference[0])===2)}getLayoutInfo(){const I=this.editor.getOption(43),E=(0,v.clamp)(this.editor.getOption(107)||I.lineHeight,8,1e3),T=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:E,k=this._details.widget.borderWidth,A=2*k;return{itemHeight:E,statusBarHeight:T,borderWidth:k,borderHeight:A,typicalHalfwidthCharacterWidth:I.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new w.Dimension(430,T+12*E+A)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(I){this._storageService.store("expandSuggestionDocs",I,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};p.LOADING_MESSAGE=i.localize(9,null),p.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),p=Be([fe(1,c.IStorageService),fe(2,n.IContextKeyService),fe(3,r.IThemeService),fe(4,a.IInstantiationService)],p),e.SuggestWidget=p;class f{constructor(I,E){this._widget=I,this._editor=E,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:I,width:E}=this._widget.element.size,{borderWidth:T,horizontalPadding:k}=this._widget.getLayoutInfo();return new w.Dimension(E+2*T+k,I+2*T)}afterRender(I){this._widget._afterRender(I)}setPreference(I){this._preferenceLocked||(this._preference=I)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(I){this._position=I}}e.SuggestContentWidget=f}),define(Q[723],J([0,1,10,2,15,18,264,44,287,274,39,13]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=class extends C.Disposable{constructor(a,c,d,s){super();this._modelService=c,this._themeService=d,this._configurationService=s,this._editor=a,this._tokenizeViewport=new w.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(r=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(D.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration(v.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const a of this._outstandingRequests)a.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(a){for(let c=0,d=this._outstandingRequests.length;c<d;c++)if(this._outstandingRequests[c]===a){this._outstandingRequests.splice(c,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const a=this._editor.getModel();if(a.hasCompleteSemanticTokens())return;if(!(0,v.isSemanticColoringEnabled)(a,this._themeService,this._configurationService)){a.hasSomeSemanticTokens()&&a.setSemanticTokens(null,!1);return}if(!(0,S.hasDocumentRangeSemanticTokensProvider)(a)){a.hasSomeSemanticTokens()&&a.setSemanticTokens(null,!1);return}const c=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(c.map(d=>this._requestRange(a,d)))}_requestRange(a,c){const d=a.getVersionId(),s=(0,w.createCancelablePromise)(r=>Promise.resolve((0,S.getDocumentRangeSemanticTokens)(a,c,r)));return s.then(r=>{if(!r||!r.tokens||a.isDisposed()||a.getVersionId()!==d)return;const{provider:o,tokens:l}=r,h=this._modelService.getSemanticTokensProviderStyling(o);a.setPartialSemanticTokens(c,(0,u.toMultilineTokens2)(l,h,a.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};i.ID="editor.contrib.viewportSemanticTokens",i=Be([fe(1,b.IModelService),fe(2,t.IThemeService),fe(3,g.IConfigurationService)],i),(0,N.registerEditorContribution)(i.ID,i)}),define(Q[724],J([0,1,43,19,10,23,14,2,15,3,24,53,32,18,566,16,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const r=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},a.localize(0,null),!0),o=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},a.localize(1,null),!0),l=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},a.localize(2,null)),h=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},a.localize(3,null)),m=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},a.localize(4,null),!0),y=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},a.localize(5,null),!0),p=new c.RawContextKey("hasWordHighlights",!1);function f(O,L,B){const x=n.DocumentHighlightProviderRegistry.ordered(O);return(0,N.first)(x.map(U=>()=>Promise.resolve(U.provideDocumentHighlights(O,L,B)).then(void 0,S.onUnexpectedExternalError)),C.isNonEmptyArray)}e.getOccurrencesAtPosition=f;class _{constructor(L,B,x){this._wordRange=this._getCurrentWordRange(L,B),this.result=(0,N.createCancelablePromise)(U=>this._compute(L,B,x,U))}_getCurrentWordRange(L,B){const x=L.getWordAtPosition(B.getPosition());return x?new u.Range(B.startLineNumber,x.startColumn,B.startLineNumber,x.endColumn):null}isValid(L,B,x){const U=B.startLineNumber,K=B.startColumn,Z=B.endColumn,ee=this._getCurrentWordRange(L,B);let X=Boolean(this._wordRange&&this._wordRange.equalsRange(ee));for(let ne=0,Y=x.length;!X&&ne<Y;ne++){let j=L.getDecorationRange(x[ne]);j&&j.startLineNumber===U&&j.startColumn<=K&&j.endColumn>=Z&&(X=!0)}return X}cancel(){this.result.cancel()}}class I extends _{_compute(L,B,x,U){return f(L,B.getPosition(),U).then(K=>K||[])}}class E extends _{constructor(L,B,x){super(L,B,x);this._selectionIsEmpty=B.isEmpty()}_compute(L,B,x,U){return(0,N.timeout)(250,U).then(()=>{if(!B.isEmpty())return[];const K=L.getWordAtPosition(B.getPosition());return!K||K.word.length>1e3?[]:L.findMatches(K.word,!0,!1,!0,x,!1).map(ee=>({range:ee.range,kind:n.DocumentHighlightKind.Text}))})}isValid(L,B,x){const U=B.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(L,B,x)}}function T(O,L,B){return n.DocumentHighlightProviderRegistry.has(O)?new I(O,L,B):new E(O,L,B)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(O,L)=>f(O,L,D.CancellationToken.None));class k{constructor(L,B){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=L,this._hasWordHighlights=p.bindTo(B),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(L.onDidChangeCursorPosition(x=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(x)})),this.toUnhook.add(L.onDidChangeModelContent(x=>{this._stopAll()})),this.toUnhook.add(L.onDidChangeConfiguration(x=>{let U=this.editor.getOption(71);this.occurrencesHighlight!==U&&(this.occurrencesHighlight=U,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return C.coalesce(this._decorationIds.map(L=>this.model.getDecorationRange(L)).sort(u.Range.compareRangesUsingStarts))}moveNext(){let L=this._getSortedHighlights(),x=(L.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%L.length,U=L[x];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const K=this._getWord();if(K){const Z=this.editor.getModel().getLineContent(U.startLineNumber);(0,w.alert)(`${Z}, ${x+1} of ${L.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let L=this._getSortedHighlights(),x=(L.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+L.length)%L.length,U=L[x];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const K=this._getWord();if(K){const Z=this.editor.getModel().getLineContent(U.startLineNumber);(0,w.alert)(`${Z}, ${x+1} of ${L.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(L){if(!this.occurrencesHighlight){this._stopAll();return}if(L.reason!==3){this._stopAll();return}this._run()}_getWord(){let L=this.editor.getSelection(),B=L.startLineNumber,x=L.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:x})}_run(){let L=this.editor.getSelection();if(L.startLineNumber!==L.endLineNumber){this._stopAll();return}let B=L.startColumn,x=L.endColumn;const U=this._getWord();if(!U||U.startColumn>B||U.endColumn<x){this._stopAll();return}const K=this.workerRequest&&this.workerRequest.isValid(this.model,L,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),K)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let Z=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=T(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(ee=>{Z===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ee||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let L=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;L>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-L)}renderDecorations(){this.renderDecorationsTimer=-1;let L=[];for(const B of this.workerRequestValue)B.range&&L.push({range:B.range,options:k._getDecorationOptions(B.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,L),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(L){return L===n.DocumentHighlightKind.Write?this._WRITE_OPTIONS:L===n.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}k._WRITE_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,s.themeColorFromId)(y),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),k._TEXT_OPTIONS=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),k._REGULAR_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,s.themeColorFromId)(m),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}});let A=class Pi extends b.Disposable{constructor(L,B){super();this.wordHighlighter=null;const x=()=>{L.hasModel()&&(this.wordHighlighter=new k(L,B))};this._register(L.onDidChangeModel(U=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),x()})),x()}static get(L){return L.getContribution(Pi.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(L){this.wordHighlighter&&L&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};A.ID="editor.contrib.wordHighlighter",A=Be([fe(1,c.IContextKeyService)],A);class P extends v.EditorAction{constructor(L,B){super(B);this._isNext=L}run(L,B){const x=A.get(B);!x||(this._isNext?x.moveNext():x.moveBack())}}class F extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:a.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class R extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:a.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class M extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:a.localize(8,null),alias:"Trigger Symbol Highlight",precondition:p.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(L,B,x){const U=A.get(B);!U||U.restoreViewState(!0)}}(0,v.registerEditorContribution)(A.ID,A),(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(R),(0,v.registerEditorAction)(M),(0,s.registerThemingParticipant)((O,L)=>{const B=O.getColor(d.editorSelectionHighlight);B&&(L.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${B}; }`),L.addRule(`.monaco-editor .selectionHighlight { background-color: ${B.transparent(.5)}; }`));const x=O.getColor(r);x&&L.addRule(`.monaco-editor .wordHighlight { background-color: ${x}; }`);const U=O.getColor(o);U&&L.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${U}; }`);const K=O.getColor(d.editorSelectionHighlightBorder);K&&L.addRule(`.monaco-editor .selectionHighlight { border: 1px ${O.type==="hc"?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const Z=O.getColor(l);Z&&L.addRule(`.monaco-editor .wordHighlight { border: 1px ${O.type==="hc"?"dashed":"solid"} ${Z}; box-sizing: border-box; }`);const ee=O.getColor(h);ee&&L.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${O.type==="hc"?"dashed":"solid"} ${ee}; box-sizing: border-box; }`)})}),define(Q[292],J([0,1,15,98,29,45,158,113,11,3,21,24,35,567,63,16,267]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class s extends w.EditorCommand{constructor(j){super(j);this._inSelectionMode=j.inSelectionMode,this._wordNavigationType=j.wordNavigationType}runEditorCommand(j,W,V){if(!W.hasModel())return;const G=(0,b.getMapForWordSeparators)(W.getOption(116)),oe=W.getModel(),ie=W.getSelections().map(de=>{const q=new v.Position(de.positionLineNumber,de.positionColumn),z=this._move(G,oe,q,this._wordNavigationType);return this._moveTo(de,z,this._inSelectionMode)});if(oe.pushStackElement(),W._getViewModel().setCursorStates("moveWordCommand",3,ie.map(de=>D.CursorState.fromModelSelection(de))),ie.length===1){const de=new v.Position(ie[0].positionLineNumber,ie[0].positionColumn);W.revealPosition(de,0)}}_moveTo(j,W,V){return V?new g.Selection(j.selectionStartLineNumber,j.selectionStartColumn,W.lineNumber,W.column):new g.Selection(W.lineNumber,W.column,W.lineNumber,W.column)}}e.MoveWordCommand=s;class r extends s{_move(j,W,V,G){return S.WordOperations.moveWordLeft(j,W,V,G)}}e.WordLeftCommand=r;class o extends s{_move(j,W,V,G){return S.WordOperations.moveWordRight(j,W,V,G)}}e.WordRightCommand=o;class l extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class h extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class m extends r{constructor(){var j;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(j=c.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||j===void 0?void 0:j.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class y extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=y;class p extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=p;class f extends r{constructor(){var j;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(j=c.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||j===void 0?void 0:j.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=f;class _ extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(j,W,V,G){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,G)}}e.CursorWordAccessibilityLeft=_;class I extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(j,W,V,G){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,G)}}e.CursorWordAccessibilityLeftSelect=I;class E extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class T extends o{constructor(){var j;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(j=c.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||j===void 0?void 0:j.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=T;class k extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=k;class A extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=A;class P extends o{constructor(){var j;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(j=c.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||j===void 0?void 0:j.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=P;class F extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=F;class R extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(j,W,V,G){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,G)}}e.CursorWordAccessibilityRight=R;class M extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(j,W,V,G){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,G)}}e.CursorWordAccessibilityRightSelect=M;class O extends w.EditorCommand{constructor(j){super(j);this._whitespaceHeuristics=j.whitespaceHeuristics,this._wordNavigationType=j.wordNavigationType}runEditorCommand(j,W,V){const G=j.get(i.ILanguageConfigurationService);if(!W.hasModel())return;const oe=(0,b.getMapForWordSeparators)(W.getOption(116)),ce=W.getModel(),ie=W.getSelections(),de=W.getOption(5),q=W.getOption(8),z=G.getLanguageConfiguration(ce.getLanguageId()).getAutoClosingPairs(),$=W._getViewModel(),se=ie.map(te=>{const ae=this._delete({wordSeparators:oe,model:ce,selection:te,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:W.getOption(6),autoClosingBrackets:de,autoClosingQuotes:q,autoClosingPairs:z,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new C.ReplaceCommand(ae,"")});W.pushUndoStop(),W.executeCommands(this.id,se),W.pushUndoStop()}}e.DeleteWordCommand=O;class L extends O{_delete(j,W){let V=S.WordOperations.deleteWordLeft(j,W);return V||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=L;class B extends O{_delete(j,W){let V=S.WordOperations.deleteWordRight(j,W);if(V)return V;const G=j.model.getLineCount(),oe=j.model.getLineMaxColumn(G);return new u.Range(G,oe,G,oe)}}e.DeleteWordRightCommand=B;class x extends L{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartLeft=x;class U extends L{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndLeft=U;class K extends L{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class Z extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartRight=Z;class ee extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndRight=ee;class X extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=X;class ne extends w.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:t.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(j,W,V){if(!W.hasModel())return;const G=(0,b.getMapForWordSeparators)(W.getOption(116)),oe=W.getModel(),ie=W.getSelections().map(de=>{const q=S.WordOperations.deleteInsideWord(G,oe,de);return new C.ReplaceCommand(q,"")});W.pushUndoStop(),W.executeCommands(this.id,ie),W.pushUndoStop()}}e.DeleteInsideWord=ne,(0,w.registerEditorCommand)(new l),(0,w.registerEditorCommand)(new h),(0,w.registerEditorCommand)(new m),(0,w.registerEditorCommand)(new y),(0,w.registerEditorCommand)(new p),(0,w.registerEditorCommand)(new f),(0,w.registerEditorCommand)(new E),(0,w.registerEditorCommand)(new T),(0,w.registerEditorCommand)(new k),(0,w.registerEditorCommand)(new A),(0,w.registerEditorCommand)(new P),(0,w.registerEditorCommand)(new F),(0,w.registerEditorCommand)(new _),(0,w.registerEditorCommand)(new I),(0,w.registerEditorCommand)(new R),(0,w.registerEditorCommand)(new M),(0,w.registerEditorCommand)(new x),(0,w.registerEditorCommand)(new U),(0,w.registerEditorCommand)(new K),(0,w.registerEditorCommand)(new Z),(0,w.registerEditorCommand)(new ee),(0,w.registerEditorCommand)(new X),(0,w.registerEditorAction)(ne)}),define(Q[725],J([0,1,15,158,3,24,292,26]),function(H,e,w,C,N,D,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(s,r){let o=C.WordPartOperations.deleteWordPartLeft(s);return o||new N.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class u extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(s,r){let o=C.WordPartOperations.deleteWordPartRight(s);if(o)return o;const l=s.model.getLineCount(),h=s.model.getLineMaxColumn(l);return new N.Range(l,h,l,h)}}e.DeleteWordPartRight=u;class g extends S.MoveWordCommand{_move(s,r,o,l){return C.WordPartOperations.moveWordPartLeft(s,r,o)}}e.WordPartLeftCommand=g;class t extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=t,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends S.MoveWordCommand{_move(s,r,o,l){return C.WordPartOperations.moveWordPartRight(s,r,o)}}e.WordPartRightCommand=n;class a extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=a;class c extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=c,(0,w.registerEditorCommand)(new v),(0,w.registerEditorCommand)(new u),(0,w.registerEditorCommand)(new t),(0,w.registerEditorCommand)(new i),(0,w.registerEditorCommand)(new a),(0,w.registerEditorCommand)(new c)}),define(Q[726],J([0,1,7,110,30,132,2,38,3,32,385]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new N.Color(new N.RGBA(0,122,204)),t={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class n{constructor(r,o,l,h,m,y){this.id="",this.domNode=r,this.afterLineNumber=o,this.afterColumn=l,this.heightInLines=h,this._onDomNodeTop=m,this._onComputedHeight=y}onDomNodeTop(r){this._onDomNodeTop(r)}onComputedHeight(r){this._onComputedHeight(r)}}e.ViewZoneDelegate=n;class a{constructor(r,o){this._id=r,this._domNode=o}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=a;class c{constructor(r){this._editor=r,this._ruleName=c._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),w.removeCSSRulesContainingSelector(this._ruleName)}set color(r){this._color!==r&&(this._color=r,this._updateStyle())}set height(r){this._height!==r&&(this._height=r,this._updateStyle())}_updateStyle(){w.removeCSSRulesContainingSelector(this._ruleName),w.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(r){r.column===1&&(r={lineNumber:r.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:v.Range.fromPositions(r),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}c._IdGenerator=new D.IdGenerator(".arrow-decoration-");class d{constructor(r,o={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=r,this.options=b.deepClone(o),b.mixin(this.options,t,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const h=this._getWidth(l);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new c(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(r){r.frameColor&&(this.options.frameColor=r.frameColor),r.arrowColor&&(this.options.arrowColor=r.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let r=this.options.frameColor.toString();this.container.style.borderTopColor=r,this.container.style.borderBottomColor=r}if(this._arrow&&this.options.arrowColor){let r=this.options.arrowColor.toString();this._arrow.color=r}}_getWidth(r){return r.width-r.minimap.minimapWidth-r.verticalScrollbarWidth}_getLeft(r){return r.minimap.minimapWidth>0&&r.minimap.minimapLeft===0?r.minimap.minimapWidth:0}_onViewZoneTop(r){this.domNode.style.top=r+"px"}_onViewZoneHeight(r){if(this.domNode.style.height=`${r}px`,this.container){let o=r-this._decoratingElementsHeight();this.container.style.height=`${o}px`;const l=this.editor.getLayoutInfo();this._doLayout(o,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[r]=this._positionMarkerId;if(!r)return;const o=this.editor.getModel();if(!o)return;const l=o.getDecorationRange(r);if(!!l)return l.getStartPosition()}show(r,o){const l=v.Range.isIRange(r)?v.Range.lift(r):v.Range.fromPositions(r);this._isShowing=!0,this._showImpl(l,o),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:u.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let r=this.editor.getOption(58),o=0;if(this.options.showArrow){let l=Math.round(r/3);o+=2*l}if(this.options.showFrame){let l=Math.round(r/9);o+=2*l}return o}_showImpl(r,o){const l=r.getStartPosition(),h=this.editor.getLayoutInfo(),m=this._getWidth(h);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(h)+"px";const y=document.createElement("div");y.style.overflow="hidden";const p=this.editor.getOption(58),f=Math.max(12,this.editor.getLayoutInfo().height/p*.8);o=Math.min(o,f);let _=0,I=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(p/3),this._arrow.height=_,this._arrow.show(l)),this.options.showFrame&&(I=Math.round(p/9)),this.editor.changeViewZones(k=>{this._viewZone&&k.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(y,l.lineNumber,l.column,o,A=>this._onViewZoneTop(A),A=>this._onViewZoneHeight(A)),this._viewZone.id=k.addZone(this._viewZone),this._overlayWidget=new a(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const k=this.options.frameWidth?this.options.frameWidth:I;this.container.style.borderTopWidth=k+"px",this.container.style.borderBottomWidth=k+"px"}let E=o*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,m),this.options.keepEditorSelection||this.editor.setSelection(r);const T=this.editor.getModel();if(T){const k=r.endLineNumber+1;k<=T.getLineCount()?this.revealLine(k,!1):this.revealLine(T.getLineCount(),!0)}}revealLine(r,o){o?this.editor.revealLineInCenter(r,0):this.editor.revealLine(r,0)}setCssClass(r,o){!this.container||(o&&this.container.classList.remove(o),this.container.classList.add(r))}_onWidth(r){}_doLayout(r,o){}_relayout(r){this._viewZone&&this._viewZone.heightInLines!==r&&this.editor.changeViewZones(o=>{this._viewZone&&(this._viewZone.heightInLines=r,o.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new C.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let r;this._disposables.add(this._resizeSash.onDidStart(o=>{this._viewZone&&(r={startY:o.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{r=void 0})),this._disposables.add(this._resizeSash.onDidChange(o=>{if(r){let l=(o.currentY-r.startY)/this.editor.getOption(58),h=l<0?Math.ceil(l):Math.floor(l),m=r.heightInLines+h;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const r=this.editor.getLayoutInfo();return r.width-r.minimap.minimapWidth}}e.ZoneWidget=d}),define(Q[131],J([0,1,7,81,50,27,30,4,38,15,28,161,726,547,198,16,61,9,22,379]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,s.createDecorator)("IPeekViewService"),(0,d.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,f){const _=this._widgets.get(p);_&&(_.listener.dispose(),_.widget.dispose());const I=()=>{const E=this._widgets.get(p);E&&E.widget===f&&(E.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:f,listener:f.onDidClose(I)})}});var o;(function(p){p.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0,n.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(o=e.PeekContext||(e.PeekContext={}));let l=class{constructor(f,_){f instanceof t.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(_)}dispose(){}};l.ID="editor.contrib.referenceController",l=Be([fe(1,c.IContextKeyService)],l),(0,u.registerEditorContribution)(l.ID,l);function h(p){let f=p.get(g.ICodeEditorService).getFocusedCodeEditor();return f instanceof t.EmbeddedCodeEditorWidget?f.getParentEditor():f}e.getOuterEditor=h;const m={headerBackgroundColor:S.Color.white,primaryHeadingColor:S.Color.fromHex("#333333"),secondaryHeadingColor:S.Color.fromHex("#6c6c6cb3")};let y=class extends i.ZoneWidget{constructor(f,_,I){super(f,_);this.instantiationService=I,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(f){let _=this.options;f.headerBackgroundColor&&(_.headerBackgroundColor=f.headerBackgroundColor),f.primaryHeadingColor&&(_.primaryHeadingColor=f.primaryHeadingColor),f.secondaryHeadingColor&&(_.secondaryHeadingColor=f.secondaryHeadingColor),super.style(f)}_applyStyles(){super._applyStyles();let f=this.options;this._headElement&&f.headerBackgroundColor&&(this._headElement.style.backgroundColor=f.headerBackgroundColor.toString()),this._primaryHeading&&f.primaryHeadingColor&&(this._primaryHeading.style.color=f.primaryHeadingColor.toString()),this._secondaryHeading&&f.secondaryHeadingColor&&(this._secondaryHeading.style.color=f.secondaryHeadingColor.toString()),this._bodyElement&&f.frameColor&&(this._bodyElement.style.borderColor=f.frameColor.toString())}_fillContainer(f){this.setCssClass("peekview-widget"),this._headElement=w.$(".head"),this._bodyElement=w.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),f.appendChild(this._headElement),f.appendChild(this._bodyElement)}_fillHead(f,_){const I=w.$(".peekview-title");this.options.supportOnTitleClick&&(I.classList.add("clickable"),w.addStandardDisposableListener(I,"click",k=>this._onTitleClick(k))),w.append(this._headElement,I),this._fillTitleIcon(I),this._primaryHeading=w.$("span.filename"),this._secondaryHeading=w.$("span.dirname"),this._metaHeading=w.$("span.meta"),w.append(I,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=w.$(".peekview-actions");w.append(this._headElement,E);const T=this._getActionBarOptions();this._actionbarWidget=new C.ActionBar(E,T),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new N.Action("peekview.close",n.localize(1,null),D.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(f){}_getActionBarOptions(){return{actionViewItemProvider:a.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(f){}setTitle(f,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=f,this._primaryHeading.setAttribute("title",f),_?this._secondaryHeading.innerText=_:w.clearNode(this._secondaryHeading))}setMetaTitle(f){this._metaHeading&&(f?(this._metaHeading.innerText=f,w.show(this._metaHeading)):w.hide(this._metaHeading))}_doLayout(f,_){if(!this._isShowing&&f<0){this.dispose();return}const I=Math.ceil(this.editor.getOption(58)*1.2),E=Math.round(f-(I+2));this._doLayoutHead(I,_),this._doLayoutBody(E,_)}_doLayoutHead(f,_){this._headElement&&(this._headElement.style.height=`${f}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(f,_){this._bodyElement&&(this._bodyElement.style.height=`${f}px`)}};y=Be([fe(2,s.IInstantiationService)],y),e.PeekViewWidget=y,e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:(0,r.transparent)(r.editorInfoForeground,.1),light:(0,r.transparent)(r.editorInfoForeground,.1),hc:null},n.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:S.Color.white,light:S.Color.black,hc:S.Color.white},n.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},n.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:r.editorInfoForeground,light:r.editorInfoForeground,hc:r.contrastBorder},n.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:S.Color.black},n.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:S.Color.white},n.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:S.Color.white,light:"#1E1E1E",hc:S.Color.white},n.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},n.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:S.Color.white,light:"#6C6C6C",hc:S.Color.white},n.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:S.Color.black},n.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},n.localize(12,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},n.localize(13,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},n.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},n.localize(15,null))}),define(Q[727],J([0,1,7,65,19,30,4,170,2,41,8,3,131,524,198,37,16,9,126,74,51,684,22,13,372]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class p{constructor(k,A,P,F,R){this._openerService=F,this._labelService=R,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new v.DisposableStore,this._editor=A;const M=document.createElement("div");M.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),M.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),M.appendChild(this._relatedBlock),this._disposables.add(w.addStandardDisposableListener(this._relatedBlock,"click",O=>{O.preventDefault();const L=this._relatedDiagnostics.get(O.target);L&&P(L)})),this._scrollable=new C.ScrollableElement(M,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),k.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(O=>{M.style.left=`-${O.scrollLeft}px`,M.style.top=`-${O.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,v.dispose)(this._disposables)}update(k){const{source:A,message:P,relatedInformation:F,code:R}=k;let M=((A==null?void 0:A.length)||0)+"()".length;R&&(typeof R=="string"?M+=R.length:M+=R.value.length);const O=(0,g.splitLines)(P);this._lines=O.length,this._longestLineLength=0;for(const K of O)this._longestLineLength=Math.max(K.length+M,this._longestLineLength);w.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(k)),this._editor.applyFontInfo(this._messageBlock);let L=this._messageBlock;for(const K of O)L=document.createElement("div"),L.innerText=K,K===""&&(L.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(L);if(A||R){const K=document.createElement("span");if(K.classList.add("details"),L.appendChild(K),A){const Z=document.createElement("span");Z.innerText=A,Z.classList.add("source"),K.appendChild(Z)}if(R)if(typeof R=="string"){const Z=document.createElement("span");Z.innerText=`(${R})`,Z.classList.add("code"),K.appendChild(Z)}else{this._codeLink=w.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=ee=>{this._openerService.open(R.target,{allowCommands:!0}),ee.preventDefault(),ee.stopPropagation()};const Z=w.append(this._codeLink,w.$("span"));Z.innerText=R.value,K.appendChild(this._codeLink)}}if(w.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,N.isNonEmptyArray)(F)){const K=this._relatedBlock.appendChild(document.createElement("div"));K.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const Z of F){let ee=document.createElement("div"),X=document.createElement("a");X.classList.add("filename"),X.innerText=`${(0,b.getBaseLabel)(Z.resource)}(${Z.startLineNumber}, ${Z.startColumn}): `,X.title=this._labelService.getUriLabel(Z.resource),this._relatedDiagnostics.set(X,Z);let ne=document.createElement("span");ne.innerText=Z.message,ee.appendChild(X),ee.appendChild(ne),this._lines+=1,K.appendChild(ee)}}const B=this._editor.getOption(43),x=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),U=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:x,scrollHeight:U})}layout(k,A){this._scrollable.getDomNode().style.height=`${k}px`,this._scrollable.getDomNode().style.width=`${A}px`,this._scrollable.setScrollDimensions({width:A,height:k})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(k){let A="";switch(k.severity){case o.MarkerSeverity.Error:A=n.localize(0,null);break;case o.MarkerSeverity.Warning:A=n.localize(1,null);break;case o.MarkerSeverity.Info:A=n.localize(2,null);break;case o.MarkerSeverity.Hint:A=n.localize(3,null);break}let P=n.localize(4,null,A,k.startLineNumber+":"+k.startColumn);const F=this._editor.getModel();return F&&k.startLineNumber<=F.getLineCount()&&k.startLineNumber>=1&&(P=`${F.getLineContent(k.startLineNumber)}, ${P}`),P}}let f=class Oi extends i.PeekViewWidget{constructor(k,A,P,F,R,M,O){super(k,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},R);this._themeService=A,this._openerService=P,this._menuService=F,this._contextKeyService=M,this._labelService=O,this._callOnDispose=new v.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=o.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(k){this._backgroundColor=k.getColor(e.editorMarkerNavigationBackground);let A=e.editorMarkerNavigationError,P=e.editorMarkerNavigationErrorHeader;this._severity===o.MarkerSeverity.Warning?(A=e.editorMarkerNavigationWarning,P=e.editorMarkerNavigationWarningHeader):this._severity===o.MarkerSeverity.Info&&(A=e.editorMarkerNavigationInfo,P=e.editorMarkerNavigationInfoHeader);const F=k.getColor(A),R=k.getColor(P);this.style({arrowColor:F,frameColor:F,headerBackgroundColor:R,primaryHeadingColor:k.getColor(i.peekViewTitleForeground),secondaryHeadingColor:k.getColor(i.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(k){super._fillHead(k),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(F=>this.editor.focus()));const A=[],P=this._menuService.createMenu(Oi.TitleMenu,this._contextKeyService);(0,a.createAndFillInActionBarActions)(P,void 0,A),this._actionbarWidget.push(A,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(k){this._icon=w.append(k,w.$(""))}_fillBody(k){this._parentContainer=k,k.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),k.appendChild(this._container),this._message=new p(this._container,this.editor,A=>this._onDidSelectRelatedInformation.fire(A),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(k,A,P){this._container.classList.remove("stale"),this._message.update(k),this._severity=k.severity,this._applyTheme(this._themeService.getColorTheme());let F=t.Range.lift(k);const R=this.editor.getPosition();let M=R&&F.containsPosition(R)?R:F.getStartPosition();super.show(M,this.computeRequiredHeight());const O=this.editor.getModel();if(O){const L=P>1?n.localize(5,null,A,P):n.localize(6,null,A,P);this.setTitle((0,u.basename)(O.uri),L)}this._icon.className=`codicon ${h.SeverityIcon.className(o.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(M,0),this.editor.focus()}updateMarker(k){this._container.classList.remove("stale"),this._message.update(k)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(k,A){super._doLayoutBody(k,A),this._heightInPixel=k,this._message.layout(k,A),this._container.style.height=`${k}px`}_onWidth(k){this._message.layout(this._heightInPixel,k)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};f.TitleMenu=new c.MenuId("gotoErrorTitleMenu"),f=Be([fe(1,y.IThemeService),fe(2,l.IOpenerService),fe(3,c.IMenuService),fe(4,s.IInstantiationService),fe(5,d.IContextKeyService),fe(6,r.ILabelService)],f),e.MarkerNavigationWidget=f;let _=(0,m.oneOf)(m.editorErrorForeground,m.editorErrorBorder),I=(0,m.oneOf)(m.editorWarningForeground,m.editorWarningBorder),E=(0,m.oneOf)(m.editorInfoForeground,m.editorInfoBorder);e.editorMarkerNavigationError=(0,m.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hc:m.contrastBorder},n.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,m.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationError,.1),light:(0,m.transparent)(e.editorMarkerNavigationError,.1),hc:null},n.localize(8,null)),e.editorMarkerNavigationWarning=(0,m.registerColor)("editorMarkerNavigationWarning.background",{dark:I,light:I,hc:m.contrastBorder},n.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,m.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,m.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},n.localize(10,null)),e.editorMarkerNavigationInfo=(0,m.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hc:m.contrastBorder},n.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,m.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,m.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,m.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},n.localize(12,null)),e.editorMarkerNavigationBackground=(0,m.registerColor)("editorMarkerNavigation.background",{dark:m.editorBackground,light:m.editorBackground,hc:m.editorBackground},n.localize(13,null))}),define(Q[293],J([0,1,27,2,15,28,11,3,24,611,523,37,16,9,71,727]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let d=class zt{constructor(f,_,I,E,T){this._markerNavigationService=_,this._contextKeyService=I,this._editorService=E,this._instantiationService=T,this._sessionDispoables=new C.DisposableStore,this._editor=f,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(f){return f.getContribution(zt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(f){if(this._model&&this._model.matches(f))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(f),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(c.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(I=>{var E,T,k;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!b.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,I.position))&&((k=this._model)===null||k===void 0||k.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const I=this._model.find(this._editor.getModel().uri,this._widget.position);I?this._widget.updateMarker(I.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(I=>{this._editorService.openCodeEditor({resource:I.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(I).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(f=!0){this._cleanUp(),f&&this._editor.focus()}showAtMarker(f){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new S.Position(f.startLineNumber,f.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(f,_){var I,E;return De(this,void 0,void 0,function*(){if(this._editor.hasModel()){const T=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(T.move(f,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const k=yield this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);k&&((I=zt.get(k))===null||I===void 0||I.close(),(E=zt.get(k))===null||E===void 0||E.nagivate(f,_))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}})}};d.ID="editor.contrib.markerController",d=Be([fe(1,u.IMarkerNavigationService),fe(2,i.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,n.IInstantiationService)],d),e.MarkerController=d;class s extends N.EditorAction{constructor(f,_,I){super(I);this._next=f,this._multiFile=_}run(f,_){var I;return De(this,void 0,void 0,function*(){_.hasModel()&&((I=d.get(_))===null||I===void 0||I.nagivate(this._next,this._multiFile))})}}class r extends s{constructor(){super(!0,!1,{id:r.ID,label:r.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:c.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,a.registerIcon)("marker-navigation-next",w.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=r,r.ID="editor.action.marker.next",r.LABEL=g.localize(0,null);class o extends s{constructor(){super(!1,!1,{id:o.ID,label:o.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:c.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,a.registerIcon)("marker-navigation-previous",w.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}o.ID="editor.action.marker.prev",o.LABEL=g.localize(2,null);class l extends s{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends s{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,N.registerEditorContribution)(d.ID,d),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(o),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(h);const m=new i.RawContextKey("markersNavigationVisible",!1),y=N.EditorCommand.bindToContribution(d.get);(0,N.registerEditorCommand)(new y({id:"closeMarkersNavigation",precondition:m,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(Q[728],J([0,1,7,224,30,4,2,48,41,161,3,32,35,76,34,62,645,131,529,9,42,126,156,13,157,124,374]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(A,P){this._editor=A,this._model=P,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const A=this._editor.getModel();if(!!A){for(let P of this._model.references)if(P.uri.toString()===A.uri.toString()){this._addDecorations(P.parent);return}}}_addDecorations(A){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const P=[],F=[];for(let M=0,O=A.children.length;M<O;M++){let L=A.children[M];this._decorationIgnoreSet.has(L.id)||L.uri.toString()===this._editor.getModel().uri.toString()&&(P.push({range:L.range,options:_.DecorationOptions}),F.push(M))}const R=this._editor.deltaDecorations([],P);for(let M=0;M<R.length;M++)this._decorations.set(R[M],A.children[F[M]])}_onDecorationChanged(){const A=[],P=this._editor.getModel();if(!!P){for(let[F,R]of this._decorations){const M=P.getDecorationRange(F);if(!M)continue;let O=!1;if(!g.Range.equalsRange(M,R.range)){if(g.Range.spansMultipleLines(M))O=!0;else{const L=R.range.endColumn-R.range.startColumn,B=M.endColumn-M.startColumn;L!==B&&(O=!0)}O?(this._decorationIgnoreSet.add(R.id),A.push(F)):R.range=M}}for(let F=0,R=A.length;F<R;F++)this._decorations.delete(A[F]);this._editor.deltaDecorations(A,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=t.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class I{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(A){let P,F;try{const R=JSON.parse(A);P=R.ratio,F=R.heightInLines}catch{}return{ratio:P||.7,heightInLines:F||18}}}e.LayoutData=I;class E extends m.WorkbenchAsyncDataTree{}let T=class extends s.PeekViewWidget{constructor(A,P,F,R,M,O,L,B,x,U,K,Z){super(A,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O);this._defaultTreeKeyboardSupport=P,this.layoutData=F,this._textModelResolverService=M,this._instantiationService=O,this._peekViewService=L,this._uriLabel=B,this._undoRedoService=x,this._keybindingService=U,this._languageService=K,this._languageConfigurationService=Z,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new w.Dimension(0,0),this._applyTheme(R.getColorTheme()),this._callOnDispose.add(R.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(A,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(A){const P=A.getColor(s.peekViewBorder)||N.Color.transparent;this.style({arrowColor:P,frameColor:P,headerBackgroundColor:A.getColor(s.peekViewTitleBackground)||N.Color.transparent,primaryHeadingColor:A.getColor(s.peekViewTitleForeground),secondaryHeadingColor:A.getColor(s.peekViewTitleInfoForeground)})}show(A){this.editor.revealRangeInCenterIfOutsideViewport(A,0),super.show(A,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(A){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"title"})}_fillBody(A){this.setCssClass("reference-zone-widget"),this._messageContainer=w.append(A,w.$("div.messages")),w.hide(this._messageContainer),this._splitView=new C.SplitView(A,{orientation:1}),this._previewContainer=w.append(A,w.$("div.preview.inline"));let P={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,P,this.editor),w.hide(this._previewContainer),this._previewNotAvailableMessage=new t.TextModel(r.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,t.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.append(A,w.$("div.ref-tree.inline"));const F={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new d.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(d.StringRepresentationProvider),identityProvider:new d.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:s.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.addStandardDisposableListener(this._treeContainer,"keydown",M=>{M.equals(9)&&(this._keybindingService.dispatchEvent(M,M.target),M.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new d.Delegate,[this._instantiationService.createInstance(d.FileReferencesRenderer),this._instantiationService.createInstance(d.OneReferenceRenderer)],this._instantiationService.createInstance(d.DataSource),F),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:M=>{this._preview.layout({height:this._dim.height,width:M})}},C.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:M=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${M}px`,this._tree.layout(this._dim.height,M)}},C.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let R=(M,O)=>{M instanceof f.OneReference&&(O==="show"&&this._revealReference(M,!1),this._onDidSelectReference.fire({element:M,kind:O,source:"tree"}))};this._tree.onDidOpen(M=>{M.sideBySide?R(M.element,"side"):M.editorOptions.pinned?R(M.element,"goto"):R(M.element,"show")}),w.hide(this._treeContainer)}_onWidth(A){this._dim&&this._doLayoutBody(this._dim.height,A)}_doLayoutBody(A,P){super._doLayoutBody(A,P),this._dim=new w.Dimension(P,A),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(P),this._splitView.resizeView(0,P*this.layoutData.ratio)}setSelection(A){return this._revealReference(A,!0).then(()=>{!this._model||(this._tree.setSelection([A]),this._tree.setFocus([A]))})}setModel(A){return this._disposeOnNewModel.clear(),this._model=A,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=r.localize(1,null),w.show(this._messageContainer),Promise.resolve(void 0)):(w.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(A=>this._tree.rerender(A))),this._disposeOnNewModel.add(this._preview.onMouseDown(A=>{const{event:P,target:F}=A;if(P.detail!==2)return;const R=this._getFocusedReference();!R||this._onDidSelectReference.fire({element:{uri:R.uri,range:F.range},kind:P.ctrlKey||P.metaKey||P.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),w.show(this._treeContainer),w.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[A]=this._tree.getFocus();if(A instanceof f.OneReference)return A;if(A instanceof f.FileReferences&&A.children.length>0)return A.children[0]}revealReference(A){return De(this,void 0,void 0,function*(){yield this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:"goto",source:"tree"})})}_revealReference(A,P){return De(this,void 0,void 0,function*(){if(this._revealedReference===A)return;this._revealedReference=A,A.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,v.basenameOrAuthority)(A.uri),this._uriLabel.getUriLabel((0,v.dirname)(A.uri))):this.setTitle(r.localize(2,null));const F=this._textModelResolverService.createModelReference(A.uri);this._tree.getInput()===A.parent?this._tree.reveal(A):(P&&this._tree.reveal(A.parent),yield this._tree.expand(A.parent),this._tree.reveal(A));const R=yield F;if(!this._model){R.dispose();return}(0,S.dispose)(this._previewModelReference);const M=R.object;if(M){const O=this._preview.getModel()===M.textEditorModel?0:1,L=g.Range.lift(A.range).collapseToStart();this._previewModelReference=R,this._preview.setModel(M.textEditorModel),this._preview.setSelection(L),this._preview.revealRangeInCenter(L,O)}else this._preview.setModel(this._previewNotAvailableMessage),R.dispose()})}};T=Be([fe(3,y.IThemeService),fe(4,c.ITextModelService),fe(5,o.IInstantiationService),fe(6,s.IPeekViewService),fe(7,h.ILabelService),fe(8,p.IUndoRedoService),fe(9,l.IKeybindingService),fe(10,a.ILanguageService),fe(11,i.ILanguageConfigurationService)],T),e.ReferenceWidget=T}),define(Q[294],J([0,1,10,14,55,2,28,11,3,131,527,26,39,16,9,84,156,40,77,124,728]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let h=class ti{constructor(p,f,_,I,E,T,k,A){this._defaultTreeKeyboardSupport=p,this._editor=f,this._editorService=I,this._notificationService=E,this._instantiationService=T,this._storageService=k,this._configurationService=A,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}static get(p){return p.getContribution(ti.ID)}dispose(){var p,f;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(f=this._model)===null||f===void 0||f.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,f,_){let I;if(this._widget&&(I=this._widget.position),this.closeWidget(),!!I&&p.containsPosition(I))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",T=l.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,T),this._widget.setTitle(g.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{f.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(A=>{let{element:P,kind:F}=A;if(!!P)switch(F){case"open":(A.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":_?this._gotoReference(P):this.openReference(P,!1,!0);break}}));const k=++this._requestIdPool;f.then(A=>{var P;if(k!==this._requestIdPool||!this._widget){A.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=A,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));let F=this._editor.getModel().uri,R=new b.Position(p.startLineNumber,p.startColumn),M=this._model.nearestReference(F,R);if(M)return this._widget.setSelection(M).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},A=>{this._notificationService.error(A)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const f=this._widget.position;if(!f)return;const _=this._model.nearestReference(this._editor.getModel().uri,f);if(!_)return;const I=this._model.nextOrPreviousReference(_,p),E=this._editor.hasTextFocus(),T=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(I),yield this._gotoReference(I),E?this._editor.focus():this._widget&&T&&this._widget.focusOnPreviewEditor()})}revealReference(p){return De(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var f,_;(f=this._widget)===null||f===void 0||f.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const f=v.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:f}},this._editor).then(_=>{var I;if(this._ignoreModelChangeEvent=!1,!_||!this._widget){this.closeWidget();return}if(this._editor===_)this._widget.show(f),this._widget.focusOnReferenceTree();else{const E=ti.get(_),T=this._model.clone();this.closeWidget(),_.focus(),E==null||E.toggleWidget(f,(0,w.createCancelablePromise)(k=>Promise.resolve(T)),(I=this._peekMode)!==null&&I!==void 0?I:!1)}},_=>{this._ignoreModelChangeEvent=!1,(0,C.onUnexpectedError)(_)})}openReference(p,f,_){f||this.closeWidget();const{uri:I,range:E}=p;this._editorService.openCodeEditor({resource:I,options:{selection:E,pinned:_}},this._editor,f)}};h.ID="editor.contrib.referencesController",h=Be([fe(2,n.IContextKeyService),fe(3,S.ICodeEditorService),fe(4,s.INotificationService),fe(5,a.IInstantiationService),fe(6,r.IStorageService),fe(7,i.IConfigurationService)],h),e.ReferencesController=h;function m(y,p){const f=(0,u.getOuterEditor)(y);if(!f)return;const _=h.get(f);_&&p(_)}c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,N.KeyChord)(2048|41,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(y){m(y,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(y){m(y,p=>{p.goToNextOrPreviousReference(!0)})}}),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(y){m(y,p=>{p.goToNextOrPreviousReference(!1)})}}),t.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),t.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),t.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),t.CommandsRegistry.registerCommand("closeReferenceSearch",y=>m(y,p=>p.closeWidget())),c.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:n.ContextKeyExpr.and(u.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),c.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey),handler(y){var p;const _=(p=y.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof o.OneReference&&m(y,I=>I.revealReference(_[0]))}}),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey),handler(y){var p;const _=(p=y.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof o.OneReference&&m(y,I=>I.openReference(_[0],!0,!0))}}),t.CommandsRegistry.registerCommand("openReference",y=>{var p;const _=(p=y.get(d.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(_)&&_[0]instanceof o.OneReference&&m(y,I=>I.openReference(_[0],!1,!0))})}),define(Q[295],J([0,1,33,43,10,55,17,20,25,70,145,15,28,161,11,3,24,18,294,124,663,155,131,525,37,26,16,9,40,69,280]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k){"use strict";var A,P,F,R,M,O,L,B;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:y.localize(0,null),group:"navigation",order:100});const x=new Set;function U(V){const G=new V;return(0,t.registerInstantiatedEditorAction)(G),x.add(G.id),G}class K extends t.EditorAction{constructor(G,oe){super(oe);this._configuration=G}run(G,oe){if(!oe.hasModel())return Promise.resolve(void 0);const ce=G.get(E.INotificationService),ie=G.get(i.ICodeEditorService),de=G.get(T.IEditorProgressService),q=G.get(l.ISymbolNavigationService),z=oe.getModel(),$=oe.getPosition(),se=new u.EditorStateCancellationTokenSource(oe,1|4),te=(0,N.raceCancellation)(this._getLocationModel(z,$,se.token),se.token).then(ae=>De(this,void 0,void 0,function*(){var me;if(!ae||se.token.isCancellationRequested)return;(0,C.alert)(ae.ariaMessage);let _e;if(ae.referenceAt(z.uri,$)){const le=this._getAlternativeCommand(oe);le!==this.id&&x.has(le)&&(_e=oe.getAction(le))}const we=ae.references.length;if(we===0){if(!this._configuration.muteMessage){const le=z.getWordAtPosition($);(me=h.MessageController.get(oe))===null||me===void 0||me.showMessage(this._getNoResultFoundMessage(le),$)}}else if(we===1&&_e)_e.run();else return this._onResult(ie,q,oe,ae)}),ae=>{ce.error(ae)}).finally(()=>{se.dispose()});return de.showWhile(te,250),te}_onResult(G,oe,ce,ie){return De(this,void 0,void 0,function*(){const de=this._getGoToPreference(ce);if(!(ce instanceof n.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||de==="peek"&&ie.references.length>1))this._openInPeek(ce,ie);else{const q=ie.firstReference(),z=ie.references.length>1&&de==="gotoAndPeek",$=yield this._openReference(ce,G,q,this._configuration.openToSide,!z);z&&$?this._openInPeek($,ie):ie.dispose(),de==="goto"&&oe.put(q)}})}_openReference(G,oe,ce,ie,de){return De(this,void 0,void 0,function*(){let q;if((0,s.isLocationLink)(ce)&&(q=ce.targetSelectionRange),q||(q=ce.range),!q)return;const z=yield oe.openCodeEditor({resource:ce.uri,options:{selection:c.Range.collapseToStart(q),selectionRevealType:3}},G,ie);if(!!z){if(de){const $=z.getModel(),se=z.deltaDecorations([],[{range:q,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{z.getModel()===$&&z.deltaDecorations(se,[])},350)}return z}})}_openInPeek(G,oe){const ce=r.ReferencesController.get(G);ce&&G.hasModel()?ce.toggleWidget(G.getSelection(),(0,N.createCancelablePromise)(ie=>Promise.resolve(oe)),this._configuration.openInPeek):oe.dispose()}}class Z extends K{_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getDefinitionsAtPosition)(G,oe,ce),y.localize(1,null))})}_getNoResultFoundMessage(G){return G&&G.word?y.localize(2,null,G.word):y.localize(3,null)}_getAlternativeCommand(G){return G.getOption(50).alternativeDefinitionCommand}_getGoToPreference(G){return G.getOption(50).multipleDefinitions}}e.DefinitionAction=Z;const ee=S.isWeb&&!w.isStandalone?2048|70:70;U((A=class ii extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ii.id,label:y.localize(4,null),alias:"Go to Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:ee,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});f.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",ii.id)}},A.id="editor.action.revealDefinition",A)),U((P=class ni extends Z{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ni.id,label:y.localize(5,null),alias:"Open Definition to the Side",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2048|41,ee),weight:100}});f.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",ni.id)}},P.id="editor.action.revealDefinitionAside",P)),U((F=class si extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:si.id,label:y.localize(6,null),alias:"Peek Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:2}});f.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",si.id)}},F.id="editor.action.peekDefinition",F));class X extends K{_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getDeclarationsAtPosition)(G,oe,ce),y.localize(7,null))})}_getNoResultFoundMessage(G){return G&&G.word?y.localize(8,null,G.word):y.localize(9,null)}_getAlternativeCommand(G){return G.getOption(50).alternativeDeclarationCommand}_getGoToPreference(G){return G.getOption(50).multipleDeclarations}}U((R=class Fi extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Fi.id,label:y.localize(10,null),alias:"Go to Declaration",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(G){return G&&G.word?y.localize(11,null,G.word):y.localize(12,null)}},R.id="editor.action.revealDeclaration",R)),U(class extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:y.localize(13,null),alias:"Peek Declaration",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ne extends K{_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getTypeDefinitionsAtPosition)(G,oe,ce),y.localize(14,null))})}_getNoResultFoundMessage(G){return G&&G.word?y.localize(15,null,G.word):y.localize(16,null)}_getAlternativeCommand(G){return G.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(G){return G.getOption(50).multipleTypeDefinitions}}U((M=class Bi extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Bi.ID,label:y.localize(17,null),alias:"Go to Type Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},M.ID="editor.action.goToTypeDefinition",M)),U((O=class Wi extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Wi.ID,label:y.localize(18,null),alias:"Peek Type Definition",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class Y extends K{_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getImplementationsAtPosition)(G,oe,ce),y.localize(19,null))})}_getNoResultFoundMessage(G){return G&&G.word?y.localize(20,null,G.word):y.localize(21,null)}_getAlternativeCommand(G){return G.getOption(50).alternativeImplementationCommand}_getGoToPreference(G){return G.getOption(50).multipleImplementations}}U((L=class xi extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xi.ID,label:y.localize(22,null),alias:"Go to Implementations",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},L.ID="editor.action.goToImplementation",L)),U((B=class Vi extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Vi.ID,label:y.localize(23,null),alias:"Peek Implementations",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},B.ID="editor.action.peekImplementation",B));class j extends K{_getNoResultFoundMessage(G){return G?y.localize(24,null,G.word):y.localize(25,null)}_getAlternativeCommand(G){return G.getOption(50).alternativeReferenceCommand}_getGoToPreference(G){return G.getOption(50).multipleReferences}}U(class extends j{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:y.localize(26,null),alias:"Go to References",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getReferencesAtPosition)(G,oe,!0,ce),y.localize(27,null))})}}),U(class extends j{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:y.localize(28,null),alias:"Peek References",precondition:_.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,k.getReferencesAtPosition)(G,oe,!1,ce),y.localize(29,null))})}});class W extends K{constructor(G,oe,ce){super(G,{id:"editor.action.goToLocation",label:y.localize(30,null),alias:"Go to Any Symbol",precondition:_.ContextKeyExpr.and(m.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=oe,this._gotoMultipleBehaviour=ce}_getLocationModel(G,oe,ce){return De(this,void 0,void 0,function*(){return new o.ReferencesModel(this._references,y.localize(31,null))})}_getNoResultFoundMessage(G){return G&&y.localize(32,null,G.word)||""}_getGoToPreference(G){var oe;return(oe=this._gotoMultipleBehaviour)!==null&&oe!==void 0?oe:G.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}f.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:a.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(V,G,oe,ce,ie,de,q)=>De(void 0,void 0,void 0,function*(){(0,b.assertType)(v.URI.isUri(G)),(0,b.assertType)(a.Position.isIPosition(oe)),(0,b.assertType)(Array.isArray(ce)),(0,b.assertType)(typeof ie=="undefined"||typeof ie=="string"),(0,b.assertType)(typeof q=="undefined"||typeof q=="boolean");const z=V.get(i.ICodeEditorService),$=yield z.openCodeEditor({resource:G},z.getFocusedCodeEditor());if((0,g.isCodeEditor)($))return $.setPosition(oe),$.revealPositionInCenterIfOutsideViewport(oe,0),$.invokeWithinContext(se=>{const te=new class extends W{_getNoResultFoundMessage(ae){return de||super._getNoResultFoundMessage(ae)}}({muteMessage:!Boolean(de),openInPeek:Boolean(q),openToSide:!1},ce,ie);se.get(I.IInstantiationService).invokeFunction(te.run.bind(te),$)})})}),f.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:a.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(V,G,oe,ce,ie)=>De(void 0,void 0,void 0,function*(){V.get(f.ICommandService).executeCommand("editor.action.goToLocations",G,oe,ce,ie,void 0,!0)})}),f.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(V,G,oe)=>{(0,b.assertType)(v.URI.isUri(G)),(0,b.assertType)(a.Position.isIPosition(oe));const ce=V.get(i.ICodeEditorService);return ce.openCodeEditor({resource:G},ce.getFocusedCodeEditor()).then(ie=>{if(!(0,g.isCodeEditor)(ie)||!ie.hasModel())return;const de=r.ReferencesController.get(ie);if(!de)return;const q=(0,N.createCancelablePromise)($=>(0,k.getReferencesAtPosition)(ie.getModel(),a.Position.lift(oe),!1,$).then(se=>new o.ReferencesModel(se,y.localize(33,null)))),z=new c.Range(oe.lineNumber,oe.column,oe.lineNumber,oe.column);return Promise.resolve(de.toggleWidget(z,q,!1))})}}),f.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),p.MenuRegistry.appendMenuItems([{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:y.localize(34,null)},group:"4_symbol_nav",order:2}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:y.localize(35,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:y.localize(36,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:y.localize(37,null)},group:"4_symbol_nav",order:4}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:y.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(Q[296],J([0,1,10,14,64,2,20,70,15,11,3,18,34,62,184,131,526,16,22,13,295,280,373]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let m=class Nt{constructor(p,f,_){this.textModelResolverService=f,this.languageService=_,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=p;let I=new a.ClickLinkGesture(p);this.toUnhook.add(I),this.toUnhook.add(I.onMouseMoveOrRelevantKeyDown(([E,T])=>{this.startFindDefinitionFromMouse(E,(0,S.withNullAsUndefined)(T))})),this.toUnhook.add(I.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},T=>{this.removeLinkDecorations(),(0,C.onUnexpectedError)(T)})})),this.toUnhook.add(I.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(p){return p.getContribution(Nt.ID)}startFindDefinitionFromCursor(p){return this.startFindDefinition(p).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(f=>{f&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(p,f){if(p.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(p,f)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const _=p.target.position;this.startFindDefinition(_)}startFindDefinition(p){var f;this.toUnhookForKeyboard.clear();const _=p?(f=this.editor.getModel())===null||f===void 0?void 0:f.getWordAtPosition(p):null;if(!_)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===_.startColumn&&this.currentWordAtPosition.endColumn===_.endColumn&&this.currentWordAtPosition.word===_.word)return Promise.resolve(0);this.currentWordAtPosition=_;let I=new b.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,w.createCancelablePromise)(E=>this.findDefinition(p,E)),this.previousPromise.then(E=>{if(!E||!E.length||!I.validate(this.editor)){this.removeLinkDecorations();return}if(E.length>1)this.addDecoration(new g.Range(p.lineNumber,_.startColumn,p.lineNumber,_.endColumn),new N.MarkdownString().appendText(d.localize(0,null,E.length)));else{let T=E[0];if(!T.uri)return;this.textModelResolverService.createModelReference(T.uri).then(k=>{if(!k.object||!k.object.textEditorModel){k.dispose();return}const{object:{textEditorModel:A}}=k,{startLineNumber:P}=T.range;if(P<1||P>A.getLineCount()){k.dispose();return}const F=this.getPreviewValue(A,P,T);let R;T.originSelectionRange?R=g.Range.lift(T.originSelectionRange):R=new g.Range(p.lineNumber,_.startColumn,p.lineNumber,_.endColumn);const M=this.languageService.guessLanguageIdByFilepathOrFirstLine(A.uri);this.addDecoration(R,new N.MarkdownString().appendCodeblock(M||"",F)),k.dispose()})}}).then(void 0,C.onUnexpectedError)}getPreviewValue(p,f,_){let I=_.targetSelectionRange?_.range:this.getPreviewRangeBasedOnBrackets(p,f);return I.endLineNumber-I.startLineNumber>=Nt.MAX_SOURCE_PREVIEW_LINES&&(I=this.getPreviewRangeBasedOnIndentation(p,f)),this.stripIndentationFromPreviewRange(p,f,I)}stripIndentationFromPreviewRange(p,f,_){let E=p.getLineFirstNonWhitespaceColumn(f);for(let k=f+1;k<_.endLineNumber;k++){const A=p.getLineFirstNonWhitespaceColumn(k);E=Math.min(E,A)}return p.getValueInRange(_).replace(new RegExp(`^\\s{${E-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(p,f){const _=p.getLineFirstNonWhitespaceColumn(f),I=Math.min(p.getLineCount(),f+Nt.MAX_SOURCE_PREVIEW_LINES);let E=f+1;for(;E<I;E++){let T=p.getLineFirstNonWhitespaceColumn(E);if(_===T)break}return new g.Range(f,1,E+1,1)}getPreviewRangeBasedOnBrackets(p,f){const _=Math.min(p.getLineCount(),f+Nt.MAX_SOURCE_PREVIEW_LINES),I=[];let E=!0,T=p.bracketPairs.findNextBracket(new u.Position(f,1));for(;T!==null;){if(I.length===0)I.push(T);else{const F=I[I.length-1];if(F.open[0]===T.open[0]&&F.isOpen&&!T.isOpen?I.pop():I.push(T),I.length===0)if(E)E=!1;else return new g.Range(f,1,T.range.endLineNumber+1,1)}const k=p.getLineMaxColumn(f);let A=T.range.endLineNumber,P=T.range.endColumn;if(k===T.range.endColumn&&(A++,P=1),A>_)return new g.Range(f,1,_+1,1);T=p.bracketPairs.findNextBracket(new u.Position(A,P))}return new g.Range(f,1,_+1,1)}addDecoration(p,f){const _={range:p,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:f}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[_])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(p,f){return this.editor.hasModel()&&p.isNoneOrSingleMouseDown&&p.target.type===6&&(p.hasTriggerModifier||(f?f.keyCodeIsTriggerKey:!1))&&t.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(p,f){const _=this.editor.getModel();return _?(0,h.getDefinitionsAtPosition)(_,p,f):Promise.resolve(null)}gotoDefinition(p,f){return this.editor.setPosition(p),this.editor.invokeWithinContext(_=>{const I=!f&&this.editor.getOption(77)&&!this.isInPeekEditor(_);return new l.DefinitionAction({openToSide:f,openInPeek:I,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(_,this.editor)})}isInPeekEditor(p){const f=p.get(s.IContextKeyService);return c.PeekContext.inPeekEditor.getValue(f)}dispose(){this.toUnhook.dispose()}};m.ID="editor.contrib.gotodefinitionatposition",m.MAX_SOURCE_PREVIEW_LINES=8,m=Be([fe(1,n.ITextModelService),fe(2,i.ILanguageService)],m),e.GotoDefinitionAtPositionEditorContribution=m,(0,v.registerEditorContribution)(m.ID,m),(0,o.registerThemingParticipant)((y,p)=>{const f=y.getColor(r.editorActiveLinkForeground);f&&p.addRule(`.monaco-editor .goto-definition-link { color: ${f} !important; }`)})}),define(Q[729],J([0,1,7,19,10,14,2,41,3,194,154,282,150,293,534,74,51,69,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=w.$;class h{constructor(f,_,I){this.owner=f,this.range=_,this.marker=I}isValidForHoverAnchor(f){return f.type===1&&this.range.startColumn<=f.range.startColumn&&this.range.endColumn>=f.range.endColumn}}e.MarkerHover=h;const m={type:1,filter:{include:i.CodeActionKind.QuickFix}};let y=class{constructor(f,_,I){this._editor=f,this._markerDecorationsService=_,this._openerService=I,this.recentMarkerCodeActionsInfo=void 0}computeSync(f,_){if(!this._editor.hasModel()||f.type!==1)return[];const I=this._editor.getModel(),E=f.range.startLineNumber,T=I.getLineMaxColumn(E),k=[];for(const A of _){const P=A.range.startLineNumber===E?A.range.startColumn:1,F=A.range.endLineNumber===E?A.range.endColumn:T,R=this._markerDecorationsService.getMarker(I.uri,A);if(!R)continue;const M=new v.Range(f.range.startLineNumber,P,f.range.startLineNumber,F);k.push(new h(this,M,R))}return k}renderHoverParts(f,_){if(!_.length)return S.Disposable.None;const I=new S.DisposableStore;_.forEach(T=>f.fragment.appendChild(this.renderMarkerHover(T,I)));const E=_.length===1?_[0]:_.sort((T,k)=>c.MarkerSeverity.compare(T.marker.severity,k.marker.severity))[0];return this.renderMarkerStatusbar(f,E,I),I}renderMarkerHover(f,_){const I=l("div.hover-row"),E=w.append(I,l("div.marker.hover-contents")),{source:T,message:k,code:A,relatedInformation:P}=f.marker;this._editor.applyFontInfo(E);const F=w.append(E,l("span"));if(F.style.whiteSpace="pre-wrap",F.innerText=k,T||A)if(A&&typeof A!="string"){const R=l("span");if(T){const B=w.append(R,l("span"));B.innerText=T}const M=w.append(R,l("a.code-link"));M.setAttribute("href",A.target.toString()),_.add(w.addDisposableListener(M,"click",B=>{this._openerService.open(A.target,{allowCommands:!0}),B.preventDefault(),B.stopPropagation()}));const O=w.append(M,l("span"));O.innerText=A.value;const L=w.append(E,R);L.style.opacity="0.6",L.style.paddingLeft="6px"}else{const R=w.append(E,l("span"));R.style.opacity="0.6",R.style.paddingLeft="6px",R.innerText=T&&A?`${T}(${A})`:T||`(${A})`}if((0,C.isNonEmptyArray)(P))for(const{message:R,resource:M,startLineNumber:O,startColumn:L}of P){const B=w.append(E,l("div"));B.style.marginTop="8px";const x=w.append(B,l("a"));x.innerText=`${(0,b.basename)(M)}(${O}, ${L}): `,x.style.cursor="pointer",_.add(w.addDisposableListener(x,"click",K=>{K.stopPropagation(),K.preventDefault(),this._openerService&&this._openerService.open(M,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:L}}}).catch(D.onUnexpectedError)}));const U=w.append(B,l("span"));U.innerText=R,this._editor.applyFontInfo(U)}return I}renderMarkerStatusbar(f,_,I){if((_.marker.severity===c.MarkerSeverity.Error||_.marker.severity===c.MarkerSeverity.Warning||_.marker.severity===c.MarkerSeverity.Info)&&f.statusBar.addAction({label:a.localize(0,null),commandId:n.NextMarkerAction.ID,run:()=>{var E;f.hide(),(E=n.MarkerController.get(this._editor))===null||E===void 0||E.showAtMarker(_.marker),this._editor.focus()}}),!this._editor.getOption(80)){const E=f.statusBar.append(l("div"));this.recentMarkerCodeActionsInfo&&(c.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===c.IMarkerData.makeKey(_.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(E.textContent=a.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const T=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:I.add((0,N.disposableTimeout)(()=>E.textContent=a.localize(2,null),200));E.textContent||(E.textContent=String.fromCharCode(160));const k=this.getCodeActions(_.marker);I.add((0,S.toDisposable)(()=>k.cancel())),k.then(A=>{if(T.dispose(),this.recentMarkerCodeActionsInfo={marker:_.marker,hasCodeActions:A.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){A.dispose(),E.textContent=a.localize(3,null);return}E.style.display="none";let P=!1;I.add((0,S.toDisposable)(()=>{P||A.dispose()})),f.statusBar.addAction({label:a.localize(4,null),commandId:t.QuickFixAction.Id,run:F=>{P=!0;const R=t.QuickFixController.get(this._editor),M=w.getDomNodePagePosition(F);f.hide(),R==null||R.showCodeActions(m,A,{x:M.left+6,y:M.top+M.height+6})}})},D.onUnexpectedError)}}getCodeActions(f){return(0,N.createCancelablePromise)(_=>(0,g.getCodeActions)(this._editor.getModel(),new v.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn),m,s.Progress.None,_))}};y=Be([fe(1,u.IMarkerDecorationsService),fe(2,d.IOpenerService)],y),e.MarkerHoverParticipant=y,(0,o.registerThemingParticipant)((p,f)=>{const _=p.getColor(r.textLinkForeground);_&&f.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${_}; }`);const I=p.getColor(r.textLinkActiveForeground);I&&f.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${I}; }`)})}),define(Q[730],J([0,1,15,28,294,39,16,9,40,77]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends N.ReferencesController{constructor(i,n,a,c,d,s,r){super(!0,i,n,a,c,d,s,r)}};g=Be([fe(1,S.IContextKeyService),fe(2,C.ICodeEditorService),fe(3,v.INotificationService),fe(4,b.IInstantiationService),fe(5,u.IStorageService),fe(6,D.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,w.registerEditorContribution)(N.ReferencesController.ID,g)}),define(Q[731],J([0,1,14,2,48,80,579,125,61,40,157]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const t=!1;function i(y){return y.scheme===N.Schemas.file?y.fsPath:y.path}let n=0;class a{constructor(p,f,_,I,E,T,k){this.id=++n,this.type=0,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=I,this.groupOrder=E,this.sourceId=T,this.sourceOrder=k,this.isValid=!0}setValid(p){this.isValid=p}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class c{constructor(p,f){this.resourceLabel=p,this.reason=f}}class d{constructor(){this.elements=new Map}createMessage(){const p=[],f=[];for(const[,I]of this.elements)(I.reason===0?p:f).push(I.resourceLabel);let _=[];return p.length>0&&_.push(S.localize(0,null,p.join(", "))),f.length>0&&_.push(S.localize(1,null,f.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(p){return this.elements.has(p)}set(p,f){this.elements.set(p,f)}delete(p){return this.elements.delete(p)}}class s{constructor(p,f,_,I,E,T,k){this.id=++n,this.type=1,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=_,this.groupId=I,this.groupOrder=E,this.sourceId=T,this.sourceOrder=k,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(p,f,_){this.removedResources||(this.removedResources=new d),this.removedResources.has(f)||this.removedResources.set(f,new c(p,_))}setValid(p,f,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new d),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new c(p,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(p,f){this.resourceLabel=p,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const p of this._past)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let p=[];p.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)p.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)p.push(`   * [REDO] ${this._future[f]}`);return p.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(p,f){p.type===1?p.setValid(this.resourceLabel,this.strResource,f):p.setValid(f)}setElementsValidFlag(p,f){for(const _ of this._past)f(_.actual)&&this._setElementValidFlag(_,p);for(const _ of this._future)f(_.actual)&&this._setElementValidFlag(_,p)}pushElement(p){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(p),this.versionId++}createSnapshot(p){const f=[];for(let _=0,I=this._past.length;_<I;_++)f.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)f.push(this._future[_].id);return new g.ResourceEditStackSnapshot(p,f)}restoreSnapshot(p){const f=p.elements.length;let _=!0,I=0,E=-1;for(let k=0,A=this._past.length;k<A;k++,I++){const P=this._past[k];_&&(I>=f||P.id!==p.elements[I])&&(_=!1,E=0),!_&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}let T=-1;for(let k=this._future.length-1;k>=0;k--,I++){const A=this._future[k];_&&(I>=f||A.id!==p.elements[I])&&(_=!1,T=k),!_&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),T!==-1&&(this._future=this._future.slice(T+1)),this.versionId++}getElements(){const p=[],f=[];for(const _ of this._past)p.push(_.actual);for(const _ of this._future)f.push(_.actual);return{past:p,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(p,f){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===p){f.has(this.strResource)?this._past[_]=f.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(p,f){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===p){f.has(this.strResource)?this._future[_]=f.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(p){this._past.pop(),this._future.push(p),this.versionId++}moveForward(p){this._future.pop(),this._past.push(p),this.versionId++}}class o{constructor(p){this.editStacks=p,this._versionIds=[];for(let f=0,_=this.editStacks.length;f<_;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let p=0,f=this.editStacks.length;p<f;p++)if(this._versionIds[p]!==this.editStacks[p].versionId)return!1;return!0}}const l=new r("","");l.locked=!0;let h=class{constructor(p,f){this._dialogService=p,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(p){for(const f of this._uriComparisonKeyComputers)if(f[0]===p.scheme)return f[1].getComparisonKey(p);return p.toString()}_print(p){console.log("------------------------------------"),console.log(`AFTER ${p}: `);let f=[];for(const _ of this._editStacks)f.push(_[1].toString());console.log(f.join(`
`))}pushElement(p,f=g.UndoRedoGroup.None,_=g.UndoRedoSource.None){if(p.type===0){const I=i(p.resource),E=this.getUriComparisonKey(p.resource);this._pushElement(new a(p,I,E,f.id,f.nextOrder(),_.id,_.nextOrder()))}else{const I=new Set,E=[],T=[];for(const k of p.resources){const A=i(k),P=this.getUriComparisonKey(k);I.has(P)||(I.add(P),E.push(A),T.push(P))}E.length===1?this._pushElement(new a(p,E[0],T[0],f.id,f.nextOrder(),_.id,_.nextOrder())):this._pushElement(new s(p,E,T,f.id,f.nextOrder(),_.id,_.nextOrder()))}t&&this._print("pushElement")}_pushElement(p){for(let f=0,_=p.strResources.length;f<_;f++){const I=p.resourceLabels[f],E=p.strResources[f];let T;this._editStacks.has(E)?T=this._editStacks.get(E):(T=new r(I,E),this._editStacks.set(E,T)),T.pushElement(p)}}getLastElement(p){const f=this.getUriComparisonKey(p);if(this._editStacks.has(f)){const _=this._editStacks.get(f);if(_.hasFutureElements())return null;const I=_.getClosestPastElement();return I?I.actual:null}return null}_splitPastWorkspaceElement(p,f){const _=p.actual.split(),I=new Map;for(const E of _){const T=i(E.resource),k=this.getUriComparisonKey(E.resource),A=new a(E,T,k,0,0,0,0);I.set(A.strResource,A)}for(const E of p.strResources){if(f&&f.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(p,I)}}_splitFutureWorkspaceElement(p,f){const _=p.actual.split(),I=new Map;for(const E of _){const T=i(E.resource),k=this.getUriComparisonKey(E.resource),A=new a(E,T,k,0,0,0,0);I.set(A.strResource,A)}for(const E of p.strResources){if(f&&f.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(p,I)}}removeElements(p){const f=typeof p=="string"?p:this.getUriComparisonKey(p);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),t&&this._print("removeElements")}setElementsValidFlag(p,f,_){const I=this.getUriComparisonKey(p);this._editStacks.has(I)&&this._editStacks.get(I).setElementsValidFlag(f,_),t&&this._print("setElementsValidFlag")}createSnapshot(p){const f=this.getUriComparisonKey(p);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(p):new g.ResourceEditStackSnapshot(p,[])}restoreSnapshot(p){const f=this.getUriComparisonKey(p.resource);if(this._editStacks.has(f)){const _=this._editStacks.get(f);_.restoreSnapshot(p),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(f))}t&&this._print("restoreSnapshot")}getElements(p){const f=this.getUriComparisonKey(p);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(p){if(!p)return[null,null];let f=null,_=null;for(const[I,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.sourceId===p&&(!f||T.sourceOrder>f.sourceOrder)&&(f=T,_=I)}return[f,_]}canUndo(p){if(p instanceof g.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(p.id);return!!_}const f=this.getUriComparisonKey(p);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(p,f){(0,w.onUnexpectedError)(p);for(const _ of f.strResources)this.removeElements(_);this._notificationService.error(p)}_acquireLocks(p){for(const f of p.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of p.editStacks)f.locked=!0;return()=>{for(const f of p.editStacks)f.locked=!1}}_safeInvokeWithLocks(p,f,_,I,E){const T=this._acquireLocks(_);let k;try{k=f()}catch(A){return T(),I.dispose(),this._onError(A,p)}return k?k.then(()=>(T(),I.dispose(),E()),A=>(T(),I.dispose(),this._onError(A,p))):(T(),I.dispose(),E())}_invokeWorkspacePrepare(p){return De(this,void 0,void 0,function*(){if(typeof p.actual.prepareUndoRedo=="undefined")return C.Disposable.None;const f=p.actual.prepareUndoRedo();return typeof f=="undefined"?C.Disposable.None:f})}_invokeResourcePrepare(p,f){if(p.actual.type!==1||typeof p.actual.prepareUndoRedo=="undefined")return f(C.Disposable.None);const _=p.actual.prepareUndoRedo();return _?(0,C.isDisposable)(_)?f(_):_.then(I=>f(I)):f(C.Disposable.None)}_getAffectedEditStacks(p){const f=[];for(const _ of p.strResources)f.push(this._editStacks.get(_)||l);return new o(f)}_tryToSplitAndUndo(p,f,_,I){if(f.canSplit())return this._splitPastWorkspaceElement(f,_),this._notificationService.warn(I),new m(this._undo(p,0,!0));for(const E of f.strResources)this.removeElements(E);return this._notificationService.warn(I),new m}_checkWorkspaceUndo(p,f,_,I){if(f.removedResources)return this._tryToSplitAndUndo(p,f,f.removedResources,S.localize(2,null,f.label,f.removedResources.createMessage()));if(I&&f.invalidatedResources)return this._tryToSplitAndUndo(p,f,f.invalidatedResources,S.localize(3,null,f.label,f.invalidatedResources.createMessage()));const E=[];for(const k of _.editStacks)k.getClosestPastElement()!==f&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(p,f,null,S.localize(4,null,f.label,E.join(", ")));const T=[];for(const k of _.editStacks)k.locked&&T.push(k.resourceLabel);return T.length>0?this._tryToSplitAndUndo(p,f,null,S.localize(5,null,f.label,T.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(p,f,null,S.localize(6,null,f.label))}_workspaceUndo(p,f,_){const I=this._getAffectedEditStacks(f),E=this._checkWorkspaceUndo(p,f,I,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(p,f,I,_)}_isPartOfUndoGroup(p){if(!p.groupId)return!1;for(const[,f]of this._editStacks){const _=f.getClosestPastElement();if(!!_){if(_===p){const I=f.getSecondClosestPastElement();if(I&&I.groupId===p.groupId)return!0}if(_.groupId===p.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(p,f,_,I){return De(this,void 0,void 0,function*(){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){const k=yield this._dialogService.show(D.default.Info,S.localize(7,null,f.label),[S.localize(8,null,_.editStacks.length),S.localize(9,null),S.localize(10,null)],{cancelId:2});if(k.choice===2)return;if(k.choice===1)return this._splitPastWorkspaceElement(f,null),this._undo(p,0,!0);const A=this._checkWorkspaceUndo(p,f,_,!1);if(A)return A.returnValue;I=!0}let E;try{E=yield this._invokeWorkspacePrepare(f)}catch(k){return this._onError(k,f)}const T=this._checkWorkspaceUndo(p,f,_,!0);if(T)return E.dispose(),T.returnValue;for(const k of _.editStacks)k.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),_,E,()=>this._continueUndoInGroup(f.groupId,I))})}_resourceUndo(p,f,_){if(!f.isValid){p.flushAllElements();return}if(p.locked){const I=S.localize(11,null,f.label);this._notificationService.warn(I);return}return this._invokeResourcePrepare(f,I=>(p.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new o([p]),I,()=>this._continueUndoInGroup(f.groupId,_))))}_findClosestUndoElementInGroup(p){if(!p)return[null,null];let f=null,_=null;for(const[I,E]of this._editStacks){const T=E.getClosestPastElement();!T||T.groupId===p&&(!f||T.groupOrder>f.groupOrder)&&(f=T,_=I)}return[f,_]}_continueUndoInGroup(p,f){if(!p)return;const[,_]=this._findClosestUndoElementInGroup(p);if(_)return this._undo(_,0,f)}undo(p){if(p instanceof g.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(p.id);return f?this._undo(f,p.id,!1):void 0}return typeof p=="string"?this._undo(p,0,!1):this._undo(this.getUriComparisonKey(p),0,!1)}_undo(p,f=0,_){if(!this._editStacks.has(p))return;const I=this._editStacks.get(p),E=I.getClosestPastElement();if(!E)return;if(E.groupId){const[k,A]=this._findClosestUndoElementInGroup(E.groupId);if(E!==k&&A)return this._undo(A,f,_)}if((E.sourceId!==f||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(p,f,E);try{return E.type===1?this._workspaceUndo(p,E,_):this._resourceUndo(I,E,_)}finally{t&&this._print("undo")}}_confirmAndContinueUndo(p,f,_){return De(this,void 0,void 0,function*(){if((yield this._dialogService.show(D.default.Info,S.localize(12,null,_.label),[S.localize(13,null),S.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(p,f,!0)})}_findClosestRedoElementWithSource(p){if(!p)return[null,null];let f=null,_=null;for(const[I,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.sourceId===p&&(!f||T.sourceOrder<f.sourceOrder)&&(f=T,_=I)}return[f,_]}canRedo(p){if(p instanceof g.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(p.id);return!!_}const f=this.getUriComparisonKey(p);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(p,f,_,I){if(f.canSplit())return this._splitFutureWorkspaceElement(f,_),this._notificationService.warn(I),new m(this._redo(p));for(const E of f.strResources)this.removeElements(E);return this._notificationService.warn(I),new m}_checkWorkspaceRedo(p,f,_,I){if(f.removedResources)return this._tryToSplitAndRedo(p,f,f.removedResources,S.localize(15,null,f.label,f.removedResources.createMessage()));if(I&&f.invalidatedResources)return this._tryToSplitAndRedo(p,f,f.invalidatedResources,S.localize(16,null,f.label,f.invalidatedResources.createMessage()));const E=[];for(const k of _.editStacks)k.getClosestFutureElement()!==f&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(p,f,null,S.localize(17,null,f.label,E.join(", ")));const T=[];for(const k of _.editStacks)k.locked&&T.push(k.resourceLabel);return T.length>0?this._tryToSplitAndRedo(p,f,null,S.localize(18,null,f.label,T.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(p,f,null,S.localize(19,null,f.label))}_workspaceRedo(p,f){const _=this._getAffectedEditStacks(f),I=this._checkWorkspaceRedo(p,f,_,!1);return I?I.returnValue:this._executeWorkspaceRedo(p,f,_)}_executeWorkspaceRedo(p,f,_){return De(this,void 0,void 0,function*(){let I;try{I=yield this._invokeWorkspacePrepare(f)}catch(T){return this._onError(T,f)}const E=this._checkWorkspaceRedo(p,f,_,!0);if(E)return I.dispose(),E.returnValue;for(const T of _.editStacks)T.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),_,I,()=>this._continueRedoInGroup(f.groupId))})}_resourceRedo(p,f){if(!f.isValid){p.flushAllElements();return}if(p.locked){const _=S.localize(20,null,f.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(f,_=>(p.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new o([p]),_,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(p){if(!p)return[null,null];let f=null,_=null;for(const[I,E]of this._editStacks){const T=E.getClosestFutureElement();!T||T.groupId===p&&(!f||T.groupOrder<f.groupOrder)&&(f=T,_=I)}return[f,_]}_continueRedoInGroup(p){if(!p)return;const[,f]=this._findClosestRedoElementInGroup(p);if(f)return this._redo(f)}redo(p){if(p instanceof g.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(p.id);return f?this._redo(f):void 0}return typeof p=="string"?this._redo(p):this._redo(this.getUriComparisonKey(p))}_redo(p){if(!this._editStacks.has(p))return;const f=this._editStacks.get(p),_=f.getClosestFutureElement();if(!!_){if(_.groupId){const[I,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==I&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(p,_):this._resourceRedo(f,_)}finally{t&&this._print("redo")}}}};h=Be([fe(0,b.IDialogService),fe(1,u.INotificationService)],h),e.UndoRedoService=h;class m{constructor(p){this.returnValue=p}}(0,v.registerSingleton)(g.IUndoRedoService,h)}),define(Q[297],J([0,1,47,9]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,C.createDecorator)("contextService");class N{constructor(b,v,u,g,t){this._id=b,this._transient=u,this._configuration=g,this._ignorePathCasing=t,this._foldersMap=w.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=v}get folders(){return this._folders}set folders(b){this._folders=b,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(b){this._configuration=b}getFolder(b){return b&&this._foldersMap.findSubstr(b.with({scheme:b.scheme,authority:b.authority,path:b.path}))||null}updateFoldersMap(){this._foldersMap=w.TernarySearchTree.forUris(this._ignorePathCasing);for(const b of this.folders)this._foldersMap.set(b.uri,b)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=N;class D{constructor(b,v){this.raw=v,this.uri=b.uri,this.index=b.index,this.name=b.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=D}),define(Q[298],J([0,1,9]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,w.createDecorator)("workspaceTrustManagementService")}),define(Q[299],J([0,1,10,27,2,17,8,15,29,53,32,236,82,34,256,197,689,564,39,9,51,75,22,71,13,298,384]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,y.registerIcon)("extensions-warning-message",C.Codicon.warning,s.localize(0,null));let _=class extends N.Disposable{constructor(Y,j,W,V){super();this._editor=Y,this._editorWorkerService=j,this._workspaceTrustService=W,this._highlighter=null,this._bannerClosed=!1,this._updateState=G=>{if(G&&G.hasMore){if(this._bannerClosed)return;const oe=Math.max(G.ambiguousCharacterCount,G.nonBasicAsciiCharacterCount,G.invisibleCharacterCount);let ce;if(G.nonBasicAsciiCharacterCount>=oe)ce={message:s.localize(1,null),command:new U};else if(G.ambiguousCharacterCount>=oe)ce={message:s.localize(2,null),command:new B};else if(G.invisibleCharacterCount>=oe)ce={message:s.localize(3,null),command:new x};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ce.message,icon:e.warningIcon,actions:[{label:ce.command.shortLabel,href:`command:${ce.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(V.createInstance(d.BannerController,Y)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Y.getOption(112),this._register(W.onDidChangeTrust(G=>{this._updateHighlighter()})),this._register(Y.onDidChangeConfiguration(G=>{G.hasChanged(112)&&(this._options=Y.getOption(112),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Y=I(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Y.nonBasicASCII,Y.ambiguousCharacters,Y.invisibleCharacters].every(W=>W===!1))return;const j={nonBasicASCII:Y.nonBasicASCII,ambiguousCharacters:Y.ambiguousCharacters,invisibleCharacters:Y.invisibleCharacters,includeComments:Y.includeComments,includeStrings:Y.includeStrings,allowedCodePoints:Object.keys(Y.allowedCharacters).map(W=>W.codePointAt(0)),allowedLocales:Object.keys(Y.allowedLocales).map(W=>W==="_os"?new Intl.NumberFormat().resolvedOptions().locale:W==="_vscode"?D.language:W)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new E(this._editor,j,this._updateState,this._editorWorkerService):this._highlighter=new T(this._editor,j,this._updateState)}getDecorationInfo(Y){return this._highlighter?this._highlighter.getDecorationInfo(Y):null}};_.ID="editor.contrib.unicodeHighlighter",_=Be([fe(1,i.IEditorWorkerService),fe(2,f.IWorkspaceTrustManagementService),fe(3,o.IInstantiationService)],_),e.UnicodeHighlighter=_;function I(ne,Y){return{nonBasicASCII:Y.nonBasicASCII===v.inUntrustedWorkspace?!ne:Y.nonBasicASCII,ambiguousCharacters:Y.ambiguousCharacters,invisibleCharacters:Y.invisibleCharacters,includeComments:Y.includeComments===v.inUntrustedWorkspace?!ne:Y.includeComments,includeStrings:Y.includeStrings===v.inUntrustedWorkspace?!ne:Y.includeStrings,allowedCharacters:Y.allowedCharacters,allowedLocales:Y.allowedLocales}}let E=class extends N.Disposable{constructor(Y,j,W,V){super();this._editor=Y,this._options=j,this._updateState=W,this._editorWorkerService=V,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const Y=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(j=>{if(this._model.getVersionId()!==Y)return;this._updateState(j);const W=[];if(!j.hasMore)for(const V of j.ranges)W.push({range:V,options:M.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),W))})}getDecorationInfo(Y){if(!this._decorationIds.has(Y))return null;const j=this._editor.getModel(),W=j.getDecorationRange(Y),V={range:W,options:M.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings),id:Y,ownerId:0};if(!(0,a.isModelDecorationVisible)(j,V))return null;const G=j.getValueInRange(W);return{reason:R(G,this._options),inComment:(0,a.isModelDecorationInComment)(j,V),inString:(0,a.isModelDecorationInString)(j,V)}}};E=Be([fe(3,i.IEditorWorkerService)],E);class T extends N.Disposable{constructor(Y,j,W){super();this._editor=Y,this._options=j,this._updateState=W,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const Y=this._editor.getVisibleRanges(),j=[],W={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const V of Y){const G=t.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,V);for(const oe of G.ranges)W.ranges.push(oe);W.ambiguousCharacterCount+=W.ambiguousCharacterCount,W.invisibleCharacterCount+=W.invisibleCharacterCount,W.nonBasicAsciiCharacterCount+=W.nonBasicAsciiCharacterCount,W.hasMore=W.hasMore||G.hasMore}if(!W.hasMore)for(const V of W.ranges)j.push({range:V,options:M.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings)});this._updateState(W),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),j))}getDecorationInfo(Y){if(!this._decorationIds.has(Y))return null;const j=this._editor.getModel(),W=j.getDecorationRange(Y),V=j.getValueInRange(W),G={range:W,options:M.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings),id:Y,ownerId:0};return(0,a.isModelDecorationVisible)(j,G)?{reason:R(V,this._options),inComment:(0,a.isModelDecorationInComment)(j,G),inString:(0,a.isModelDecorationInString)(j,G)}:null}}let k=class{constructor(Y,j,W){this._editor=Y,this._languageService=j,this._openerService=W}computeSync(Y,j){if(!this._editor.hasModel()||Y.type!==1)return[];const W=this._editor.getModel(),V=this._editor.getContribution(_.ID);if(!V)return[];const G=[];let oe=300;for(const ce of j){const ie=V.getDecorationInfo(ce.id);if(!ie)continue;const q=W.getValueInRange(ce.range).codePointAt(0),z=P(q);let $;switch(ie.reason.kind){case 0:$=s.localize(4,null,z,P(ie.reason.confusableWith.codePointAt(0)));break;case 1:$=s.localize(5,null,z);break;case 2:$=s.localize(6,null,z);break}const se={codePoint:q,reason:ie.reason,inComment:ie.inComment,inString:ie.inString},te=s.localize(7,null),ae=[{value:`${$} [${te}](command:${K.ID}?${encodeURIComponent(JSON.stringify(se))})`,isTrusted:!0}];G.push(new c.MarkdownHover(this,ce.range,ae,oe++))}return G}renderHoverParts(Y,j){return(0,c.renderMarkdownHovers)(Y,j,this._editor,this._languageService,this._openerService)}};k=Be([fe(1,n.ILanguageService),fe(2,l.IOpenerService)],k),e.UnicodeHighlighterHoverParticipant=k;function A(ne){return`U+${ne.toString(16).padStart(4,"0")}`}function P(ne){let Y=`\`${A(ne)}\``;return S.InvisibleCharacters.isInvisibleCharacter(ne)||(Y+=` "${`${F(ne)}`}"`),Y}function F(ne){return ne===96?"`` ` ``":"`"+String.fromCodePoint(ne)+"`"}function R(ne,Y){return t.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(ne,Y)}class M{constructor(){this.map=new Map}getDecoration(Y,j){const W=`${Y}${j}`;let V=this.map.get(W);return V||(V=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,p.themeColorFromId)(m.overviewRulerUnicodeHighlightForeground),position:u.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(m.minimapUnicodeHighlight),position:u.MinimapPosition.Inline},hideInCommentTokens:Y,hideInStringTokens:j}),this.map.set(W,V)),V}}M.instance=new M;class O extends b.EditorAction{constructor(){super({id:B.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=s.localize(8,null)}run(Y,j,W){return De(this,void 0,void 0,function*(){let V=Y==null?void 0:Y.get(r.IConfigurationService);V&&this.runAction(V)})}runAction(Y){return De(this,void 0,void 0,function*(){yield Y.updateValue(v.unicodeHighlightConfigKeys.includeComments,!1,1)})}}e.DisableHighlightingInCommentsAction=O;class L extends b.EditorAction{constructor(){super({id:B.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=s.localize(10,null)}run(Y,j,W){return De(this,void 0,void 0,function*(){let V=Y==null?void 0:Y.get(r.IConfigurationService);V&&this.runAction(V)})}runAction(Y){return De(this,void 0,void 0,function*(){yield Y.updateValue(v.unicodeHighlightConfigKeys.includeStrings,!1,1)})}}e.DisableHighlightingInStringsAction=L;class B extends b.EditorAction{constructor(){super({id:B.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=s.localize(12,null)}run(Y,j,W){return De(this,void 0,void 0,function*(){let V=Y==null?void 0:Y.get(r.IConfigurationService);V&&this.runAction(V)})}runAction(Y){return De(this,void 0,void 0,function*(){yield Y.updateValue(v.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class x extends b.EditorAction{constructor(){super({id:x.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=s.localize(14,null)}run(Y,j,W){return De(this,void 0,void 0,function*(){let V=Y==null?void 0:Y.get(r.IConfigurationService);V&&this.runAction(V)})}runAction(Y){return De(this,void 0,void 0,function*(){yield Y.updateValue(v.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class U extends b.EditorAction{constructor(){super({id:U.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=s.localize(16,null)}run(Y,j,W){return De(this,void 0,void 0,function*(){let V=Y==null?void 0:Y.get(r.IConfigurationService);V&&this.runAction(V)})}runAction(Y){return De(this,void 0,void 0,function*(){yield Y.updateValue(v.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=U,U.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class K extends b.EditorAction{constructor(){super({id:K.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(Y,j,W){return De(this,void 0,void 0,function*(){const{codePoint:V,reason:G,inString:oe,inComment:ce}=W,ie=String.fromCodePoint(V),de=Y.get(h.IQuickInputService),q=Y.get(r.IConfigurationService);function z(te){return S.InvisibleCharacters.isInvisibleCharacter(te)?s.localize(19,null,A(te)):s.localize(20,null,`${A(te)} "${ie}"`)}const $=[];if(G.kind===0)for(const te of G.notAmbiguousInLocales)$.push({label:s.localize(21,null,te),run:()=>De(this,void 0,void 0,function*(){ee(q,[te])})});if($.push({label:z(V),run:()=>Z(q,[V])}),ce){const te=new O;$.push({label:te.label,run:()=>De(this,void 0,void 0,function*(){return te.runAction(q)})})}else if(oe){const te=new L;$.push({label:te.label,run:()=>De(this,void 0,void 0,function*(){return te.runAction(q)})})}if(G.kind===0){const te=new B;$.push({label:te.label,run:()=>De(this,void 0,void 0,function*(){return te.runAction(q)})})}else if(G.kind===1){const te=new x;$.push({label:te.label,run:()=>De(this,void 0,void 0,function*(){return te.runAction(q)})})}else if(G.kind===2){const te=new U;$.push({label:te.label,run:()=>De(this,void 0,void 0,function*(){return te.runAction(q)})})}else X(G);const se=yield de.pick($,{title:s.localize(22,null)});se&&(yield se.run())})}}e.ShowExcludeOptions=K,K.ID="editor.action.unicodeHighlight.showExcludeOptions";function Z(ne,Y){return De(this,void 0,void 0,function*(){const j=ne.getValue(v.unicodeHighlightConfigKeys.allowedCharacters);let W;typeof j=="object"&&j?W=j:W={};for(const V of Y)W[String.fromCodePoint(V)]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedCharacters,W,1)})}function ee(ne,Y){var j;return De(this,void 0,void 0,function*(){const W=(j=ne.inspect(v.unicodeHighlightConfigKeys.allowedLocales).user)===null||j===void 0?void 0:j.value;let V;typeof W=="object"&&W?V=Object.assign({},W):V={};for(const G of Y)V[G]=!0;yield ne.updateValue(v.unicodeHighlightConfigKeys.allowedLocales,V,1)})}function X(ne){throw new Error(`Unexpected value: ${ne}`)}(0,b.registerEditorAction)(B),(0,b.registerEditorAction)(x),(0,b.registerEditorAction)(U),(0,b.registerEditorAction)(K),(0,b.registerEditorContribution)(_.ID,_)}),define(Q[205],J([0,1,8,7,46,4,94,2,17,80,25,193,615,59,11,3,44,62,152,26,39,620,16,125,9,604,42,268,84,269,607,126,40,69,85,297,127,67,28,68,298,83,608,618,680,13,61,613,82,271,34,642,194,287,683,691,100,602,63,37,678,610,101,606,192,603,153,156,74,612,51,75,77,35,278,270,731]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A,P,F,R,M,O,L,B,x,U,K,Z,ee,X,ne,Y,j,W,V,G,oe,ce,ie,de,q,z,$,se,te,ae,me,_e,we,le,he,ue,ve,re,ge,ye,Ae,Oe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class He{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ve=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const We=this.modelService.getModel(Fe);return We?Promise.resolve(new b.ImmortalReference(new He(We))):Promise.reject(new Error("Model not found"))}};Ve=Be([fe(0,d.IModelService)],Ve);class Ge{show(){return Ge.NULL_PROGRESS_RUNNER}showWhile(Fe,We){return De(this,void 0,void 0,function*(){yield Fe})}}Ge.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Je{confirm(Fe){return this.doConfirm(Fe).then(We=>({confirmed:We,checkboxChecked:!1}))}doConfirm(Fe){let We=Fe.message;return Fe.detail&&(We=We+`

`+Fe.detail),Promise.resolve(window.confirm(We))}show(Fe,We,$e,Ke){return Promise.resolve({choice:0})}}class Ze{info(Fe){return this.notify({severity:u.default.Info,message:Fe})}warn(Fe){return this.notify({severity:u.default.Warning,message:Fe})}error(Fe){return this.notify({severity:u.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case u.default.Error:console.error(Fe.message);break;case u.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return Ze.NO_OP}status(Fe,We){return b.Disposable.None}}e.StandaloneNotificationService=Ze,Ze.NO_OP=new P.NoOpNotification;let et=class{constructor(Fe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...We){const $e=o.CommandsRegistry.getCommand(Fe);if(!$e)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:We});const Ke=this._instantiationService.invokeFunction.apply(this._instantiationService,[$e.handler,...We]);return this._onDidExecuteCommand.fire({commandId:Fe,args:We}),Promise.resolve(Ke)}catch(Ke){return Promise.reject(Ke)}}};et=Be([fe(0,p.IInstantiationService)],et),e.StandaloneCommandService=et;let Ee=class extends f.AbstractKeybindingService{constructor(Fe,We,$e,Ke,Xe,Qe){super(Fe,We,$e,Ke,Xe);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ye=st=>{const ht=new b.DisposableStore;ht.add(C.addDisposableListener(st,C.EventType.KEY_DOWN,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._dispatch(_t,_t.target)&&(_t.preventDefault(),_t.stopPropagation())})),ht.add(C.addDisposableListener(st,C.EventType.KEY_UP,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._singleModifierDispatch(_t,_t.target)&&_t.preventDefault()})),this._domNodeListeners.push(new Ie(st,ht))},it=st=>{for(let ht=0;ht<this._domNodeListeners.length;ht++){const ft=this._domNodeListeners[ht];ft.domNode===st&&(this._domNodeListeners.splice(ht,1),ft.dispose())}},at=st=>{st.getOption(53)||Ye(st.getContainerDomNode())},lt=st=>{st.getOption(53)||it(st.getContainerDomNode())};this._register(Qe.onCodeEditorAdd(at)),this._register(Qe.onCodeEditorRemove(lt)),Qe.listCodeEditors().forEach(at);const ot=st=>{Ye(st.getContainerDomNode())},ct=st=>{it(st.getContainerDomNode())};this._register(Qe.onDiffEditorAdd(ot)),this._register(Qe.onDiffEditorRemove(ct)),Qe.listDiffEditors().forEach(ot)}addDynamicKeybinding(Fe,We,$e,Ke){const Xe=(0,S.createKeybinding)(We,v.OS),Qe=new b.DisposableStore;return Xe&&(this._dynamicKeybindings.push({keybinding:Xe.parts,command:Fe,when:Ke,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Qe.add((0,b.toDisposable)(()=>{for(let Ye=0;Ye<this._dynamicKeybindings.length;Ye++)if(this._dynamicKeybindings[Ye].command===Fe){this._dynamicKeybindings.splice(Ye,1),this.updateResolver({source:1});return}}))),Qe.add(o.CommandsRegistry.registerCommand(Fe,$e)),this.updateResolver({source:1}),Qe}updateResolver(Fe){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(Fe)}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),We=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new I.KeybindingResolver(Fe,We,$e=>this._log($e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Fe,We){const $e=[];let Ke=0;for(const Xe of Fe){const Qe=Xe.when||void 0,Ye=Xe.keybinding;if(!Ye)$e[Ke++]=new T.ResolvedKeybindingItem(void 0,Xe.command,Xe.commandArgs,Qe,We,null,!1);else{const it=k.USLayoutResolvedKeybinding.resolveUserBinding(Ye,v.OS);for(const at of it)$e[Ke++]=new T.ResolvedKeybindingItem(at,Xe.command,Xe.commandArgs,Qe,We,null,!1)}}return $e}resolveKeyboardEvent(Fe){const We=new S.SimpleKeybinding(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode).toChord();return new k.USLayoutResolvedKeybinding(We,v.OS)}};Ee=Be([fe(0,m.IContextKeyService),fe(1,o.ICommandService),fe(2,R.ITelemetryService),fe(3,P.INotificationService),fe(4,x.ILogService),fe(5,B.ICodeEditorService)],Ee),e.StandaloneKeybindingService=Ee;class Ie extends b.Disposable{constructor(Fe,We){super();this.domNode=Fe,this._register(We)}}function Re(ze){return ze&&typeof ze=="object"&&(!ze.overrideIdentifier||typeof ze.overrideIdentifier=="string")&&(!ze.resource||ze.resource instanceof g.URI)}class Ue{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new h.Configuration(new h.DefaultConfigurationModel,new h.ConfigurationModel)}getValue(Fe,We){const $e=typeof Fe=="string"?Fe:void 0,Ke=Re(Fe)?Fe:Re(We)?We:{};return this._configuration.getValue($e,Ke,void 0)}updateValues(Fe){const We={data:this._configuration.toData()},$e=[];for(const Ke of Fe){const[Xe,Qe]=Ke;this.getValue(Xe)!==Qe&&(this._configuration.updateValue(Xe,Qe),$e.push(Xe))}if($e.length>0){const Ke=new h.ConfigurationChangeEvent({keys:$e,overrides:[]},We,this._configuration);Ke.source=7,Ke.sourceConfig=null,this._onDidChangeConfiguration.fire(Ke)}return Promise.resolve()}updateValue(Fe,We,$e,Ke){return this.updateValues([[Fe,We]])}inspect(Fe,We={}){return this._configuration.inspect(Fe,We,void 0)}}e.StandaloneConfigurationService=Ue;let Ne=class{constructor(Fe){this.configurationService=Fe,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(We=>{this._onDidChangeConfiguration.fire({affectedKeys:We.affectedKeys,affectsConfiguration:($e,Ke)=>We.affectsConfiguration(Ke)})})}getValue(Fe,We,$e){const Xe=(a.Position.isIPosition(We)?We:null)?typeof $e=="string"?$e:void 0:typeof We=="string"?We:void 0;return typeof Xe=="undefined"?this.configurationService.getValue():this.configurationService.getValue(Xe)}};Ne=Be([fe(0,l.IConfigurationService)],Ne);let ke=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,We){const $e=this.configurationService.getValue("files.eol",{overrideIdentifier:We,resource:Fe});return $e&&typeof $e=="string"&&$e!=="auto"?$e:v.isLinux||v.isMacintosh?`
`:`\r
`}};ke=Be([fe(0,l.IConfigurationService)],ke);class Te{publicLog(Fe,We){return Promise.resolve(void 0)}publicLog2(Fe,We){return this.publicLog(Fe,We)}}class pe{constructor(){const Fe=g.URI.from({scheme:pe.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new M.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}}pe.SCHEME="inmemory";function Ce(ze,Fe,We){if(!Fe||!(ze instanceof Ue))return;const $e=[];Object.keys(Fe).forEach(Ke=>{(0,i.isEditorConfigurationKey)(Ke)&&$e.push([`editor.${Ke}`,Fe[Ke]]),We&&(0,i.isDiffEditorConfigurationKey)(Ke)&&$e.push([`diffEditor.${Ke}`,Fe[Ke]])}),$e.length>0&&ze.updateValues($e)}e.updateConfigurationService=Ce;let Le=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}apply(Fe,We){return De(this,void 0,void 0,function*(){const $e=new Map;for(let Qe of Fe){if(!(Qe instanceof t.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Ye=this._modelService.getModel(Qe.resource);if(!Ye)throw new Error("bad edit - model not found");if(typeof Qe.versionId=="number"&&Ye.getVersionId()!==Qe.versionId)throw new Error("bad state - model changed in the meantime");let it=$e.get(Ye);it||(it=[],$e.set(Ye,it)),it.push(n.EditOperation.replaceMove(c.Range.lift(Qe.textEdit.range),Qe.textEdit.text))}let Ke=0,Xe=0;for(const[Qe,Ye]of $e)Qe.pushStackElement(),Qe.pushEditOperations([],Ye,()=>[]),Qe.pushStackElement(),Xe+=1,Ke+=Ye.length;return{ariaSummary:w.format(L.StandaloneServicesNLS.bulkEditServiceSummary,Ke,Xe)}})}};Le=Be([fe(0,d.IModelService)],Le);class Se{getUriLabel(Fe,We){return Fe.scheme==="file"?Fe.fsPath:Fe.path}}let be=class extends Z.ContextViewService{constructor(Fe,We){super(Fe);this._codeEditorService=We}showContextView(Fe,We,$e){if(!We){const Ke=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ke&&(We=Ke.getContainerDomNode())}return super.showContextView(Fe,We,$e)}};be=Be([fe(0,O.ILayoutService),fe(1,B.ICodeEditorService)],be);class Pe{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Me extends ee.LanguageService{constructor(){super()}}class xe extends x.LogService{constructor(){super(new x.ConsoleLogger)}}let je=class extends X.ContextMenuService{constructor(Fe,We,$e,Ke,Xe){super(Fe,We,$e,Ke,Xe);this.configure({blockMouse:!1})}};je=Be([fe(0,R.ITelemetryService),fe(1,P.INotificationService),fe(2,K.IContextViewService),fe(3,_.IKeybindingService),fe(4,ne.IThemeService)],je),(0,Y.registerSingleton)(l.IConfigurationService,Ue),(0,Y.registerSingleton)(r.ITextResourceConfigurationService,Ne),(0,Y.registerSingleton)(r.ITextResourcePropertiesService,ke),(0,Y.registerSingleton)(M.IWorkspaceContextService,pe),(0,Y.registerSingleton)(A.ILabelService,Se),(0,Y.registerSingleton)(R.ITelemetryService,Te),(0,Y.registerSingleton)(y.IDialogService,Je),(0,Y.registerSingleton)(P.INotificationService,Ze),(0,Y.registerSingleton)(re.IMarkerService,ge.MarkerService),(0,Y.registerSingleton)(G.ILanguageService,Me),(0,Y.registerSingleton)(z.IStandaloneThemeService,q.StandaloneThemeService),(0,Y.registerSingleton)(x.ILogService,xe),(0,Y.registerSingleton)(d.IModelService,ie.ModelService),(0,Y.registerSingleton)(ce.IMarkerDecorationsService,oe.MarkerDecorationsService),(0,Y.registerSingleton)(m.IContextKeyService,we.ContextKeyService),(0,Y.registerSingleton)(F.IEditorProgressService,Ge),(0,Y.registerSingleton)(Oe.IStorageService,Oe.InMemoryStorageService),(0,Y.registerSingleton)(W.IEditorWorkerService,V.EditorWorkerService),(0,Y.registerSingleton)(t.IBulkEditService,Le),(0,Y.registerSingleton)(U.IWorkspaceTrustManagementService,Pe),(0,Y.registerSingleton)(s.ITextModelService,Ve),(0,Y.registerSingleton)(se.IAccessibilityService,$.AccessibilityService),(0,Y.registerSingleton)(ve.IListService,ve.ListService),(0,Y.registerSingleton)(o.ICommandService,et),(0,Y.registerSingleton)(_.IKeybindingService,Ee),(0,Y.registerSingleton)(Ae.IQuickInputService,de.StandaloneQuickInputService),(0,Y.registerSingleton)(K.IContextViewService,be),(0,Y.registerSingleton)(ye.IOpenerService,j.OpenerService),(0,Y.registerSingleton)(_e.IClipboardService,me.BrowserClipboardService),(0,Y.registerSingleton)(K.IContextMenuService,je),(0,Y.registerSingleton)(te.IMenuService,ae.MenuService);var qe;(function(ze){const Fe=new ue.ServiceCollection;for(const[Qe,Ye]of(0,Y.getSingletonServiceDescriptors)())Fe.set(Qe,Ye);const We=new he.InstantiationService(Fe,!0);Fe.set(p.IInstantiationService,We);function $e(Qe){const Ye=Fe.get(Qe);if(!Ye)throw new Error("Missing service "+Qe);return Ye instanceof le.SyncDescriptor?We.invokeFunction(it=>it.get(Qe)):Ye}ze.get=$e;let Ke=!1;function Xe(Qe){if(Ke)return We;Ke=!0;for(const Ye in Qe)if(Qe.hasOwnProperty(Ye)){const it=(0,p.createDecorator)(Ye);Fe.get(it)instanceof le.SyncDescriptor&&Fe.set(it,Qe[Ye])}return We}ze.initialize=Xe})(qe=e.StandaloneServices||(e.StandaloneServices={}))}),define(Q[732],J([0,1,43,2,28,160,288,233,82,205,100,37,26,39,16,83,9,42,40,13,63,67,101,69,44,34,278,76,35]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,k=!1;function A(L){if(!L){if(k)return;k=!0}w.setARIAContainer(L||document.body)}let P=class extends D.CodeEditorWidget{constructor(B,x,U,K,Z,ee,X,ne,Y,j,W){const V=Object.assign({},x);V.ariaLabel=V.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,V.ariaLabel=V.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(B,V,{},U,K,Z,ee,ne,Y,j,W);X instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=X:this._standaloneKeybindingService=null,A(V.ariaContainerElement)}addCommand(B,x,U){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++T,Z=a.ContextKeyExpr.deserialize(U);return this._standaloneKeybindingService.addDynamicKeybinding(K,B,x,Z),K}createContextKey(B,x){return this._contextKeyService.createKey(B,x)}addAction(B){if(typeof B.id!="string"||typeof B.label!="string"||typeof B.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),C.Disposable.None;const x=B.id,U=B.label,K=a.ContextKeyExpr.and(a.ContextKeyExpr.equals("editorId",this.getId()),a.ContextKeyExpr.deserialize(B.precondition)),Z=B.keybindings,ee=a.ContextKeyExpr.and(K,a.ContextKeyExpr.deserialize(B.keybindingContext)),X=B.contextMenuGroupId||null,ne=B.contextMenuOrder||0,Y=(G,...oe)=>Promise.resolve(B.run(this,...oe)),j=new C.DisposableStore,W=this.getId()+":"+x;if(j.add(i.CommandsRegistry.registerCommand(W,Y)),X){const G={command:{id:W,title:U},when:K,group:X,order:ne};j.add(t.MenuRegistry.appendMenuItem(t.MenuId.EditorContext,G))}if(Array.isArray(Z))for(const G of Z)j.add(this._standaloneKeybindingService.addDynamicKeybinding(W,G,Y,ee));const V=new b.InternalEditorAction(W,U,U,K,Y,this._contextKeyService);return this._actions[x]=V,j.add((0,C.toDisposable)(()=>{delete this._actions[x]})),j}_triggerCommand(B,x){if(this._codeEditorService instanceof _.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(B,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(B,x)}};P=Be([fe(2,d.IInstantiationService),fe(3,N.ICodeEditorService),fe(4,i.ICommandService),fe(5,a.IContextKeyService),fe(6,s.IKeybindingService),fe(7,o.IThemeService),fe(8,r.INotificationService),fe(9,l.IAccessibilityService),fe(10,E.ILanguageConfigurationService)],P),e.StandaloneCodeEditor=P;let F=class extends P{constructor(B,x,U,K,Z,ee,X,ne,Y,j,W,V,G,oe){const ce=Object.assign({},x);(0,u.updateConfigurationService)(j,ce,!1);const ie=ne.registerEditorContainer(B);typeof ce.theme=="string"&&ne.setTheme(ce.theme),typeof ce.autoDetectHighContrast!="undefined"&&ne.setAutoDetectHighContrast(Boolean(ce.autoDetectHighContrast));const de=ce.model;delete ce.model;super(B,ce,U,K,Z,ee,X,ne,Y,W,oe);this._configurationService=j,this._standaloneThemeService=ne,this._register(ie);let q;if(typeof de=="undefined"){const z=G.getLanguageIdByMimeType(ce.language)||ce.language||I.PLAINTEXT_LANGUAGE_ID;q=M(V,G,ce.value||"",z,void 0),this._ownsModel=!0}else q=de,this._ownsModel=!1;if(this._attachModel(q),q){const z={oldModelUrl:null,newModelUrl:q.uri};this._onDidChangeModel.fire(z)}}dispose(){super.dispose()}updateOptions(B){(0,u.updateConfigurationService)(this._configurationService,B,!1),typeof B.theme=="string"&&this._standaloneThemeService.setTheme(B.theme),typeof B.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(B.autoDetectHighContrast)),super.updateOptions(B)}_postDetachModelCleanup(B){super._postDetachModelCleanup(B),B&&this._ownsModel&&(B.dispose(),this._ownsModel=!1)}};F=Be([fe(2,d.IInstantiationService),fe(3,N.ICodeEditorService),fe(4,i.ICommandService),fe(5,a.IContextKeyService),fe(6,s.IKeybindingService),fe(7,g.IStandaloneThemeService),fe(8,r.INotificationService),fe(9,n.IConfigurationService),fe(10,l.IAccessibilityService),fe(11,p.IModelService),fe(12,f.ILanguageService),fe(13,E.ILanguageConfigurationService)],F),e.StandaloneEditor=F;let R=class extends S.DiffEditorWidget{constructor(B,x,U,K,Z,ee,X,ne,Y,j,W,V){const G=Object.assign({},x);(0,u.updateConfigurationService)(Y,G,!0);const oe=X.registerEditorContainer(B);typeof G.theme=="string"&&X.setTheme(G.theme),typeof G.autoDetectHighContrast!="undefined"&&X.setAutoDetectHighContrast(Boolean(G.autoDetectHighContrast));super(B,G,{},V,Z,K,U,ee,X,ne,j,W);this._configurationService=Y,this._standaloneThemeService=X,this._register(oe)}dispose(){super.dispose()}updateOptions(B){(0,u.updateConfigurationService)(this._configurationService,B,!0),typeof B.theme=="string"&&this._standaloneThemeService.setTheme(B.theme),typeof B.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(B.autoDetectHighContrast)),super.updateOptions(B)}_createInnerEditor(B,x,U){return B.createInstance(P,x,U)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(B,x,U){return this.getModifiedEditor().addCommand(B,x,U)}createContextKey(B,x){return this.getModifiedEditor().createContextKey(B,x)}addAction(B){return this.getModifiedEditor().addAction(B)}};R=Be([fe(2,d.IInstantiationService),fe(3,a.IContextKeyService),fe(4,v.IEditorWorkerService),fe(5,N.ICodeEditorService),fe(6,g.IStandaloneThemeService),fe(7,r.INotificationService),fe(8,n.IConfigurationService),fe(9,c.IContextMenuService),fe(10,y.IEditorProgressService),fe(11,m.IClipboardService)],R),e.StandaloneDiffEditor=R;function M(L,B,x,U,K){if(x=x||"",!U){const Z=x.indexOf(`
`);let ee=x;return Z!==-1&&(ee=x.substring(0,Z)),O(L,x,B.createByFilepathOrFirstLine(K||null,ee),K)}return O(L,x,B.createById(U),K)}e.createTextModel=M;function O(L,B,x,U){return L.createModel(B,x,U)}}),define(Q[733],J([0,1,8,255,28,231,29,173,144,53,18,35,115,34,44,609,179,594,732,205,100,26,74,390]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function y(W,V,G){return o.StandaloneServices.initialize(G||{}).createInstance(r.StandaloneEditor,W,V)}e.create=y;function p(W){return o.StandaloneServices.get(N.ICodeEditorService).onCodeEditorAdd(G=>{W(G)})}e.onDidCreateEditor=p;function f(W,V,G){return o.StandaloneServices.initialize(G||{}).createInstance(r.StandaloneDiffEditor,W,V)}e.createDiffEditor=f;function _(W,V){return new D.DiffNavigator(W,V)}e.createDiffNavigator=_;function I(W,V,G){const oe=o.StandaloneServices.get(n.ILanguageService),ce=oe.getLanguageIdByMimeType(V)||V;return(0,r.createTextModel)(o.StandaloneServices.get(a.IModelService),oe,W,ce,G)}e.createModel=I;function E(W,V){const G=o.StandaloneServices.get(n.ILanguageService);o.StandaloneServices.get(a.IModelService).setMode(W,G.createById(V))}e.setModelLanguage=E;function T(W,V,G){W&&o.StandaloneServices.get(m.IMarkerService).changeOne(V,W.uri,G)}e.setModelMarkers=T;function k(W){return o.StandaloneServices.get(m.IMarkerService).read(W)}e.getModelMarkers=k;function A(W){return o.StandaloneServices.get(m.IMarkerService).onMarkerChanged(W)}e.onDidChangeMarkers=A;function P(W){return o.StandaloneServices.get(a.IModelService).getModel(W)}e.getModel=P;function F(){return o.StandaloneServices.get(a.IModelService).getModels()}e.getModels=F;function R(W){return o.StandaloneServices.get(a.IModelService).onModelAdded(W)}e.onDidCreateModel=R;function M(W){return o.StandaloneServices.get(a.IModelService).onModelRemoved(W)}e.onWillDisposeModel=M;function O(W){return o.StandaloneServices.get(a.IModelService).onModelLanguageChanged(G=>{W({model:G.model,oldLanguage:G.oldLanguageId})})}e.onDidChangeModelLanguage=O;function L(W){return(0,c.createWebWorker)(o.StandaloneServices.get(a.IModelService),o.StandaloneServices.get(t.ILanguageConfigurationService),W)}e.createWebWorker=L;function B(W,V){const G=o.StandaloneServices.get(n.ILanguageService),oe=o.StandaloneServices.get(l.IStandaloneThemeService);return oe.registerEditorContainer(W),s.Colorizer.colorizeElement(oe,G,W,V)}e.colorizeElement=B;function x(W,V,G){const oe=o.StandaloneServices.get(n.ILanguageService);return o.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorize(oe,W,V,G)}e.colorize=x;function U(W,V,G=4){return o.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(W,V,G)}e.colorizeModelLine=U;function K(W){const V=g.TokenizationRegistry.get(W);return V||{getInitialState:()=>i.NullState,tokenize:(G,oe,ce)=>(0,i.nullTokenize)(W,ce)}}function Z(W,V){g.TokenizationRegistry.getOrCreate(V);const G=K(V),oe=(0,w.splitLines)(W),ce=[];let ie=G.getInitialState();for(let de=0,q=oe.length;de<q;de++){const z=oe[de],$=G.tokenize(z,!0,ie);ce[de]=$.tokens,ie=$.endState}return ce}e.tokenize=Z;function ee(W,V){o.StandaloneServices.get(l.IStandaloneThemeService).defineTheme(W,V)}e.defineTheme=ee;function X(W){o.StandaloneServices.get(l.IStandaloneThemeService).setTheme(W)}e.setTheme=X;function ne(){C.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=ne;function Y(W,V){return h.CommandsRegistry.registerCommand({id:W,handler:V})}e.registerCommand=Y;function j(){return{create:y,onDidCreateEditor:p,createDiffEditor:f,createDiffNavigator:_,createModel:I,setModelLanguage:E,setModelMarkers:T,getModelMarkers:k,onDidChangeMarkers:A,getModels:F,getModel:P,onDidCreateModel:R,onWillDisposeModel:M,onDidChangeModelLanguage:O,createWebWorker:L,colorizeElement:B,colorize:x,colorizeModelLine:U,tokenize:Z,defineTheme:ee,setTheme:X,remeasureFonts:ne,registerCommand:Y,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:S.ConfigurationChangedEvent,BareFontInfo:b.BareFontInfo,FontInfo:b.FontInfo,TextModelResolvedOptions:u.TextModelResolvedOptions,FindMatch:u.FindMatch,ApplyUpdateResult:S.ApplyUpdateResult,EditorType:v.EditorType,EditorOptions:S.EditorOptions}}e.createMonacoEditorAPI=j}),define(Q[734],J([0,1,30,3,143,18,35,76,34,179,205,456,263,100,74]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function c(z){b.ModesRegistry.registerLanguage(z)}e.register=c;function d(){let z=[];return z=z.concat(b.ModesRegistry.getLanguages()),z}e.getLanguages=d;function s(z){return g.StandaloneServices.get(v.ILanguageService).languageIdCodec.encodeLanguageId(z)}e.getEncodedLanguageId=s;function r(z,$){const te=g.StandaloneServices.get(v.ILanguageService).onDidEncounterLanguage(ae=>{ae===z&&(te.dispose(),$())});return te}e.onLanguage=r;function o(z,$){if(!g.StandaloneServices.get(v.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set configuration for unknown language ${z}`);return S.LanguageConfigurationRegistry.register(z,$,100)}e.setLanguageConfiguration=o;class l{constructor($,se){this._languageId=$,this._actual=se}getInitialState(){return this._actual.getInitialState()}tokenize($,se,te){if(typeof this._actual.tokenize=="function")return h.adaptTokenize(this._languageId,this._actual,$,te);throw new Error("Not supported!")}tokenizeEncoded($,se,te){const ae=this._actual.tokenizeEncoded($,te);return new N.EncodedTokenizationResult(ae.tokens,ae.endState)}}e.EncodedTokenizationSupportAdapter=l;class h{constructor($,se,te,ae){this._languageId=$,this._actual=se,this._languageService=te,this._standaloneThemeService=ae}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,se){const te=[];let ae=0;for(let me=0,_e=$.length;me<_e;me++){const we=$[me];let le=we.startIndex;me===0?le=0:le<ae&&(le=ae),te[me]=new N.Token(le,we.scopes,se),ae=le}return te}static adaptTokenize($,se,te,ae){const me=se.tokenize(te,ae),_e=h._toClassicTokens(me.tokens,$);let we;return me.endState.equals(ae)?we=ae:we=me.endState,new N.TokenizationResult(_e,we)}tokenize($,se,te){return h.adaptTokenize(this._languageId,this._actual,$,te)}_toBinaryTokens($,se){const te=$.encodeLanguageId(this._languageId),ae=this._standaloneThemeService.getColorTheme().tokenTheme,me=[];let _e=0,we=0;for(let he=0,ue=se.length;he<ue;he++){const ve=se[he],re=ae.match(te,ve.scopes);if(_e>0&&me[_e-1]===re)continue;let ge=ve.startIndex;he===0?ge=0:ge<we&&(ge=we),me[_e++]=ge,me[_e++]=re,we=ge}const le=new Uint32Array(_e);for(let he=0;he<_e;he++)le[he]=me[he];return le}tokenizeEncoded($,se,te){const ae=this._actual.tokenize($,te),me=this._toBinaryTokens(this._languageService.languageIdCodec,ae.tokens);let _e;return ae.endState.equals(te)?_e=te:_e=ae.endState,new N.EncodedTokenizationResult(me,_e)}}e.TokenizationSupportAdapter=h;function m(z){return typeof z.getInitialState=="function"}function y(z){return"tokenizeEncoded"in z}function p(z){return z&&typeof z.then=="function"}function f(z){const $=g.StandaloneServices.get(n.IStandaloneThemeService);if(z){const se=[null];for(let te=1,ae=z.length;te<ae;te++)se[te]=w.Color.fromHex(z[te]);$.setColorMapOverride(se)}else $.setColorMapOverride(null)}e.setColorMap=f;function _(z,$){return y($)?new l(z,$):new h(z,$,g.StandaloneServices.get(v.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService))}function I(z,$){const se={createTokenizationSupport:()=>De(this,void 0,void 0,function*(){const te=yield Promise.resolve($.create());return te?m(te)?_(z,te):new i.MonarchTokenizer(g.StandaloneServices.get(v.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService),z,(0,t.compile)(z,te)):null})};return D.TokenizationRegistry.registerFactory(z,se)}e.registerTokensProviderFactory=I;function E(z,$){if(!g.StandaloneServices.get(v.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set tokens provider for unknown language ${z}`);return p($)?I(z,{create:()=>$}):D.TokenizationRegistry.register(z,_(z,$))}e.setTokensProvider=E;function T(z,$){const se=te=>new i.MonarchTokenizer(g.StandaloneServices.get(v.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService),z,(0,t.compile)(z,te));return p($)?I(z,{create:()=>$}):D.TokenizationRegistry.register(z,se($))}e.setMonarchTokensProvider=T;function k(z,$){return D.ReferenceProviderRegistry.register(z,$)}e.registerReferenceProvider=k;function A(z,$){return D.RenameProviderRegistry.register(z,$)}e.registerRenameProvider=A;function P(z,$){return D.SignatureHelpProviderRegistry.register(z,$)}e.registerSignatureHelpProvider=P;function F(z,$){return D.HoverProviderRegistry.register(z,{provideHover:(se,te,ae)=>{const me=se.getWordAtPosition(te);return Promise.resolve($.provideHover(se,te,ae)).then(_e=>{if(!!_e)return!_e.range&&me&&(_e.range=new C.Range(te.lineNumber,me.startColumn,te.lineNumber,me.endColumn)),_e.range||(_e.range=new C.Range(te.lineNumber,te.column,te.lineNumber,te.column)),_e})}})}e.registerHoverProvider=F;function R(z,$){return D.DocumentSymbolProviderRegistry.register(z,$)}e.registerDocumentSymbolProvider=R;function M(z,$){return D.DocumentHighlightProviderRegistry.register(z,$)}e.registerDocumentHighlightProvider=M;function O(z,$){return D.LinkedEditingRangeProviderRegistry.register(z,$)}e.registerLinkedEditingRangeProvider=O;function L(z,$){return D.DefinitionProviderRegistry.register(z,$)}e.registerDefinitionProvider=L;function B(z,$){return D.ImplementationProviderRegistry.register(z,$)}e.registerImplementationProvider=B;function x(z,$){return D.TypeDefinitionProviderRegistry.register(z,$)}e.registerTypeDefinitionProvider=x;function U(z,$){return D.CodeLensProviderRegistry.register(z,$)}e.registerCodeLensProvider=U;function K(z,$,se){return D.CodeActionProviderRegistry.register(z,{providedCodeActionKinds:se==null?void 0:se.providedCodeActionKinds,provideCodeActions:(te,ae,me,_e)=>{const le=g.StandaloneServices.get(a.IMarkerService).read({resource:te.uri}).filter(he=>C.Range.areIntersectingOrTouching(he,ae));return $.provideCodeActions(te,ae,{markers:le,only:me.only},_e)},resolveCodeAction:$.resolveCodeAction})}e.registerCodeActionProvider=K;function Z(z,$){return D.DocumentFormattingEditProviderRegistry.register(z,$)}e.registerDocumentFormattingEditProvider=Z;function ee(z,$){return D.DocumentRangeFormattingEditProviderRegistry.register(z,$)}e.registerDocumentRangeFormattingEditProvider=ee;function X(z,$){return D.OnTypeFormattingEditProviderRegistry.register(z,$)}e.registerOnTypeFormattingEditProvider=X;function ne(z,$){return D.LinkProviderRegistry.register(z,$)}e.registerLinkProvider=ne;function Y(z,$){return D.CompletionProviderRegistry.register(z,$)}e.registerCompletionItemProvider=Y;function j(z,$){return D.ColorProviderRegistry.register(z,$)}e.registerColorProvider=j;function W(z,$){return D.FoldingRangeProviderRegistry.register(z,$)}e.registerFoldingRangeProvider=W;function V(z,$){return D.DeclarationProviderRegistry.register(z,$)}e.registerDeclarationProvider=V;function G(z,$){return D.SelectionRangeRegistry.register(z,$)}e.registerSelectionRangeProvider=G;function oe(z,$){return D.DocumentSemanticTokensProviderRegistry.register(z,$)}e.registerDocumentSemanticTokensProvider=oe;function ce(z,$){return D.DocumentRangeSemanticTokensProviderRegistry.register(z,$)}e.registerDocumentRangeSemanticTokensProvider=ce;function ie(z,$){return D.InlineCompletionsProviderRegistry.register(z,$)}e.registerInlineCompletionsProvider=ie;function de(z,$){return D.InlayHintsProviderRegistry.register(z,$)}e.registerInlayHintsProvider=de;function q(){return{register:c,getLanguages:d,onLanguage:r,getEncodedLanguageId:s,setLanguageConfiguration:o,setColorMap:f,registerTokensProviderFactory:I,setTokensProvider:E,setMonarchTokensProvider:T,registerReferenceProvider:k,registerRenameProvider:A,registerCompletionItemProvider:Y,registerSignatureHelpProvider:P,registerHoverProvider:F,registerDocumentSymbolProvider:R,registerDocumentHighlightProvider:M,registerLinkedEditingRangeProvider:O,registerDefinitionProvider:L,registerImplementationProvider:B,registerTypeDefinitionProvider:x,registerCodeLensProvider:U,registerCodeActionProvider:K,registerDocumentFormattingEditProvider:Z,registerDocumentRangeFormattingEditProvider:ee,registerOnTypeFormattingEditProvider:X,registerLinkProvider:ne,registerColorProvider:j,registerFoldingRangeProvider:W,registerDeclarationProvider:V,registerSelectionRangeProvider:G,registerDocumentSemanticTokensProvider:oe,registerDocumentRangeSemanticTokensProvider:ce,registerInlineCompletionsProvider:ie,registerInlayHintsProvider:de,DocumentHighlightKind:u.DocumentHighlightKind,CompletionItemKind:u.CompletionItemKind,CompletionItemTag:u.CompletionItemTag,CompletionItemInsertTextRule:u.CompletionItemInsertTextRule,SymbolKind:u.SymbolKind,SymbolTag:u.SymbolTag,IndentAction:u.IndentAction,CompletionTriggerKind:u.CompletionTriggerKind,SignatureHelpTriggerKind:u.SignatureHelpTriggerKind,InlayHintKind:u.InlayHintKind,InlineCompletionTriggerKind:u.InlineCompletionTriggerKind,FoldingRangeKind:D.FoldingRangeKind}}e.createMonacoLanguagesAPI=q}),define(Q[735],J([0,1,29,239,733,734,17,279]),function(H,e,w,C,N,D,S,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,w.EditorOptions.wrappingIndent.defaultValue=0,w.EditorOptions.glyphMargin.defaultValue=!1,w.EditorOptions.autoIndent.defaultValue=3,w.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((g,t,i)=>Promise.resolve(g[0]));const u=(0,C.createMonacoBaseAPI)();u.editor=(0,N.createMonacoEditorAPI)(),u.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((v=S.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(Q[736],J([0,1,25,580]),function(H,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,C.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}];function N(S){const b=S;return typeof(b==null?void 0:b.id)=="string"&&w.URI.isUri(b.uri)}e.isSingleFolderWorkspaceIdentifier=N;function D(S){if(S.configuration)return{id:S.id,configPath:S.configuration};if(S.folders.length===1)return{id:S.id,uri:S.folders[0].uri}}e.toWorkspaceIdentifier=D}),define(Q[737],J([0,1,170,79,41,8,321,35,122,554,736]),function(H,e,w,C,N,D,S,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class t{constructor(l){this._delegates=l}resolve(l){for(const h of this._delegates){let m=h.resolve(l);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=t;class i{constructor(l,h,m,y){this._model=l,this._selection=h,this._selectionIdx=m,this._overtypingCapturer=y}resolve(l){const{name:h}=l;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,y=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const p=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);p&&(m=p.value,y=p.multiline)}if(m&&y&&l.snippet){const p=this._model.getLineContent(this._selection.startLineNumber),f=(0,D.getLeadingWhitespace)(p,0,this._selection.startColumn-1);let _=f;l.snippet.walk(E=>E===l?!1:(E instanceof v.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const I=(0,D.commonPrefixLength)(_,f);m=m.replace(/(\r\n|\r|\n)(.*)/g,(E,T,k)=>`${T}${_.substr(I)}${k}`)}return m}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=i;class n{constructor(l,h){this._labelService=l,this._model=h}resolve(l){const{name:h}=l;if(h==="TM_FILENAME")return C.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const m=C.basename(this._model.uri.fsPath),y=m.lastIndexOf(".");return y<=0?m:m.slice(0,y)}else{if(h==="TM_DIRECTORY")return C.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,N.dirname)(this._model.uri));if(h==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class a{constructor(l,h,m,y){this._readClipboardText=l,this._selectionIdx=h,this._selectionCount=m,this._spread=y}resolve(l){if(l.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const m=h.split(/\r\n|\n|\r/).filter(y=>!(0,D.isFalsyOrWhitespace)(y));if(m.length===this._selectionCount)return m[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=a;class c{constructor(l,h){this._model=l,this._selection=h}resolve(l){const{name:h}=l,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),y=b.LanguageConfigurationRegistry.getComments(m);if(!!y){if(h==="LINE_COMMENT")return y.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return y.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return y.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=c;class d{constructor(){this._date=new Date}resolve(l){const{name:h}=l;if(h==="CURRENT_YEAR")return String(this._date.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return d.dayNames[this._date.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[this._date.getDay()];if(h==="CURRENT_MONTH_NAME")return d.monthNames[this._date.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[this._date.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=d,d.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],d.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],d.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],d.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class s{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const h=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return C.basename(l.uri.path);let h=C.basename(l.configPath.path);return h.endsWith(g.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-g.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return(0,w.normalizeDriveLetter)(l.uri.fsPath);let h=C.basename(l.configPath.path),m=l.configPath.fsPath;return m.endsWith(h)&&(m=m.substr(0,m.length-h.length-1)),m?(0,w.normalizeDriveLetter)(m):"/"}}e.WorkspaceBasedVariableResolver=s;class r{resolve(l){const{name:h}=l;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=r}),define(Q[300],J([0,1,19,2,8,59,3,21,32,126,297,122,737,381]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(s,r,o,l){this._editor=s,this._snippet=r,this._offset=o,this._snippetLineLeadingWhitespace=l,this._nestingLevel=1,this._placeholderGroups=(0,w.groupBy)(r.placeholders,t.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(r=>{for(const o of this._snippet.placeholders){const l=this._snippet.offset(o),h=this._snippet.fullLen(o),m=S.Range.fromPositions(s.getPositionAt(this._offset+l),s.getPositionAt(this._offset+l+h)),y=o.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,p=r.addDecoration(m,y);this._placeholderDecorations.set(o,p)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let l=[];for(const h of this._placeholderGroups[this._placeholderGroupsIdx])if(h.transform){const m=this._placeholderDecorations.get(h),y=this._editor.getModel().getDecorationRange(m),p=this._editor.getModel().getValueInRange(y),f=h.transform.resolve(p).split(/\r\n|\r|\n/);for(let _=1;_<f.length;_++)f[_]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+f[_]);l.push(D.EditOperation.replace(y,f.join(this._editor.getModel().getEOL())))}l.length>0&&this._editor.executeEdits("snippet.placeholderTransform",l)}let r=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,r=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,r=!0);const o=this._editor.getModel().changeDecorations(l=>{const h=new Set,m=[];for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const p=this._placeholderDecorations.get(y),f=this._editor.getModel().getDecorationRange(p);m.push(new b.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn)),r=r&&this._hasPlaceholderBeenCollapsed(y),l.changeDecorationOptions(p,y.isFinalTabstop?n._decor.activeFinal:n._decor.active),h.add(y);for(const _ of this._snippet.enclosingPlaceholders(y)){const I=this._placeholderDecorations.get(_);l.changeDecorationOptions(I,_.isFinalTabstop?n._decor.activeFinal:n._decor.active),h.add(_)}}for(const[y,p]of this._placeholderDecorations)h.has(y)||l.changeDecorationOptions(p,y.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return m});return r?this.move(s):o??[]}_hasPlaceholderBeenCollapsed(s){let r=s;for(;r;){if(r instanceof t.Placeholder){const o=this._placeholderDecorations.get(r);if(this._editor.getModel().getDecorationRange(o).isEmpty()&&r.toString().length>0)return!0}r=r.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const s=new Map;for(const r of this._placeholderGroups){let o;for(const l of r){if(l.isFinalTabstop)break;o||(o=[],s.set(l.index,o));const h=this._placeholderDecorations.get(l),m=this._editor.getModel().getDecorationRange(h);if(!m){s.delete(l.index);break}o.push(m)}}return s}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(s){const r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(o=>{for(const l of this._placeholderGroups[this._placeholderGroupsIdx]){const h=s.shift();console.assert(!h._placeholderDecorations);const m=h._snippet.placeholderInfo.last.index;for(const p of h._snippet.placeholderInfo.all)p.isFinalTabstop?p.index=l.index+(m+1)/this._nestingLevel:p.index=l.index+p.index/this._nestingLevel;this._snippet.replace(l,h._snippet.children);const y=this._placeholderDecorations.get(l);o.removeDecoration(y),this._placeholderDecorations.delete(l);for(const p of h._snippet.placeholders){const f=h._snippet.offset(p),_=h._snippet.fullLen(p),I=S.Range.fromPositions(r.getPositionAt(h._offset+f),r.getPositionAt(h._offset+f+_)),E=o.addDecoration(I,n._decor.inactive);this._placeholderDecorations.set(p,E)}}this._placeholderGroups=(0,w.groupBy)(this._snippet.placeholders,t.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const a={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class c{constructor(s,r,o=a){this._templateMerges=[],this._snippets=[],this._editor=s,this._template=r,this._options=o}static adjustWhitespace(s,r,o,l,h){const m=s.getLineContent(r.lineNumber),y=(0,N.getLeadingWhitespace)(m,0,r.column-1);let p;return o.walk(f=>{if(!(f instanceof t.Text)||f.parent instanceof t.Choice)return!0;const _=f.value.split(/\r\n|\r|\n/);if(l){const E=o.offset(f);if(E===0)_[0]=s.normalizeIndentation(_[0]);else{p=p??o.toString();let T=p.charCodeAt(E-1);(T===10||T===13)&&(_[0]=s.normalizeIndentation(y+_[0]))}for(let T=1;T<_.length;T++)_[T]=s.normalizeIndentation(y+_[T])}const I=_.join(s.getEOL());return I!==f.value&&(f.parent.replace(f,[new t.Text(I)]),p=void 0),!0}),y}static adjustSelection(s,r,o,l){if(o!==0||l!==0){const{positionLineNumber:h,positionColumn:m}=r,y=m-o,p=m+l,f=s.validateRange({startLineNumber:h,startColumn:y,endLineNumber:h,endColumn:p});r=b.Selection.createWithDirection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn,r.getDirection())}return r}static createEditsAndSnippets(s,r,o,l,h,m,y,p){const f=[],_=[];if(!s.hasModel())return{edits:f,snippets:_};const I=s.getModel(),E=s.invokeWithinContext(O=>O.get(g.IWorkspaceContextService)),T=s.invokeWithinContext(O=>new i.ModelBasedVariableResolver(O.get(u.ILabelService),I)),k=()=>y;let A=0,P=I.getValueInRange(c.adjustSelection(I,s.getSelection(),o,0)),F=I.getValueInRange(c.adjustSelection(I,s.getSelection(),0,l)),R=I.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber);const M=s.getSelections().map((O,L)=>({selection:O,idx:L})).sort((O,L)=>S.Range.compareRangesUsingStarts(O.selection,L.selection));for(const{selection:O,idx:L}of M){let B=c.adjustSelection(I,O,o,0),x=c.adjustSelection(I,O,0,l);P!==I.getValueInRange(B)&&(B=O),F!==I.getValueInRange(x)&&(x=O);const U=O.setStartPosition(B.startLineNumber,B.startColumn).setEndPosition(x.endLineNumber,x.endColumn),K=new t.SnippetParser().parse(r,!0,h),Z=U.getStartPosition(),ee=c.adjustWhitespace(I,Z,K,m||L>0&&R!==I.getLineFirstNonWhitespaceColumn(O.positionLineNumber),!0);K.resolveVariables(new i.CompositeSnippetVariableResolver([T,new i.ClipboardBasedVariableResolver(k,L,M.length,s.getOption(70)==="spread"),new i.SelectionBasedVariableResolver(I,O,L,p),new i.CommentBasedVariableResolver(I,O),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(E),new i.RandomBasedVariableResolver]));const X=I.getOffsetAt(Z)+A;A+=K.toString().length-I.getValueLengthInRange(U),f[L]=D.EditOperation.replace(U,K.toString()),f[L].identifier={major:L,minor:0},_[L]=new n(s,K,X,ee)}return{edits:f,snippets:_}}dispose(){(0,C.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:r}=c.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=r,this._editor.executeEdits("snippet",s,o=>this._snippets[0].hasPlaceholder?this._move(!0):o.filter(l=>!!l.identifier).map(l=>b.Selection.fromPositions(l.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,r=a){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:o,snippets:l}=c.createEditsAndSnippets(this._editor,s,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer);this._editor.executeEdits("snippet",o,h=>{for(const m of this._snippets)m.merge(l);return console.assert(l.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):h.filter(m=>!!m.identifier).map(m=>b.Selection.fromPositions(m.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const r=[];for(const o of this._snippets){const l=o.move(s);r.push(...l)}return r}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;let r=new Map;for(const o of this._snippets){const l=o.computePossibleSelections();if(r.size===0)for(const[h,m]of l){m.sort(S.Range.compareRangesUsingStarts);for(const y of s)if(m[0].containsRange(y)){r.set(h,[]);break}}if(r.size===0)return!1;r.forEach((h,m)=>{h.push(...l.get(m))})}s.sort(S.Range.compareRangesUsingStarts);for(let[o,l]of r){if(l.length!==s.length){r.delete(o);continue}l.sort(S.Range.compareRangesUsingStarts);for(let h=0;h<l.length;h++)if(!l[h].containsRange(s[h])){r.delete(o);continue}}return r.size>0}}e.SnippetSession=c}),define(Q[206],J([0,1,2,15,3,21,24,92,553,16,68,300]),function(H,e,w,C,N,D,S,b,v,u,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const i={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let n=class Tt{constructor(d,s,r){this._editor=d,this._logService=s,this._snippetListener=new w.DisposableStore,this._modelVersionId=-1,this._inSnippet=Tt.InSnippetMode.bindTo(r),this._hasNextTabstop=Tt.HasNextTabstop.bindTo(r),this._hasPrevTabstop=Tt.HasPrevTabstop.bindTo(r)}static get(d){return d.getContribution(Tt.ID)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,s){try{this._doInsert(d,typeof s=="undefined"?i:Object.assign(Object.assign({},i),s))}catch(r){this.cancel(),this._logService.error(r),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,s){!this._editor.hasModel()||(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(d,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new t.SnippetSession(this._editor,d,s),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(r=>r.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:d}=this._session;if(!d){this._currentChoice=void 0;return}if(this._currentChoice!==d){this._currentChoice=d,this._editor.setSelections(this._editor.getSelections().map(r=>D.Selection.fromPositions(r.getStartPosition())));const[s]=d.options;(0,b.showSimpleSuggestions)(this._editor,d.options.map((r,o)=>({kind:13,label:r.value,insertText:r.value,sortText:"a".repeat(o+1),range:N.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,s.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};n.ID="snippetController2",n.InSnippetMode=new u.RawContextKey("inSnippetMode",!1,(0,v.localize)(0,null)),n.HasNextTabstop=new u.RawContextKey("hasNextTabstop",!1,(0,v.localize)(1,null)),n.HasPrevTabstop=new u.RawContextKey("hasPrevTabstop",!1,(0,v.localize)(2,null)),n=Be([fe(1,g.ILogService),fe(2,u.IContextKeyService)],n),e.SnippetController2=n,(0,C.registerEditorContribution)(n.ID,n);const a=C.EditorCommand.bindToContribution(n.get);(0,C.registerEditorCommand)(new a({id:"jumpToNextSnippetPlaceholder",precondition:u.ContextKeyExpr.and(n.InSnippetMode,n.HasNextTabstop),handler:c=>c.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,C.registerEditorCommand)(new a({id:"jumpToPrevSnippetPlaceholder",precondition:u.ContextKeyExpr.and(n.InSnippetMode,n.HasPrevTabstop),handler:c=>c.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,C.registerEditorCommand)(new a({id:"leaveSnippet",precondition:n.InSnippetMode,handler:c=>c.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new a({id:"acceptSnippet",precondition:n.InSnippetMode,handler:c=>c.finish()}))}),define(Q[738],J([0,1,10,23,14,4,2,8,21,18,82,206,455,101,39,16,68,85,452,92]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class l{constructor(_,I,E,T){this.leadingLineContent=_.getLineContent(I.lineNumber).substr(0,I.column-1),this.leadingWord=_.getWordUntilPosition(I),this.lineNumber=I.lineNumber,this.column=I.column,this.auto=E,this.shy=T}static shouldAutoTrigger(_){if(!_.hasModel())return!1;const I=_.getModel(),E=_.getPosition();I.tokenizeIfCheap(E.lineNumber);const T=I.getWordAtPosition(E);return!(!T||T.endColumn!==E.column||!isNaN(Number(T.word)))}}e.LineContext=l;function h(f){return f.getOption(105).preview}function m(f,_,I){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=I.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function y(f,_,I){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=I.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let p=class zi{constructor(_,I,E,T,k,A,P){this._editor=_,this._editorWorkerService=I,this._clipboardService=E,this._telemetryService=T,this._logService=k,this._contextKeyService=A,this._configurationService=P,this._toDispose=new S.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new w.TimeoutTimer,this._state=0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new v.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(u.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let F=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{F=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{F=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{F||this._onCursorChange(R)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{F||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const _=new Map;for(const E of u.CompletionProviderRegistry.all(this._editor.getModel()))for(const T of E.triggerCharacters||[]){let k=_.get(T);k||(k=new Set,k.add((0,o.getSnippetSuggestSupport)()),_.set(T,k)),k.add(E)}const I=E=>{if(!y(this._editor,this._contextKeyService,this._configurationService)||l.shouldAutoTrigger(this._editor))return;if(!E){const A=this._editor.getPosition();E=this._editor.getModel().getLineContent(A.lineNumber).substr(0,A.column-1)}let T="";(0,b.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,b.isHighSurrogate)(E.charCodeAt(E.length-2))&&(T=E.substr(E.length-2)):T=E.charAt(E.length-1);const k=_.get(T);if(k){const A=this._completionModel?{items:this._completionModel.adopt(k),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:T},Boolean(this._completionModel),k,A)}};this._triggerCharacterListener.add(this._editor.onDidType(I)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>I()))}get state(){return this._state}cancel(_=!1){var I;this._state!==0&&(this._triggerQuickSuggest.cancel(),(I=this._requestToken)===null||I===void 0||I.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!u.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_){if(!this._editor.hasModel())return;const I=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_.selection.isEmpty()||_.reason!==0&&_.reason!==3||_.source!=="keyboard"&&_.source!=="deleteLeft"){this.cancel();return}this._state===0&&_.reason===0?(I.containsRange(this._currentSelection)||I.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var _;this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&((_=t.SnippetController2.get(this._editor))===null||_===void 0?void 0:_.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!l.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const I=this._editor.getModel(),E=this._editor.getPosition(),T=this._editor.getOption(78);if(T!==!1){if(T!==!0){I.tokenizeIfCheap(E.lineNumber);const k=I.getLineTokens(E.lineNumber),A=k.getStandardTokenType(k.findTokenIndexAtOffset(Math.max(E.column-1-1,0)));if(!(T.other&&A===0||T.comments&&A===1||T.strings&&A===2))return}!m(this._editor,this._contextKeyService,this._configurationService)||!u.CompletionProviderRegistry.has(I)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _=this._editor.getModel(),I=this._editor.getPosition(),E=new l(_,I,this._state===2,!1);this._onNewContext(E)})}trigger(_,I=!1,E,T){var k;if(!this._editor.hasModel())return;const A=this._editor.getModel(),P=_.auto,F=new l(A,this._editor.getPosition(),P,_.shy);this.cancel(I),this._state=P?2:1,this._onDidTrigger.fire({auto:P,shy:_.shy,position:this._editor.getPosition()}),this._context=F;let R={triggerKind:(k=_.triggerKind)!==null&&k!==void 0?k:0};_.triggerCharacter&&(R={triggerKind:1,triggerCharacter:_.triggerCharacter}),this._requestToken=new C.CancellationTokenSource;const M=this._editor.getOption(100);let O=1;switch(M){case"top":O=0;break;case"bottom":O=2;break}const{itemKind:L,showDeprecated:B}=zi._createSuggestFilter(this._editor),x=i.WordDistance.create(this._editorWorkerService,this._editor),U=(0,o.provideSuggestionItems)(A,this._editor.getPosition(),new o.CompletionOptions(O,L,E,B),R,this._requestToken.token);Promise.all([U,x]).then(([K,Z])=>De(this,void 0,void 0,function*(){var ee;if((ee=this._requestToken)===null||ee===void 0||ee.dispose(),!this._editor.hasModel())return;let X=T==null?void 0:T.clipboardText;if(!X&&K.needsClipboard&&(X=yield this._clipboardService.readText()),this._state===0)return;const ne=this._editor.getModel();let Y=K.items;if(T){const W=(0,o.getSuggestionComparator)(O);Y=Y.concat(T.items).sort(W)}const j=new l(ne,this._editor.getPosition(),P,_.shy);this._completionModel=new r.CompletionModel(Y,this._context.column,{leadingLineContent:j.leadingLineContent,characterCountDelta:j.column-this._context.column},Z,this._editor.getOption(105),this._editor.getOption(100),X),this._completionDisposables.add(K.disposable),this._onNewContext(j),this._reportDurationsTelemetry(K.durations)})).catch(N.onUnexpectedError)}_reportDurationsTelemetry(_){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_)}),this._logService.debug("suggest.durations.json",_)})}static _createSuggestFilter(_){const I=new Set;_.getOption(100)==="none"&&I.add(27);const T=_.getOption(105);return T.showMethods||I.add(0),T.showFunctions||I.add(1),T.showConstructors||I.add(2),T.showFields||I.add(3),T.showVariables||I.add(4),T.showClasses||I.add(5),T.showStructs||I.add(6),T.showInterfaces||I.add(7),T.showModules||I.add(8),T.showProperties||I.add(9),T.showEvents||I.add(10),T.showOperators||I.add(11),T.showUnits||I.add(12),T.showValues||I.add(13),T.showConstants||I.add(14),T.showEnums||I.add(15),T.showEnumMembers||I.add(16),T.showKeywords||I.add(17),T.showWords||I.add(18),T.showColors||I.add(19),T.showFiles||I.add(20),T.showReferences||I.add(21),T.showColors||I.add(22),T.showFolders||I.add(23),T.showTypeParameters||I.add(24),T.showSnippets||I.add(27),T.showUsers||I.add(25),T.showIssues||I.add(26),{itemKind:I,showDeprecated:T.showDeprecated}}_onNewContext(_){if(!!this._context){if(_.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(_.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(_.column<this._context.column){_.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(_.leadingWord.word.length!==0&&_.leadingWord.startColumn>this._context.leadingWord.startColumn){const I=new Set(u.CompletionProviderRegistry.all(this._editor.getModel()));for(let T of this._completionModel.allProvider)I.delete(T);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,I,{items:E,clipboardText:this._completionModel.clipboardText});return}if(_.column>this._context.column&&this._completionModel.incomplete.size>0&&_.leadingWord.word.length!==0){const{incomplete:I}=this._completionModel,E=this._completionModel.adopt(I);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,I,{items:E,clipboardText:this._completionModel.clipboardText})}else{let I=this._completionModel.lineContext,E=!1;if(this._completionModel.lineContext={leadingLineContent:_.leadingLineContent,characterCountDelta:_.column-this._context.column},this._completionModel.items.length===0){if(l.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=I,E=this._completionModel.items.length>0,E&&_.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:E})}}}}};p=Be([fe(1,g.IEditorWorkerService),fe(2,n.IClipboardService),fe(3,s.ITelemetryService),fe(4,d.ILogService),fe(5,c.IContextKeyService),fe(6,a.IConfigurationService)],p),e.SuggestModel=p}),define(Q[301],J([0,1,43,19,10,23,14,4,94,2,17,87,20,70,15,59,11,3,24,206,122,625,600,556,37,26,16,9,84,68,92,599,453,738,454,722,85,41,108]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p,f,_,I,E,T,k,A,P,F,R,M,O,L,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let x=!1;class U{constructor(j,W){if(this._model=j,this._position=W,j.getLineMaxColumn(W.lineNumber)!==W.column){const G=j.getOffsetAt(W),oe=j.getPositionAt(G+1);this._marker=j.deltaDecorations([],[{range:s.Range.fromPositions(W,oe),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(j){if(this._model.isDisposed()||this._position.lineNumber!==j.lineNumber)return 0;if(this._marker){const W=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(W.getStartPosition())-this._model.getOffsetAt(j)}else return this._model.getLineMaxColumn(j.lineNumber)-j.column}}let K=class Hi{constructor(j,W,V,G,oe,ce,ie){this._memoryService=W,this._commandService=V,this._contextKeyService=G,this._instantiationService=oe,this._logService=ce,this._telemetryService=ie,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new Z($=>$.priority),this._telemetryGate=0,this.editor=j,this.model=oe.createInstance(F.SuggestModel,this.editor);const de=k.Context.InsertMode.bindTo(G);de.set(j.getOption(105).insertMode),this.model.onDidTrigger(()=>de.set(j.getOption(105).insertMode)),this.widget=this._toDispose.add(new N.IdleValue(()=>{const $=this._instantiationService.createInstance(M.SuggestWidget,this.editor);this._toDispose.add($),this._toDispose.add($.onDidSelect(_e=>this._insertSuggestion(_e,0),this));const se=new P.CommitCharacterController(this.editor,$,_e=>this._insertSuggestion(_e,2));this._toDispose.add(se),this._toDispose.add(this.model.onDidSuggest(_e=>{_e.completionModel.items.length===0&&se.reset()}));const te=k.Context.MakesTextEdit.bindTo(this._contextKeyService),ae=k.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),me=k.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{te.reset(),ae.reset(),me.reset()})),this._toDispose.add($.onDidFocus(({item:_e})=>{const we=this.editor.getPosition(),le=_e.editStart.column,he=we.column;let ue=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!_e.completion.additionalTextEdits&&!(_e.completion.insertTextRules&4)&&he-le===_e.completion.insertText.length&&(ue=this.editor.getModel().getValueInRange({startLineNumber:we.lineNumber,startColumn:le,endLineNumber:we.lineNumber,endColumn:he})!==_e.completion.insertText),te.set(ue),ae.set(!d.Position.equals(_e.editInsertEnd,_e.editReplaceEnd)),me.set(Boolean(_e.provider.resolveCompletionItem)||Boolean(_e.completion.documentation)||_e.completion.detail!==_e.completion.label)})),this._toDispose.add($.onDetailsKeyDown(_e=>{if(_e.toKeybinding().equals(new v.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&_e.toKeybinding().equals(new v.SimpleKeybinding(!1,!1,!1,!0,33))){_e.stopPropagation();return}_e.toKeybinding().isModifierKey()||this.editor.focus()})),$})),this._overtypingCapturer=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new R.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new A.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(oe.createInstance(m.WordContextKey,j)),this._toDispose.add(this.model.onDidTrigger($=>{this.widget.value.showTriggered($.auto,$.shy?250:50),this._lineSuffix.value=new U(this.editor.getModel(),$.position)})),this._toDispose.add(this.model.onDidSuggest($=>{if(!$.shy){let se=-1;for(const te of this._selectors.itemsOrderedByPriorityDesc)if(se=te.select(this.editor.getModel(),this.editor.getPosition(),$.completionModel.items),se!==-1)break;se===-1&&(se=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),$.completionModel.items)),this.widget.value.showSuggestions($.completionModel,se,$.isFrozen,$.auto)}})),this._toDispose.add(this.model.onDidCancel($=>{$.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{x||(this.model.cancel(),this.model.clear())}));let q=k.Context.AcceptSuggestionsOnEnter.bindTo(G),z=()=>{const $=this.editor.getOption(1);q.set($==="on"||$==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(j){return j.getContribution(Hi.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(j,W){if(!j||!j.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const V=o.SnippetController2.get(this.editor);if(!V)return;const G=this.editor.getModel(),oe=G.getAlternativeVersionId(),{item:ce}=j,ie=[],de=new D.CancellationTokenSource;W&1||this.editor.pushUndoStop();const q=this.getOverwriteInfo(ce,Boolean(W&8));if(this._memoryService.memorize(G,this.editor.getPosition(),ce),Array.isArray(ce.completion.additionalTextEdits)){const $=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ce.completion.additionalTextEdits.map(se=>c.EditOperation.replace(s.Range.lift(se.range),se.text))),$.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ce.isResolved){const $=new t.StopWatch(!0);let se;const te=G.onDidChangeContent(we=>{if(we.isFlush){de.cancel(),te.dispose();return}for(let le of we.changes){const he=s.Range.getEndPosition(le.range);(!se||d.Position.isBefore(he,se))&&(se=he)}});let ae=W;W|=2;let me=!1,_e=this.editor.onWillType(()=>{_e.dispose(),me=!0,ae&2||this.editor.pushUndoStop()});ie.push(ce.resolve(de.token).then(()=>{if(!ce.completion.additionalTextEdits||de.token.isCancellationRequested||se&&ce.completion.additionalTextEdits.some(le=>d.Position.isBefore(se,s.Range.getStartPosition(le.range))))return!1;me&&this.editor.pushUndoStop();const we=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ce.completion.additionalTextEdits.map(le=>c.EditOperation.replace(s.Range.lift(le.range),le.text))),we.restoreRelativeVerticalPositionOfCursor(this.editor),(me||!(ae&2))&&this.editor.pushUndoStop(),!0}).then(we=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",$.elapsed(),we),te.dispose(),_e.dispose()}))}let{insertText:z}=ce.completion;ce.completion.insertTextRules&4||(z=l.SnippetParser.escape(z)),V.insert(z,{overwriteBefore:q.overwriteBefore,overwriteAfter:q.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ce.completion.insertTextRules&1),clipboardText:j.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),W&2||this.editor.pushUndoStop(),ce.completion.command?ce.completion.command.id===ee.id?this.model.trigger({auto:!0,shy:!1},!0):(ie.push(this._commandService.executeCommand(ce.completion.command.id,...ce.completion.command.arguments?[...ce.completion.command.arguments]:[]).catch(S.onUnexpectedError)),this.model.cancel()):this.model.cancel(),W&4&&this._alternatives.value.set(j,$=>{for(de.cancel();G.canUndo();){oe!==G.getAlternativeVersionId()&&G.undo(),this._insertSuggestion($,1|2|(W&8?8:0));break}}),this._alertCompletionItem(ce),Promise.all(ie).finally(()=>{this._reportSuggestionAcceptedTelemetry(G,j),this.model.clear(),de.dispose()})}_reportSuggestionAcceptedTelemetry(j,W){var V;if(this._telemetryGate++%100!=0)return;const G=((V=W.item.provider._debugDisplayName)!==null&&V!==void 0?V:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:G,basenameHash:(0,B.hash)((0,L.basename)(j.uri)).toString(16),languageId:j.getLanguageId(),fileExtension:(0,L.extname)(j.uri)})}getOverwriteInfo(j,W){(0,i.assertType)(this.editor.hasModel());let V=this.editor.getOption(105).insertMode==="replace";W&&(V=!V);const G=j.position.column-j.editStart.column,oe=(V?j.editReplaceEnd.column:j.editInsertEnd.column)-j.position.column,ce=this.editor.getPosition().column-j.position.column,ie=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:G+ce,overwriteAfter:oe+ie}}_alertCompletionItem(j){if((0,C.isNonEmptyArray)(j.completion.additionalTextEdits)){let W=y.localize(0,null,j.textLabel,j.completion.additionalTextEdits.length);(0,w.alert)(W)}}triggerSuggest(j,W){this.editor.hasModel()&&(this.model.trigger({auto:W??!1,shy:!1},!1,j),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(j){if(!this.editor.hasModel())return;const W=this.editor.getPosition(),V=()=>{W.equals(this.editor.getPosition())&&this._commandService.executeCommand(j.fallback)},G=oe=>{if(oe.completion.insertTextRules&4||oe.completion.additionalTextEdits)return!0;const ce=this.editor.getPosition(),ie=oe.editStart.column,de=ce.column;return de-ie!==oe.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ce.lineNumber,startColumn:ie,endLineNumber:ce.lineNumber,endColumn:de})!==oe.completion.insertText};b.Event.once(this.model.onDidTrigger)(oe=>{let ce=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(ce),V()},void 0,ce),this.model.onDidSuggest(({completionModel:ie})=>{if((0,u.dispose)(ce),ie.items.length===0){V();return}const de=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ie.items),q=ie.items[de];if(!G(q)){V();return}this.editor.pushUndoStop(),this._insertSuggestion({index:de,item:q,model:ie},4|1|2)},void 0,ce)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(W,0),this.editor.focus()}acceptSelectedSuggestion(j,W){const V=this.widget.value.getFocusedItem();let G=0;j&&(G|=4),W&&(G|=8),this._insertSuggestion(V,G)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(j){return this._selectors.register(j)}};K.ID="editor.contrib.suggestController",K=Be([fe(1,h.ISuggestMemoryService),fe(2,f.ICommandService),fe(3,_.IContextKeyService),fe(4,I.IInstantiationService),fe(5,T.ILogService),fe(6,O.ITelemetryService)],K),e.SuggestController=K;class Z{constructor(j){this.prioritySelector=j,this._items=new Array}register(j){if(this._items.indexOf(j)!==-1)throw new Error("Value is already registered");return this._items.push(j),this._items.sort((W,V)=>this.prioritySelector(V)-this.prioritySelector(W)),{dispose:()=>{const W=this._items.indexOf(j);W>=0&&this._items.splice(W,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ee extends a.EditorAction{constructor(){super({id:ee.id,label:y.localize(1,null),alias:"Trigger Suggest",precondition:_.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(j,W,V){const G=K.get(W);if(!G)return;let oe;V&&typeof V=="object"&&V.auto===!0&&(oe=!0),G.triggerSuggest(void 0,oe)}}e.TriggerSuggestAction=ee,ee.id="editor.action.triggerSuggest",(0,a.registerEditorContribution)(K.ID,K),(0,a.registerEditorAction)(ee);const X=100+90,ne=a.EditorCommand.bindToContribution(K.get);(0,a.registerEditorCommand)(new ne({id:"acceptSelectedSuggestion",precondition:k.Context.Visible,handler(Y){Y.acceptSelectedSuggestion(!0,!1)}})),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(k.Context.Visible,r.EditorContextKeys.textInputFocus),primary:2,weight:X}),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(k.Context.Visible,r.EditorContextKeys.textInputFocus,k.Context.AcceptSuggestionsOnEnter,k.Context.MakesTextEdit),primary:3,weight:X}),p.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:y.localize(2,null)},group:"left",order:1,when:k.Context.HasInsertAndReplaceRange.toNegated()}),p.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:y.localize(3,null)},group:"left",order:1,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert"))}),p.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:y.localize(4,null)},group:"left",order:1,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace"))}),(0,a.registerEditorCommand)(new ne({id:"acceptAlternativeSelectedSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,r.EditorContextKeys.textInputFocus),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(Y){Y.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert")),title:y.localize(5,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace")),title:y.localize(6,null)}]})),f.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,a.registerEditorCommand)(new ne({id:"hideSuggestWidget",precondition:k.Context.Visible,handler:Y=>Y.cancelSuggestWidget(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,a.registerEditorCommand)(new ne({id:"selectNextSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectNextSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,a.registerEditorCommand)(new ne({id:"selectNextPageSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectNextPageSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,a.registerEditorCommand)(new ne({id:"selectLastSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectLastSuggestion()})),(0,a.registerEditorCommand)(new ne({id:"selectPrevSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectPrevSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,a.registerEditorCommand)(new ne({id:"selectPrevPageSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectPrevPageSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,a.registerEditorCommand)(new ne({id:"selectFirstSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Y=>Y.selectFirstSuggestion()})),(0,a.registerEditorCommand)(new ne({id:"toggleSuggestionDetails",precondition:k.Context.Visible,handler:Y=>Y.toggleSuggestionDetails(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(k.Context.DetailsVisible,k.Context.CanResolve),title:y.localize(7,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(k.Context.DetailsVisible.toNegated(),k.Context.CanResolve),title:y.localize(8,null)}]})),(0,a.registerEditorCommand)(new ne({id:"toggleExplainMode",precondition:k.Context.Visible,handler:Y=>Y.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,a.registerEditorCommand)(new ne({id:"toggleSuggestionFocus",precondition:k.Context.Visible,handler:Y=>Y.toggleSuggestionFocus(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,a.registerEditorCommand)(new ne({id:"insertBestCompletion",precondition:_.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),m.WordContextKey.AtEnd,k.Context.Visible.toNegated(),A.SuggestAlternatives.OtherSuggestions.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:(Y,j)=>{Y.triggerSuggestAndAcceptBest((0,i.isObject)(j)?Object.assign({fallback:"tab"},j):{fallback:"tab"})},kbOpts:{weight:X,primary:2}})),(0,a.registerEditorCommand)(new ne({id:"insertNextSuggestion",precondition:_.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:Y=>Y.acceptNextSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:2}})),(0,a.registerEditorCommand)(new ne({id:"insertPrevSuggestion",precondition:_.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:Y=>Y.acceptPrevSuggestion(),kbOpts:{weight:X,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,a.registerEditorAction)(class extends a.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:y.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Y,j){var W;(W=K.get(j))===null||W===void 0||W.resetWidgetSize()}})}),define(Q[739],J([0,1,19,10,4,2,11,3,122,300,301,204,187]),function(H,e,w,C,N,D,S,b,v,u,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class n extends D.Disposable{constructor(r,o){super();this.editor=r,this.suggestControllerPreselector=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new C.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(r.onKeyDown(h=>{h.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(r.onKeyUp(h=>{h.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const l=g.SuggestController.get(this.editor);if(l){this._register(l.registerSelector({priority:100,select:(y,p,f)=>{const _=this.editor.getModel(),I=(0,t.minimizeInlineCompletion)(_,this.suggestControllerPreselector());if(!I)return-1;const E=S.Position.lift(p),T=f.map((A,P)=>{const F=d(l,E,A,this.isShiftKeyPressed),R=(0,t.minimizeInlineCompletion)(_,F==null?void 0:F.normalizedInlineCompletion);if(!R)return;const M=a(I.range,R.range)&&I.text.startsWith(R.text);return{index:P,valid:M,prefixLength:R.text.length,suggestItem:A}}).filter(A=>A&&A.valid),k=(0,w.findMaxBy)(T,(0,w.compareBy)(A=>A.prefixLength,w.numberComparator));return k?k.index:-1}}));let h=!1;const m=()=>{h||(h=!0,this._register(l.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(l.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(l.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(l.model.onDidTrigger)(y=>{m()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(r){const o=this.getSuggestItemInfo();let l=!1;c(this._currentSuggestItemInfo,o)||(this._currentSuggestItemInfo=o,l=!0),this._isActive!==r&&(this._isActive=r,l=!0),l&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const r=g.SuggestController.get(this.editor);if(!r||!this.isSuggestWidgetVisible)return;const o=r.widget.value.getFocusedItem();if(!!o)return d(r,this.editor.getPosition(),o.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const r=g.SuggestController.get(this.editor);r&&r.stopForceRenderingAbove()}forceRenderingAbove(){const r=g.SuggestController.get(this.editor);r&&r.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=n;function a(s,r){return r.startLineNumber===s.startLineNumber&&r.startColumn===s.startColumn&&(r.endLineNumber<s.endLineNumber||r.endLineNumber===s.endLineNumber&&r.endColumn<=s.endColumn)}e.rangeStartsWith=a;function c(s,r){return s===r?!0:!s||!r?!1:s.completionItemKind===r.completionItemKind&&s.isSnippetText===r.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(s.normalizedInlineCompletion,r.normalizedInlineCompletion)}function d(s,r,o,l){if(Array.isArray(o.completion.additionalTextEdits)&&o.completion.additionalTextEdits.length>0)return{completionItemKind:o.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(r,r),text:""}};let{insertText:h}=o.completion,m=!1;if(o.completion.insertTextRules&4){const p=new v.SnippetParser().parse(h),f=s.editor.getModel();if(p.children.length>100)return;u.SnippetSession.adjustWhitespace(f,r,p,!0,!0),h=p.toString(),m=!0}const y=s.getOverwriteInfo(o,l);return{isSnippetText:m,completionItemKind:o.completion.kind,normalizedInlineCompletion:{text:h,range:b.Range.fromPositions(r.delta(0,-y.overwriteBefore),r.delta(0,Math.max(y.overwriteAfter,0)))}}}}),define(Q[740],J([0,1,10,14,2,18,186,204,187,739]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;class g extends S.BaseGhostTextWidgetModel{constructor(n,a){super(n);this.cache=a,this.suggestionInlineCompletionSource=this._register(new u.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var c,d;return(d=(c=this.cache.value)===null||c===void 0?void 0:c.completions[0])===null||d===void 0?void 0:d.toLiveInlineCompletion()})),this.updateOperation=this._register(new N.MutableDisposable),this.updateCacheSoon=this._register(new w.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const d=this.ghostText;d&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,t(d.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(c=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,N.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return De(this,void 0,void 0,function*(){const n=this.suggestionInlineCompletionSource.state;if(!n||!n.selectedItem)return;const a={text:n.selectedItem.normalizedInlineCompletion.text,range:n.selectedItem.normalizedInlineCompletion.range,isSnippetText:n.selectedItem.isSnippetText,completionKind:n.selectedItem.completionItemKind},c=this.editor.getPosition(),d=(0,w.createCancelablePromise)(r=>De(this,void 0,void 0,function*(){let o;try{o=yield(0,b.provideInlineCompletions)(c,this.editor.getModel(),{triggerKind:D.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:a},r)}catch(l){(0,C.onUnexpectedError)(l);return}r.isCancellationRequested||(this.cache.setValue(this.editor,o,D.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),s=new b.UpdateOperation(d,D.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield d,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var n,a,c;const d=this.isSuggestionPreviewEnabled(),s=(0,b.minimizeInlineCompletion)(this.editor.getModel(),(a=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||a===void 0?void 0:a.toLiveInlineCompletion()),r=this.suggestionInlineCompletionSource.state,o=(0,b.minimizeInlineCompletion)(this.editor.getModel(),(c=r==null?void 0:r.selectedItem)===null||c===void 0?void 0:c.normalizedInlineCompletion),l=s&&o&&s.text.startsWith(o.text)&&s.range.equalsRange(o.range);if(!d&&!l)return;const h=l?s:o||s,m=l?h.text.length-o.text.length:0;return this.toGhostText(h,m)}toGhostText(n,a){const c=this.editor.getOptions().get(105).previewMode;return n?(0,v.inlineCompletionToGhostText)(n,this.editor.getModel(),c,this.editor.getPosition(),a)||new S.GhostText(n.range.endLineNumber,[],this.minReservedLineCount):void 0}}e.SuggestWidgetPreviewModel=g;function t(i){return i.reduce((n,a)=>n+a,0)}}),define(Q[741],J([0,1,4,2,11,18,204,740,448,26]),function(H,e,w,C,N,D,S,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends C.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new C.MutableDisposable)}get targetModel(){var a;return(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object}setTargetModel(a){var c;((c=this.currentModelRef.value)===null||c===void 0?void 0:c.object)!==a&&(this.currentModelRef.clear(),this.currentModelRef.value=a?(0,v.createDisposableRef)(a,a.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var a,c;return this.hasCachedGhostText||(this.cachedGhostText=(c=(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object)===null||c===void 0?void 0:c.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(a){var c;(c=this.targetModel)===null||c===void 0||c.setExpanded(a)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let t=class extends g{constructor(a,c){super();this.editor=a,this.commandService=c,this.sharedCache=this._register(new i),this.suggestWidgetAdapterModel=this._register(new b.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new S.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(a){var c;const d=(c=this.activeInlineCompletionsModel)===null||c===void 0?void 0:c.ghostText;return d?d.parts.some(s=>a.containsPosition(new N.Position(d.lineNumber,s.column))):!1}triggerInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.trigger(D.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestion()}hideInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.hide()}showNextInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showNext()}showPreviousInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showPrevious()}hasMultipleInlineCompletions(){var a;return De(this,void 0,void 0,function*(){const c=yield(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return c!==void 0?c:!1})}};t=Be([fe(1,u.ICommandService)],t),e.GhostTextModel=t;class i extends C.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new C.MutableDisposable)}get value(){return this.cache.value}setValue(a,c,d){this.cache.value=new S.SynchronizedInlineCompletionsCache(a,c,()=>this.onDidChangeEmitter.fire(),d)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=i}),define(Q[302],J([0,1,2,8,15,112,24,249,741,646,537,16,9,84]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let a=class Ui extends w.Disposable{constructor(m,y){super();this.editor=m,this.instantiationService=y,this.triggeredExplicitly=!1,this.activeController=this._register(new w.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(105)&&this.updateModelController(),p.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(m){return m.getContribution(Ui.ID)}get activeModel(){var m;return(m=this.activeController.value)===null||m===void 0?void 0:m.model}updateModelController(){const m=this.editor.getOption(105),y=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(m.preview||y.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(d,this.editor):void 0}shouldShowHoverAt(m){var y;return((y=this.activeModel)===null||y===void 0?void 0:y.shouldShowHoverAt(m))||!1}shouldShowHoverAtViewZone(m){var y,p;return((p=(y=this.activeController.value)===null||y===void 0?void 0:y.widget)===null||p===void 0?void 0:p.shouldShowHoverAtViewZone(m))||!1}trigger(){var m;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(m=this.activeModel)===null||m===void 0||m.triggerInlineCompletion()}commit(){var m;(m=this.activeModel)===null||m===void 0||m.commitInlineCompletion()}hide(){var m;(m=this.activeModel)===null||m===void 0||m.hideInlineCompletion()}showNextInlineCompletion(){var m;(m=this.activeModel)===null||m===void 0||m.showNextInlineCompletion()}showPreviousInlineCompletion(){var m;(m=this.activeModel)===null||m===void 0||m.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var m;return De(this,void 0,void 0,function*(){const y=yield(m=this.activeModel)===null||m===void 0?void 0:m.hasMultipleInlineCompletions();return y!==void 0?y:!1})}};a.inlineSuggestionVisible=new t.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),a.inlineSuggestionHasIndentation=new t.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),a.inlineSuggestionHasIndentationLessThanTabSize=new t.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),a.ID="editor.contrib.ghostTextController",a=Be([fe(1,i.IInstantiationService)],a),e.GhostTextController=a;class c{constructor(m){this.contextKeyService=m,this.inlineCompletionVisible=a.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=a.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=a.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let d=class extends w.Disposable{constructor(m,y,p){super();this.editor=m,this.instantiationService=y,this.contextKeyService=p,this.contextKeys=new c(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(v.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,w.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var m;this.contextKeys.inlineCompletionVisible.set(((m=this.model.activeInlineCompletionsModel)===null||m===void 0?void 0:m.ghostText)!==void 0);let y=!1,p=!0;const f=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&f&&f.parts.length>0){const{column:_,lines:I}=f.parts[0],E=I[0],T=this.editor.getModel().getLineIndentColumn(f.lineNumber);if(_<=T){let A=(0,C.firstNonWhitespaceIndex)(E);A===-1&&(A=E.length-1),y=A>0;const P=this.editor.getModel().getOptions().tabSize;p=D.CursorColumns.visibleColumnFromColumn(E,A+1,P)<P}}this.contextKeys.inlineCompletionSuggestsIndentation.set(y),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(p)}};d=Be([fe(1,i.IInstantiationService),fe(2,t.IContextKeyService)],d),e.ActiveGhostTextController=d;const s=N.EditorCommand.bindToContribution(a.get);e.commitInlineSuggestionAction=new s({id:b.inlineSuggestCommitId,precondition:a.inlineSuggestionVisible,handler(h){h.commit(),h.editor.focus()}}),(0,N.registerEditorCommand)(e.commitInlineSuggestionAction),n.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:t.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,S.EditorContextKeys.tabMovesFocus.toNegated(),a.inlineSuggestionHasIndentationLessThanTabSize)}),(0,N.registerEditorCommand)(new s({id:"editor.action.inlineSuggest.hide",precondition:a.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(h){h.hide()}}));class r extends N.EditorAction{constructor(){super({id:r.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:t.ContextKeyExpr.and(S.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(m,y){return De(this,void 0,void 0,function*(){const p=a.get(y);p&&(p.showNextInlineCompletion(),y.focus())})}}e.ShowNextInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showNext";class o extends N.EditorAction{constructor(){super({id:o.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:t.ContextKeyExpr.and(S.EditorContextKeys.writable,a.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(m,y){return De(this,void 0,void 0,function*(){const p=a.get(y);p&&(p.showPreviousInlineCompletion(),y.focus())})}}e.ShowPreviousInlineSuggestionAction=o,o.ID="editor.action.inlineSuggest.showPrevious";class l extends N.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:S.EditorContextKeys.writable})}run(m,y){return De(this,void 0,void 0,function*(){const p=a.get(y);p&&p.trigger()})}}e.TriggerInlineSuggestionAction=l,(0,N.registerEditorContribution)(a.ID,a),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(o)}),define(Q[742],J([0,1,7,64,2,103,3,34,185,302,538,63,37,26,16,51]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class d{constructor(o,l,h){this.owner=o,this.range=l,this.controller=h}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=d;let s=class{constructor(o,l,h,m,y,p,f){this._editor=o,this._commandService=l,this._menuService=h,this._contextKeyService=m,this._languageService=y,this._openerService=p,this.accessibilityService=f}suggestHoverAnchor(o){const l=u.GhostTextController.get(this._editor);if(!l)return null;const h=o.target;if(h.type===8){const m=h.detail;if(l.shouldShowHoverAtViewZone(m.viewZoneId))return new v.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(m.positionBefore||m.position,m.positionBefore||m.position))}return h.type===7&&l.shouldShowHoverAt(h.range)?new v.HoverForeignElementAnchor(1e3,this,h.range):h.type===6&&h.detail.mightBeForeignElement&&l.shouldShowHoverAt(h.range)?new v.HoverForeignElementAnchor(1e3,this,h.range):null}computeSync(o,l){const h=u.GhostTextController.get(this._editor);return h&&h.shouldShowHoverAt(o.range)?[new d(this,o.range,h)]:[]}renderHoverParts(o,l){const h=new N.DisposableStore,m=l[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(o,m,h);const y=h.add(this._menuService.createMenu(i.MenuId.InlineCompletionsActions,this._contextKeyService)),p=o.statusBar.addAction({label:g.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),f=o.statusBar.addAction({label:g.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});o.statusBar.addAction({label:g.localize(2,null),commandId:u.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(u.commitInlineSuggestionAction.id)});const _=[p,f];for(const I of _)I.setEnabled(!1);m.hasMultipleSuggestions().then(I=>{for(const E of _)E.setEnabled(I)});for(const[I,E]of y.getActions())for(const T of E)T instanceof i.MenuItemAction&&o.statusBar.addAction({label:T.label,commandId:T.item.id,run:()=>this._commandService.executeCommand(T.item.id)});return h}renderScreenReaderText(o,l,h){var m,y;const p=w.$,f=p("div.hover-row.markdown-hover"),_=w.append(f,p("div.hover-contents")),I=h.add(new D.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),E=k=>{h.add(I.onDidRenderAsync(()=>{_.className="hover-contents code-hover-contents",o.onContentsChanged()}));const A=g.localize(3,null),P=h.add(I.render(new C.MarkdownString().appendText(A).appendCodeblock("text",k)));_.replaceChildren(P.element)},T=(y=(m=l.controller.activeModel)===null||m===void 0?void 0:m.inlineCompletionsModel)===null||y===void 0?void 0:y.ghostText;if(T){const k=this._editor.getModel().getLineContent(T.lineNumber);E(T.renderForScreenReader(k))}o.fragment.appendChild(f)}};s=Be([fe(1,n.ICommandService),fe(2,i.IMenuService),fe(3,a.IContextKeyService),fe(4,b.ILanguageService),fe(5,c.IOpenerService),fe(6,t.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(Q[743],J([0,1,7,223,19,2,11,3,32,18,712,247,185,197,729,742,16,9,42,92,299,10,715,24,4]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d,s,r,o,l,h,m,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const f=w.$;let _=class Ki extends D.Disposable{constructor(F,R,M){super();this._editor=F,this._keybindingService=M,this._decorationsChangerListener=this._register(new I(this._editor)),this._participants=[R.createInstance(g.ColorHoverParticipant,this._editor),R.createInstance(n.MarkdownHoverParticipant,this._editor),R.createInstance(c.InlineCompletionsHoverParticipant,this._editor),R.createInstance(l.UnicodeHighlighterHoverParticipant,this._editor),R.createInstance(a.MarkerHoverParticipant,this._editor),R.createInstance(m.InlayHintsHover,this._editor)],this._widget=this._register(R.createInstance(T,this._editor)),this._messages=[],this._messagesAreComplete=!1,this._computer=new A(this._editor,this._participants),this._hoverOperation=this._register(new t.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(O=>{this._withResult(O.value,O.isComplete,O.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(w.addStandardDisposableListener(this._widget.getDomNode(),"keydown",O=>{O.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.colorPicker||this._hoverOperation.start(0))}maybeShowAt(F){const R=[];for(const O of this._participants)if(O.suggestHoverAnchor){const L=O.suggestHoverAnchor(F);L&&R.push(L)}const M=F.target;if(M.type===6&&R.push(new i.HoverRangeAnchor(0,M.range)),M.type===7){const O=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2;!M.detail.isAfterLines&&typeof M.detail.horizontalDistanceToText=="number"&&M.detail.horizontalDistanceToText<O&&R.push(new i.HoverRangeAnchor(0,M.range))}return R.length===0?!1:(R.sort((O,L)=>L.priority-O.priority),this._startShowingAt(R[0],0,!1),!0)}startShowingAtRange(F,R,M){this._startShowingAt(new i.HoverRangeAnchor(0,F),R,M)}_startShowingAt(F,R,M){if(!(this._computer.anchor&&this._computer.anchor.equals(F))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!F.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const O=this._messages.filter(L=>L.isValidForHoverAnchor(F));if(O.length===0)this.hide();else{if(O.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(F,O)}}this._computer.anchor=F,this._computer.shouldFocus=M,this._hoverOperation.start(R)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return!!this._widget.colorPicker}_addLoadingMessage(F){if(this._computer.anchor){for(const R of this._participants)if(R.createLoadingMessage){const M=R.createLoadingMessage(this._computer.anchor);if(M)return F.slice(0).concat([M])}}return F}_withResult(F,R,M){this._messages=M?this._addLoadingMessage(F):F,this._messagesAreComplete=R,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):R&&this.hide()}_renderMessages(F,R){let M=1073741824,O=R[0].range,L=null;for(const ee of R)M=Math.min(M,ee.range.startColumn),O=b.Range.plusRange(O,ee.range),ee.forceShowAtRange&&(L=ee.range);const B=new D.DisposableStore,x=B.add(new k(this._keybindingService)),U=document.createDocumentFragment();let K=null;const Z={fragment:U,statusBar:x,setColorPicker:ee=>{K=ee},onContentsChanged:()=>{this._widget.onContentsChanged()},hide:()=>{this.hide()}};for(const ee of this._participants){const X=R.filter(ne=>ne.owner===ee);X.length>0&&B.add(ee.renderHoverParts(Z,X))}if(x.hasContent&&U.appendChild(x.hoverElement),U.hasChildNodes()){if(O){const ee=this._decorationsChangerListener.deltaDecorations([],[{range:O,options:Ki._DECORATION_OPTIONS}]);B.add((0,D.toDisposable)(()=>{this._decorationsChangerListener.deltaDecorations(ee,[])}))}this._widget.showAt(U,new E(K,L?L.getStartPosition():new S.Position(F.range.startLineNumber,M),L||O,this._editor.getOption(52).above,this._computer.shouldFocus,B))}else B.dispose()}};_._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),_=Be([fe(1,s.IInstantiationService),fe(2,r.IKeybindingService)],_),e.ContentHoverController=_;class I extends D.Disposable{constructor(F){super();this._editor=F,this._onDidChangeModelDecorations=this._register(new p.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(R=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(R)}))}deltaDecorations(F,R){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(F,R)}finally{this._isChangingDecorations=!1}}}class E{constructor(F,R,M,O,L,B){this.colorPicker=F,this.showAtPosition=R,this.showAtRange=M,this.preferAbove=O,this.stoleFocus=L,this.disposables=B}}let T=class ji extends D.Disposable{constructor(F,R){super();this._editor=F,this._contextKeyService=R,this.allowEditorOverflow=!0,this._hoverVisibleKey=y.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new C.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(M=>{M.hasChanged(43)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var F,R;return(R=(F=this._visibleData)===null||F===void 0?void 0:F.showAtPosition)!==null&&R!==void 0?R:null}get colorPicker(){var F,R;return(R=(F=this._visibleData)===null||F===void 0?void 0:F.colorPicker)!==null&&R!==void 0?R:null}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return ji.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let F=this._visibleData.preferAbove;return!F&&this._contextKeyService.getContextKeyValue(o.Context.Visible.key)&&(F=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:F?[1,2]:[2,1]}}_setVisibleData(F){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=F,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const F=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:R,lineHeight:M}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${R}px`,this._hover.contentsDomNode.style.lineHeight=`${M/R}`,this._hover.contentsDomNode.style.maxHeight=`${F}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(R=>this._editor.applyFontInfo(R))}showAt(F,R){this._setVisibleData(R),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(F),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged(),this._editor.render(),R.stoleFocus&&this._hover.containerDomNode.focus(),R.colorPicker&&R.colorPicker.layout()}hide(){if(this._visibleData){const F=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),F&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged()}clear(){this._hover.contentsDomNode.textContent=""}};T.ID="editor.contrib.contentHoverWidget",T=Be([fe(1,d.IContextKeyService)],T),e.ContentHoverWidget=T;let k=class extends D.Disposable{constructor(F){super();this._keybindingService=F,this._hasContent=!1,this.hoverElement=f("div.hover-row.status-bar"),this.actionsElement=w.append(this.hoverElement,f("div.actions"))}get hasContent(){return this._hasContent}addAction(F){const R=this._keybindingService.lookupKeybinding(F.commandId),M=R?R.getLabel():null;return this._hasContent=!0,this._register(C.HoverAction.render(this.actionsElement,F,M))}append(F){const R=w.append(this.actionsElement,F);return this._hasContent=!0,R}};k=Be([fe(0,r.IKeybindingService)],k);class A{constructor(F,R){this._editor=F,this._participants=R,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(F){this._anchor=F}get shouldFocus(){return this._shouldFocus}set shouldFocus(F){this._shouldFocus=F}static _getLineDecorations(F,R){if(R.type!==1)return[];const M=F.getModel(),O=R.range.startLineNumber,L=M.getLineMaxColumn(O);return F.getLineDecorations(O).filter(B=>{if(B.options.isWholeLine)return!0;const x=B.range.startLineNumber===O?B.range.startColumn:1,U=B.range.endLineNumber===O?B.range.endColumn:L;if(B.options.showIfCollapsed){if(x>R.range.startColumn+1||R.range.endColumn-1>U)return!1}else if(x>R.range.startColumn||R.range.endColumn>U)return!1;return!0})}computeAsync(F){const R=this._anchor;if(!this._editor.hasModel()||!R)return h.AsyncIterableObject.EMPTY;const M=A._getLineDecorations(this._editor,R);return h.AsyncIterableObject.merge(this._participants.map(O=>O.computeAsync?O.computeAsync(R,M,F):h.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const F=A._getLineDecorations(this._editor,this._anchor);let R=[];for(const M of this._participants)R=R.concat(M.computeSync(this._anchor,F));return(0,N.coalesce)(R)}}}),define(Q[303],J([0,1,55,2,15,3,24,34,296,743,619,532,16,9,51,22,13]),function(H,e,w,C,N,D,S,b,v,u,g,t,i,n,a,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let s=class qi{constructor(h,m,y,p,f){this._editor=h,this._instantiationService=m,this._openerService=y,this._languageService=p,this._toUnhook=new C.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(_=>{_.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())})}static get(h){return h.getContribution(qi.ID)}_hookEvents(){const h=()=>this._hideWidgets(),m=this._editor.getOption(52);this._isHoverEnabled=m.enabled,this._isHoverSticky=m.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(y=>this._onEditorMouseDown(y))),this._toUnhook.add(this._editor.onMouseUp(y=>this._onEditorMouseUp(y))),this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y)))):(this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(y=>this._onEditorScrollChanged(y)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const m=h.target;if(m.type===9&&m.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}m.type===12&&m.detail===g.MarginHoverWidget.ID||(m.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var m,y,p,f,_;const I=h.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&I.type===9&&I.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((y=(m=h.event.browserEvent.view)===null||m===void 0?void 0:m.getSelection())===null||y===void 0?void 0:y.isCollapsed)||!this._isHoverSticky&&I.type===9&&I.detail===u.ContentHoverWidget.ID&&((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||this._isHoverSticky&&I.type===12&&I.detail===g.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(h)){(f=this._glyphWidget)===null||f===void 0||f.hide();return}if(I.type===2&&I.position){(_=this._contentWidget)===null||_===void 0||_.hide(),this._glyphWidget||(this._glyphWidget=new g.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(I.position.lineNumber);return}this._hideWidgets()}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,m,y;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(m=this._glyphWidget)===null||m===void 0||m.hide(),(y=this._contentWidget)===null||y===void 0||y.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,m,y){this._getOrCreateContentWidget().startShowingAtRange(h,m,y)}dispose(){var h,m;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(m=this._contentWidget)===null||m===void 0||m.dispose()}};s.ID="editor.contrib.hover",s=Be([fe(1,n.IInstantiationService),fe(2,a.IOpenerService),fe(3,b.ILanguageService),fe(4,i.IContextKeyService)],s),e.ModesHoverController=s;class r extends N.EditorAction{constructor(){super({id:"editor.action.showHover",label:t.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|39),weight:100}})}run(h,m){if(!m.hasModel())return;let y=s.get(m);if(!y)return;const p=m.getPosition(),f=new D.Range(p.lineNumber,p.column,p.lineNumber,p.column),_=m.getOption(2)===2;y.showContentHover(f,1,_)}}class o extends N.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:t.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,m){const y=s.get(m);if(!y)return;const p=m.getPosition();if(!p)return;const f=new D.Range(p.lineNumber,p.column,p.lineNumber,p.column),_=v.GotoDefinitionAtPositionEditorContribution.get(m);if(!_)return;_.startFindDefinitionFromCursor(p).then(()=>{y.showContentHover(f,1,!0)})}}(0,N.registerEditorContribution)(s.ID,s),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(o),(0,d.registerThemingParticipant)((l,h)=>{const m=l.getColor(c.editorHoverHighlight);m&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${m}; }`);const y=l.getColor(c.editorHoverBackground);y&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${y}; }`);const p=l.getColor(c.editorHoverBorder);p&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${p}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${p.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${p.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${p.transparent(.5)}; }`));const f=l.getColor(c.textLinkForeground);f&&h.addRule(`.monaco-editor .monaco-hover a { color: ${f}; }`);const _=l.getColor(c.textLinkActiveForeground);_&&h.addRule(`.monaco-editor .monaco-hover a:hover { color: ${_}; }`);const I=l.getColor(c.editorHoverForeground);I&&h.addRule(`.monaco-editor .monaco-hover { color: ${I}; }`);const E=l.getColor(c.editorHoverStatusBarBackground);E&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${E}; }`);const T=l.getColor(c.textCodeBlockBackground);T&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${T}; }`)})}),define(Q[744],J([0,1,2,15,3,289,303]),function(H,e,w,C,N,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends w.Disposable{constructor(u){super();this._editor=u,this._register(u.onMouseDown(g=>this.onMouseDown(g)))}dispose(){super.dispose()}onMouseDown(u){const g=u.target;if(g.type!==6||!g.detail.injectedText||g.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!g.range)return;const t=this._editor.getContribution(S.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const i=new N.Range(g.range.startLineNumber,g.range.startColumn+1,g.range.endLineNumber,g.range.endColumn+1);t.showContentHover(i,1,!1)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,C.registerEditorContribution)(b.ID,b)}),define(Q[745],J([0,1,159,160,288,231,653,701,654,702,655,665,704,744,658,659,660,705,290,711,661,662,595,302,295,296,293,303,714,291,713,716,718,719,720,721,687,666,667,206,301,668,283,299,669,723,724,292,725,67,139]),function(H,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var $t=this&&this.__createBinding||(Object.create?function(H,e,w,C){C===void 0&&(C=w),Object.defineProperty(H,C,{enumerable:!0,get:function(){return e[w]}})}:function(H,e,w,C){C===void 0&&(C=w),H[C]=e[w]}),Gt=this&&this.__exportStar||function(H,e){for(var w in H)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&$t(e,H,w)};define(Q[748],J([0,1,735,745,670,671,672,622,674,675,673,730,676]),function(H,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Gt(w,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var S=Object.create;var c=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var f=n=>c(n,"__esModule",{value:!0});var D=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{f(n);for(var t in e)c(n,t,{get:e[t],enumerable:!0})},h=(n,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N(e))!R.call(n,i)&&i!=="default"&&c(n,i,{get:()=>e[i],enumerable:!(t=k(e,i))||t.enumerable});return n},M=n=>h(f(c(n!=null?S(H(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var C=w((U,E)=>{E.exports=self.monaco});var W={};F(W,{JsxEmit:()=>b,ModuleKind:()=>g,ModuleResolutionKind:()=>u,NewLineKind:()=>d,ScriptTarget:()=>p,getJavaScriptWorker:()=>P,getTypeScriptWorker:()=>_,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="4.4.4";var a={};f(a);h(a,M(C()));var g;(function(s){s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext"})(g||(g={}));var b;(function(r){r[r.None=0]="None",r[r.Preserve=1]="Preserve",r[r.React=2]="React",r[r.ReactNative=3]="ReactNative",r[r.ReactJSX=4]="ReactJSX",r[r.ReactJSXDev=5]="ReactJSXDev"})(b||(b={}));var d;(function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"})(d||(d={}));var p;(function(o){o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest"})(p||(p={}));var u;(function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"})(u||(u={}));var O=class{constructor(e,t,i,l){this._onDidChange=new a.Emitter;this._onDidExtraLibsChange=new a.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(l),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t=="undefined"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let l=1;return this._removedExtraLibs[i]&&(l=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(l=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:l},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let m=this._extraLibs[i];!m||m.version===l&&(delete this._extraLibs[i],this._removedExtraLibs[i]=l,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,l=t.content,m=1;this._removedExtraLibs[i]&&(m=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:l,version:m}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},I=L,x=new O({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new O({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),_=()=>y().then(n=>n.getTypeScriptWorker()),P=()=>y().then(n=>n.getJavaScriptWorker());a.languages.typescript={ModuleKind:g,JsxEmit:b,NewLineKind:d,ScriptTarget:p,ModuleResolutionKind:u,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:_,getJavaScriptWorker:P};function y(){return new Promise((n,e)=>{D(["vs/language/typescript/tsMode"],n,e)})}a.languages.onLanguage("typescript",()=>y().then(n=>n.setupTypeScript(x)));a.languages.onLanguage("javascript",()=>y().then(n=>n.setupJavaScript(v)));return W;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var v=Object.create;var i=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var s=e=>i(e,"__esModule",{value:!0});var y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,o)=>(typeof require!="undefined"?require:n)[o]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var x=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),I=(e,n)=>{s(e);for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of w(n))!S.call(e,t)&&t!=="default"&&i(e,t,{get:()=>n[t],enumerable:!(o=C(n,t))||o.enumerable});return e},M=e=>g(s(i(e!=null?v(h(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var D=x((P,m)=>{m.exports=self.monaco});var b={};I(b,{cssDefaults:()=>u,lessDefaults:()=>c,scssDefaults:()=>p});var r={};s(r);g(r,M(D()));var a=class{constructor(n,o,t){this._onDidChange=new r.Emitter;this._languageId=n,this.setOptions(o),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},l={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},u=new a("css",d,l),p=new a("scss",d,l),c=new a("less",d,l);r.languages.css={cssDefaults:u,lessDefaults:c,scssDefaults:p};function f(){return new Promise((e,n)=>{y(["vs/language/css/cssMode"],e,n)})}r.languages.onLanguage("less",()=>{f().then(e=>e.setupMode(c))});r.languages.onLanguage("scss",()=>{f().then(e=>e.setupMode(p))});r.languages.onLanguage("css",()=>{f().then(e=>e.setupMode(u))});return b;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var k=Object.create;var d=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var c=e=>d(e,"__esModule",{value:!0});var u=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,i)=>(typeof require!="undefined"?require:o)[i]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var w=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),x=(e,o)=>{c(e);for(var i in o)d(e,i,{get:o[i],enumerable:!0})},s=(e,o,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of v(o))!B.call(e,n)&&n!=="default"&&d(e,n,{get:()=>o[n],enumerable:!(i=b(o,n))||i.enumerable});return e},_=e=>s(c(d(e!=null?k(y(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var h=w((A,g)=>{g.exports=self.monaco});var R={};x(R,{jsonDefaults:()=>l});var r={};c(r);s(r,_(h()));var f=[{id:"foreground",desc:"Overall foreground color. This color is only used if not overridden by a component."},{id:"errorForeground",desc:"Overall foreground color for error messages. This color is only used if not overridden by a component."},{id:"icon.foreground",desc:"The default color for icons in the workbench."},{id:"focusBorder",desc:"Overall border color for focused elements. This color is only used if not overridden by a component."},{id:"contrastBorder",desc:"An extra border around elements to separate them from others for greater contrast."},{id:"contrastActiveBorder",desc:"An extra border around active elements to separate them from others for greater contrast."},{id:"textLink.foreground",desc:"Foreground color for links in text."},{id:"textLink.activeForeground",desc:"Foreground color for links in text when clicked on and on mouse hover."},{id:"textCodeBlock.background",desc:"Background color for code blocks in text."},{id:"widget.shadow",desc:"Shadow color of widgets such as find/replace inside the editor."},{id:"input.background",desc:"Input box background."},{id:"input.foreground",desc:"Input box foreground."},{id:"input.border",desc:"Input box border."},{id:"inputOption.activeBorder",desc:"Border color of activated options in input fields."},{id:"inputOption.activeBackground",desc:"Background color of activated options in input fields."},{id:"inputOption.activeForeground",desc:"Foreground color of activated options in input fields."},{id:"inputValidation.infoBackground",desc:"Input validation background color for information severity."},{id:"inputValidation.infoForeground",desc:"Input validation foreground color for information severity."},{id:"inputValidation.infoBorder",desc:"Input validation border color for information severity."},{id:"inputValidation.warningBackground",desc:"Input validation background color for warning severity."},{id:"inputValidation.warningForeground",desc:"Input validation foreground color for warning severity."},{id:"inputValidation.warningBorder",desc:"Input validation border color for warning severity."},{id:"inputValidation.errorBackground",desc:"Input validation background color for error severity."},{id:"inputValidation.errorForeground",desc:"Input validation foreground color for error severity."},{id:"inputValidation.errorBorder",desc:"Input validation border color for error severity."},{id:"dropdown.background",desc:"Dropdown background."},{id:"dropdown.foreground",desc:"Dropdown foreground."},{id:"button.foreground",desc:"Button foreground color."},{id:"button.background",desc:"Button background color."},{id:"button.hoverBackground",desc:"Button background color when hovering."},{id:"badge.background",desc:"Badge background color. Badges are small information labels, e.g. for search results count."},{id:"badge.foreground",desc:"Badge foreground color. Badges are small information labels, e.g. for search results count."},{id:"scrollbar.shadow",desc:"Scrollbar shadow to indicate that the view is scrolled."},{id:"scrollbarSlider.background",desc:"Scrollbar slider background color."},{id:"scrollbarSlider.hoverBackground",desc:"Scrollbar slider background color when hovering."},{id:"scrollbarSlider.activeBackground",desc:"Scrollbar slider background color when clicked on."},{id:"progressBar.background",desc:"Background color of the progress bar that can show for long running operations."},{id:"editorError.background",desc:"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."},{id:"editorError.foreground",desc:"Foreground color of error squigglies in the editor."},{id:"editorError.border",desc:"Border color of error boxes in the editor."},{id:"editorWarning.background",desc:"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."},{id:"editorWarning.foreground",desc:"Foreground color of warning squigglies in the editor."},{id:"editorWarning.border",desc:"Border color of warning boxes in the editor."},{id:"editorInfo.background",desc:"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."},{id:"editorInfo.foreground",desc:"Foreground color of info squigglies in the editor."},{id:"editorInfo.border",desc:"Border color of info boxes in the editor."},{id:"editorHint.foreground",desc:"Foreground color of hint squigglies in the editor."},{id:"editorHint.border",desc:"Border color of hint boxes in the editor."},{id:"editor.background",desc:"Editor background color."},{id:"editor.foreground",desc:"Editor default foreground color."},{id:"editorWidget.background",desc:"Background color of editor widgets, such as find/replace."},{id:"editorWidget.foreground",desc:"Foreground color of editor widgets, such as find/replace."},{id:"editorWidget.border",desc:"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."},{id:"editorWidget.resizeBorder",desc:"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."},{id:"quickInput.background",desc:"Quick picker background color. The quick picker widget is the container for pickers like the command palette."},{id:"quickInput.foreground",desc:"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette."},{id:"quickInputTitle.background",desc:"Quick picker title background color. The quick picker widget is the container for pickers like the command palette."},{id:"pickerGroup.foreground",desc:"Quick picker color for grouping labels."},{id:"pickerGroup.border",desc:"Quick picker color for grouping borders."},{id:"keybindingLabel.background",desc:"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut."},{id:"keybindingLabel.foreground",desc:"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut."},{id:"keybindingLabel.border",desc:"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut."},{id:"keybindingLabel.bottomBorder",desc:"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."},{id:"editor.selectionBackground",desc:"Color of the editor selection."},{id:"editor.selectionForeground",desc:"Color of the selected text for high contrast."},{id:"editor.inactiveSelectionBackground",desc:"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.selectionHighlightBackground",desc:"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.selectionHighlightBorder",desc:"Border color for regions with the same content as the selection."},{id:"editor.findMatchBackground",desc:"Color of the current search match."},{id:"editor.findMatchHighlightBackground",desc:"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.findRangeHighlightBackground",desc:"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.findMatchBorder",desc:"Border color of the current search match."},{id:"editor.findMatchHighlightBorder",desc:"Border color of the other search matches."},{id:"editor.findRangeHighlightBorder",desc:"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.hoverHighlightBackground",desc:"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."},{id:"editorHoverWidget.background",desc:"Background color of the editor hover."},{id:"editorHoverWidget.foreground",desc:"Foreground color of the editor hover."},{id:"editorHoverWidget.border",desc:"Border color of the editor hover."},{id:"editorHoverWidget.statusBarBackground",desc:"Background color of the editor hover status bar."},{id:"editorLink.activeForeground",desc:"Color of active links."},{id:"editorInlayHint.foreground",desc:"Foreground color of inline hints"},{id:"editorInlayHint.background",desc:"Background color of inline hints"},{id:"editorInlayHint.typeForeground",desc:"Foreground color of inline hints for types"},{id:"editorInlayHint.typeBackground",desc:"Background color of inline hints for types"},{id:"editorInlayHint.parameterForeground",desc:"Foreground color of inline hints for parameters"},{id:"editorInlayHint.parameterBackground",desc:"Background color of inline hints for parameters"},{id:"editorLightBulb.foreground",desc:"The color used for the lightbulb actions icon."},{id:"editorLightBulbAutoFix.foreground",desc:"The color used for the lightbulb auto fix actions icon."},{id:"diffEditor.insertedTextBackground",desc:"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."},{id:"diffEditor.removedTextBackground",desc:"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."},{id:"diffEditor.insertedTextBorder",desc:"Outline color for the text that got inserted."},{id:"diffEditor.removedTextBorder",desc:"Outline color for text that got removed."},{id:"diffEditor.border",desc:"Border color between the two text editors."},{id:"diffEditor.diagonalFill",desc:"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."},{id:"list.focusBackground",desc:"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.focusForeground",desc:"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.focusOutline",desc:"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.activeSelectionBackground",desc:"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.activeSelectionForeground",desc:"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.activeSelectionIconForeground",desc:"List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."},{id:"list.inactiveSelectionBackground",desc:"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."},{id:"list.inactiveSelectionForeground",desc:"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."},{id:"list.inactiveSelectionIconForeground",desc:"List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."},{id:"list.inactiveFocusBackground",desc:"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."},{id:"list.inactiveFocusOutline",desc:"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."},{id:"list.hoverBackground",desc:"List/Tree background when hovering over items using the mouse."},{id:"list.hoverForeground",desc:"List/Tree foreground when hovering over items using the mouse."},{id:"list.dropBackground",desc:"List/Tree drag and drop background when moving items around using the mouse."},{id:"list.highlightForeground",desc:"List/Tree foreground color of the match highlights when searching inside the list/tree."},{id:"list.focusHighlightForeground",desc:"List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."},{id:"listFilterWidget.background",desc:"Background color of the type filter widget in lists and trees."},{id:"listFilterWidget.outline",desc:"Outline color of the type filter widget in lists and trees."},{id:"listFilterWidget.noMatchesOutline",desc:"Outline color of the type filter widget in lists and trees, when there are no matches."},{id:"tree.indentGuidesStroke",desc:"Tree stroke color for the indentation guides."},{id:"tree.tableColumnsBorder",desc:"Tree stroke color for the indentation guides."},{id:"quickInput.list.focusBackground",desc:""},{id:"quickInputList.focusForeground",desc:"Quick picker foreground color for the focused item."},{id:"quickInputList.focusIconForeground",desc:"Quick picker icon foreground color for the focused item."},{id:"quickInputList.focusBackground",desc:"Quick picker background color for the focused item."},{id:"menu.border",desc:"Border color of menus."},{id:"menu.foreground",desc:"Foreground color of menu items."},{id:"menu.background",desc:"Background color of menu items."},{id:"menu.selectionForeground",desc:"Foreground color of the selected menu item in menus."},{id:"menu.selectionBackground",desc:"Background color of the selected menu item in menus."},{id:"menu.selectionBorder",desc:"Border color of the selected menu item in menus."},{id:"menu.separatorBackground",desc:"Color of a separator menu item in menus."},{id:"toolbar.hoverBackground",desc:"Toolbar background when hovering over actions using the mouse"},{id:"editor.snippetTabstopHighlightBackground",desc:"Highlight background color of a snippet tabstop."},{id:"editor.snippetTabstopHighlightBorder",desc:"Highlight border color of a snippet tabstop."},{id:"editor.snippetFinalTabstopHighlightBackground",desc:"Highlight background color of the final tabstop of a snippet."},{id:"editor.snippetFinalTabstopHighlightBorder",desc:"Highlight border color of the final tabstop of a snippet."},{id:"editorOverviewRuler.findMatchForeground",desc:"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."},{id:"editorOverviewRuler.selectionHighlightForeground",desc:"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."},{id:"minimap.findMatchHighlight",desc:"Minimap marker color for find matches."},{id:"minimap.selectionOccurrenceHighlight",desc:"Minimap marker color for repeating editor selections."},{id:"minimap.selectionHighlight",desc:"Minimap marker color for the editor selection."},{id:"minimap.errorHighlight",desc:"Minimap marker color for errors."},{id:"minimap.warningHighlight",desc:"Minimap marker color for warnings."},{id:"minimap.background",desc:"Minimap background color."},{id:"minimap.foregroundOpacity",desc:'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'},{id:"minimapSlider.background",desc:"Minimap slider background color."},{id:"minimapSlider.hoverBackground",desc:"Minimap slider background color when hovering."},{id:"minimapSlider.activeBackground",desc:"Minimap slider background color when clicked on."},{id:"problemsErrorIcon.foreground",desc:"The color used for the problems error icon."},{id:"problemsWarningIcon.foreground",desc:"The color used for the problems warning icon."},{id:"problemsInfoIcon.foreground",desc:"The color used for the problems info icon."},{id:"editor.lineHighlightBackground",desc:"Background color for the highlight of line at the cursor position."},{id:"editor.lineHighlightBorder",desc:"Background color for the border around the line at the cursor position."},{id:"editor.rangeHighlightBackground",desc:"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.rangeHighlightBorder",desc:"Background color of the border around highlighted ranges."},{id:"editor.symbolHighlightBackground",desc:"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."},{id:"editor.symbolHighlightBorder",desc:"Background color of the border around highlighted symbols."},{id:"editorCursor.foreground",desc:"Color of the editor cursor."},{id:"editorCursor.background",desc:"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor."},{id:"editorWhitespace.foreground",desc:"Color of whitespace characters in the editor."},{id:"editorIndentGuide.background",desc:"Color of the editor indentation guides."},{id:"editorIndentGuide.activeBackground",desc:"Color of the active editor indentation guides."},{id:"editorLineNumber.foreground",desc:"Color of editor line numbers."},{id:"editorActiveLineNumber.foreground",desc:"Color of editor active line number"},{id:"editorLineNumber.activeForeground",desc:"Color of editor active line number"},{id:"editorRuler.foreground",desc:"Color of the editor rulers."},{id:"editorCodeLens.foreground",desc:"Foreground color of editor CodeLens"},{id:"editorBracketMatch.background",desc:"Background color behind matching brackets"},{id:"editorBracketMatch.border",desc:"Color for matching brackets boxes"},{id:"editorOverviewRuler.border",desc:"Color of the overview ruler border."},{id:"editorOverviewRuler.background",desc:"Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor."},{id:"editorGutter.background",desc:"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."},{id:"editorUnnecessaryCode.border",desc:"Border color of unnecessary (unused) source code in the editor."},{id:"editorUnnecessaryCode.opacity",desc:`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`},{id:"editorGhostText.border",desc:"Border color of ghost text in the editor."},{id:"editorGhostText.foreground",desc:"Foreground color of the ghost text in the editor."},{id:"editorOverviewRuler.rangeHighlightForeground",desc:"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."},{id:"editorOverviewRuler.errorForeground",desc:"Overview ruler marker color for errors."},{id:"editorOverviewRuler.warningForeground",desc:"Overview ruler marker color for warnings."},{id:"editorOverviewRuler.infoForeground",desc:"Overview ruler marker color for infos."},{id:"editorBracketHighlight.foreground1",desc:"Foreground color of brackets (1). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.foreground2",desc:"Foreground color of brackets (2). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.foreground3",desc:"Foreground color of brackets (3). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.foreground4",desc:"Foreground color of brackets (4). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.foreground5",desc:"Foreground color of brackets (5). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.foreground6",desc:"Foreground color of brackets (6). Requires enabling bracket pair colorization."},{id:"editorBracketHighlight.unexpectedBracket.foreground",desc:"Foreground color of unexpected brackets."},{id:"editorBracketPairGuide.background1",desc:"Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.background2",desc:"Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.background3",desc:"Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.background4",desc:"Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.background5",desc:"Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.background6",desc:"Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground1",desc:"Background color of active bracket pair guides (1). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground2",desc:"Background color of active bracket pair guides (2). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground3",desc:"Background color of active bracket pair guides (3). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground4",desc:"Background color of active bracket pair guides (4). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground5",desc:"Background color of active bracket pair guides (5). Requires enabling bracket pair guides."},{id:"editorBracketPairGuide.activeBackground6",desc:"Background color of active bracket pair guides (6). Requires enabling bracket pair guides."}];var j={onEnterRules:[{beforeText:new RegExp("^\\s*(:?#|\\*(?:"+["achievement","choice","else","elseif","elsif","fake_choice","if","scene_list","stat_chart"].join("|")+")).*\\s*$"),action:{indentAction:r.languages.IndentAction.Indent}},{beforeText:new RegExp("^\\s*\\*(?:"+["ending","finish","goto","goto_scene","redirect_scene"].join("|")+").*\\s*$"),action:{indentAction:r.languages.IndentAction.Outdent}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},t={includeLF:!0,ignoreCase:!0,tokenPostfix:".choicescript",commands:["abort","achieve","achievement","advertisement","allow_reuse","author","bug","check_achievements","check_purchase","check_registration","choice","create","delay_break","delay_ending","delete","disable_reuse","else","elseif","elsif","end_trial","ending","fake_choice","finish","gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","hide_reuse","if","ifid","image","input_number","input_text","label","line_break","link","link_button","login","looplimit","more_games","page_break","params","print","purchase","purchase_discount","rand","redirect_scene","reset","restart","restore_game","restore_purchases","return","save_game","scene_list","script","selectable_if","set","setref","share_this_game","show_password","sound","stat_chart","subscribe","temp","title"],indentCommands:["achievement","choice","else","elseif","elsif","fake_choice","if","scene_list","stat_chart"],dedentCommands:["ending","finish","goto","goto_scene","redirect_scene"],optionCommands:["allow_reuse","disable_reuse","hide_reuse"],flowCommands:["gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","label","redirect_scene","return"],unquotedStringCommands:["bug","image","text_image","sound","page_break","ifid"],csPlusCommands:["console_log","console_track","console_track_all","console_untrack_all","console_untrack","console_clear","console_track_list","cside_theme_set","cside_theme_apply","sm_save","sm_load","sm_delete","sm_update","sm_menu"],symbols:/[=><&+\-*\/\^%!#]+/,operators:["#","&","%-","%+","-","+","/","*","<",">","<=",">=","=","!=","and","or","modulo"],brackets:[{open:"{",close:"}",token:"bracket"},{open:"[",close:"]",token:"bracket"},{open:"(",close:")",token:"bracket"}],escapes:/[\\"]/,tokenizer:{root:[{regex:/[ \t]+/,token:"whitespace"},{regex:/\*[A-Za-z_]+/,action:{token:"@rematch",switchTo:"@command_line"}},{regex:/[^*].*/,action:{token:"@rematch",switchTo:"@text_line"}}],command_line:[{regex:/\*\w+/,action:{token:"@rematch",next:"@command"}},{regex:/\n/,action:{token:"linebreak",switchTo:"@root"}},{regex:/[ \t]+/,action:{token:"whitespace"}},{include:"@expression"}],text_line:[{regex:/#/,action:{token:"choice-marker"}},{regex:/\n/,action:{token:"linebreak",switchTo:"@root"}},{include:"@variable"},{regex:/[ \t]+/,action:{token:"whitespace"}}],command:[{regex:"\\*comment.*",action:{token:"comment",next:"@pop"}},{regex:/(?:\*)(\w+)/,action:{cases:{"$1@unquotedStringCommands":{token:"command",switchTo:"@unquoted_string"},"$1@optionCommands":{token:"keyword",switchTo:"@reuse_option"},"$1@flowCommands":{token:"flow-command",next:"@pop"},"$1@csPlusCommands":{token:"extra-keywords",next:"@pop"},"$1@commands":{token:"command",next:"@pop"},"@default":{token:"invalid"}}}}],unquoted_string:[{include:"@string_body"},[/"/,"delim"],{regex:/\n/,action:{token:"whitespace",next:"@pop"}},{regex:/\|/,action:{token:"whitespace",next:"@pop"}}],string:[[/\n/,{token:"linebreak",bracket:"@close",next:"@popall",switchTo:"@root"}],{include:"@string_body"},[/\\"/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],string_body:[{include:"@variable"},[/[^\\@\$"\n]+/,{token:"string.string"}]],variable:[{regex:/\$\{/,action:{token:"@rematch",next:"@varreplace"}},{regex:/@\{/,action:{token:"@rematch",next:"@multireplace"}}],varreplace:[{regex:/\$\{/,action:{token:"bracket.var",bracket:"@open"}},{regex:/\}/,action:{token:"bracket.var",bracket:"@close",next:"@pop"}},{include:"@expression"}],multireplace:[{regex:/@{/,action:{token:"bracket.multi",bracket:"@open"}},{regex:/\}/,action:{token:"bracket.multi",bracket:"@close",next:"@pop"}},{include:"@expression"},{include:"@unquoted_string"}],expression:[[/\n/,{token:"linebreak",next:"@popall"}],{regex:/\b[A-Za-z_]+\w*/,action:{cases:{"(true|false)":{token:"keyword"},"(not|length|round|timestamp|log|auto)":{token:"function"},"(and|or|modulo)":{token:"operator"},"@default":{token:"identifier"}}}},{regex:'"',action:{token:"string.quote",bracket:"@open",next:"@string"}},{regex:/\b[0-9]+\b/,action:{token:"number"}},{regex:/[{]/,action:{token:"bracket.deref",bracket:"@open",next:"@push"}},{regex:/[}]/,action:{token:"bracket.deref",bracket:"@close",next:"@pop"}},[/[\[\]()]/,"@brackets"],["@symbols",{cases:{"@operators":{token:"operator"}}}]],reuse_option:[[/\s*#/,{token:"@rematch",switchTo:"@text_line"}],[/\s*\*(selectable_if|if)/,{token:"@rematch",switchTo:"@command"}],[/^\s*/,{token:"rematch",next:"@pop"}]]}};function a(e,o){return e+o}var T=t.commands.filter(e=>!t.flowCommands.includes(e)&&!t.csPlusCommands.includes(e)&&!t.optionCommands.includes(e)),C=t.optionCommands.map(a.bind(null,"command.option.")),F=t.csPlusCommands.map(a.bind(null,"command.extra.")),q=t.flowCommands.map(a.bind(null,"command.flow.")),O=T.map(a.bind(null,"command.")),I=["command","command.option","command.extra","command.flow","invalid","delimiter","number","string","comment","whitespace","delimiter.operator","delimiter.operator.keyword","delimiter.choice-option"].concat(C,F,q,O),m={uri:"",fileMatch:["*.theme.json"],schema:{title:"Monaco Theme Schema",type:"object",required:["base","rules","colors","name","version"],properties:{name:{description:"The name of the theme, consisting of letters, numbers, hyphens and underscores.",type:"string",pattern:"^[A-Za-z][A-Za-z0-9_-]+[A-Za-z0-9]$",errorMessage:"A theme name should start with a letter and only contain letters, numbers, hyphens and underscores. It cannot end with a hyphen or underscore."},version:{description:"The semantic version of the theme (e.g. 1.0.1).",type:"string",pattern:"^[0-9]{1,5}.[0-9]{1,5}.[0-9]{1,5}$",errorMessage:"Version should be a semantic version string in the MAJOR.MINOR.PATCH format (e.g. '1.0.1')."},base:{description:"The base theme from which to inherit any defaults (vs, vs-dark or hc-black).",enum:["vs","vs-dark","hc-black"]},inherit:{description:"Whether to inherit properties from the given base theme (boolean).",type:"boolean"},rules:{description:"A list of style rules to apply to parts of the language syntax.",type:"array",items:{$ref:"#/definitions/rule"}},colors:{description:"A list of colors to apply to various parts of the editor user interface.",type:"object",items:{$ref:"#/definitions/color"},properties:f.reduce((e,o)=>({...e,[o.id]:{type:"string",description:o.desc,$ref:"#/definitions/color"}}),{}),additionalProperties:!1},encodedTokensColors:{type:"array",items:{type:"string"}}},definitions:{color:{description:"A color to apply to the token (in hexadecimal format). Supports alpha channel.",type:"string",pattern:"^#[0-9A-Fa-f]{6,8}$",errorMessage:"Expected a hex color e.g.: #00000000",format:"color-hex"},rule:{type:"object",required:["token"],properties:{token:{description:"Name of the syntax token this rule should be applied to.",type:"string",examples:I},fontStyle:{description:"Font styles to apply to the token (italic, bold and underline).",type:"string",pattern:"^((italic|bold|underline) ?){1,3}$",errorMessage:"Should be one or more of only 'bold', 'italic' or 'underline', separated by spaces."},foreground:{description:"A color to apply to the token (in hexadecimal format).",pattern:"^#[0-9A-Fa-f]{6}$",errorMessage:"Expected a hex color e.g.: #000000",format:"color-hex"},background:{description:"A color to apply to the token (in hexadecimal format).",pattern:"^#[0-9A-Fa-f]{6}$",errorMessage:"Expected a hex color e.g.: #000000",format:"color-hex"}},additionalProperties:!1}},additionalProperties:!1}};var p=class{constructor(o,i,n){this._onDidChange=new r.Emitter;this.builtinSchemas={monacoTheme:m};this._languageId=o,this.setDiagnosticsOptions(i),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(o){this._diagnosticsOptions=o||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},H={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},L={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new p("json",H,L);r.languages.json={jsonDefaults:l};function M(){return new Promise((e,o)=>{u(["vs/language/json/jsonMode"],e,o)})}r.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});r.languages.onLanguage("json",()=>{M().then(e=>e.setupMode(l))});return R;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var S=Object.create;var s=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var g=e=>s(e,"__esModule",{value:!0});var y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var _=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),k=(e,n)=>{g(e);for(var t in n)s(e,t,{get:n[t],enumerable:!0})},f=(e,n,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of R(n))!O.call(e,o)&&o!=="default"&&s(e,o,{get:()=>n[o],enumerable:!(t=w(n,o))||t.enumerable});return e},T=e=>f(g(s(e!=null?S(H(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var v=_((V,b)=>{b.exports=self.monaco});var F={};k(F,{handlebarDefaults:()=>M,handlebarLanguageService:()=>p,htmlDefaults:()=>L,htmlLanguageService:()=>c,razorDefaults:()=>x,razorLanguageService:()=>m,registerHTMLLanguageService:()=>i});var a={};g(a);f(a,T(v()));var h=class{constructor(n,t,o){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(o)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},A={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},d={format:A,suggest:{},data:{useDefaultDataProvider:!0}};function l(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===r,documentFormattingEdits:e===r,documentRangeFormattingEdits:e===r}}var r="html",D="handlebars",C="razor",c=i(r,d,l(r)),L=c.defaults,p=i(D,d,l(D)),M=p.defaults,m=i(C,d,l(C)),x=m.defaults;a.languages.html={htmlDefaults:L,razorDefaults:x,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:p,razorLanguageService:m,registerHTMLLanguageService:i};function E(){return new Promise((e,n)=>{y(["vs/language/html/htmlMode"],e,n)})}function i(e,n=d,t=l(e)){let o=new h(e,n,t),u,I=a.languages.onLanguage(e,async()=>{u=(await E()).setupMode(o)});return{defaults:o,dispose(){I.dispose(),u?.dispose(),u=void 0}}}return F;})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var k=Object.create;var s=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var u=e=>s(e,"__esModule",{value:!0});var i=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,o)=>(typeof require!="undefined"?require:r)[o]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(e&&(r=e(e=0)),r);var _=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),L=(e,r)=>{u(e);for(var o in r)s(e,o,{get:r[o],enumerable:!0})},l=(e,r,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of M(r))!w.call(e,n)&&n!=="default"&&s(e,n,{get:()=>r[n],enumerable:!(o=A(r,n))||o.enumerable});return e},P=e=>l(u(s(e!=null?k(D(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var f=_((S,b)=>{b.exports=self.monaco});var t={};u(t);var m=d(()=>{l(t,P(f()))});var h={};L(h,{conf:()=>j,language:()=>T});var j,T,q=d(()=>{m();j={onEnterRules:[{beforeText:new RegExp("^\\s*(:?#|\\*(?:"+["achievement","choice","else","elseif","elsif","fake_choice","if","scene_list","stat_chart"].join("|")+")).*\\s*$"),action:{indentAction:t.languages.IndentAction.Indent}},{beforeText:new RegExp("^\\s*\\*(?:"+["ending","finish","goto","goto_scene","redirect_scene"].join("|")+").*\\s*$"),action:{indentAction:t.languages.IndentAction.Outdent}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},T={includeLF:!0,ignoreCase:!0,tokenPostfix:".choicescript",commands:["abort","achieve","achievement","advertisement","allow_reuse","author","bug","check_achievements","check_purchase","check_registration","choice","create","delay_break","delay_ending","delete","disable_reuse","else","elseif","elsif","end_trial","ending","fake_choice","finish","gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","hide_reuse","if","ifid","image","input_number","input_text","label","line_break","link","link_button","login","looplimit","more_games","page_break","params","print","purchase","purchase_discount","rand","redirect_scene","reset","restart","restore_game","restore_purchases","return","save_game","scene_list","script","selectable_if","set","setref","share_this_game","show_password","sound","stat_chart","subscribe","temp","title"],indentCommands:["achievement","choice","else","elseif","elsif","fake_choice","if","scene_list","stat_chart"],dedentCommands:["ending","finish","goto","goto_scene","redirect_scene"],optionCommands:["allow_reuse","disable_reuse","hide_reuse"],flowCommands:["gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","label","redirect_scene","return"],unquotedStringCommands:["bug","image","text_image","sound","page_break","ifid"],csPlusCommands:["console_log","console_track","console_track_all","console_untrack_all","console_untrack","console_clear","console_track_list","cside_theme_set","cside_theme_apply","sm_save","sm_load","sm_delete","sm_update","sm_menu"],symbols:/[=><&+\-*\/\^%!#]+/,operators:["#","&","%-","%+","-","+","/","*","<",">","<=",">=","=","!=","and","or","modulo"],brackets:[{open:"{",close:"}",token:"bracket"},{open:"[",close:"]",token:"bracket"},{open:"(",close:")",token:"bracket"}],escapes:/[\\"]/,tokenizer:{root:[{regex:/[ \t]+/,token:"whitespace"},{regex:/\*[A-Za-z_]+/,action:{token:"@rematch",switchTo:"@command_line"}},{regex:/[^*].*/,action:{token:"@rematch",switchTo:"@text_line"}}],command_line:[{regex:/\*\w+/,action:{token:"@rematch",next:"@command"}},{regex:/\n/,action:{token:"linebreak",switchTo:"@root"}},{regex:/[ \t]+/,action:{token:"whitespace"}},{include:"@expression"}],text_line:[{regex:/#/,action:{token:"choice-marker"}},{regex:/\n/,action:{token:"linebreak",switchTo:"@root"}},{include:"@variable"},{regex:/[ \t]+/,action:{token:"whitespace"}}],command:[{regex:"\\*comment.*",action:{token:"comment",next:"@pop"}},{regex:/(?:\*)(\w+)/,action:{cases:{"$1@unquotedStringCommands":{token:"command",switchTo:"@unquoted_string"},"$1@optionCommands":{token:"keyword",switchTo:"@reuse_option"},"$1@flowCommands":{token:"flow-command",next:"@pop"},"$1@csPlusCommands":{token:"extra-keywords",next:"@pop"},"$1@commands":{token:"command",next:"@pop"},"@default":{token:"invalid"}}}}],unquoted_string:[{include:"@string_body"},[/"/,"delim"],{regex:/\n/,action:{token:"whitespace",next:"@pop"}},{regex:/\|/,action:{token:"whitespace",next:"@pop"}}],string:[[/\n/,{token:"linebreak",bracket:"@close",next:"@popall",switchTo:"@root"}],{include:"@string_body"},[/\\"/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],string_body:[{include:"@variable"},[/[^\\@\$"\n]+/,{token:"string.string"}]],variable:[{regex:/\$\{/,action:{token:"@rematch",next:"@varreplace"}},{regex:/@\{/,action:{token:"@rematch",next:"@multireplace"}}],varreplace:[{regex:/\$\{/,action:{token:"bracket.var",bracket:"@open"}},{regex:/\}/,action:{token:"bracket.var",bracket:"@close",next:"@pop"}},{include:"@expression"}],multireplace:[{regex:/@{/,action:{token:"bracket.multi",bracket:"@open"}},{regex:/\}/,action:{token:"bracket.multi",bracket:"@close",next:"@pop"}},{include:"@expression"},{include:"@unquoted_string"}],expression:[[/\n/,{token:"linebreak",next:"@popall"}],{regex:/\b[A-Za-z_]+\w*/,action:{cases:{"(true|false)":{token:"keyword"},"(not|length|round|timestamp|log|auto)":{token:"function"},"(and|or|modulo)":{token:"operator"},"@default":{token:"identifier"}}}},{regex:'"',action:{token:"string.quote",bracket:"@open",next:"@string"}},{regex:/\b[0-9]+\b/,action:{token:"number"}},{regex:/[{]/,action:{token:"bracket.deref",bracket:"@open",next:"@push"}},{regex:/[}]/,action:{token:"bracket.deref",bracket:"@close",next:"@pop"}},[/[\[\]()]/,"@brackets"],["@symbols",{cases:{"@operators":{token:"operator"}}}]],reuse_option:[[/\s*#/,{token:"@rematch",switchTo:"@text_line"}],[/\s*\*(selectable_if|if)/,{token:"@rematch",switchTo:"@command"}],[/^\s*/,{token:"rematch",next:"@pop"}]]}}});m();var F=t.editor.IStandaloneThemeData,v={},p={},c=class{static getOrCreate(r){return p[r]||(p[r]=new c(r)),p[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((o,n)=>{this._lazyLoadPromiseResolve=o,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,v[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function a(e){let r=e.id;v[r]=e,t.languages.register(e);let o=c.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await o.load()).language}),t.languages.onLanguage(r,async()=>{let n=await o.load();t.languages.setLanguageConfiguration(r,n.conf)})}function g(e,r){t.editor.defineTheme(e,r)}a({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/abap/abap"],e,r)})});a({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/apex/apex"],e,r)})});a({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/azcli/azcli"],e,r)})});a({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/bat/bat"],e,r)})});a({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/bicep/bicep"],e,r)})});a({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/cameligo/cameligo"],e,r)})});var y={base:"vs-dark",inherit:!0,rules:[{token:"extra-keywords",foreground:"DA9ED3"},{token:"flow-command",foreground:"599EFF"},{token:"command",foreground:"FFA500"},{token:"conditional",foreground:"FFA500"},{token:"choice-option",foreground:"92A75C"}],colors:{}},x={base:"vs",inherit:!0,rules:[{token:"extra-keywords",foreground:"EE82EE"},{token:"flow-command",foreground:"E9692C"},{token:"command",foreground:"0000FF"},{token:"choice-option",foreground:"FF0000"}],colors:{}};g("cs-dark",y);g("cs-light",x);a({id:"choicescript",extensions:[".txt"],aliases:["ChoiceScript","cs"],loader:()=>Promise.resolve().then(()=>(q(),h))});a({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/clojure/clojure"],e,r)})});a({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/coffee/coffee"],e,r)})});a({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/cpp/cpp"],e,r)})});a({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/cpp/cpp"],e,r)})});a({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/csharp/csharp"],e,r)})});a({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/csp/csp"],e,r)})});a({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/css/css"],e,r)})});a({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/dart/dart"],e,r)})});a({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});a({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/ecl/ecl"],e,r)})});a({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/elixir/elixir"],e,r)})});a({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/flow9/flow9"],e,r)})});a({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/fsharp/fsharp"],e,r)})});a({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});a({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});a({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});a({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});a({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});a({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});a({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});a({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/go/go"],e,r)})});a({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/graphql/graphql"],e,r)})});a({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/handlebars/handlebars"],e,r)})});a({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/hcl/hcl"],e,r)})});a({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/html/html"],e,r)})});a({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/ini/ini"],e,r)})});a({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/java/java"],e,r)})});a({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/javascript/javascript"],e,r)})});a({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/julia/julia"],e,r)})});a({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/kotlin/kotlin"],e,r)})});a({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/less/less"],e,r)})});a({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/lexon/lexon"],e,r)})});a({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/lua/lua"],e,r)})});a({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/liquid/liquid"],e,r)})});a({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/m3/m3"],e,r)})});a({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/markdown/markdown"],e,r)})});a({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/mips/mips"],e,r)})});a({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/msdax/msdax"],e,r)})});a({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/mysql/mysql"],e,r)})});a({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/objective-c/objective-c"],e,r)})});a({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/pascal/pascal"],e,r)})});a({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});a({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/perl/perl"],e,r)})});a({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/pgsql/pgsql"],e,r)})});a({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/php/php"],e,r)})});a({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/pla/pla"],e,r)})});a({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/postiats/postiats"],e,r)})});a({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/powerquery/powerquery"],e,r)})});a({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/powershell/powershell"],e,r)})});a({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/protobuf/protobuf"],e,r)})});a({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/pug/pug"],e,r)})});a({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/python/python"],e,r)})});a({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/qsharp/qsharp"],e,r)})});a({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/r/r"],e,r)})});a({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/razor/razor"],e,r)})});a({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/redis/redis"],e,r)})});a({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/redshift/redshift"],e,r)})});a({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});a({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/ruby/ruby"],e,r)})});a({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/rust/rust"],e,r)})});a({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/sb/sb"],e,r)})});a({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/scala/scala"],e,r)})});a({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/scheme/scheme"],e,r)})});a({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/scss/scss"],e,r)})});a({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/shell/shell"],e,r)})});a({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/solidity/solidity"],e,r)})});a({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/sophia/sophia"],e,r)})});a({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/sparql/sparql"],e,r)})});a({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/sql/sql"],e,r)})});a({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/st/st"],e,r)})});a({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/swift/swift"],e,r)})});a({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});a({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});a({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/tcl/tcl"],e,r)})});a({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/twig/twig"],e,r)})});a({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/typescript/typescript"],e,r)})});a({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/vb/vb"],e,r)})});a({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/xml/xml"],e,r)})});a({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{i(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.1(0921cc07f7b23348f89780315139a799fb55ff0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/choicescript/monaco.contribution",["vs/editor/editor.api"],()=>{
var moduleExports=(()=>{var nt=Object.create;var F=Object.defineProperty;var rt=Object.getOwnPropertyDescriptor;var it=Object.getOwnPropertyNames;var ot=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty;var B=t=>F(t,"__esModule",{value:!0});var E=(t,n)=>()=>(t&&(n=t(t=0)),n);var st=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),le=(t,n)=>{B(t);for(var i in n)F(t,i,{get:n[i],enumerable:!0})},U=(t,n,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of it(n))!at.call(t,r)&&r!=="default"&&F(t,r,{get:()=>n[r],enumerable:!(i=rt(n,r))||i.enumerable});return t},ut=t=>U(B(F(t!=null?nt(ot(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var fe=st((It,ge)=>{ge.exports=self.monaco});var c={};B(c);var S=E(()=>{U(c,ut(fe()))});var ct,$,pe=E(()=>{S();"use strict";ct=2*60*1e3,$=class{constructor(n){this._defaults=n,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>ct&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=c.editor.createWebWorker({moduleId:"vs/language/choicescript/choicescriptWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...n){let i;return this._getClient().then(r=>{i=r}).then(r=>{if(this._worker)return this._worker.withSyncedResources(n)}).then(r=>i)}}});var he,O,x,v,G,me,Q,ve,ye,_e,be,J,D,xe,Ce,j,A,C,T,y,k,N,M,P,R,Y,V,ke,Mt,we,Ie,H,De,L,Z,h,z,Te,Ee,Se,Ae,Me,q,Pe,Re,Le,We,Fe,m,Ue,Oe,je,Ne,Ve,He,ze,qe,Xe,Be,$e,dt,s,Ge=E(()=>{"use strict";(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647})(he||(he={}));(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647})(O||(O={}));(function(t){function n(r,e){return r===Number.MAX_VALUE&&(r=O.MAX_VALUE),e===Number.MAX_VALUE&&(e=O.MAX_VALUE),{line:r,character:e}}t.create=n;function i(r){var e=r;return s.objectLiteral(e)&&s.uinteger(e.line)&&s.uinteger(e.character)}t.is=i})(x||(x={}));(function(t){function n(r,e,o,a){if(s.uinteger(r)&&s.uinteger(e)&&s.uinteger(o)&&s.uinteger(a))return{start:x.create(r,e),end:x.create(o,a)};if(x.is(r)&&x.is(e))return{start:r,end:e};throw new Error("Range#create called with invalid arguments["+r+", "+e+", "+o+", "+a+"]")}t.create=n;function i(r){var e=r;return s.objectLiteral(e)&&x.is(e.start)&&x.is(e.end)}t.is=i})(v||(v={}));(function(t){function n(r,e){return{uri:r,range:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&v.is(e.range)&&(s.string(e.uri)||s.undefined(e.uri))}t.is=i})(G||(G={}));(function(t){function n(r,e,o,a){return{targetUri:r,targetRange:e,targetSelectionRange:o,originSelectionRange:a}}t.create=n;function i(r){var e=r;return s.defined(e)&&v.is(e.targetRange)&&s.string(e.targetUri)&&(v.is(e.targetSelectionRange)||s.undefined(e.targetSelectionRange))&&(v.is(e.originSelectionRange)||s.undefined(e.originSelectionRange))}t.is=i})(me||(me={}));(function(t){function n(r,e,o,a){return{red:r,green:e,blue:o,alpha:a}}t.create=n;function i(r){var e=r;return s.numberRange(e.red,0,1)&&s.numberRange(e.green,0,1)&&s.numberRange(e.blue,0,1)&&s.numberRange(e.alpha,0,1)}t.is=i})(Q||(Q={}));(function(t){function n(r,e){return{range:r,color:e}}t.create=n;function i(r){var e=r;return v.is(e.range)&&Q.is(e.color)}t.is=i})(ve||(ve={}));(function(t){function n(r,e,o){return{label:r,textEdit:e,additionalTextEdits:o}}t.create=n;function i(r){var e=r;return s.string(e.label)&&(s.undefined(e.textEdit)||C.is(e))&&(s.undefined(e.additionalTextEdits)||s.typedArray(e.additionalTextEdits,C.is))}t.is=i})(ye||(ye={}));(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(_e||(_e={}));(function(t){function n(r,e,o,a,u){var l={startLine:r,endLine:e};return s.defined(o)&&(l.startCharacter=o),s.defined(a)&&(l.endCharacter=a),s.defined(u)&&(l.kind=u),l}t.create=n;function i(r){var e=r;return s.uinteger(e.startLine)&&s.uinteger(e.startLine)&&(s.undefined(e.startCharacter)||s.uinteger(e.startCharacter))&&(s.undefined(e.endCharacter)||s.uinteger(e.endCharacter))&&(s.undefined(e.kind)||s.string(e.kind))}t.is=i})(be||(be={}));(function(t){function n(r,e){return{location:r,message:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&G.is(e.location)&&s.string(e.message)}t.is=i})(J||(J={}));(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(D||(D={}));(function(t){t.Unnecessary=1,t.Deprecated=2})(xe||(xe={}));(function(t){function n(i){var r=i;return r!=null&&s.string(r.href)}t.is=n})(Ce||(Ce={}));(function(t){function n(r,e,o,a,u,l){var f={range:r,message:e};return s.defined(o)&&(f.severity=o),s.defined(a)&&(f.code=a),s.defined(u)&&(f.source=u),s.defined(l)&&(f.relatedInformation=l),f}t.create=n;function i(r){var e,o=r;return s.defined(o)&&v.is(o.range)&&s.string(o.message)&&(s.number(o.severity)||s.undefined(o.severity))&&(s.integer(o.code)||s.string(o.code)||s.undefined(o.code))&&(s.undefined(o.codeDescription)||s.string((e=o.codeDescription)===null||e===void 0?void 0:e.href))&&(s.string(o.source)||s.undefined(o.source))&&(s.undefined(o.relatedInformation)||s.typedArray(o.relatedInformation,J.is))}t.is=i})(j||(j={}));(function(t){function n(r,e){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var u={title:r,command:e};return s.defined(o)&&o.length>0&&(u.arguments=o),u}t.create=n;function i(r){var e=r;return s.defined(e)&&s.string(e.title)&&s.string(e.command)}t.is=i})(A||(A={}));(function(t){function n(o,a){return{range:o,newText:a}}t.replace=n;function i(o,a){return{range:{start:o,end:o},newText:a}}t.insert=i;function r(o){return{range:o,newText:""}}t.del=r;function e(o){var a=o;return s.objectLiteral(a)&&s.string(a.newText)&&v.is(a.range)}t.is=e})(C||(C={}));(function(t){function n(r,e,o){var a={label:r};return e!==void 0&&(a.needsConfirmation=e),o!==void 0&&(a.description=o),a}t.create=n;function i(r){var e=r;return e!==void 0&&s.objectLiteral(e)&&s.string(e.label)&&(s.boolean(e.needsConfirmation)||e.needsConfirmation===void 0)&&(s.string(e.description)||e.description===void 0)}t.is=i})(T||(T={}));(function(t){function n(i){var r=i;return typeof r=="string"}t.is=n})(y||(y={}));(function(t){function n(o,a,u){return{range:o,newText:a,annotationId:u}}t.replace=n;function i(o,a,u){return{range:{start:o,end:o},newText:a,annotationId:u}}t.insert=i;function r(o,a){return{range:o,newText:"",annotationId:a}}t.del=r;function e(o){var a=o;return C.is(a)&&(T.is(a.annotationId)||y.is(a.annotationId))}t.is=e})(k||(k={}));(function(t){function n(r,e){return{textDocument:r,edits:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&H.is(e.textDocument)&&Array.isArray(e.edits)}t.is=i})(N||(N={}));(function(t){function n(r,e,o){var a={kind:"create",uri:r};return e!==void 0&&(e.overwrite!==void 0||e.ignoreIfExists!==void 0)&&(a.options=e),o!==void 0&&(a.annotationId=o),a}t.create=n;function i(r){var e=r;return e&&e.kind==="create"&&s.string(e.uri)&&(e.options===void 0||(e.options.overwrite===void 0||s.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||s.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||y.is(e.annotationId))}t.is=i})(M||(M={}));(function(t){function n(r,e,o,a){var u={kind:"rename",oldUri:r,newUri:e};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),a!==void 0&&(u.annotationId=a),u}t.create=n;function i(r){var e=r;return e&&e.kind==="rename"&&s.string(e.oldUri)&&s.string(e.newUri)&&(e.options===void 0||(e.options.overwrite===void 0||s.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||s.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||y.is(e.annotationId))}t.is=i})(P||(P={}));(function(t){function n(r,e,o){var a={kind:"delete",uri:r};return e!==void 0&&(e.recursive!==void 0||e.ignoreIfNotExists!==void 0)&&(a.options=e),o!==void 0&&(a.annotationId=o),a}t.create=n;function i(r){var e=r;return e&&e.kind==="delete"&&s.string(e.uri)&&(e.options===void 0||(e.options.recursive===void 0||s.boolean(e.options.recursive))&&(e.options.ignoreIfNotExists===void 0||s.boolean(e.options.ignoreIfNotExists)))&&(e.annotationId===void 0||y.is(e.annotationId))}t.is=i})(R||(R={}));(function(t){function n(i){var r=i;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(e){return s.string(e.kind)?M.is(e)||P.is(e)||R.is(e):N.is(e)}))}t.is=n})(Y||(Y={}));V=function(){function t(n,i){this.edits=n,this.changeAnnotations=i}return t.prototype.insert=function(n,i,r){var e,o;if(r===void 0?e=C.insert(n,i):y.is(r)?(o=r,e=k.insert(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),e=k.insert(n,i,o)),this.edits.push(e),o!==void 0)return o},t.prototype.replace=function(n,i,r){var e,o;if(r===void 0?e=C.replace(n,i):y.is(r)?(o=r,e=k.replace(n,i,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),e=k.replace(n,i,o)),this.edits.push(e),o!==void 0)return o},t.prototype.delete=function(n,i){var r,e;if(i===void 0?r=C.del(n):y.is(i)?(e=i,r=k.del(n,i)):(this.assertChangeAnnotations(this.changeAnnotations),e=this.changeAnnotations.manage(i),r=k.del(n,e)),this.edits.push(r),e!==void 0)return e},t.prototype.add=function(n){this.edits.push(n)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(n){if(n===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),ke=function(){function t(n){this._annotations=n===void 0?Object.create(null):n,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(n,i){var r;if(y.is(n)?r=n:(r=this.nextId(),i=n),this._annotations[r]!==void 0)throw new Error("Id "+r+" is already in use.");if(i===void 0)throw new Error("No annotation provided for id "+r);return this._annotations[r]=i,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}(),Mt=function(){function t(n){var i=this;this._textEditChanges=Object.create(null),n!==void 0?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new ke(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(function(r){if(N.is(r)){var e=new V(r.edits,i._changeAnnotations);i._textEditChanges[r.textDocument.uri]=e}})):n.changes&&Object.keys(n.changes).forEach(function(r){var e=new V(n.changes[r]);i._textEditChanges[r]=e})):this._workspaceEdit={}}return Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(n){if(H.is(n)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:n.uri,version:n.version},r=this._textEditChanges[i.uri];if(!r){var e=[],o={textDocument:i,edits:e};this._workspaceEdit.documentChanges.push(o),r=new V(e,this._changeAnnotations),this._textEditChanges[i.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[n];if(!r){var e=[];this._workspaceEdit.changes[n]=e,r=new V(e),this._textEditChanges[n]=r}return r}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ke,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var e;T.is(i)||y.is(i)?e=i:r=i;var o,a;if(e===void 0?o=M.create(n,r):(a=y.is(e)?e:this._changeAnnotations.manage(e),o=M.create(n,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t.prototype.renameFile=function(n,i,r,e){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;T.is(r)||y.is(r)?o=r:e=r;var a,u;if(o===void 0?a=P.create(n,i,e):(u=y.is(o)?o:this._changeAnnotations.manage(o),a=P.create(n,i,e,u)),this._workspaceEdit.documentChanges.push(a),u!==void 0)return u},t.prototype.deleteFile=function(n,i,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var e;T.is(i)||y.is(i)?e=i:r=i;var o,a;if(e===void 0?o=R.create(n,r):(a=y.is(e)?e:this._changeAnnotations.manage(e),o=R.create(n,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t}();(function(t){function n(r){return{uri:r}}t.create=n;function i(r){var e=r;return s.defined(e)&&s.string(e.uri)}t.is=i})(we||(we={}));(function(t){function n(r,e){return{uri:r,version:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&s.string(e.uri)&&s.integer(e.version)}t.is=i})(Ie||(Ie={}));(function(t){function n(r,e){return{uri:r,version:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&s.string(e.uri)&&(e.version===null||s.integer(e.version))}t.is=i})(H||(H={}));(function(t){function n(r,e,o,a){return{uri:r,languageId:e,version:o,text:a}}t.create=n;function i(r){var e=r;return s.defined(e)&&s.string(e.uri)&&s.string(e.languageId)&&s.integer(e.version)&&s.string(e.text)}t.is=i})(De||(De={}));(function(t){t.PlainText="plaintext",t.Markdown="markdown"})(L||(L={}));(function(t){function n(i){var r=i;return r===t.PlainText||r===t.Markdown}t.is=n})(L||(L={}));(function(t){function n(i){var r=i;return s.objectLiteral(i)&&L.is(r.kind)&&s.string(r.value)}t.is=n})(Z||(Z={}));(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(h||(h={}));(function(t){t.PlainText=1,t.Snippet=2})(z||(z={}));(function(t){t.Deprecated=1})(Te||(Te={}));(function(t){function n(r,e,o){return{newText:r,insert:e,replace:o}}t.create=n;function i(r){var e=r;return e&&s.string(e.newText)&&v.is(e.insert)&&v.is(e.replace)}t.is=i})(Ee||(Ee={}));(function(t){t.asIs=1,t.adjustIndentation=2})(Se||(Se={}));(function(t){function n(i){return{label:i}}t.create=n})(Ae||(Ae={}));(function(t){function n(i,r){return{items:i||[],isIncomplete:!!r}}t.create=n})(Me||(Me={}));(function(t){function n(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=n;function i(r){var e=r;return s.string(e)||s.objectLiteral(e)&&s.string(e.language)&&s.string(e.value)}t.is=i})(q||(q={}));(function(t){function n(i){var r=i;return!!r&&s.objectLiteral(r)&&(Z.is(r.contents)||q.is(r.contents)||s.typedArray(r.contents,q.is))&&(i.range===void 0||v.is(i.range))}t.is=n})(Pe||(Pe={}));(function(t){function n(i,r){return r?{label:i,documentation:r}:{label:i}}t.create=n})(Re||(Re={}));(function(t){function n(i,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];var a={label:i};return s.defined(r)&&(a.documentation=r),s.defined(e)?a.parameters=e:a.parameters=[],a}t.create=n})(Le||(Le={}));(function(t){t.Text=1,t.Read=2,t.Write=3})(We||(We={}));(function(t){function n(i,r){var e={range:i};return s.number(r)&&(e.kind=r),e}t.create=n})(Fe||(Fe={}));(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(m||(m={}));(function(t){t.Deprecated=1})(Ue||(Ue={}));(function(t){function n(i,r,e,o,a){var u={name:i,kind:r,location:{uri:o,range:e}};return a&&(u.containerName=a),u}t.create=n})(Oe||(Oe={}));(function(t){function n(r,e,o,a,u,l){var f={name:r,detail:e,kind:o,range:a,selectionRange:u};return l!==void 0&&(f.children=l),f}t.create=n;function i(r){var e=r;return e&&s.string(e.name)&&s.number(e.kind)&&v.is(e.range)&&v.is(e.selectionRange)&&(e.detail===void 0||s.string(e.detail))&&(e.deprecated===void 0||s.boolean(e.deprecated))&&(e.children===void 0||Array.isArray(e.children))&&(e.tags===void 0||Array.isArray(e.tags))}t.is=i})(je||(je={}));(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Ne||(Ne={}));(function(t){function n(r,e){var o={diagnostics:r};return e!=null&&(o.only=e),o}t.create=n;function i(r){var e=r;return s.defined(e)&&s.typedArray(e.diagnostics,j.is)&&(e.only===void 0||s.typedArray(e.only,s.string))}t.is=i})(Ve||(Ve={}));(function(t){function n(r,e,o){var a={title:r},u=!0;return typeof e=="string"?(u=!1,a.kind=e):A.is(e)?a.command=e:a.edit=e,u&&o!==void 0&&(a.kind=o),a}t.create=n;function i(r){var e=r;return e&&s.string(e.title)&&(e.diagnostics===void 0||s.typedArray(e.diagnostics,j.is))&&(e.kind===void 0||s.string(e.kind))&&(e.edit!==void 0||e.command!==void 0)&&(e.command===void 0||A.is(e.command))&&(e.isPreferred===void 0||s.boolean(e.isPreferred))&&(e.edit===void 0||Y.is(e.edit))}t.is=i})(He||(He={}));(function(t){function n(r,e){var o={range:r};return s.defined(e)&&(o.data=e),o}t.create=n;function i(r){var e=r;return s.defined(e)&&v.is(e.range)&&(s.undefined(e.command)||A.is(e.command))}t.is=i})(ze||(ze={}));(function(t){function n(r,e){return{tabSize:r,insertSpaces:e}}t.create=n;function i(r){var e=r;return s.defined(e)&&s.uinteger(e.tabSize)&&s.boolean(e.insertSpaces)}t.is=i})(qe||(qe={}));(function(t){function n(r,e,o){return{range:r,target:e,data:o}}t.create=n;function i(r){var e=r;return s.defined(e)&&v.is(e.range)&&(s.undefined(e.target)||s.string(e.target))}t.is=i})(Xe||(Xe={}));(function(t){function n(r,e){return{range:r,parent:e}}t.create=n;function i(r){var e=r;return e!==void 0&&v.is(e.range)&&(e.parent===void 0||t.is(e.parent))}t.is=i})(Be||(Be={}));(function(t){function n(o,a,u,l){return new dt(o,a,u,l)}t.create=n;function i(o){var a=o;return!!(s.defined(a)&&s.string(a.uri)&&(s.undefined(a.languageId)||s.string(a.languageId))&&s.uinteger(a.lineCount)&&s.func(a.getText)&&s.func(a.positionAt)&&s.func(a.offsetAt))}t.is=i;function r(o,a){for(var u=o.getText(),l=e(a,function(b,I){var de=b.range.start.line-I.range.start.line;return de===0?b.range.start.character-I.range.start.character:de}),f=u.length,d=l.length-1;d>=0;d--){var p=l[d],_=o.offsetAt(p.range.start),g=o.offsetAt(p.range.end);if(g<=f)u=u.substring(0,_)+p.newText+u.substring(g,u.length);else throw new Error("Overlapping edit");f=_}return u}t.applyEdits=r;function e(o,a){if(o.length<=1)return o;var u=o.length/2|0,l=o.slice(0,u),f=o.slice(u);e(l,a),e(f,a);for(var d=0,p=0,_=0;d<l.length&&p<f.length;){var g=a(l[d],f[p]);g<=0?o[_++]=l[d++]:o[_++]=f[p++]}for(;d<l.length;)o[_++]=l[d++];for(;p<f.length;)o[_++]=f[p++];return o}})($e||($e={}));dt=function(){function t(n,i,r,e){this._uri=n,this._languageId=i,this._version=r,this._content=e,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(n){if(n){var i=this.offsetAt(n.start),r=this.offsetAt(n.end);return this._content.substring(i,r)}return this._content},t.prototype.update=function(n,i){this._content=n.text,this._version=i,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var n=[],i=this._content,r=!0,e=0;e<i.length;e++){r&&(n.push(e),r=!1);var o=i.charAt(e);r=o==="\r"||o===`
`,o==="\r"&&e+1<i.length&&i.charAt(e+1)===`
`&&e++}r&&i.length>0&&n.push(i.length),this._lineOffsets=n}return this._lineOffsets},t.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var i=this.getLineOffsets(),r=0,e=i.length;if(e===0)return x.create(0,n);for(;r<e;){var o=Math.floor((r+e)/2);i[o]>n?e=o:r=o+1}var a=r-1;return x.create(a,n-i[a])},t.prototype.offsetAt=function(n){var i=this.getLineOffsets();if(n.line>=i.length)return this._content.length;if(n.line<0)return 0;var r=i[n.line],e=n.line+1<i.length?i[n.line+1]:this._content.length;return Math.max(Math.min(r+n.character,e),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}();(function(t){var n=Object.prototype.toString;function i(g){return typeof g!="undefined"}t.defined=i;function r(g){return typeof g=="undefined"}t.undefined=r;function e(g){return g===!0||g===!1}t.boolean=e;function o(g){return n.call(g)==="[object String]"}t.string=o;function a(g){return n.call(g)==="[object Number]"}t.number=a;function u(g,b,I){return n.call(g)==="[object Number]"&&b<=g&&g<=I}t.numberRange=u;function l(g){return n.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}t.integer=l;function f(g){return n.call(g)==="[object Number]"&&0<=g&&g<=2147483647}t.uinteger=f;function d(g){return n.call(g)==="[object Function]"}t.func=d;function p(g){return g!==null&&typeof g=="object"}t.objectLiteral=p;function _(g,b){return Array.isArray(g)&&g.every(b)}t.typedArray=_})(s||(s={}))});function lt(t){switch(t){case D.Error:return c.MarkerSeverity.Error;case D.Warning:return c.MarkerSeverity.Warning;case D.Information:return c.MarkerSeverity.Info;case D.Hint:return c.MarkerSeverity.Hint;default:return c.MarkerSeverity.Info}}function gt(t,n){let i=typeof n.code=="number"?String(n.code):n.code;return{severity:n.severity?lt(n.severity):c.MarkerSeverity.Info,startLineNumber:n.range.start.line+1,startColumn:n.range.start.character+1,endLineNumber:n.range.end.line+1,endColumn:n.range.end.character+1,message:n.message,code:i,source:n.source}}function X(t){return{character:t.column-1,line:t.lineNumber-1}}function w(t){return new c.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}function ft(t){return typeof t.insert!="undefined"&&typeof t.replace!="undefined"}function pt(t){let n=c.languages.CompletionItemKind;switch(t){case h.Text:return n.Text;case h.Method:return n.Method;case h.Function:return n.Function;case h.Constructor:return n.Constructor;case h.Field:return n.Field;case h.Variable:return n.Variable;case h.Class:return n.Class;case h.Interface:return n.Interface;case h.Module:return n.Module;case h.Property:return n.Property;case h.Unit:return n.Unit;case h.Value:return n.Value;case h.Enum:return n.Enum;case h.Keyword:return n.Keyword;case h.Snippet:return n.Snippet;case h.Color:return n.Color;case h.File:return n.File;case h.Reference:return n.Reference}return n.Property}function ht(t){return{range:w(t.range),text:t.newText}}function mt(t){return t&&typeof t=="object"&&typeof t.kind=="string"}function te(t){return typeof t=="string"?{value:t}:mt(t)?t.kind==="plaintext"?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+`
`+t.value+"\n```\n"}}function vt(t){return t?Array.isArray(t)?t.map(te):[te(t)]:[]}function Qe(t){return{uri:c.Uri.parse(t.uri),range:w(t.range)}}function yt(t){let n=c.languages.SymbolKind;switch(t){case m.File:return n.Array;case m.Module:return n.Module;case m.Namespace:return n.Namespace;case m.Package:return n.Package;case m.Class:return n.Class;case m.Method:return n.Method;case m.Property:return n.Property;case m.Field:return n.Field;case m.Constructor:return n.Constructor;case m.Enum:return n.Enum;case m.Interface:return n.Interface;case m.Function:return n.Function;case m.Variable:return n.Variable;case m.Constant:return n.Constant;case m.String:return n.String;case m.Number:return n.Number;case m.Boolean:return n.Boolean;case m.Array:return n.Array}return n.Function}var K,ee,ne,re,ie,oe,ae,se,ue,Je=E(()=>{Ge();S();K=class{constructor(n,i,r){this._languageId=n;this._worker=i;this._disposables=[];this._listener=Object.create(null);let e=a=>{let u=a.getLanguageId();if(u!==this._languageId)return;let l;this._listener[a.uri.toString()]=a.onDidChangeContent(()=>{window.clearTimeout(l),l=window.setTimeout(()=>this._doValidate(a.uri,u),500)}),this._doValidate(a.uri,u)},o=a=>{c.editor.setModelMarkers(a,this._languageId,[]);let u=a.uri.toString(),l=this._listener[u];l&&(l.dispose(),delete this._listener[u])};this._disposables.push(c.editor.onDidCreateModel(e)),this._disposables.push(c.editor.onWillDisposeModel(o)),this._disposables.push(c.editor.onDidChangeModelLanguage(a=>{o(a.model),e(a.model)})),this._disposables.push(r.onDidChange(a=>{c.editor.getModels().forEach(u=>{u.getLanguageId()===this._languageId&&(o(u),e(u))})})),this._disposables.push(r.onDictionaryChange(a=>{c.editor.getModels().forEach(u=>{u.getLanguageId()===this._languageId&&this._doValidate(u.uri,u.getLanguageId())})})),this._disposables.push({dispose:()=>{c.editor.getModels().forEach(o);for(let a in this._listener)this._listener[a].dispose()}}),c.editor.getModels().forEach(e)}dispose(){this._disposables.forEach(n=>n&&n.dispose()),this._disposables=[]}_doValidate(n,i){this._worker(n).then(r=>r.doValidation(n.toString())).then(r=>{let e=r.map(a=>gt(n,a)),o=c.editor.getModel(n);o&&o.getLanguageId()===i&&c.editor.setModelMarkers(o,i,e)}).then(void 0,r=>{console.error(r)})}};ee=class{constructor(n){this._worker=n}get triggerCharacters(){return[" ",":"]}provideCompletionItems(n,i,r,e){let o=n.uri;return this._worker(o).then(a=>a.doComplete(o.toString(),X(i))).then(a=>{if(!a)return;let u=n.getWordUntilPosition(i),l=new c.Range(i.lineNumber,u.startColumn,i.lineNumber,u.endColumn),f=a.items.map(d=>{let p={label:d.label,insertText:d.insertText||d.label,sortText:d.sortText,filterText:d.filterText,documentation:d.documentation?te(d.documentation):void 0,detail:d.detail,range:l,kind:d.kind?pt(d.kind):h.Value};return d.textEdit&&(ft(d.textEdit)?p.range={insert:w(d.textEdit.insert),replace:w(d.textEdit.replace)}:p.range=w(d.textEdit.range),p.insertText=d.textEdit.newText),d.additionalTextEdits&&(p.additionalTextEdits=d.additionalTextEdits.map(ht)),d.insertTextFormat===z.Snippet&&(p.insertTextRules=c.languages.CompletionItemInsertTextRule.InsertAsSnippet),p});return{isIncomplete:a.isIncomplete,suggestions:f}})}};ne=class{constructor(n){this._worker=n}provideHover(n,i,r){let e=n.uri;return this._worker(e).then(o=>o.doHover(e.toString(),X(i))).then(o=>{if(!(!o||!o.range))return{range:w(o.range),contents:vt(o.contents)}})}},re=class{constructor(n){this._worker=n}provideCodeActions(n,i,r,e){let o=n.uri,a=[];return this._worker(o).then(u=>{let l=r.markers;if(!(l.length<=0)){l=l.filter(d=>d.code==="badSpelling"),l=l.slice(0,1);for(let d of l){var f=new c.Range(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn);let p=n.getWordAtPosition(new c.Position(f.startLineNumber,f.startColumn));!p||a.push({word:p.word,range:f})}if(!(a.length<=0))return u.suggestSpelling(a.map(d=>d.word))}}).then(u=>{if(!u)return;let l=[];if(u.length>0)for(var f=0;f<u[0].length;f++)l.push({title:"Correct spelling: "+u[0][f],kind:"quickfix",edit:{edits:[{edit:{range:a[0].range,text:u[0][f]},resource:n.uri}]}});return l.push({title:"Ignore '"+a[0].word+"' this session",kind:"quickfix",command:{id:"add-words",title:"Ignore Word",arguments:[{uri:o,dict:"session",words:[a[0].word]}]}}),l.push({title:"Add '"+a[0].word+"' to the User Dictionary",kind:"quickfix",command:{id:"add-words",title:"Add Word",arguments:[{uri:o,dict:"persistent",words:[a[0].word]}]}}),l.length>0?{actions:l,dispose:()=>{}}:void 0})}},ie=class{constructor(n){this._worker=n;this.signatureHelpTriggerCharacters=[" "]}provideSignatureHelp(n,i,r,e){let o=n.uri;return this._worker(o).then(a=>{let u=n.getLineContent(i.lineNumber),l,f,d,p;if((f=u.match(/^(\s*\*gosub_scene\s+(\w+)\s+(\w+))/))?(l=!0,d=f[2],p=f[3]):(f=u.match(/^(\s*\*gosub\s+(\w+))/))&&(l=!1,p=f[2]),!f||f.length<3)return;let _=u.slice(f[1].length).trim().split(" ").filter(g=>g).length;return a.getRoutineInfo(o.toString(),n.getOffsetAt(i)).then(g=>{if(g)return{value:{signatures:[{label:`${d}.txt -> ${p}: ${g.parameters.map(b=>b.label).join(" ")}`,parameters:g.parameters}],activeSignature:g.activeSignature,activeParameter:g.activeParameter},dispose:()=>{}}})})}};oe=class{constructor(n){this._worker=n}async provideDefinition(n,i,r){let e=n.uri,o=await this._worker(e);if(n.isDisposed())return;let a=await o.findDefinition(e.toString(),X(i));if(a)return n.isDisposed()?void 0:[Qe(a)]}},ae=class{constructor(n){this._worker=n}provideReferences(n,i,r,e){let o=n.uri;return this._worker(o).then(a=>a.findReferences(o.toString(),X(i))).then(a=>{if(!!a)return a.map(Qe)})}};se=class{constructor(n){this._worker=n}provideDocumentSymbols(n,i){let r=n.uri;return this._worker(r).then(e=>e.findDocumentSymbols(r.toString())).then(e=>{if(!!e)return e.map(o=>({name:o.name,detail:"",containerName:o.containerName,kind:yt(o.kind),tags:[],range:w(o.location.range),selectionRange:w(o.location.range)}))})}},ue=class{constructor(n,i){this._languageId=n;this._worker=i;this._disposables=[];this._listener=Object.create(null);let r=o=>{if(o.getLanguageId()!==this._languageId)return;let u;this._listener[o.uri.toString()]=o.onDidChangeContent(()=>{window.clearTimeout(u),u=window.setTimeout(()=>this._updateIndex(o.uri),1e3)}),this._updateIndex(o.uri)},e=o=>{this._removeIndex(o.uri);let a=o.uri.toString(),u=this._listener[a];u&&(u.dispose(),delete this._listener[a])};this._disposables.push(c.editor.onDidCreateModel(r)),this._disposables.push(c.editor.onWillDisposeModel(e)),this._disposables.push({dispose:()=>{for(let o in this._listener)this._listener[o].dispose()}}),c.editor.getModels().forEach(r)}_updateIndex(n){this._worker(n).then(i=>i.updateIndex(n.toString()))}_removeIndex(n){this._worker(n).then(i=>i.removeIndex(n.toString()))}dispose(){this._disposables.forEach(n=>n&&n.dispose()),this._disposables=[]}}});var Ke={};le(Ke,{setupMode:()=>_t});function _t(t){let n=[],i=[],r=new $(t);n.push(r);let e=(...a)=>r.getLanguageServiceWorker(...a);function o(){let{languageId:a,modeConfiguration:u}=t;if(Ze(i),u.completionItems&&i.push(c.languages.registerCompletionItemProvider(a,new ee(e))),u.hovers&&i.push(c.languages.registerHoverProvider(a,new ne(e))),u.definitions&&i.push(c.languages.registerDefinitionProvider(a,new oe(e))),u.references&&i.push(c.languages.registerReferenceProvider(a,new ae(e))),u.documentSymbols&&i.push(c.languages.registerDocumentSymbolProvider(a,new se(e))),i.push(c.languages.registerSignatureHelpProvider(a,new ie(e))),u.diagnostics&&i.push(c.languages.registerCodeActionProvider(a,new re(e))),u.diagnostics&&i.push(new K(a,e,t)),u.autoFormat){var l={".":{match:"...",result:"\u2026"},"-":{match:"--",result:"\u2014"}};i.push(c.languages.registerOnTypeFormattingEditProvider(a,{autoFormatTriggerCharacters:Object.keys(l),provideOnTypeFormattingEdits:function(f,d,p,_,g){var b=l[p].match.length,I=new c.Range(d.lineNumber,d.column>=b?d.column-b:0,d.lineNumber,d.column);if(f.getValueInRange(I)===l[p].match)return[{range:I,text:l[p].result}]}}))}i.push(new ue(a,e)),n.push(c.editor.registerCommand("add-words",(f,d)=>{Array.isArray(d)&&(d=d[0]),e(d.uri).then(p=>{p.addWords(d.words).then(_=>{t.addDictWords(d.dict,_.filter(g=>g))})})})),n.push(c.editor.registerCommand("remove-words",(f,d)=>{e(d.uri).then(p=>{p.removeWords(d.words).then(_=>{t.removeDictWords(d.dict,_.filter(g=>g))})})}))}return e(new c.Uri).then(a=>{let u=t.diagnosticsOptions.spellcheck.userDictionary,l=[];for(let f in u)l.push(f);a.addWords(l)}),o(),n.push(Ye(i)),Ye(n)}function Ye(t){return{dispose:()=>Ze(t)}}function Ze(t){for(;t.length;)t.pop().dispose()}var et=E(()=>{pe();Je();S();"use strict"});var kt={};le(kt,{choicescriptDefaults:()=>W});S();var ce;(function(i){i.EN_US="en_US",i.EN_GB="en_GB"})(ce||(ce={}));var tt=class{constructor(n,i,r){this._onDidChange=new c.Emitter;this._onDidDictionaryChange=new c.Emitter;this._languageId=n,this.setDiagnosticsOptions(i),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get onDictionaryChange(){return this._onDidDictionaryChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}addDictWords(n,i){this._onDidDictionaryChange.fire({dictionary:n,removed:!1,words:i})}removeDictWords(n,i){this._onDidDictionaryChange.fire({dictionary:n,removed:!0,words:i})}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},bt={validate:!0,lint:{enabled:!0},spellcheck:{enabled:!0,paths:{affix:"https://raw.githubusercontent.com/cfinke/Typo.js/master/typo/dictionaries/en_US/en_US.aff",dics:["https://raw.githubusercontent.com/cfinke/Typo.js/master/typo/dictionaries/en_US/en_US.dic"]},dictionary:ce.EN_US,userDictionary:null}},xt={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,autoFormat:!1,documentFormattingEdits:!1,documentRangeFormattingEdits:!1,tokens:!0},W=new tt("choicescript",bt,xt);c.languages.choicescript=W;function Ct(){return Promise.resolve().then(()=>(et(),Ke))}c.languages.onLanguage("choicescript",()=>{Ct().then(t=>{c.languages.choicescriptDispose=t.setupMode(W),W.onDidChange(()=>{c.languages.choicescriptDispose?.dispose(),c.languages.choicescriptDispose=t.setupMode(W)})})});return kt;})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution","vs/language/choicescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map